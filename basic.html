<!DOCTYPE html><html lang='en'><head><title>[basic]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>6</a> Basics <a class='abbr_ref' href='./#basic'>[basic]</a></h1><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L6'>#</a></div><div id='1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='1.sentence-1' class='sentence'>This Clause presents the basic concepts of the C++ language<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>It explains the difference between an object and a
name and how they relate to the value categories for expressions<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>It introduces the concepts of a
declaration and a definition and presents C++'s
notion of type, scope, linkage, and
storage duration<a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'>The mechanisms for starting and
terminating a program are discussed<a class='hidden_link' href='#1.sentence-4'>.</a></div> <div id='1.sentence-5' class='sentence'>Finally, this Clause presents the
fundamental types of the language and lists the ways of constructing
compound types from these<a class='hidden_link' href='#1.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L18'>#</a></div><div id='2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='2.sentence-1' class='sentence'>This Clause does not cover concepts that affect only a single
part of the language<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>Such concepts are discussed in the relevant
Clauses<a class='hidden_link' href='#2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L23'>#</a></div><div id='3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':type'></a></span><span class='indexparent'><a class='index' id=':object'></a></span><span class='indexparent'><a class='index' id=':storage_class'></a></span><span class='indexparent'><a class='index' id=':scope'></a></span><span class='indexparent'><a class='index' id=':linkage'></a></span><span class='indexparent'><a class='index' id=':region,declarative'></a></span>An <a class='hidden_link' href='#def:entity' id='def:entity'><i >entity</i></a> is a value, object, reference,
structured binding,
function, enumerator, type,
class member, bit-field, template, template specialization, namespace, or
pack<a class='hidden_link' href='#3.sentence-1'>.</a></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L36'>#</a></div><div id='4.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:name' id='def:name'><i >name</i></a> is a use of an <i ><a href='lex.name#nt:identifier'>identifier</a></i>,
<i ><a href='over.oper#nt:operator-function-id'>operator-function-id</a></i>,
<i ><a href='over.literal#nt:literal-operator-id'>literal-operator-id</a></i>,
<i ><a href='class.conv.fct#nt:conversion-function-id'>conversion-function-id</a></i>, or
<i ><a href='temp.names#nt:template-id'>template-id</a></i> that denotes an entity or
label (<a href='stmt.goto'>[stmt.goto]</a>, <a href='stmt.label'>[stmt.label]</a>)<a class='hidden_link' href='#4.sentence-1'>.</a></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L44'>#</a></div><div id='5.sentence-1' class='sentence'>Every name that denotes an entity is introduced by a
<a class='hidden_link' href='#def:declaration' id='def:declaration'><i >declaration</i></a><a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>Every name that denotes a label is introduced
either by a <a href='stmt.goto'><span class='texttt'>goto</span> statement</a> or a
<i ><a href='stmt.label#nt:labeled-statement'>labeled-statement</a></i><a class='hidden_link' href='#5.sentence-2'>.</a></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L50'>#</a></div><div id='6.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:variable' id='def:variable'><i >variable</i></a> is introduced by the
declaration of
a reference other than a non-static data member or of
an object<a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'>The variable's name, if any, denotes the reference or object<a class='hidden_link' href='#6.sentence-2'>.</a></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L56'>#</a></div><div id='7.sentence-1' class='sentence'>A <span class='indexparent'><a class='index' id=':entity,local'></a></span><span class='textit'>local entity</span> is a variable with
<a href='#stc.auto'>automatic storage duration</a>,
a <a href='dcl.struct.bind'>structured binding</a>
whose corresponding variable is such an entity,
or the <a href='expr.prim.this'><span class='texttt'>*this</span> object</a><a class='hidden_link' href='#7.sentence-1'>.</a></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L63'>#</a></div><div id='8.sentence-1' class='sentence'>Some names denote types or templates<a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.sentence-2' class='sentence'>In general,
whenever a name is encountered it is necessary to determine whether that name denotes
one of these entities before continuing to parse the program that contains it<a class='hidden_link' href='#8.sentence-2'>.</a></div> <div id='8.sentence-3' class='sentence'>The
process that determines this is called
<a class='hidden_link' href='#def:lookup,name' id='def:lookup,name'><i >name lookup</i></a> (<a href='#lookup'>[basic.lookup]</a>)<a class='hidden_link' href='#8.sentence-3'>.</a></div></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L70'>#</a></div><div id='9.sentence-1' class='sentence'>Two names are <a class='hidden_link' href='#def:name,same' id='def:name,same'><i >the same</i></a> if
<ul class='itemize'><li id='9.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#9.1'>(9.1)</a></div><div id='9.1.sentence-1' class='sentence'>they are <i ><a href='lex.name#nt:identifier'>identifier</a></i><span class='textit'>s</span> composed of the same character sequence, or</div></li><li id='9.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#9.2'>(9.2)</a></div><div id='9.2.sentence-1' class='sentence'>they are <i ><a href='over.oper#nt:operator-function-id'>operator-function-id</a></i><span class='textit'>s</span> formed with
the same operator, or</div></li><li id='9.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#9.3'>(9.3)</a></div><div id='9.3.sentence-1' class='sentence'>they are <i ><a href='class.conv.fct#nt:conversion-function-id'>conversion-function-id</a></i><span class='textit'>s</span> formed
with the same type, or</div></li><li id='9.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#9.4'>(9.4)</a></div><div id='9.4.sentence-1' class='sentence'>they are <i ><a href='temp.names#nt:template-id'>template-id</a></i><span class='textit'>s</span> that refer to the same class,
function, or variable (<a href='temp.type'>[temp.type]</a>), or</div></li><li id='9.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#9.5'>(9.5)</a></div><div id='9.5.sentence-1' class='sentence'>they are the names of <a href='over.literal'>literal operators</a> formed with
the same literal suffix identifier<a class='hidden_link' href='#9.5.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L84'>#</a></div><div id='10.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':translation_unit,name_and'></a></span><span class='indexparent'><a class='index' id=':linkage_'></a></span>A name used in more than one translation unit can potentially
refer to the same entity in these translation units depending on the
<a href='#link'>linkage</a> of the name specified in each
translation unit<a class='hidden_link' href='#10.sentence-1'>.</a></div></div><div id='def' class='section'><h2 ><a class='secnum' href='#def' style='min-width:88pt'>6.1</a> Declarations and definitions <a class='abbr_ref' href='basic.def'>[basic.def]</a></h2><div class='para' id='def-1'><div class='marginalizedparent'><a class='marginalized' href='#def-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L94'>#</a></div><div id='def-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':declaration,definition_versus'></a></span><span class='indexparent'><a class='index' id=':declaration_'></a></span><span class='indexparent'><a class='index' id=':declaration,name'></a></span>A <a href='dcl.dcl'>declaration</a> may introduce
one or more names into a translation
unit or redeclare names introduced by previous declarations<a class='hidden_link' href='#def-1.sentence-1'>.</a></div> <div id='def-1.sentence-2' class='sentence'>If so, the
declaration specifies the interpretation and attributes of these names<a class='hidden_link' href='#def-1.sentence-2'>.</a></div> <div id='def-1.sentence-3' class='sentence'>A declaration may also have effects including:
<ul class='itemize'><li id='def-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def-1.1'>(1.1)</a></div><div id='def-1.1.sentence-1' class='sentence'>a <a href='dcl.dcl#:static_assert'>static assertion</a>,</div></li><li id='def-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def-1.2'>(1.2)</a></div><div id='def-1.2.sentence-1' class='sentence'>controlling <a href='temp.explicit'>template instantiation</a>,</div></li><li id='def-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def-1.3'>(1.3)</a></div><div id='def-1.3.sentence-1' class='sentence'>guiding template argument deduction for constructors (<a href='temp.deduct.guide'>[temp.deduct.guide]</a>),</div></li><li id='def-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def-1.4'>(1.4)</a></div><div id='def-1.4.sentence-1' class='sentence'>use of <a href='dcl.attr'>attributes</a>, and</div></li><li id='def-1.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def-1.5'>(1.5)</a></div><div id='def-1.5.sentence-1' class='sentence'>nothing (in the case of an <i ><a href='dcl.dcl#nt:empty-declaration'>empty-declaration</a></i>)<a class='hidden_link' href='#def-1.5.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='def-2'><div class='marginalizedparent'><a class='marginalized' href='#def-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L112'>#</a></div><div id='def-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':declaration,function'></a></span><span class='indexparent'><a class='index' id=':definition'></a></span>Each entity declared by a <i ><a href='dcl.dcl#nt:declaration'>declaration</a></i> is
also <a class='hidden_link' href='#def:define' id='def:define'><i >defined</i></a> by that declaration unless:
<ul class='itemize'><li id='def-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def-2.1'>(2.1)</a></div><div id='def-2.1.sentence-1' class='sentence'>it declares a function
without specifying the function's body (<a href='dcl.fct.def'>[dcl.fct.def]</a>),</div></li><li id='def-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def-2.2'>(2.2)</a></div><div id='def-2.2.sentence-1' class='sentence'>it contains
the
<span class='indexparent'><a class='index' id=':declaration,extern'></a></span><a href='dcl.stc#:extern'><span class='texttt'>extern</span></a> specifier or a
<i ><a href='dcl.link#nt:linkage-specification'>linkage-specification</a></i><a class='footnotenum' href='#footnote-20'>20</a> (<a href='dcl.link'>[dcl.link]</a>)
and neither an <i ><a href='dcl.init#nt:initializer'>initializer</a></i> nor a
<i ><a href='dcl.fct.def.general#nt:function-body'>function-body</a></i>,</div></li><li id='def-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def-2.3'>(2.3)</a></div><div id='def-2.3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':declaration,static_member'></a></span>it declares a non-inline static data member in a class
definition (<a href='class.mem'>[class.mem]</a>, <a href='class.static'>[class.static]</a>),</div></li><li id='def-2.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def-2.4'>(2.4)</a></div><div id='def-2.4.sentence-1' class='sentence'>it declares a static data member outside a class definition
and the variable was defined within the class with the <span class='texttt'>constexpr</span>
specifier (this usage is deprecated; see <a href='depr.static_constexpr'>[depr.static_constexpr]</a>),</div></li><li id='def-2.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def-2.5'>(2.5)</a></div><div id='def-2.5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':declaration,class_name'></a></span>it is introduced by an <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> (<a href='class.name'>[class.name]</a>),</div></li><li id='def-2.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def-2.6'>(2.6)</a></div><div id='def-2.6.sentence-1' class='sentence'>it is an
<span class='indexparent'><a class='index' id=':declaration,opaque_enum'></a></span><i ><a href='dcl.enum#nt:opaque-enum-declaration'>opaque-enum-declaration</a></i>,</div></li><li id='def-2.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def-2.7'>(2.7)</a></div><div id='def-2.7.sentence-1' class='sentence'>it is a
<span class='indexparent'><a class='index' id=':parameter,template'></a></span><span class='indexparent'><a class='index' id=':template_parameter'></a></span><i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i>,</div></li><li id='def-2.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def-2.8'>(2.8)</a></div><div id='def-2.8.sentence-1' class='sentence'>it is a
<span class='indexparent'><a class='index' id=':declaration,parameter'></a></span><span class='indexparent'><a class='index' id=':parameter_declaration'></a></span><i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i> in a function
<span class='indexparent'><a class='index' id=':declarator'></a></span>declarator that is not the <i ><a href='dcl.decl#nt:declarator'>declarator</a></i> of a
<i ><a href='dcl.fct.def.general#nt:function-definition'>function-definition</a></i>,</div></li><li id='def-2.9'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def-2.9'>(2.9)</a></div><div id='def-2.9.sentence-1' class='sentence'>it is a
<span class='indexparent'><a class='index' id=':declaration,typedef'></a></span><a href='dcl.typedef'><span class='texttt'>typedef</span></a> declaration,</div></li><li id='def-2.10'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def-2.10'>(2.10)</a></div><div id='def-2.10.sentence-1' class='sentence'>it is
an <i ><a href='dcl.dcl#nt:alias-declaration'>alias-declaration</a></i> (<a href='dcl.typedef'>[dcl.typedef]</a>),</div></li><li id='def-2.11'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def-2.11'>(2.11)</a></div><div id='def-2.11.sentence-1' class='sentence'>it is
a
<i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>,</div></li><li id='def-2.12'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def-2.12'>(2.12)</a></div><div id='def-2.12.sentence-1' class='sentence'>it is
a <i ><a href='temp.deduct.guide#nt:deduction-guide'>deduction-guide</a></i>,</div></li><li id='def-2.13'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def-2.13'>(2.13)</a></div><div id='def-2.13.sentence-1' class='sentence'>it is
a <i ><a href='dcl.dcl#nt:static_assert-declaration'>static_assert-declaration</a></i>,</div></li><li id='def-2.14'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def-2.14'>(2.14)</a></div><div id='def-2.14.sentence-1' class='sentence'>it is an
<i ><a href='dcl.dcl#nt:attribute-declaration'>attribute-declaration</a></i>,</div></li><li id='def-2.15'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def-2.15'>(2.15)</a></div><div id='def-2.15.sentence-1' class='sentence'>it is an
<i ><a href='dcl.dcl#nt:empty-declaration'>empty-declaration</a></i>,</div></li><li id='def-2.16'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def-2.16'>(2.16)</a></div><div id='def-2.16.sentence-1' class='sentence'>it is
a <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i>,</div></li><li id='def-2.17'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def-2.17'>(2.17)</a></div><div id='def-2.17.sentence-1' class='sentence'>it is
an <a href='temp.explicit'>explicit instantiation</a> declaration, or</div></li><li id='def-2.18'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def-2.18'>(2.18)</a></div><div id='def-2.18.sentence-1' class='sentence'>it is
an <a href='temp.expl.spec'>explicit specialization</a> whose
<i ><a href='dcl.dcl#nt:declaration'>declaration</a></i> is not a definition<a class='hidden_link' href='#def-2.18.sentence-1'>.</a></div></li></ul></div> <div id='def-2.sentence-2' class='sentence'>
A declaration is said to be a <a class='hidden_link' href='#def:definition_' id='def:definition_'><i >definition</i></a> of each entity that it defines<a class='hidden_link' href='#def-2.sentence-2'>.</a></div> <div id='def-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#def-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='def-2.sentence-3' class='sentence'>All but one of the following are definitions:
<pre class='codeblock'>
int a;                          <span class='comment'>// defines <span class='tcode_in_codeblock'>a</span>
</span>extern const int c = 1;         <span class='comment'>// defines <span class='tcode_in_codeblock'>c</span>
</span>int f(int x) { return x+a; }    <span class='comment'>// defines <span class='tcode_in_codeblock'>f</span> and defines <span class='tcode_in_codeblock'>x</span>
</span>struct S { int a; int b; };     <span class='comment'>// defines <span class='tcode_in_codeblock'>S</span>, <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;a</span>, and <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;b</span>
</span>struct X {                      <span class='comment'>// defines <span class='tcode_in_codeblock'>X</span>
</span>  int x;                        <span class='comment'>// defines non-static data member <span class='tcode_in_codeblock'>x</span>
</span>  static int y;                 <span class='comment'>// declares static data member <span class='tcode_in_codeblock'>y</span>
</span>  X(): x(0) { }                 <span class='comment'>// defines a constructor of <span class='tcode_in_codeblock'>X</span>
</span>};
int X::y = 1;                   <span class='comment'>// defines <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;y</span>
</span>enum { up, down };              <span class='comment'>// defines <span class='tcode_in_codeblock'>up</span> and <span class='tcode_in_codeblock'>down</span>
</span>namespace N { int d; }          <span class='comment'>// defines <span class='tcode_in_codeblock'>N</span> and <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;d</span>
</span>namespace N1 = N;               <span class='comment'>// defines <span class='tcode_in_codeblock'>N1</span>
</span>X anX;                          <span class='comment'>// defines <span class='tcode_in_codeblock'>anX</span>
</span></pre>
whereas these are just declarations:
<pre class='codeblock'>
extern int a;                   <span class='comment'>// declares <span class='tcode_in_codeblock'>a</span>
</span>extern const int c;             <span class='comment'>// declares <span class='tcode_in_codeblock'>c</span>
</span>int f(int);                     <span class='comment'>// declares <span class='tcode_in_codeblock'>f</span>
</span>struct S;                       <span class='comment'>// declares <span class='tcode_in_codeblock'>S</span>
</span>typedef int Int;                <span class='comment'>// declares <span class='tcode_in_codeblock'>Int</span>
</span>extern X anotherX;              <span class='comment'>// declares <span class='tcode_in_codeblock'>anotherX</span>
</span>using N::d;                     <span class='comment'>// declares <span class='tcode_in_codeblock'>d</span>
</span></pre></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='def-3'><div class='marginalizedparent'><a class='marginalized' href='#def-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L215'>#</a></div><div id='def-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#def-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='def-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':implementation-generated'></a></span>In some circumstances, C++ implementations implicitly define the
default constructor (<a href='class.default.ctor'>[class.default.ctor]</a>),
copy constructor, move constructor (<a href='class.copy.ctor'>[class.copy.ctor]</a>),
copy assignment operator, move assignment operator (<a href='class.copy.assign'>[class.copy.assign]</a>),
or destructor (<a href='class.dtor'>[class.dtor]</a>) member functions<a class='hidden_link' href='#def-3.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='def-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#def-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='def-3.sentence-2' class='sentence'>Given
<pre class='codeblock'>
#include &lt;string&gt;

struct C {
  std::string s;    <span class='comment'>// <span class='tcode_in_codeblock'>std&#x200b;::&#x200b;string</span> is the standard library class (<a href='strings'>[strings]</a>)
</span>};

int main() {
  C a;
  C b = a;
  b = a;
}</pre>
the implementation will implicitly define functions to make the
definition of <span class='texttt'>C</span> equivalent to
<pre class='codeblock'>
struct C {
  std::string s;
  C() : s() { }
  C(const C&amp; x): s(x.s) { }
  C(C&amp;&amp; x): s(static_cast&lt;std::string&amp;&amp;&gt;(x.s)) { }
      <span class='rlap'><span class='normalfont'></span><span class='itshape'></span>//</span>    : s(std::move(x.s)) { }
  C&amp; operator=(const C&amp; x) { s = x.s; return *this; }
  C&amp; operator=(C&amp;&amp; x) { s = static_cast&lt;std::string&amp;&amp;&gt;(x.s); return *this; }
      <span class='rlap'><span class='normalfont'></span><span class='itshape'></span>//</span>                { s = std::move(x.s); return *this; }
  ~C() { }
};</pre></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='def-4'><div class='marginalizedparent'><a class='marginalized' href='#def-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L255'>#</a></div><div id='def-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#def-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='def-4.sentence-1' class='sentence'>A class name can also be implicitly declared by an
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i><a class='hidden_link' href='#def-4.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='def-5'><div class='marginalizedparent'><a class='marginalized' href='#def-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L261'>#</a></div><div id='def-5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':type,incomplete'></a></span>In the definition of an object,
the type of that object shall not be
an incomplete type (<a href='#types'>[basic.types]</a>),
an abstract class type (<a href='class.abstract'>[class.abstract]</a>), or
a (possibly multi-dimensional) array thereof<a class='hidden_link' href='#def-5.sentence-1'>.</a></div> <span class='indexparent'><a class='index' id=':object,definition'></a></span><span class='indexparent'><a class='index' id=':function,definition'></a></span><span class='indexparent'><a class='index' id=':class,definition'></a></span><span class='indexparent'><a class='index' id=':enumerator,definition'></a></span><span class='indexparent'><a class='index' id=':one-definition_rule'></a></span></div><div class='footnote' id='footnote-20'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-20'>20)</a></div><div id='footnote-20.sentence-1' class='sentence'>Appearing inside the brace-enclosed
<i ><a href='dcl.dcl#nt:declaration-seq'>declaration-seq</a></i> in a <i ><a href='dcl.link#nt:linkage-specification'>linkage-specification</a></i> does
not affect whether a declaration is a definition<a class='hidden_link' href='#footnote-20.sentence-1'>.</a></div></div></div><div id='def.odr' class='section'><h2 ><a class='secnum' href='#def.odr' style='min-width:88pt'>6.2</a> One-definition rule <a class='abbr_ref' href='basic.def.odr'>[basic.def.odr]</a></h2><div class='para' id='def.odr-1'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L276'>#</a></div><div id='def.odr-1.sentence-1' class='sentence'>No translation unit shall contain more than one definition of any
variable, function, class type, enumeration type, or template<a class='hidden_link' href='#def.odr-1.sentence-1'>.</a></div></div><div class='para' id='def.odr-2'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L280'>#</a></div><div id='def.odr-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':expression,potentially_evaluated'></a></span>An expression is <a class='hidden_link' href='#def:potentially_evaluated' id='def:potentially_evaluated'><i >potentially evaluated</i></a> unless it is an
<a href='expr.prop#def:unevaluated_operand'>unevaluated operand</a> or a subexpression thereof<a class='hidden_link' href='#def.odr-2.sentence-1'>.</a></div> <div id='def.odr-2.sentence-2' class='sentence'>The set of <a class='hidden_link' href='#def:potential_results' id='def:potential_results'><i >potential results</i></a> of an expression <span class='texttt'>e</span> is
defined as follows:
<ul class='itemize'><li id='def.odr-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-2.1'>(2.1)</a></div><div id='def.odr-2.1.sentence-1' class='sentence'>If <span class='texttt'>e</span> is an
<i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i>, the set
contains only <span class='texttt'>e</span><a class='hidden_link' href='#def.odr-2.1.sentence-1'>.</a></div></li><li id='def.odr-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-2.2'>(2.2)</a></div><div id='def.odr-2.2.sentence-1' class='sentence'>If <span class='texttt'>e</span> is a <a href='expr.sub'>subscripting operation</a> with
an array operand, the set contains the potential results of that operand<a class='hidden_link' href='#def.odr-2.2.sentence-1'>.</a></div></li><li id='def.odr-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-2.3'>(2.3)</a></div><div id='def.odr-2.3.sentence-1' class='sentence'>If <span class='texttt'>e</span> is a <a href='expr.ref'>class member access</a> expression,
the set contains the potential results of
the object expression<a class='hidden_link' href='#def.odr-2.3.sentence-1'>.</a></div></li><li id='def.odr-2.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-2.4'>(2.4)</a></div><div id='def.odr-2.4.sentence-1' class='sentence'>If <span class='texttt'>e</span> is a <a href='expr.mptr.oper'>pointer-to-member</a>
expression whose second operand is a constant
expression, the set contains the potential results of the object
expression<a class='hidden_link' href='#def.odr-2.4.sentence-1'>.</a></div></li><li id='def.odr-2.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-2.5'>(2.5)</a></div><div id='def.odr-2.5.sentence-1' class='sentence'>If <span class='texttt'>e</span> has the form <span class='texttt'>(e1)</span>, the set contains the
potential results of <span class='texttt'>e1</span><a class='hidden_link' href='#def.odr-2.5.sentence-1'>.</a></div></li><li id='def.odr-2.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-2.6'>(2.6)</a></div><div id='def.odr-2.6.sentence-1' class='sentence'>If <span class='texttt'>e</span> is a glvalue <a href='expr.cond'>conditional</a>
expression, the set is the union of the sets of
potential results of the second and third operands<a class='hidden_link' href='#def.odr-2.6.sentence-1'>.</a></div></li><li id='def.odr-2.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-2.7'>(2.7)</a></div><div id='def.odr-2.7.sentence-1' class='sentence'>If <span class='texttt'>e</span> is a <a href='expr.comma'>comma expression</a>, the set
contains the potential results of the right operand<a class='hidden_link' href='#def.odr-2.7.sentence-1'>.</a></div></li><li id='def.odr-2.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-2.8'>(2.8)</a></div><div id='def.odr-2.8.sentence-1' class='sentence'>Otherwise, the set is empty<a class='hidden_link' href='#def.odr-2.8.sentence-1'>.</a></div></li></ul></div> <div id='def.odr-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#def.odr-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='def.odr-2.sentence-3' class='sentence'>This set is a (possibly-empty) set of <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i><span class='textit'>s</span>,
each of which is either <span class='texttt'>e</span> or a subexpression of <span class='texttt'>e</span><a class='hidden_link' href='#def.odr-2.sentence-3'>.</a></div> <div id='def.odr-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#def.odr-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='def.odr-2.sentence-4' class='sentence'>In the following example, the set of potential results of the initializer
of <span class='texttt'>n</span> contains the first <span class='texttt'>S&#x200b;::&#x200b;x</span> subexpression, but not the second
<span class='texttt'>S&#x200b;::&#x200b;x</span> subexpression<a class='hidden_link' href='#def.odr-2.sentence-4'>.</a></div> <pre class='codeblock'>
struct S { static const int x = 0; };
const int &amp;f(const int &amp;r);
int n = b ? (1, S::x)           <span class='comment'>// <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;x</span> is not odr-used here
</span>          : f(S::x);            <span class='comment'>// <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;x</span> is odr-used here, so a definition is required
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='def.odr-3'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L324'>#</a></div><div id='def.odr-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':function,named_by_an_expression'></a></span>A function is <a class='hidden_link' href='#def:named_by_an_expression' id='def:named_by_an_expression'><i >named by an expression</i></a> as follows:
<ul class='itemize'><li id='def.odr-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-3.1'>(3.1)</a></div><div id='def.odr-3.1.sentence-1' class='sentence'>A function whose name appears in an expression
  is named by that expression
  if it is the unique lookup result or the selected member
  of a set of overloaded functions (<a href='#lookup'>[basic.lookup]</a>, <a href='over.match'>[over.match]</a>, <a href='over.over'>[over.over]</a>),
  unless it is a pure virtual function and either
  its name is not explicitly qualified or
  the expression forms a pointer to member (<a href='expr.unary.op'>[expr.unary.op]</a>)<a class='hidden_link' href='#def.odr-3.1.sentence-1'>.</a></div> <div id='def.odr-3.1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#def.odr-3.1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='def.odr-3.1.sentence-2' class='sentence'>This covers
  taking the address of functions (<a href='conv.func'>[conv.func]</a>, <a href='expr.unary.op'>[expr.unary.op]</a>),
  calls to named functions (<a href='expr.call'>[expr.call]</a>),
  operator overloading (<a href='over'>[over]</a>),
  user-defined conversions (<a href='class.conv.fct'>[class.conv.fct]</a>),
  allocation functions for placement <i ><a href='expr.new#nt:new-expression'>new-expression</a></i><span class='textit'>s</span>, as well as
  non-default initialization (<a href='dcl.init'>[dcl.init]</a>)<a class='hidden_link' href='#def.odr-3.1.sentence-2'>.</a></div> <div id='def.odr-3.1.sentence-3' class='sentence'>A constructor selected to copy or move an object of class type
  is considered to be named by an expression
  even if the call is actually elided by the implementation (<a href='class.copy.elision'>[class.copy.elision]</a>)<a class='hidden_link' href='#def.odr-3.1.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </li><li id='def.odr-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-3.2'>(3.2)</a></div><div id='def.odr-3.2.sentence-1' class='sentence'>An allocation or deallocation function for a class
  is named by a <i ><a href='expr.new#nt:new-expression'>new-expression</a></i>
  as specified in <a href='expr.new'>[expr.new]</a> and <a href='class.free'>[class.free]</a><a class='hidden_link' href='#def.odr-3.2.sentence-1'>.</a></div></li><li id='def.odr-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-3.3'>(3.3)</a></div><div id='def.odr-3.3.sentence-1' class='sentence'>A deallocation function for a class
  is named by a delete expression
  as specified in <a href='expr.delete'>[expr.delete]</a> and <a href='class.free'>[class.free]</a><a class='hidden_link' href='#def.odr-3.3.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='def.odr-4'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L356'>#</a></div><div id='def.odr-4.sentence-1' class='sentence'>A variable <span class='texttt'>x</span> whose name appears as a
potentially-evaluated expression <span class='texttt'>ex</span> is <a class='hidden_link' href='#def:odr-use' id='def:odr-use'><i >odr-used</i></a> by <span class='texttt'>ex</span> unless
applying the <a href='conv.lval'>lvalue-to-rvalue conversion</a> to <span class='texttt'>x</span> yields
a <a href='expr.const'>constant expression</a> 
that does not invoke a function
other than a trivial special member function (<a href='special'>[special]</a>)
and, if <span class='texttt'>x</span> is an object, <span class='texttt'>ex</span> is an element of
the set of potential results of an expression <span class='texttt'>e</span>, where either the lvalue-to-rvalue
conversion (<a href='conv.lval'>[conv.lval]</a>) is applied to <span class='texttt'>e</span>, or <span class='texttt'>e</span> is
a discarded-value expression (<a href='expr.prop'>[expr.prop]</a>)<a class='hidden_link' href='#def.odr-4.sentence-1'>.</a></div></div><div class='para' id='def.odr-5'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L368'>#</a></div><div id='def.odr-5.sentence-1' class='sentence'>A structured binding is odr-used if it appears as a potentially-evaluated expression<a class='hidden_link' href='#def.odr-5.sentence-1'>.</a></div></div><div class='para' id='def.odr-6'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L371'>#</a></div><div id='def.odr-6.sentence-1' class='sentence'><span class='texttt'>*this</span> is odr-used if <span class='texttt'>this</span> appears as a potentially-evaluated expression
(including as the result of the implicit transformation in the body of a non-static
member function (<a href='class.mfct.non-static'>[class.mfct.non-static]</a>))<a class='hidden_link' href='#def.odr-6.sentence-1'>.</a></div></div><div class='para' id='def.odr-7'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L376'>#</a></div><div id='def.odr-7.sentence-1' class='sentence'>A virtual member
function is odr-used if it is not pure<a class='hidden_link' href='#def.odr-7.sentence-1'>.</a></div> <div id='def.odr-7.sentence-2' class='sentence'>A function is odr-used if it is named by a potentially-evaluated expression<a class='hidden_link' href='#def.odr-7.sentence-2'>.</a></div> <div id='def.odr-7.sentence-3' class='sentence'>A non-placement allocation or deallocation
function for a class is odr-used by the definition of a constructor of that
class<a class='hidden_link' href='#def.odr-7.sentence-3'>.</a></div> <div id='def.odr-7.sentence-4' class='sentence'>A non-placement deallocation function for a class is odr-used by the
definition of the destructor of that class, or by being selected by the
lookup at the point of definition of a virtual
destructor (<a href='class.dtor'>[class.dtor]</a>)<a class='hidden_link' href='#def.odr-7.sentence-4'>.</a><a class='footnotenum' href='#footnote-21'>21</a></div></div><div class='para' id='def.odr-8'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L390'>#</a></div><div id='def.odr-8.sentence-1' class='sentence'>An assignment operator function in a class is odr-used by an
implicitly-defined
copy-assignment or move-assignment function for another class as specified
in <a href='class.copy.assign'>[class.copy.assign]</a><a class='hidden_link' href='#def.odr-8.sentence-1'>.</a></div> <div id='def.odr-8.sentence-2' class='sentence'>A constructor for a class is odr-used as specified
in <a href='dcl.init'>[dcl.init]</a><a class='hidden_link' href='#def.odr-8.sentence-2'>.</a></div> <div id='def.odr-8.sentence-3' class='sentence'>A destructor for a class is odr-used if it is
<a href='class.dtor#def:potentially_invoked'>potentially invoked</a><a class='hidden_link' href='#def.odr-8.sentence-3'>.</a></div></div><div class='para' id='def.odr-9'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L399'>#</a></div><div id='def.odr-9.sentence-1' class='sentence'>A local entity (<a href='#basic'>[basic]</a>)
is <a class='hidden_link' href='#def:odr-usable' id='def:odr-usable'><i >odr-usable</i></a> in a declarative region (<a href='#scope.declarative'>[basic.scope.declarative]</a>) if:</div><div id='def.odr-9.sentence-2' class='sentence'><ul class='itemize'><li id='def.odr-9.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-9.1'>(9.1)</a></div><div id='def.odr-9.1.sentence-1' class='sentence'>the local entity is either
not <span class='texttt'>*this</span>, or
an enclosing class or non-lambda function parameter scope exists and,
if the innermost such scope is a function parameter scope,
it corresponds to a non-static member function, and</div></li><li id='def.odr-9.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-9.2'>(9.2)</a></div><div id='def.odr-9.2.sentence-1' class='sentence'>for each intervening declarative region (<a href='#scope.declarative'>[basic.scope.declarative]</a>)
between the point at which the entity is introduced and the region
(where <span class='texttt'>*this</span> is considered to be introduced
within the innermost enclosing class or non-lambda function definition scope),
either:
<ul class='itemize'><li id='def.odr-9.2.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#def.odr-9.2.1'>(9.2.1)</a></div><div id='def.odr-9.2.1.sentence-1' class='sentence'>the intervening declarative region is a block scope, or</div></li><li id='def.odr-9.2.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#def.odr-9.2.2'>(9.2.2)</a></div><div id='def.odr-9.2.2.sentence-1' class='sentence'>the intervening declarative region is the function parameter scope of a <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i>
that has a <i ><a href='expr.prim.lambda.capture#nt:simple-capture'>simple-capture</a></i> naming the entity or has a <i ><a href='expr.prim.lambda.capture#nt:capture-default'>capture-default</a></i><a class='hidden_link' href='#def.odr-9.2.2.sentence-1'>.</a></div></li></ul></div></li></ul></div><div id='def.odr-9.sentence-3' class='sentence'>If a local entity is odr-used
in a declarative region in which it is not odr-usable,
the program is ill-formed<a class='hidden_link' href='#def.odr-9.sentence-3'>.</a></div> <div id='def.odr-9.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#def.odr-9.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void f(int n) {
  [] { n = 1; };                <span class='comment'>// error, <span class='tcode_in_codeblock'>n</span> is not odr-usable due to intervening lambda-expression
</span>  struct A {
    void f() { n = 2; }         <span class='comment'>// error, <span class='tcode_in_codeblock'>n</span> is not odr-usable due to intervening function definition scope
</span>  };
  void g(int = n);              <span class='comment'>// error, <span class='tcode_in_codeblock'>n</span> is not odr-usable due to intervening function parameter scope
</span>  [&amp;] { [n]{ return n; }; };    <span class='comment'>// OK
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='def.odr-10'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L438'>#</a></div><div id='def.odr-10.sentence-1' class='sentence'>Every program shall contain exactly one definition of every non-inline
function or variable that is odr-used in that program
outside of a <a href='stmt.if#def:discarded_statement'>discarded statement</a>; no diagnostic required<a class='hidden_link' href='#def.odr-10.sentence-1'>.</a></div> <div id='def.odr-10.sentence-2' class='sentence'>The definition can appear explicitly in the program, it can be found in
the standard or a user-defined library, or (when appropriate) it is
implicitly defined (see <a href='class.default.ctor'>[class.default.ctor]</a>, <a href='class.copy.ctor'>[class.copy.ctor]</a>,
<a href='class.dtor'>[class.dtor]</a>, and <a href='class.copy.assign'>[class.copy.assign]</a>)<a class='hidden_link' href='#def.odr-10.sentence-2'>.</a></div> <div id='def.odr-10.sentence-3' class='sentence'>An inline function or variable shall be defined in every
translation unit in which it is odr-used outside of a discarded statement<a class='hidden_link' href='#def.odr-10.sentence-3'>.</a></div></div><div class='para' id='def.odr-11'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L449'>#</a></div><div id='def.odr-11.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':type,incomplete_'></a></span>Exactly one definition of a class is required in a translation unit if
the class is used in a way that requires the class type to be complete<a class='hidden_link' href='#def.odr-11.sentence-1'>.</a></div> <div id='def.odr-11.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#def.odr-11.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='def.odr-11.sentence-2' class='sentence'>The following complete translation unit is well-formed,
even though it never defines <span class='texttt'>X</span>:
<pre class='codeblock'>
struct X;                       <span class='comment'>// declare <span class='tcode_in_codeblock'>X</span> as a struct type
</span>struct X* x1;                   <span class='comment'>// use <span class='tcode_in_codeblock'>X</span> in pointer formation
</span>X* x2;                          <span class='comment'>// use <span class='tcode_in_codeblock'>X</span> in pointer formation
</span></pre></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='def.odr-11.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#def.odr-11.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='def.odr-11.sentence-3' class='sentence'>The rules for declarations and expressions
describe in which contexts complete class types are required<a class='hidden_link' href='#def.odr-11.sentence-3'>.</a></div> <div id='def.odr-11.sentence-4' class='sentence'>A class
type <span class='texttt'>T</span> must be complete if:
<ul class='itemize'><li id='def.odr-11.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-11.1'>(11.1)</a></div><div id='def.odr-11.1.sentence-1' class='sentence'>an object of type <span class='texttt'>T</span> is <a href='#def'>defined</a>, or</div></li><li id='def.odr-11.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-11.2'>(11.2)</a></div><div id='def.odr-11.2.sentence-1' class='sentence'>a non-static class <a href='class.mem#def:data_member'>data member</a> of
type <span class='texttt'>T</span> is declared, or</div></li><li id='def.odr-11.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-11.3'>(11.3)</a></div><div id='def.odr-11.3.sentence-1' class='sentence'><span class='texttt'>T</span> is used as the allocated type or array element type in a
<i ><a href='expr.new#nt:new-expression'>new-expression</a></i>, or</div></li><li id='def.odr-11.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-11.4'>(11.4)</a></div><div id='def.odr-11.4.sentence-1' class='sentence'>an lvalue-to-rvalue conversion is applied to
a glvalue referring
to an object of type <span class='texttt'>T</span> (<a href='conv.lval'>[conv.lval]</a>), or</div></li><li id='def.odr-11.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-11.5'>(11.5)</a></div><div id='def.odr-11.5.sentence-1' class='sentence'>an expression is converted (either implicitly or explicitly) to
type <span class='texttt'>T</span> (<a href='conv'>[conv]</a>, <a href='expr.type.conv'>[expr.type.conv]</a>,
<a href='expr.dynamic.cast'>[expr.dynamic.cast]</a>, <a href='expr.static.cast'>[expr.static.cast]</a>, <a href='expr.cast'>[expr.cast]</a>), or</div></li><li id='def.odr-11.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-11.6'>(11.6)</a></div><div id='def.odr-11.6.sentence-1' class='sentence'>an expression that is not a null pointer constant, and has type
other than <span class='mathit'>cv</span> <span class='texttt'>void*</span>, is converted to the type pointer to <span class='texttt'>T</span>
or reference to <span class='texttt'>T</span> using a <a href='conv'>standard conversion</a>,
a <a href='expr.dynamic.cast'><span class='texttt'>dynamic_&shy;cast</span></a> or
a <a href='expr.static.cast'><span class='texttt'>static_&shy;cast</span></a>, or</div></li><li id='def.odr-11.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-11.7'>(11.7)</a></div><div id='def.odr-11.7.sentence-1' class='sentence'>a <a href='expr.ref'>class member access</a> operator is applied to an expression of type
<span class='texttt'>T</span>, or</div></li><li id='def.odr-11.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-11.8'>(11.8)</a></div><div id='def.odr-11.8.sentence-1' class='sentence'>the <a href='expr.typeid'><span class='texttt'>typeid</span> operator</a> or the
<a href='expr.sizeof'><span class='texttt'>sizeof</span> operator</a> is applied to an operand of
type <span class='texttt'>T</span>, or</div></li><li id='def.odr-11.9'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-11.9'>(11.9)</a></div><div id='def.odr-11.9.sentence-1' class='sentence'>a function with a return type or argument type of type <span class='texttt'>T</span>
is defined (<a href='#def'>[basic.def]</a>) or <a href='expr.call'>called</a>, or</div></li><li id='def.odr-11.10'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-11.10'>(11.10)</a></div><div id='def.odr-11.10.sentence-1' class='sentence'>a class with a base class of type <span class='texttt'>T</span> is
defined (<a href='class.derived'>[class.derived]</a>), or</div></li><li id='def.odr-11.11'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-11.11'>(11.11)</a></div><div id='def.odr-11.11.sentence-1' class='sentence'>an lvalue of type <span class='texttt'>T</span> is <a href='expr.ass'>assigned to</a>, or</div></li><li id='def.odr-11.12'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-11.12'>(11.12)</a></div><div id='def.odr-11.12.sentence-1' class='sentence'>the type <span class='texttt'>T</span> is the subject of an
<a href='expr.alignof'><span class='texttt'>alignof</span> expression</a>, or</div></li><li id='def.odr-11.13'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-11.13'>(11.13)</a></div><div id='def.odr-11.13.sentence-1' class='sentence'>an <i ><a href='except#nt:exception-declaration'>exception-declaration</a></i> has type <span class='texttt'>T</span>, reference to
<span class='texttt'>T</span>, or pointer to <span class='texttt'>T</span> (<a href='except.handle'>[except.handle]</a>)<a class='hidden_link' href='#def.odr-11.13.sentence-1'>.</a></div></li></ul></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='def.odr-12'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L498'>#</a></div><div id='def.odr-12.sentence-1' class='sentence'>There can be more than one definition of a <a href='class'>class type</a>,
<a href='dcl.enum'>enumeration type</a>, inline function
with external linkage (<a href='dcl.inline'>[dcl.inline]</a>), inline variable with external
linkage (<a href='dcl.inline'>[dcl.inline]</a>), <a href='temp'>class template</a>,
non-static <a href='temp.fct'>function template</a>,
concept (<a href='temp.concept'>[temp.concept]</a>),
<a href='temp.static'>static data member of a class template</a>,
<a href='temp.mem.func'>member function of a class template</a>,
or template specialization for which some template parameters are not
specified (<a href='temp.spec'>[temp.spec]</a>, <a href='temp.class.spec'>[temp.class.spec]</a>) in a program provided
that each definition appears in a different translation unit, and
provided the definitions satisfy the following requirements<a class='hidden_link' href='#def.odr-12.sentence-1'>.</a></div> <div id='def.odr-12.sentence-2' class='sentence'>Given such
an entity named <span class='texttt'>D</span> defined in more than one translation unit,
then
<ul class='itemize'><li id='def.odr-12.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-12.1'>(12.1)</a></div><div id='def.odr-12.1.sentence-1' class='sentence'>each definition of <span class='texttt'>D</span> shall consist of the same sequence of
tokens; and</div></li><li id='def.odr-12.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-12.2'>(12.2)</a></div><div id='def.odr-12.2.sentence-1' class='sentence'>in each definition of <span class='texttt'>D</span>, corresponding names, looked up
according to <a href='#lookup'>[basic.lookup]</a>, shall refer to an entity defined within
the definition of <span class='texttt'>D</span>, or shall refer to the same entity, after
<a href='over.match'>overload resolution</a> and after matching of partial
template specialization (<a href='temp.over'>[temp.over]</a>), except that a name can refer to
<ul class='itemize'><li id='def.odr-12.2.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#def.odr-12.2.1'>(12.2.1)</a></div><div id='def.odr-12.2.1.sentence-1' class='sentence'>a non-volatile const object with internal or no linkage if the object
<ul class='itemize'><li id='def.odr-12.2.1.1'><div class='marginalizedparent' style='left:-11em'><a class='marginalized' href='#def.odr-12.2.1.1'>(12.2.1.1)</a></div><div id='def.odr-12.2.1.1.sentence-1' class='sentence'>has the same literal type in all definitions of <span class='texttt'>D</span>,</div></li><li id='def.odr-12.2.1.2'><div class='marginalizedparent' style='left:-11em'><a class='marginalized' href='#def.odr-12.2.1.2'>(12.2.1.2)</a></div><div id='def.odr-12.2.1.2.sentence-1' class='sentence'>is initialized with a <a href='expr.const'>constant expression</a>,</div></li><li id='def.odr-12.2.1.3'><div class='marginalizedparent' style='left:-11em'><a class='marginalized' href='#def.odr-12.2.1.3'>(12.2.1.3)</a></div><div id='def.odr-12.2.1.3.sentence-1' class='sentence'>is not odr-used in any definition of <span class='texttt'>D</span>, and</div></li><li id='def.odr-12.2.1.4'><div class='marginalizedparent' style='left:-11em'><a class='marginalized' href='#def.odr-12.2.1.4'>(12.2.1.4)</a></div><div id='def.odr-12.2.1.4.sentence-1' class='sentence'>has the same value in all definitions of <span class='texttt'>D</span>,</div></li></ul>
or</div></li><li id='def.odr-12.2.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#def.odr-12.2.2'>(12.2.2)</a></div><div id='def.odr-12.2.2.sentence-1' class='sentence'>a reference with internal or no linkage
initialized with a constant expression such that
the reference refers to the same entity in all definitions of <span class='texttt'>D</span>;</div></li></ul>
and</div></li><li id='def.odr-12.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-12.3'>(12.3)</a></div><div id='def.odr-12.3.sentence-1' class='sentence'>in each definition of <span class='texttt'>D</span>, corresponding entities shall have the
same language linkage; and</div></li><li id='def.odr-12.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-12.4'>(12.4)</a></div><div id='def.odr-12.4.sentence-1' class='sentence'>in each definition of <span class='texttt'>D</span>, the overloaded operators referred
to, the implicit calls to conversion functions, constructors, operator
new functions and operator delete functions, shall refer to the same
function, or to a function defined within the definition of <span class='texttt'>D</span>;
and</div></li><li id='def.odr-12.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-12.5'>(12.5)</a></div><div id='def.odr-12.5.sentence-1' class='sentence'>in each definition of <span class='texttt'>D</span>, a default argument used by an
(implicit or explicit) function call is treated as if its token sequence
were present in the definition of <span class='texttt'>D</span>; that is, the default
argument is subject to the requirements described in this paragraph (and, if
the default argument has subexpressions with default arguments, this
requirement applies recursively)<a class='footnotenum' href='#footnote-22'>22</a>; and</div></li><li id='def.odr-12.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-12.6'>(12.6)</a></div><div id='def.odr-12.6.sentence-1' class='sentence'>if <span class='texttt'>D</span> invokes a function with a precondition,
or is a function
that contains an assertion or has a contract condition (<a href='dcl.attr.contract'>[dcl.attr.contract]</a>),
it is <span class='indexparent'><a class='index' id=':consistency_of_build_level_and_violation_continuation_mode'></a></span>implementation-defined
under which conditions all definitions of <span class='texttt'>D</span>
shall be translated using the same build level
and violation continuation mode; and</div></li><li id='def.odr-12.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-12.7'>(12.7)</a></div><div id='def.odr-12.7.sentence-1' class='sentence'>if <span class='texttt'>D</span> is a class with an implicitly-declared
constructor (<a href='class.default.ctor'>[class.default.ctor]</a>, <a href='class.copy.ctor'>[class.copy.ctor]</a>),
it is as if the constructor was
implicitly defined in every translation unit where it is odr-used, and the
implicit definition in every translation unit shall call the same
constructor for a subobject of <span class='texttt'>D</span><a class='hidden_link' href='#def.odr-12.7.sentence-1'>.</a></div> <div id='def.odr-12.7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#def.odr-12.7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='comment'>// translation unit 1:
</span>struct X {
  X(int, int);
  X(int, int, int);
};
X::X(int, int = 0) { }
class D {
  X x = 0;
};
D d1;                           <span class='comment'>// <span class='tcode_in_codeblock'>X(int, int)</span> called by <span class='tcode_in_codeblock'>D()</span>
</span>
<span class='comment'>// translation unit 2:
</span>struct X {
  X(int, int);
  X(int, int, int);
};
X::X(int, int = 0, int = 0) { }
class D {
  X x = 0;
};
D d2;                           <span class='comment'>// <span class='tcode_in_codeblock'>X(int, int, int)</span> called by <span class='tcode_in_codeblock'>D()</span>;
</span>                                <span class='comment'>// <span class='tcode_in_codeblock'>D()</span>'s implicit definition violates the ODR
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </li></ul>
If <span class='texttt'>D</span> is a template and is defined in more than one
translation unit, then the preceding requirements
shall apply both to names from the template's enclosing scope used in the
template definition (<a href='temp.nondep'>[temp.nondep]</a>), and also to dependent names at
the point of instantiation (<a href='temp.dep'>[temp.dep]</a>)<a class='hidden_link' href='#def.odr-12.sentence-2'>.</a></div> <div id='def.odr-12.sentence-3' class='sentence'>If the definitions of
<span class='texttt'>D</span> satisfy all these requirements, then the behavior is
as if there were a single definition of <span class='texttt'>D</span><a class='hidden_link' href='#def.odr-12.sentence-3'>.</a></div> <div id='def.odr-12.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#def.odr-12.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='def.odr-12.sentence-4' class='sentence'>The entity is still declared in multiple translation units, and <a href='#link'>[basic.link]</a>
still applies to these declarations<a class='hidden_link' href='#def.odr-12.sentence-4'>.</a></div> <div id='def.odr-12.sentence-5' class='sentence'>In particular,
<i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i><span class='textit'>s</span>
appearing in the type of <span class='texttt'>D</span> may result
in the different declarations having distinct types<a class='hidden_link' href='#def.odr-12.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='def.odr-12.sentence-6' class='sentence'>
If the definitions of
<span class='texttt'>D</span> do not satisfy these requirements, then the behavior is
undefined<a class='hidden_link' href='#def.odr-12.sentence-6'>.</a></div> </div><div class='footnote' id='footnote-21'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-21'>21)</a></div><div id='footnote-21.sentence-1' class='sentence'>An implementation is not required
to call allocation and
deallocation functions from constructors or destructors; however, this
is a permissible implementation technique<a class='hidden_link' href='#footnote-21.sentence-1'>.</a></div></div><div class='footnote' id='footnote-22'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-22'>22)</a></div><div id='footnote-22.sentence-1' class='sentence'><a href='dcl.fct.default'>[dcl.fct.default]</a>
describes how default argument names are looked up<a class='hidden_link' href='#footnote-22.sentence-1'>.</a></div></div></div><div id='scope' class='section'><h2 ><a class='secnum' href='#scope' style='min-width:88pt'>6.3</a> Scope <a class='abbr_ref' href='basic.scope'>[basic.scope]</a></h2><span class='indexparent'><a class='index' id=':scope_'></a></span><div id='scope.declarative' class='section'><h3 ><a class='secnum' href='#scope.declarative' style='min-width:103pt'>6.3.1</a> Declarative regions and scopes <a class='abbr_ref' href='basic.scope.declarative'>[basic.scope.declarative]</a></h3><span class='indexparent'><a class='index' id=':scope,declarations_and'></a></span><div class='para' id='scope.declarative-1'><div class='marginalizedparent'><a class='marginalized' href='#scope.declarative-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L621'>#</a></div><div id='scope.declarative-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':name,scope_of'></a></span>Every name is introduced in some portion of program text called a
<span class='indexparent'><a class='index' id=':region,declarative_'></a></span><span class='indexparent'><a class='index' id=':scope,potential'></a></span><a class='hidden_link' href='#def:declarative_region' id='def:declarative_region'><i >declarative region</i></a>, which is the largest part of the program
in which that name is valid, that is, in which that name may
be used as an unqualified name to refer to the same entity<a class='hidden_link' href='#scope.declarative-1.sentence-1'>.</a></div> <div id='scope.declarative-1.sentence-2' class='sentence'>In general,
each particular name is valid only within some possibly discontiguous
portion of program text called its <a class='hidden_link' href='#def:scope__' id='def:scope__'><i >scope</i></a><a class='hidden_link' href='#scope.declarative-1.sentence-2'>.</a></div> <div id='scope.declarative-1.sentence-3' class='sentence'>To determine the
scope of a declaration, it is sometimes convenient to refer to the
<a class='hidden_link' href='#def:potential_scope' id='def:potential_scope'><i >potential scope</i></a> of a declaration<a class='hidden_link' href='#scope.declarative-1.sentence-3'>.</a></div> <div id='scope.declarative-1.sentence-4' class='sentence'>The scope of a declaration
is the same as its potential scope unless the potential scope contains
another declaration of the same name<a class='hidden_link' href='#scope.declarative-1.sentence-4'>.</a></div> <div id='scope.declarative-1.sentence-5' class='sentence'>In that case, the potential scope
of the declaration in the inner (contained) declarative region is
excluded from the scope of the declaration in the outer (containing)
declarative region<a class='hidden_link' href='#scope.declarative-1.sentence-5'>.</a></div></div><div class='para' id='scope.declarative-2'><div class='marginalizedparent'><a class='marginalized' href='#scope.declarative-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L639'>#</a></div><div id='scope.declarative-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#scope.declarative-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='scope.declarative-2.sentence-1' class='sentence'>In
<pre class='codeblock'>
int j = 24;
int main() {
  int i = j, j;
  j = 42;
}</pre>
the identifier <span class='texttt'>j</span> is declared twice as a name (and used twice)<a class='hidden_link' href='#scope.declarative-2.sentence-1'>.</a></div> <div id='scope.declarative-2.sentence-2' class='sentence'>The declarative region of the first <span class='texttt'>j</span> includes the entire
example<a class='hidden_link' href='#scope.declarative-2.sentence-2'>.</a></div> <div id='scope.declarative-2.sentence-3' class='sentence'>The potential scope of the first <span class='texttt'>j</span> begins immediately
after that <span class='texttt'>j</span> and extends to the end of the program, but its
(actual) scope excludes the text between the <span class='texttt'>,</span> and the
<span class='texttt'>}</span><a class='hidden_link' href='#scope.declarative-2.sentence-3'>.</a></div> <div id='scope.declarative-2.sentence-4' class='sentence'>The declarative region of the second declaration of
<span class='texttt'>j</span> (the <span class='texttt'>j</span> immediately before the semicolon) includes all
the text between <span class='texttt'>{</span> and <span class='texttt'>}</span>, but its potential scope
excludes the declaration of <span class='texttt'>i</span><a class='hidden_link' href='#scope.declarative-2.sentence-4'>.</a></div> <div id='scope.declarative-2.sentence-5' class='sentence'>The scope of the second
declaration of <span class='texttt'>j</span> is the same as its potential scope<a class='hidden_link' href='#scope.declarative-2.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='scope.declarative-3'><div class='marginalizedparent'><a class='marginalized' href='#scope.declarative-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L661'>#</a></div><div id='scope.declarative-3.sentence-1' class='sentence'>The names declared by a declaration are introduced into the scope in
which the declaration occurs, except that the presence of a
<a href='class.friend'><span class='texttt'>friend</span> specifier</a>, certain uses of the
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i>, and
<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i><span class='textit'>s</span> alter this general
behavior<a class='hidden_link' href='#scope.declarative-3.sentence-1'>.</a></div></div><div class='para' id='scope.declarative-4'><div class='marginalizedparent'><a class='marginalized' href='#scope.declarative-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L669'>#</a></div><div id='scope.declarative-4.sentence-4' class='sentence'>Given a set of declarations in a single declarative region, each of
which specifies the same unqualified name,
<ul class='itemize'><li id='scope.declarative-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#scope.declarative-4.1'>(4.1)</a></div><div id='scope.declarative-4.1.sentence-1' class='sentence'>they shall all refer to the same entity, or all refer to functions
and function templates; or</div></li><li id='scope.declarative-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#scope.declarative-4.2'>(4.2)</a></div><div id='scope.declarative-4.2.sentence-1' class='sentence'>exactly one declaration shall declare a class name or enumeration
name that is not a typedef name and the other declarations shall
all refer to the same variable, non-static data member, or enumerator,
or all refer to functions and function templates;
in this case the class name or enumeration name is
<a href='#scope.hiding'>hidden</a><a class='hidden_link' href='#scope.declarative-4.2.sentence-1'>.</a></div> <div id='scope.declarative-4.2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#scope.declarative-4.2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='scope.declarative-4.2.sentence-2' class='sentence'>A namespace name or a
class template name must be unique in its declarative
region (<a href='namespace.alias'>[namespace.alias]</a>, <a href='temp'>[temp]</a>)<a class='hidden_link' href='#scope.declarative-4.2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </li></ul>
<div id='scope.declarative-4.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#scope.declarative-4.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='scope.declarative-4.sentence-1' class='sentence'>These restrictions apply to the declarative region into which
a name is introduced, which is not necessarily the same as the region in
which the declaration occurs<a class='hidden_link' href='#scope.declarative-4.sentence-1'>.</a></div> <div id='scope.declarative-4.sentence-2' class='sentence'>In particular,
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i><span class='textit'>s</span> and
<a href='class.friend'>friend declarations</a> may introduce a (possibly not
visible) name into an enclosing namespace; these restrictions apply to
that region<a class='hidden_link' href='#scope.declarative-4.sentence-2'>.</a></div> <div id='scope.declarative-4.sentence-3' class='sentence'>Local extern declarations (<a href='#link'>[basic.link]</a>) may introduce
a name into the declarative region where the declaration appears and
also introduce a (possibly not visible) name into an enclosing
namespace; these restrictions apply to both regions<a class='hidden_link' href='#scope.declarative-4.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div class='para' id='scope.declarative-5'><div class='marginalizedparent'><a class='marginalized' href='#scope.declarative-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L695'>#</a></div><div id='scope.declarative-5.sentence-1' class='sentence'>For a given declarative region <span class='textit'>R</span>
and a point <span class='textit'>P</span> outside <span class='textit'>R</span>,
the set of <a class='hidden_link' href='#def:region,declarative,intervening' id='def:region,declarative,intervening'><i >intervening</i></a> declarative regions
between <span class='textit'>P</span> and <span class='textit'>R</span>
comprises all declarative regions
that are or enclose <span class='textit'>R</span> and do not enclose <span class='textit'>P</span><a class='hidden_link' href='#scope.declarative-5.sentence-1'>.</a></div></div><div class='para' id='scope.declarative-6'><div class='marginalizedparent'><a class='marginalized' href='#scope.declarative-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L703'>#</a></div><div id='scope.declarative-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#scope.declarative-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='scope.declarative-6.sentence-1' class='sentence'>The name lookup rules are summarized in <a href='#lookup'>[basic.lookup]</a><a class='hidden_link' href='#scope.declarative-6.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='scope.pdecl' class='section'><h3 ><a class='secnum' href='#scope.pdecl' style='min-width:103pt'>6.3.2</a> Point of declaration <a class='abbr_ref' href='basic.scope.pdecl'>[basic.scope.pdecl]</a></h3><div class='para' id='scope.pdecl-1'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L709'>#</a></div><div id='scope.pdecl-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':name,point_of_declaration'></a></span>The <a class='hidden_link' href='#def:point_of_declaration' id='def:point_of_declaration'><i >point of declaration</i></a> for a name is immediately after its
complete <a href='dcl.decl'>declarator</a> and before its
<i ><a href='dcl.init#nt:initializer'>initializer</a></i> (if any), except as noted below<a class='hidden_link' href='#scope.pdecl-1.sentence-1'>.</a></div> <div id='scope.pdecl-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#scope.pdecl-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
unsigned char x = 12;
{ unsigned char x = x; }</pre> <div id='scope.pdecl-1.sentence-2' class='sentence'>
Here the second <span class='texttt'>x</span> is initialized with its own (indeterminate)
value<a class='hidden_link' href='#scope.pdecl-1.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='scope.pdecl-2'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L721'>#</a></div><div id='scope.pdecl-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#scope.pdecl-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='scope.pdecl-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':name_hiding'></a></span>A name from an outer scope remains visible up
to the point of declaration of the name that hides it<a class='hidden_link' href='#scope.pdecl-2.sentence-1'>.</a></div> <div id='scope.pdecl-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#scope.pdecl-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
const int  i = 2;
{ int  i[i]; }</pre> <div id='scope.pdecl-2.sentence-2' class='sentence'>
declares a block-scope array of two integers<a class='hidden_link' href='#scope.pdecl-2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='scope.pdecl-3'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L732'>#</a></div><div id='scope.pdecl-3.sentence-1' class='sentence'>The point of declaration for a class or class template first declared by a
<i ><a href='class#nt:class-specifier'>class-specifier</a></i> is immediately after the <i ><a href='lex.name#nt:identifier'>identifier</a></i> or
<i ><a href='temp.names#nt:simple-template-id'>simple-template-id</a></i> (if any) in its <i ><a href='class#nt:class-head'>class-head</a></i><a class='hidden_link' href='#scope.pdecl-3.sentence-1'>.</a></div> <div id='scope.pdecl-3.sentence-2' class='sentence'>The point of declaration for an enumeration is
immediately after the <i ><a href='lex.name#nt:identifier'>identifier</a></i> (if any) in either its
<i ><a href='dcl.enum#nt:enum-specifier'>enum-specifier</a></i> or its first
<i ><a href='dcl.enum#nt:opaque-enum-declaration'>opaque-enum-declaration</a></i>, whichever comes first<a class='hidden_link' href='#scope.pdecl-3.sentence-2'>.</a></div> <div id='scope.pdecl-3.sentence-3' class='sentence'>The point of declaration of an alias or alias template immediately
follows the <i ><a href='dcl.name#nt:defining-type-id'>defining-type-id</a></i> to which the
alias refers<a class='hidden_link' href='#scope.pdecl-3.sentence-3'>.</a></div></div><div class='para' id='scope.pdecl-4'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L744'>#</a></div><div id='scope.pdecl-4.sentence-1' class='sentence'>The point of declaration of a <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> that does not name a
constructor is immediately after the <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i><a class='hidden_link' href='#scope.pdecl-4.sentence-1'>.</a></div></div><div class='para' id='scope.pdecl-5'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L748'>#</a></div><div id='scope.pdecl-5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':declaration,enumerator_point_of'></a></span>The point of declaration for an enumerator is immediately after its
<i ><a href='dcl.enum#nt:enumerator-definition'>enumerator-definition</a></i><a class='hidden_link' href='#scope.pdecl-5.sentence-1'>.</a></div> <div id='scope.pdecl-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#scope.pdecl-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
const int x = 12;
{ enum { x = x }; }</pre> <div id='scope.pdecl-5.sentence-2' class='sentence'>
Here, the enumerator <span class='texttt'>x</span> is initialized with the value of the
constant <span class='texttt'>x</span>, namely 12<a class='hidden_link' href='#scope.pdecl-5.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='scope.pdecl-6'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L759'>#</a></div><div id='scope.pdecl-6.sentence-1' class='sentence'>After the point of declaration of a class member, the member name can be
looked up in the scope of its class<a class='hidden_link' href='#scope.pdecl-6.sentence-1'>.</a></div> <div id='scope.pdecl-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#scope.pdecl-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='scope.pdecl-6.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':type,incomplete__'></a></span>This is true even if the class is an incomplete class<a class='hidden_link' href='#scope.pdecl-6.sentence-2'>.</a></div> <div id='scope.pdecl-6.sentence-3' class='sentence'>For example,
<pre class='codeblock'>
struct X {
  enum E { z = 16 };
  int b[X::z];      <span class='comment'>// OK
</span>};</pre></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='scope.pdecl-7'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L772'>#</a></div><div id='scope.pdecl-7.sentence-1' class='sentence'>The point of declaration of a class first declared in an
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> is as follows:
<ul class='itemize'><li id='scope.pdecl-7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#scope.pdecl-7.1'>(7.1)</a></div><div id='scope.pdecl-7.1.sentence-1' class='sentence'>for a declaration of the form
<pre class='ncbnf'><i ><a href='class#nt:class-key'>class-key</a></i> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="Subscript o p t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='lex.name#nt:identifier'>identifier</a></i> <span class='terminal'>;</span>
</pre>
the <i ><a href='lex.name#nt:identifier'>identifier</a></i> is declared to be a
<i ><a href='class#nt:class-name'>class-name</a></i> in the scope that contains the declaration,
otherwise</div></li><li id='scope.pdecl-7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#scope.pdecl-7.2'>(7.2)</a></div><div id='scope.pdecl-7.2.sentence-1' class='sentence'>for an <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> of the form
<pre class='ncbnf'><i ><a href='class#nt:class-key'>class-key</a></i> <i ><a href='lex.name#nt:identifier'>identifier</a></i>
</pre>
if the
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> is used in the
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> or <i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>
of a function defined in namespace scope, the <i ><a href='lex.name#nt:identifier'>identifier</a></i> is
declared as a <i ><a href='class#nt:class-name'>class-name</a></i> in the namespace that contains the
declaration; otherwise, except as a friend declaration, the
<i ><a href='lex.name#nt:identifier'>identifier</a></i> is declared in the smallest namespace or block
scope that contains the declaration<a class='hidden_link' href='#scope.pdecl-7.2.sentence-1'>.</a></div> <div id='scope.pdecl-7.2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#scope.pdecl-7.2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='scope.pdecl-7.2.sentence-2' class='sentence'>These rules also apply within templates<a class='hidden_link' href='#scope.pdecl-7.2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>   <div id='scope.pdecl-7.2.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#scope.pdecl-7.2.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='scope.pdecl-7.2.sentence-3' class='sentence'>Other
forms of <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> do not declare a new name,
and therefore must refer to an existing <i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i><a class='hidden_link' href='#scope.pdecl-7.2.sentence-3'>.</a></div> <div id='scope.pdecl-7.2.sentence-4' class='sentence'>See <a href='#lookup.elab'>[basic.lookup.elab]</a> and <a href='dcl.type.elab'>[dcl.type.elab]</a><a class='hidden_link' href='#scope.pdecl-7.2.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </li></ul></div></div><div class='para' id='scope.pdecl-8'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L801'>#</a></div><div id='scope.pdecl-8.sentence-1' class='sentence'>The point of declaration for an
<a href='class#def:injected-class-name'>injected-class-name</a> is immediately following
the opening brace of the class definition<a class='hidden_link' href='#scope.pdecl-8.sentence-1'>.</a></div></div><div class='para' id='scope.pdecl-9'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L806'>#</a></div><div id='scope.pdecl-9.sentence-1' class='sentence'>The point of declaration for a function-local predefined
variable (<a href='dcl.fct.def.general'>[dcl.fct.def.general]</a>) is immediately before the
<i ><a href='dcl.fct.def.general#nt:function-body'>function-body</a></i> of a function definition<a class='hidden_link' href='#scope.pdecl-9.sentence-1'>.</a></div></div><div class='para' id='scope.pdecl-10'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L811'>#</a></div><div id='scope.pdecl-10.sentence-1' class='sentence'>The point of declaration of a structured binding (<a href='dcl.struct.bind'>[dcl.struct.bind]</a>)
is immediately after
the <i ><a href='cpp#nt:identifier-list'>identifier-list</a></i> of the structured binding declaration<a class='hidden_link' href='#scope.pdecl-10.sentence-1'>.</a></div></div><div class='para' id='scope.pdecl-11'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L816'>#</a></div><div id='scope.pdecl-11.sentence-1' class='sentence'>The point of declaration for the variable or the structured bindings
declared in the <i ><a href='stmt.iter#nt:for-range-declaration'>for-range-declaration</a></i>
of a range-based <span class='texttt'>for</span> statement (<a href='stmt.ranged'>[stmt.ranged]</a>)
is immediately after the <i ><a href='stmt.iter#nt:for-range-initializer'>for-range-initializer</a></i><a class='hidden_link' href='#scope.pdecl-11.sentence-1'>.</a></div></div><div class='para' id='scope.pdecl-12'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L822'>#</a></div><div id='scope.pdecl-12.sentence-1' class='sentence'>The point of declaration for a template parameter is immediately after its complete
<i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i><a class='hidden_link' href='#scope.pdecl-12.sentence-1'>.</a></div> <div id='scope.pdecl-12.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#scope.pdecl-12.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
typedef unsigned char T;
template&lt;class T
  = T     <span class='comment'>// lookup finds the typedef name of <span class='tcode_in_codeblock'>unsigned char</span>
</span>  , T     <span class='comment'>// lookup finds the template parameter
</span>    N = 0&gt; struct A { };</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='scope.pdecl-13'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L834'>#</a></div><div id='scope.pdecl-13.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#scope.pdecl-13.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='scope.pdecl-13.sentence-1' class='sentence'>Friend declarations refer to functions or classes that are
members of the nearest enclosing namespace, but they do not introduce
new names into that namespace (<a href='namespace.memdef'>[namespace.memdef]</a>)<a class='hidden_link' href='#scope.pdecl-13.sentence-1'>.</a></div> <div id='scope.pdecl-13.sentence-2' class='sentence'>Function
declarations at block scope and variable declarations with the
<span class='texttt'>extern</span> specifier at block scope refer to declarations that are
members of an enclosing namespace, but they do not introduce new names
into that scope<a class='hidden_link' href='#scope.pdecl-13.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='scope.pdecl-14'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L844'>#</a></div><div id='scope.pdecl-14.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#scope.pdecl-14.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='scope.pdecl-14.sentence-1' class='sentence'>For point of instantiation of a template,
see <a href='temp.point'>[temp.point]</a><a class='hidden_link' href='#scope.pdecl-14.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  </div></div><div id='scope.block' class='section'><h3 ><a class='secnum' href='#scope.block' style='min-width:103pt'>6.3.3</a> Block scope <a class='abbr_ref' href='basic.scope.block'>[basic.scope.block]</a></h3><div class='para' id='scope.block-1'><div class='marginalizedparent'><a class='marginalized' href='#scope.block-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L851'>#</a></div><div id='scope.block-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':scope,block'></a></span>A name declared in a <a href='stmt.block'>block</a> is local to that block; it has
<a class='hidden_link' href='#def:block_scope' id='def:block_scope'><i >block scope</i></a><a class='hidden_link' href='#scope.block-1.sentence-1'>.</a></div> <div id='scope.block-1.sentence-2' class='sentence'>Its potential scope begins at its <a href='#scope.pdecl'>point of
declaration</a> and ends at the end of its block<a class='hidden_link' href='#scope.block-1.sentence-2'>.</a></div> <div id='scope.block-1.sentence-3' class='sentence'>A variable declared at block scope is a <a class='hidden_link' href='#def:local_variable' id='def:local_variable'><i >local variable</i></a><a class='hidden_link' href='#scope.block-1.sentence-3'>.</a></div></div><div class='para' id='scope.block-2'><div class='marginalizedparent'><a class='marginalized' href='#scope.block-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L860'>#</a></div><div id='scope.block-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':scope,exception_declaration'></a></span>The name declared in an <i ><a href='except#nt:exception-declaration'>exception-declaration</a></i>
is local to the
<i ><a href='except#nt:handler'>handler</a></i> and shall not be redeclared in the outermost block of the
<i ><a href='except#nt:handler'>handler</a></i><a class='hidden_link' href='#scope.block-2.sentence-1'>.</a></div></div><div class='para' id='scope.block-3'><div class='marginalizedparent'><a class='marginalized' href='#scope.block-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L867'>#</a></div><div id='scope.block-3.sentence-1' class='sentence'>Names declared in the <i ><a href='stmt.stmt#nt:init-statement'>init-statement</a></i>, the <i ><a href='stmt.iter#nt:for-range-declaration'>for-range-declaration</a></i>, and in the
<i ><a href='stmt.stmt#nt:condition'>condition</a></i> of <span class='texttt'>if</span>, <span class='texttt'>while</span>, <span class='texttt'>for</span>, and
<span class='texttt'>switch</span> statements are local to the <span class='texttt'>if</span>, <span class='texttt'>while</span>,
<span class='texttt'>for</span>, or <span class='texttt'>switch</span> statement (including the controlled
statement), and shall not be redeclared in a subsequent condition of
that statement nor in the outermost block (or, for the <span class='texttt'>if</span>
statement, any of the outermost blocks) of the controlled statement;
see <a href='stmt.select'>[stmt.select]</a><a class='hidden_link' href='#scope.block-3.sentence-1'>.</a></div></div></div><div id='scope.param' class='section'><h3 ><a class='secnum' href='#scope.param' style='min-width:103pt'>6.3.4</a> Function parameter scope <a class='abbr_ref' href='basic.scope.param'>[basic.scope.param]</a></h3><div class='para' id='scope.param-1'><div class='marginalizedparent'><a class='marginalized' href='#scope.param-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L879'>#</a></div><div id='scope.param-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':scope,function_parameter'></a></span><span class='indexparent'><a class='index' id=':parameter,scope_of'></a></span>A function parameter
(including one appearing in a
<i ><a href='expr.prim.lambda#nt:lambda-declarator'>lambda-declarator</a></i>)
or function-local predefined variable (<a href='dcl.fct.def'>[dcl.fct.def]</a>)
has <a class='hidden_link' href='#def:function_parameter_scope' id='def:function_parameter_scope'><i >function parameter scope</i></a><a class='hidden_link' href='#scope.param-1.sentence-1'>.</a></div> <div id='scope.param-1.sentence-2' class='sentence'>The potential scope of a parameter
or function-local predefined variable
begins at its point of declaration<a class='hidden_link' href='#scope.param-1.sentence-2'>.</a></div> <div id='scope.param-1.sentence-3' class='sentence'>If
the nearest enclosing function declarator
is not the declarator of a function definition,
the potential scope ends at the end of that function declarator<a class='hidden_link' href='#scope.param-1.sentence-3'>.</a></div> <div id='scope.param-1.sentence-4' class='sentence'>Otherwise, if
the function has a <i ><a href='except#nt:function-try-block'>function-try-block</a></i> the potential scope
ends at the end of the last associated handler<a class='hidden_link' href='#scope.param-1.sentence-4'>.</a></div> <div id='scope.param-1.sentence-5' class='sentence'>Otherwise the potential scope ends
at the end of the outermost block of the function definition<a class='hidden_link' href='#scope.param-1.sentence-5'>.</a></div> <div id='scope.param-1.sentence-6' class='sentence'>A
parameter name shall not be redeclared in the outermost block of the
function definition nor in the outermost block of any handler associated
with a <i ><a href='except#nt:function-try-block'>function-try-block</a></i><a class='hidden_link' href='#scope.param-1.sentence-6'>.</a></div></div></div><div id='funscope' class='section'><h3 ><a class='secnum' href='#funscope' style='min-width:103pt'>6.3.5</a> Function scope <a class='abbr_ref' href='basic.funscope'>[basic.funscope]</a></h3><div class='para' id='funscope-1'><div class='marginalizedparent'><a class='marginalized' href='#funscope-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L905'>#</a></div><div id='funscope-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':label,scope_of'></a></span><a href='stmt.label'>Labels</a> have <a class='hidden_link' href='#def:scope,function' id='def:scope,function'><i >function scope</i></a> and
may be used anywhere in the function in which they are declared<a class='hidden_link' href='#funscope-1.sentence-1'>.</a></div> <div id='funscope-1.sentence-2' class='sentence'>Only
labels have function scope<a class='hidden_link' href='#funscope-1.sentence-2'>.</a></div></div></div><div id='scope.namespace' class='section'><h3 ><a class='secnum' href='#scope.namespace' style='min-width:103pt'>6.3.6</a> Namespace scope <a class='abbr_ref' href='basic.scope.namespace'>[basic.scope.namespace]</a></h3><div class='para' id='scope.namespace-1'><div class='marginalizedparent'><a class='marginalized' href='#scope.namespace-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L913'>#</a></div><div id='scope.namespace-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':scope,namespace'></a></span>The declarative region of a <i ><a href='namespace.def#nt:namespace-definition'>namespace-definition</a></i> is its
<i ><a href='namespace.def#nt:namespace-body'>namespace-body</a></i><a class='hidden_link' href='#scope.namespace-1.sentence-1'>.</a></div> <div id='scope.namespace-1.sentence-2' class='sentence'>Entities declared in a
<i ><a href='namespace.def#nt:namespace-body'>namespace-body</a></i> are said to be <a class='hidden_link' href='#def:members' id='def:members'><i >members</i></a> of the
namespace, and names introduced by these declarations into the
declarative region of the namespace are said to be <a class='hidden_link' href='#def:member_names' id='def:member_names'><i >member
names</i></a> of the namespace<a class='hidden_link' href='#scope.namespace-1.sentence-2'>.</a></div> <div id='scope.namespace-1.sentence-3' class='sentence'>A namespace member name has namespace scope<a class='hidden_link' href='#scope.namespace-1.sentence-3'>.</a></div> <div id='scope.namespace-1.sentence-4' class='sentence'>Its potential scope includes its namespace from the name's <a href='#scope.pdecl'>point of
declaration</a> onwards; and for each
<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> that nominates the
member's namespace, the member's potential scope includes that portion
of the potential scope of the <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> that follows
the member's point of declaration<a class='hidden_link' href='#scope.namespace-1.sentence-4'>.</a></div> <div id='scope.namespace-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#scope.namespace-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace N {
  int i;
  int g(int a) { return a; }
  int j();
  void q();
}
namespace { int l=1; }
<span class='comment'>// the potential scope of <span class='tcode_in_codeblock'>l</span> is from its point of declaration to the end of the translation unit
</span>
namespace N {
  int g(char a) {   <span class='comment'>// overloads <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;g(int)</span>
</span>    return l+a;     <span class='comment'>// <span class='tcode_in_codeblock'>l</span> is from unnamed namespace
</span>  }

  int i;            <span class='comment'>// error: duplicate definition
</span>  int j();          <span class='comment'>// OK: duplicate function declaration
</span>
  int j() {         <span class='comment'>// OK: definition of <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;j()</span>
</span>    return g(i);    <span class='comment'>// calls <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;g(int)</span>
</span>  }
  int q();          <span class='comment'>// error: different return type
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='scope.namespace-2'><div class='marginalizedparent'><a class='marginalized' href='#scope.namespace-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L953'>#</a></div><div id='scope.namespace-2.sentence-1' class='sentence'>A namespace member can also be referred to after the <span class='texttt'>&#x200b;::&#x200b;</span> scope
resolution operator (<a href='expr.prim.id.qual'>[expr.prim.id.qual]</a>) applied to the name of its
namespace or the name of a namespace which nominates the member's
namespace in a <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i>; see <a href='#namespace.qual'>[namespace.qual]</a><a class='hidden_link' href='#scope.namespace-2.sentence-1'>.</a></div></div><div class='para' id='scope.namespace-3'><div class='marginalizedparent'><a class='marginalized' href='#scope.namespace-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L959'>#</a></div><div id='scope.namespace-3.sentence-1' class='sentence'>The outermost declarative region of a translation unit is also a
namespace, called the <span class='indexparent'><a class='index' id=':namespace,global'></a></span><span class='textit'>global namespace</span><a class='hidden_link' href='#scope.namespace-3.sentence-1'>.</a></div> <div id='scope.namespace-3.sentence-2' class='sentence'>A name declared in
the global namespace has <span class='indexparent'><a class='index' id=':namespace_scope,global'></a></span><span class='textit'>global namespace scope</span> (also called
<span class='indexparent'><a class='index' id=':scope,global'></a></span><span class='textit'>global scope</span>)<a class='hidden_link' href='#scope.namespace-3.sentence-2'>.</a></div> <div id='scope.namespace-3.sentence-3' class='sentence'>The potential scope of such a name begins at
its <a href='#scope.pdecl'>point of declaration</a> and ends at the end
of the translation unit that is its declarative region<a class='hidden_link' href='#scope.namespace-3.sentence-3'>.</a></div> <div id='scope.namespace-3.sentence-4' class='sentence'>A name with global namespace scope is said to be a
<span class='indexparent'><a class='index' id=':name,global'></a></span><span class='textit'>global name</span><a class='hidden_link' href='#scope.namespace-3.sentence-4'>.</a></div></div></div><div id='scope.class' class='section'><h3 ><a class='secnum' href='#scope.class' style='min-width:103pt'>6.3.7</a> Class scope <a class='abbr_ref' href='basic.scope.class'>[basic.scope.class]</a></h3><span class='indexparent'><a class='index' id=':scope,class'></a></span><div class='para' id='scope.class-1'><div class='marginalizedparent'><a class='marginalized' href='#scope.class-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L972'>#</a></div><div id='scope.class-1.sentence-1' class='sentence'>The potential scope of a name declared in a class consists not
only of the declarative region following the name's point of
declaration, but also of all complete-class contexts (<a href='class.mem'>[class.mem]</a>)
of that class<a class='hidden_link' href='#scope.class-1.sentence-1'>.</a></div></div><div class='para' id='scope.class-2'><div class='marginalizedparent'><a class='marginalized' href='#scope.class-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L978'>#</a></div><div id='scope.class-2.sentence-1' class='sentence'>A name <span class='texttt'>N</span> used in a class <span class='texttt'>S</span> shall refer to the same
declaration in its context and when re-evaluated in the completed scope
of <span class='texttt'>S</span><a class='hidden_link' href='#scope.class-2.sentence-1'>.</a></div> <div id='scope.class-2.sentence-2' class='sentence'>No diagnostic is required for a violation of this rule<a class='hidden_link' href='#scope.class-2.sentence-2'>.</a></div></div><div class='para' id='scope.class-3'><div class='marginalizedparent'><a class='marginalized' href='#scope.class-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L983'>#</a></div><div id='scope.class-3.sentence-1' class='sentence'>A name declared within a member function hides a declaration of
the same name whose scope extends to or past the end of the member
function's class<a class='hidden_link' href='#scope.class-3.sentence-1'>.</a></div></div><div class='para' id='scope.class-4'><div class='marginalizedparent'><a class='marginalized' href='#scope.class-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L988'>#</a></div><div id='scope.class-4.sentence-1' class='sentence'>The potential scope of a declaration that extends to or past the
end of a class definition also extends to the regions defined by its
member definitions, even if the members are defined lexically outside
the class (this includes static data member definitions, nested class
definitions, and member function definitions, including the member function
body and any portion of the
declarator part of such definitions which follows the <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>,
including a <i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> and any <a href='dcl.fct.default'>default
arguments</a>)<a class='hidden_link' href='#scope.class-4.sentence-1'>.</a></div></div><div class='para' id='scope.class-5'><div class='marginalizedparent'><a class='marginalized' href='#scope.class-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L999'>#</a></div><div id='scope.class-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#scope.class-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
typedef int  c;
enum { i = 1 };

class X {
  char  v[i];                       <span class='comment'>// error: <span class='tcode_in_codeblock'>i</span> refers to <span class='tcode_in_codeblock'>&#x200b;::&#x200b;i</span> but when reevaluated is <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;i</span>
</span>  int  f() { return sizeof(c); }    <span class='comment'>// OK: <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;c</span>
</span>  char  c;
  enum { i = 2 };
};

typedef char*  T;
struct Y {
  T  a;                             <span class='comment'>// error: <span class='tcode_in_codeblock'>T</span> refers to <span class='tcode_in_codeblock'>&#x200b;::&#x200b;T</span> but when reevaluated is <span class='tcode_in_codeblock'>Y&#x200b;::&#x200b;T</span>
</span>  typedef long  T;
  T  b;
};

typedef int I;
class D {
  typedef I I;                      <span class='comment'>// error, even though no reordering involved
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='scope.class-6'><div class='marginalizedparent'><a class='marginalized' href='#scope.class-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1026'>#</a></div><div id='scope.class-6.sentence-1' class='sentence'>The name of a class member shall only be used as follows:
<ul class='itemize'><li id='scope.class-6.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#scope.class-6.1'>(6.1)</a></div><div id='scope.class-6.1.sentence-1' class='sentence'>in the scope of its class (as described above) or a class
<a href='class.derived'>derived</a> from its class,</div></li><li id='scope.class-6.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#scope.class-6.2'>(6.2)</a></div><div id='scope.class-6.2.sentence-1' class='sentence'>after the <span class='texttt'>.</span> operator applied to an expression of the type
of its class (<a href='expr.ref'>[expr.ref]</a>) or a class derived from its class,</div></li><li id='scope.class-6.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#scope.class-6.3'>(6.3)</a></div><div id='scope.class-6.3.sentence-1' class='sentence'>after the <span class='texttt'>-&gt;</span> operator applied to a pointer to an object of
its class (<a href='expr.ref'>[expr.ref]</a>) or a class derived from its class,</div></li><li id='scope.class-6.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#scope.class-6.4'>(6.4)</a></div><div id='scope.class-6.4.sentence-1' class='sentence'>after the <span class='texttt'>&#x200b;::&#x200b;</span> scope resolution operator (<a href='expr.prim.id.qual'>[expr.prim.id.qual]</a>)
applied to the name of its class or a class derived from its class<a class='hidden_link' href='#scope.class-6.4.sentence-1'>.</a></div></li></ul></div></div></div><div id='scope.enum' class='section'><h3 ><a class='secnum' href='#scope.enum' style='min-width:103pt'>6.3.8</a> Enumeration scope <a class='abbr_ref' href='basic.scope.enum'>[basic.scope.enum]</a></h3><span class='indexparent'><a class='index' id=':enumeration_scope'></a></span><span class='indexparent'><a class='index' id=':scope,enumeration'></a></span><div class='para' id='scope.enum-1'><div class='marginalizedparent'><a class='marginalized' href='#scope.enum-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1043'>#</a></div><div id='scope.enum-1.sentence-1' class='sentence'>The name of a <a href='dcl.enum#def:scoped_enumerators'>scoped enumerator</a> has
<a class='hidden_link' href='#def:enumeration_scope_' id='def:enumeration_scope_'><i >enumeration scope</i></a><a class='hidden_link' href='#scope.enum-1.sentence-1'>.</a></div> <div id='scope.enum-1.sentence-2' class='sentence'>Its potential scope begins at
its point of declaration and terminates at the end of the
<i ><a href='dcl.enum#nt:enum-specifier'>enum-specifier</a></i><a class='hidden_link' href='#scope.enum-1.sentence-2'>.</a></div></div></div><div id='scope.temp' class='section'><h3 ><a class='secnum' href='#scope.temp' style='min-width:103pt'>6.3.9</a> Template parameter scope <a class='abbr_ref' href='basic.scope.temp'>[basic.scope.temp]</a></h3><span class='indexparent'><a class='index' id=':template_parameter_scope'></a></span><span class='indexparent'><a class='index' id=':scope,template_parameter'></a></span><div class='para' id='scope.temp-1'><div class='marginalizedparent'><a class='marginalized' href='#scope.temp-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1053'>#</a></div><div id='scope.temp-1.sentence-1' class='sentence'>The declarative region of the name of a template parameter of a template
<i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i> is the smallest <i ><a href='temp#nt:template-parameter-list'>template-parameter-list</a></i>
in which the name was introduced<a class='hidden_link' href='#scope.temp-1.sentence-1'>.</a></div></div><div class='para' id='scope.temp-2'><div class='marginalizedparent'><a class='marginalized' href='#scope.temp-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1058'>#</a></div><div id='scope.temp-2.sentence-1' class='sentence'>The declarative region of the name of a template parameter of a template is the smallest
<i ><a href='temp#nt:template-declaration'>template-declaration</a></i> in which the name was introduced<a class='hidden_link' href='#scope.temp-2.sentence-1'>.</a></div> <div id='scope.temp-2.sentence-2' class='sentence'>Only template
parameter names belong to this declarative region; any other kind of name introduced by
the <i ><a href='dcl.dcl#nt:declaration'>declaration</a></i> of a <i ><a href='temp#nt:template-declaration'>template-declaration</a></i> is instead
introduced into the same declarative region where it would be introduced as a result of
a non-template declaration of the same name<a class='hidden_link' href='#scope.temp-2.sentence-2'>.</a></div> <div id='scope.temp-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#scope.temp-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace N {
  template&lt;class T&gt; struct A { };               <span class='comment'>// #1
</span>  template&lt;class U&gt; void f(U) { }               <span class='comment'>// #2
</span>  struct B {
    template&lt;class V&gt; friend int g(struct C*);  <span class='comment'>// #3
</span>  };
}</pre> <div id='scope.temp-2.sentence-3' class='sentence'>
The declarative regions of <span class='texttt'>T</span>, <span class='texttt'>U</span> and <span class='texttt'>V</span> are the
<i ><a href='temp#nt:template-declaration'>template-declaration</a></i><span class='textit'>s</span> on lines #1, #2, and #3,
respectively<a class='hidden_link' href='#scope.temp-2.sentence-3'>.</a></div> <div id='scope.temp-2.sentence-4' class='sentence'>But the names <span class='texttt'>A</span>, <span class='texttt'>f</span>, <span class='texttt'>g</span> and <span class='texttt'>C</span> all belong to
the same declarative region — namely, the <i ><a href='namespace.def#nt:namespace-body'>namespace-body</a></i> of <span class='texttt'>N</span><a class='hidden_link' href='#scope.temp-2.sentence-4'>.</a></div> <div id='scope.temp-2.sentence-5' class='sentence'>(<span class='texttt'>g</span> is still considered to belong to this declarative region in spite of its
being hidden during qualified and unqualified name lookup<a class='hidden_link' href='#scope.temp-2.sentence-5'>.</a>)</div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='scope.temp-3'><div class='marginalizedparent'><a class='marginalized' href='#scope.temp-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1082'>#</a></div><div id='scope.temp-3.sentence-1' class='sentence'>The potential scope of a template parameter name begins at its <a href='#def:point_of_declaration'>point of
declaration</a> and ends at the end of its declarative region<a class='hidden_link' href='#scope.temp-3.sentence-1'>.</a></div> <div id='scope.temp-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#scope.temp-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='scope.temp-3.sentence-2' class='sentence'>This implies that a <i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i> can be used in the
declaration of subsequent <i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i><span class='textit'>s</span> and their default
arguments but cannot be used in preceding <i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i><span class='textit'>s</span> or their
default arguments<a class='hidden_link' href='#scope.temp-3.sentence-2'>.</a></div> <div id='scope.temp-3.sentence-3' class='sentence'>For example,
<pre class='codeblock'>
template&lt;class T, T* p, class U = T&gt; class X { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> };
template&lt;class T&gt; void f(T* p = new T);</pre>
This also implies that a <i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i> can be used in the
specification of base classes<a class='hidden_link' href='#scope.temp-3.sentence-3'>.</a></div> <div id='scope.temp-3.sentence-4' class='sentence'>For example,
<pre class='codeblock'>
template&lt;class T&gt; class X : public Array&lt;T&gt; { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> };
template&lt;class T&gt; class Y : public T { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> };</pre>
The use of a template parameter as a base class implies that a class used as a template
argument must be defined and not just declared when the class template is instantiated<a class='hidden_link' href='#scope.temp-3.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='scope.temp-4'><div class='marginalizedparent'><a class='marginalized' href='#scope.temp-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1103'>#</a></div><div id='scope.temp-4.sentence-1' class='sentence'>The declarative region of the name of a template parameter is nested within the
immediately-enclosing declarative region<a class='hidden_link' href='#scope.temp-4.sentence-1'>.</a></div> <div id='scope.temp-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#scope.temp-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='scope.temp-4.sentence-2' class='sentence'>As a result, a
<i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i> <a href='#scope.hiding'>hides</a> any entity with the same name in an enclosing
scope<a class='hidden_link' href='#scope.temp-4.sentence-2'>.</a></div> <div id='scope.temp-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#scope.temp-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
typedef int N;
template&lt;N X, typename N, template&lt;N Y&gt; class T&gt; struct A;</pre> <div id='scope.temp-4.sentence-3' class='sentence'>
Here, <span class='texttt'>X</span> is a non-type template parameter of type <span class='texttt'>int</span> and <span class='texttt'>Y</span> is a
non-type template parameter of the same type as the second template parameter of
<span class='texttt'>A</span><a class='hidden_link' href='#scope.temp-4.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='scope.temp-5'><div class='marginalizedparent'><a class='marginalized' href='#scope.temp-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1116'>#</a></div><div id='scope.temp-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#scope.temp-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='scope.temp-5.sentence-1' class='sentence'>Because the name of a template parameter cannot be redeclared within its
potential scope (<a href='temp.local'>[temp.local]</a>), a template parameter's scope is often its potential
scope<a class='hidden_link' href='#scope.temp-5.sentence-1'>.</a></div> <div id='scope.temp-5.sentence-2' class='sentence'>However, it is still possible for a template parameter name to be hidden;
see <a href='temp.local'>[temp.local]</a><a class='hidden_link' href='#scope.temp-5.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='scope.hiding' class='section'><h3 ><a class='secnum' href='#scope.hiding' style='min-width:103pt'>6.3.10</a> Name hiding <a class='abbr_ref' href='basic.scope.hiding'>[basic.scope.hiding]</a></h3><div class='para' id='scope.hiding-1'><div class='marginalizedparent'><a class='marginalized' href='#scope.hiding-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1124'>#</a></div><div id='scope.hiding-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':scope_name_hiding_and'></a></span><span class='indexparent'><a class='index' id=':name_hiding_'></a></span>A declaration of a name in a nested declarative region
hides a declaration of the same name in an enclosing declarative region;
see <a href='#scope.declarative'>[basic.scope.declarative]</a> and <a href='#lookup.unqual'>[basic.lookup.unqual]</a><a class='hidden_link' href='#scope.hiding-1.sentence-1'>.</a></div></div><div class='para' id='scope.hiding-2'><div class='marginalizedparent'><a class='marginalized' href='#scope.hiding-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1132'>#</a></div><div id='scope.hiding-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':name_hiding__'></a></span>If a class name (<a href='class.name'>[class.name]</a>) or enumeration name (<a href='dcl.enum'>[dcl.enum]</a>) and
a variable, data member, function, or enumerator
are declared in the same declarative region (in any order) with the
same name (excluding declarations made visible
via <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i><span class='textit'>s</span> (<a href='#lookup.unqual'>[basic.lookup.unqual]</a>)),
the class or enumeration name is hidden wherever the variable, data member,
function, or enumerator name is visible<a class='hidden_link' href='#scope.hiding-2.sentence-1'>.</a></div></div><div class='para' id='scope.hiding-3'><div class='marginalizedparent'><a class='marginalized' href='#scope.hiding-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1142'>#</a></div><div id='scope.hiding-3.sentence-1' class='sentence'>In a member function definition, the declaration of a name
at block scope
hides
the declaration of a member of the class with the same name;
see <a href='#scope.class'>[basic.scope.class]</a><a class='hidden_link' href='#scope.hiding-3.sentence-1'>.</a></div> <div id='scope.hiding-3.sentence-2' class='sentence'>The declaration of a member in a <a href='class.derived'>derived
class</a> hides the declaration of a member of
a base class of the same name; see <a href='class.member.lookup'>[class.member.lookup]</a><a class='hidden_link' href='#scope.hiding-3.sentence-2'>.</a></div></div><div class='para' id='scope.hiding-4'><div class='marginalizedparent'><a class='marginalized' href='#scope.hiding-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1151'>#</a></div><div id='scope.hiding-4.sentence-1' class='sentence'>During the lookup of a name qualified by a namespace name, declarations
that would otherwise be made visible by a <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> can
be hidden by declarations with the same name in the namespace containing
the <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i>; see <a href='#namespace.qual'>[namespace.qual]</a><a class='hidden_link' href='#scope.hiding-4.sentence-1'>.</a></div></div><div class='para' id='scope.hiding-5'><div class='marginalizedparent'><a class='marginalized' href='#scope.hiding-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1157'>#</a></div><div id='scope.hiding-5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':visibility'></a></span>If a name is in scope and is not hidden it is said to be <a class='hidden_link' href='#def:visible' id='def:visible'><i >visible</i></a><a class='hidden_link' href='#scope.hiding-5.sentence-1'>.</a></div> </div></div></div><div id='lookup' class='section'><h2 ><a class='secnum' href='#lookup' style='min-width:88pt'>6.4</a> Name lookup <a class='abbr_ref' href='basic.lookup'>[basic.lookup]</a></h2><span class='indexparent'><a class='index' id=':scope,name_lookup_and'></a></span><span class='indexparent'><a class='index' id=':lookup,name_'></a></span><div class='para' id='lookup-1'><div class='marginalizedparent'><a class='marginalized' href='#lookup-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1166'>#</a></div><div id='lookup-1.sentence-1' class='sentence'>The name lookup rules apply uniformly to all names (including
<i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i><span class='textit'>s</span>,
<i ><a href='namespace.def#nt:namespace-name'>namespace-name</a></i><span class='textit'>s</span> (<a href='basic.namespace'>[basic.namespace]</a>), and
<i ><a href='class#nt:class-name'>class-name</a></i><span class='textit'>s</span> (<a href='class.name'>[class.name]</a>)) wherever the grammar allows
such names in the context discussed by a particular rule<a class='hidden_link' href='#lookup-1.sentence-1'>.</a></div> <div id='lookup-1.sentence-2' class='sentence'>Name lookup
associates the use of a name with a set of declarations (<a href='#def'>[basic.def]</a>) of
that name<a class='hidden_link' href='#lookup-1.sentence-2'>.</a></div> <div id='lookup-1.sentence-3' class='sentence'>The declarations found by name lookup shall either all denote the same entity or
shall all denote functions or function templates;
in the latter case,
the declarations are said to form a set of overloaded
functions (<a href='over.load'>[over.load]</a>)<a class='hidden_link' href='#lookup-1.sentence-3'>.</a></div> <div id='lookup-1.sentence-4' class='sentence'><a href='over.match'>Overload resolution</a>
takes place after name lookup has succeeded<a class='hidden_link' href='#lookup-1.sentence-4'>.</a></div> <div id='lookup-1.sentence-5' class='sentence'>The
<a href='class.access'>access rules</a> are considered only once name lookup and
function overload resolution (if applicable) have succeeded<a class='hidden_link' href='#lookup-1.sentence-5'>.</a></div> <div id='lookup-1.sentence-6' class='sentence'>Only after
name lookup, function overload resolution (if applicable) and access
checking have succeeded are the attributes introduced by the name's
declaration used further in expression processing (<a href='expr'>[expr]</a>)<a class='hidden_link' href='#lookup-1.sentence-6'>.</a></div></div><div class='para' id='lookup-2'><div class='marginalizedparent'><a class='marginalized' href='#lookup-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1186'>#</a></div><div id='lookup-2.sentence-1' class='sentence'>A name “looked up in the context of an expression” is looked up as an
unqualified name in the scope where the expression is found<a class='hidden_link' href='#lookup-2.sentence-1'>.</a></div></div><div class='para' id='lookup-3'><div class='marginalizedparent'><a class='marginalized' href='#lookup-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1190'>#</a></div><div id='lookup-3.sentence-1' class='sentence'>The <a href='class#def:injected-class-name'>injected-class-name</a> of a class is also
considered to be a member of that class for the purposes of name hiding
and lookup<a class='hidden_link' href='#lookup-3.sentence-1'>.</a></div></div><div class='para' id='lookup-4'><div class='marginalizedparent'><a class='marginalized' href='#lookup-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1195'>#</a></div><div id='lookup-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#lookup-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='lookup-4.sentence-1' class='sentence'><a href='#link'>[basic.link]</a> discusses linkage issues<a class='hidden_link' href='#lookup-4.sentence-1'>.</a></div> <div id='lookup-4.sentence-2' class='sentence'>The notions of
scope, point of declaration and name hiding are discussed
in <a href='#scope'>[basic.scope]</a><a class='hidden_link' href='#lookup-4.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div id='lookup.unqual' class='section'><h3 ><a class='secnum' href='#lookup.unqual' style='min-width:103pt'>6.4.1</a> Unqualified name lookup <a class='abbr_ref' href='basic.lookup.unqual'>[basic.lookup.unqual]</a></h3><div class='para' id='lookup.unqual-1'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1202'>#</a></div><div id='lookup.unqual-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':lookup,unqualified_name'></a></span><span class='indexparent'><a class='index' id=':name,unqualified'></a></span>In all the cases listed in <a href='#lookup.unqual'>[basic.lookup.unqual]</a>, the scopes are
searched for a declaration in the order listed in each of the respective
categories; name lookup ends as soon as a declaration is found for the
name<a class='hidden_link' href='#lookup.unqual-1.sentence-1'>.</a></div> <div id='lookup.unqual-1.sentence-2' class='sentence'>If no declaration is found, the program is ill-formed<a class='hidden_link' href='#lookup.unqual-1.sentence-2'>.</a></div></div><div class='para' id='lookup.unqual-2'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1210'>#</a></div><div id='lookup.unqual-2.sentence-1' class='sentence'>The declarations from the namespace nominated by a
<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> become visible in a namespace enclosing the
<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i>; see <a href='namespace.udir'>[namespace.udir]</a><a class='hidden_link' href='#lookup.unqual-2.sentence-1'>.</a></div> <div id='lookup.unqual-2.sentence-2' class='sentence'>For the purpose of
the unqualified name lookup rules described
in <a href='#lookup.unqual'>[basic.lookup.unqual]</a>, the declarations from the namespace
nominated by the <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> are considered members of
that enclosing namespace<a class='hidden_link' href='#lookup.unqual-2.sentence-2'>.</a></div></div><div class='para' id='lookup.unqual-3'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1219'>#</a></div><div id='lookup.unqual-3.sentence-1' class='sentence'>The lookup for an unqualified name used as the
<i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> of a function call is described
in <a href='#lookup.argdep'>[basic.lookup.argdep]</a><a class='hidden_link' href='#lookup.unqual-3.sentence-1'>.</a></div> <div id='lookup.unqual-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#lookup.unqual-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='lookup.unqual-3.sentence-2' class='sentence'>For purposes of determining
(during parsing) whether an expression is a
<i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> for a function call, the usual name lookup
rules apply<a class='hidden_link' href='#lookup.unqual-3.sentence-2'>.</a></div> <div id='lookup.unqual-3.sentence-3' class='sentence'>In some cases
a name followed by <span class='texttt'>&lt;</span> is treated as a <i ><a href='temp.names#nt:template-name'>template-name</a></i>
even though name lookup did not find a <i ><a href='temp.names#nt:template-name'>template-name</a></i>
(see <a href='temp.names'>[temp.names]</a>)<a class='hidden_link' href='#lookup.unqual-3.sentence-3'>.</a></div> <div id='lookup.unqual-3.sentence-4' class='sentence'>For example,
<pre class='codeblock'>
int h;
void g();
namespace N {
  struct A {};
  template &lt;class T&gt; int f(T);
  template &lt;class T&gt; int g(T);
  template &lt;class T&gt; int h(T);
}

int x = f&lt;N::A&gt;(N::A());        <span class='comment'>// OK: lookup of <span class='tcode_in_codeblock'>f</span> finds nothing, <span class='tcode_in_codeblock'>f</span> treated as template name
</span>int y = g&lt;N::A&gt;(N::A());        <span class='comment'>// OK: lookup of <span class='tcode_in_codeblock'>g</span> finds a function, <span class='tcode_in_codeblock'>g</span> treated as template name
</span>int z = h&lt;N::A&gt;(N::A());        <span class='comment'>// error: <span class='tcode_in_codeblock'>h&lt;</span> does not begin a <span class='grammarterm'>template-id</span>
</span></pre></div><div id='lookup.unqual-3.sentence-5' class='sentence'>The rules in <a href='#lookup.argdep'>[basic.lookup.argdep]</a> have no effect on
the syntactic interpretation of an expression<a class='hidden_link' href='#lookup.unqual-3.sentence-5'>.</a></div> <div id='lookup.unqual-3.sentence-6' class='sentence'>For example,
<pre class='codeblock'>
typedef int f;
namespace N {
  struct A {
    friend void f(A &amp;);
    operator int();
    void g(A a) {
      int i = f(a);             <span class='comment'>// <span class='tcode_in_codeblock'>f</span> is the typedef, not the friend function: equivalent to <span class='tcode_in_codeblock'>int(a)</span>
</span>    }
  };
}</pre>
Because the expression is not a function call, the <a href='#lookup.argdep'>argument-dependent
name lookup</a> does not apply and the friend
function <span class='texttt'>f</span> is not found<a class='hidden_link' href='#lookup.unqual-3.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='lookup.unqual-4'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1264'>#</a></div><div id='lookup.unqual-4.sentence-1' class='sentence'>A name used in global scope, outside of any function, class or
user-declared namespace, shall be declared before its use in global
scope<a class='hidden_link' href='#lookup.unqual-4.sentence-1'>.</a></div></div><div class='para' id='lookup.unqual-5'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1269'>#</a></div><div id='lookup.unqual-5.sentence-1' class='sentence'>A name used in a user-declared namespace outside of the definition of
any function or class shall be declared before its use in that namespace
or before its use in a namespace enclosing its namespace<a class='hidden_link' href='#lookup.unqual-5.sentence-1'>.</a></div></div><div class='para' id='lookup.unqual-6'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1274'>#</a></div><div id='lookup.unqual-6.sentence-1' class='sentence'>In the definition of a function that is a member of namespace <span class='texttt'>N</span>,
a name used after the function's
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i><a class='footnotenum' href='#footnote-23'>23</a>
shall be
declared before its use in the block in which it is used or in one of
its enclosing blocks (<a href='stmt.block'>[stmt.block]</a>) or shall be declared before its
use in namespace <span class='texttt'>N</span> or, if <span class='texttt'>N</span> is a nested namespace, shall
be declared before its use in one of <span class='texttt'>N</span>'s enclosing namespaces<a class='hidden_link' href='#lookup.unqual-6.sentence-1'>.</a></div> <div id='lookup.unqual-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#lookup.unqual-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace A {
  namespace N {
    void f();
  }
}
void A::N::f() {
  i = 5;
  <span class='comment'>// The following scopes are searched for a declaration of <span class='tcode_in_codeblock'>i</span>:
</span>  <span class='comment'>// 1) outermost block scope of <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;N&#x200b;::&#x200b;f</span>, before the use of <span class='tcode_in_codeblock'>i</span>
</span>  <span class='comment'>// 2) scope of namespace <span class='tcode_in_codeblock'>N</span>
</span>  <span class='comment'>// 3) scope of namespace <span class='tcode_in_codeblock'>A</span>
</span>  <span class='comment'>// 4) global scope, before the definition of <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;N&#x200b;::&#x200b;f</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='lookup.unqual-7'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1304'>#</a></div><div id='lookup.unqual-7.sentence-1' class='sentence'>A name used in the definition of a class <span class='texttt'>X</span><a class='footnotenum' href='#footnote-24'>24</a>
outside of a complete-class context (<a href='class.mem'>[class.mem]</a>) of <span class='texttt'>X</span>
shall be declared in one of the following ways:
<ul class='itemize'><li id='lookup.unqual-7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.unqual-7.1'>(7.1)</a></div><div id='lookup.unqual-7.1.sentence-1' class='sentence'>before its use in class <span class='texttt'>X</span> or be a member of a base class
of <span class='texttt'>X</span> (<a href='class.member.lookup'>[class.member.lookup]</a>), or</div></li><li id='lookup.unqual-7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.unqual-7.2'>(7.2)</a></div><div id='lookup.unqual-7.2.sentence-1' class='sentence'>if <span class='texttt'>X</span> is a <a href='class.nest#def:nested_class'>nested class</a> of class
<span class='texttt'>Y</span>, before the definition of <span class='texttt'>X</span> in
<span class='texttt'>Y</span>, or shall be a member of a base class of <span class='texttt'>Y</span> (this
lookup applies in turn to <span class='texttt'>Y</span>'s enclosing classes, starting with
the innermost enclosing class),<a class='footnotenum' href='#footnote-25'>25</a>
or</div></li><li id='lookup.unqual-7.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.unqual-7.3'>(7.3)</a></div><div id='lookup.unqual-7.3.sentence-1' class='sentence'>if <span class='texttt'>X</span> is a <a href='class.local'>local class</a> or is a nested
class of a local class, before the definition of class <span class='texttt'>X</span> in a
block enclosing the definition of class <span class='texttt'>X</span>, or</div></li><li id='lookup.unqual-7.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.unqual-7.4'>(7.4)</a></div><div id='lookup.unqual-7.4.sentence-1' class='sentence'>if <span class='texttt'>X</span> is a member of namespace <span class='texttt'>N</span>, or is a nested
class of a class that is a member of <span class='texttt'>N</span>, or is a local class or a
nested class within a local class of a function that is a member of
<span class='texttt'>N</span>, before the definition of class <span class='texttt'>X</span> in namespace
<span class='texttt'>N</span> or in one of <span class='texttt'>N</span>'s enclosing namespaces<a class='hidden_link' href='#lookup.unqual-7.4.sentence-1'>.</a></div></li></ul></div> <div id='lookup.unqual-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#lookup.unqual-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace M {
  class B { };
}</pre> <pre class='codeblock'>
namespace N {
  class Y : public M::B {
    class X {
      int a[i];
    };
  };
}

<span class='comment'>// The following scopes are searched for a declaration of <span class='tcode_in_codeblock'>i</span>:
</span><span class='comment'>// 1) scope of class <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;Y&#x200b;::&#x200b;X</span>, before the use of <span class='tcode_in_codeblock'>i</span>
</span><span class='comment'>// 2) scope of class <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;Y</span>, before the definition of <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;Y&#x200b;::&#x200b;X</span>
</span><span class='comment'>// 3) scope of <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;Y</span>'s base class <span class='tcode_in_codeblock'>M&#x200b;::&#x200b;B</span>
</span><span class='comment'>// 4) scope of namespace <span class='tcode_in_codeblock'>N</span>, before the definition of <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;Y</span>
</span><span class='comment'>// 5) global scope, before the definition of <span class='tcode_in_codeblock'>N</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='lookup.unqual-7.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#lookup.unqual-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='lookup.unqual-7.sentence-2' class='sentence'>When looking for a prior declaration of a class
or function introduced by a friend declaration, scopes outside
of the innermost enclosing namespace scope are not considered;
see <a href='namespace.memdef'>[namespace.memdef]</a><a class='hidden_link' href='#lookup.unqual-7.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>   <div id='lookup.unqual-7.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#lookup.unqual-7.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='lookup.unqual-7.sentence-3' class='sentence'><a href='#scope.class'>[basic.scope.class]</a>
further describes the restrictions on the use of names in a class
definition<a class='hidden_link' href='#lookup.unqual-7.sentence-3'>.</a></div> <div id='lookup.unqual-7.sentence-4' class='sentence'><a href='class.nest'>[class.nest]</a> further describes the restrictions on the
use of names in nested class definitions<a class='hidden_link' href='#lookup.unqual-7.sentence-4'>.</a></div> <div id='lookup.unqual-7.sentence-5' class='sentence'><a href='class.local'>[class.local]</a> further
describes the restrictions on the use of names in local class
definitions<a class='hidden_link' href='#lookup.unqual-7.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='lookup.unqual-8'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1370'>#</a></div><div id='lookup.unqual-8.sentence-1' class='sentence'>For the members of a class <span class='texttt'>X</span>, a name used
in a complete-class context (<a href='class.mem'>[class.mem]</a>) of <span class='texttt'>X</span> or
in the definition of a class member outside of the definition of <span class='texttt'>X</span>,
following the member's
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i><a class='footnotenum' href='#footnote-26'>26</a>, shall be declared in one of the
following ways:
<ul class='itemize'><li id='lookup.unqual-8.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.unqual-8.1'>(8.1)</a></div><div id='lookup.unqual-8.1.sentence-1' class='sentence'>before its use in the block in which it is used or in an enclosing
block (<a href='stmt.block'>[stmt.block]</a>), or</div></li><li id='lookup.unqual-8.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.unqual-8.2'>(8.2)</a></div><div id='lookup.unqual-8.2.sentence-1' class='sentence'>shall be a member of class <span class='texttt'>X</span> or be a member of a base
class of <span class='texttt'>X</span> (<a href='class.member.lookup'>[class.member.lookup]</a>), or</div></li><li id='lookup.unqual-8.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.unqual-8.3'>(8.3)</a></div><div id='lookup.unqual-8.3.sentence-1' class='sentence'>if <span class='texttt'>X</span>
is a <a href='class.nest#def:nested_class'>nested class</a> of class <span class='texttt'>Y</span>, shall be a
member of <span class='texttt'>Y</span>, or shall be a member of a base class of <span class='texttt'>Y</span>
(this lookup applies in turn to <span class='texttt'>Y</span>'s enclosing classes, starting
with the innermost enclosing class),<a class='footnotenum' href='#footnote-27'>27</a>
or</div></li><li id='lookup.unqual-8.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.unqual-8.4'>(8.4)</a></div><div id='lookup.unqual-8.4.sentence-1' class='sentence'>if <span class='texttt'>X</span> is a <a href='class.local'>local class</a> or is a nested
class of a local class, before the definition of class <span class='texttt'>X</span> in a
block enclosing the definition of class <span class='texttt'>X</span>, or</div></li><li id='lookup.unqual-8.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.unqual-8.5'>(8.5)</a></div><div id='lookup.unqual-8.5.sentence-1' class='sentence'>if <span class='texttt'>X</span> is a member of namespace <span class='texttt'>N</span>, or is a nested
class of a class that is a member of <span class='texttt'>N</span>, or is a local class or a
nested class within a local class of a function that is a member of
<span class='texttt'>N</span>, before the use of the name, in namespace <span class='texttt'>N</span>
or in one of <span class='texttt'>N</span>'s enclosing namespaces<a class='hidden_link' href='#lookup.unqual-8.5.sentence-1'>.</a></div></li></ul></div> <div id='lookup.unqual-8.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#lookup.unqual-8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
class B { };
namespace M {
  namespace N {
    class X : public B {
      void f();
    };
  }
}
void M::N::X::f() {
  i = 16;
}

<span class='comment'>// The following scopes are searched for a declaration of <span class='tcode_in_codeblock'>i</span>:
</span><span class='comment'>// 1) outermost block scope of <span class='tcode_in_codeblock'>M&#x200b;::&#x200b;N&#x200b;::&#x200b;X&#x200b;::&#x200b;f</span>, before the use of <span class='tcode_in_codeblock'>i</span>
</span><span class='comment'>// 2) scope of class <span class='tcode_in_codeblock'>M&#x200b;::&#x200b;N&#x200b;::&#x200b;X</span>
</span><span class='comment'>// 3) scope of <span class='tcode_in_codeblock'>M&#x200b;::&#x200b;N&#x200b;::&#x200b;X</span>'s base class <span class='tcode_in_codeblock'>B</span>
</span><span class='comment'>// 4) scope of namespace <span class='tcode_in_codeblock'>M&#x200b;::&#x200b;N</span>
</span><span class='comment'>// 5) scope of namespace <span class='tcode_in_codeblock'>M</span>
</span><span class='comment'>// 6) global scope, before the definition of <span class='tcode_in_codeblock'>M&#x200b;::&#x200b;N&#x200b;::&#x200b;X&#x200b;::&#x200b;f</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>   <div id='lookup.unqual-8.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#lookup.unqual-8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='lookup.unqual-8.sentence-2' class='sentence'><a href='class.mfct'>[class.mfct]</a> and <a href='class.static'>[class.static]</a> further
describe the restrictions on the use of names in member function
definitions<a class='hidden_link' href='#lookup.unqual-8.sentence-2'>.</a></div> <div id='lookup.unqual-8.sentence-3' class='sentence'><a href='class.nest'>[class.nest]</a> further describes the restrictions on the
use of names in the scope of nested classes<a class='hidden_link' href='#lookup.unqual-8.sentence-3'>.</a></div> <div id='lookup.unqual-8.sentence-4' class='sentence'><a href='class.local'>[class.local]</a> further
describes the restrictions on the use of names in local class
definitions<a class='hidden_link' href='#lookup.unqual-8.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='lookup.unqual-9'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1437'>#</a></div><div id='lookup.unqual-9.sentence-1' class='sentence'>Name lookup for a name used in the definition of a <a href='class.friend'>friend
function</a> defined inline in the class granting
friendship shall proceed as described for lookup in member function
definitions<a class='hidden_link' href='#lookup.unqual-9.sentence-1'>.</a></div> <div id='lookup.unqual-9.sentence-2' class='sentence'>If the friend function is not defined in the class
granting friendship, name lookup in the friend function
definition shall proceed as described for lookup in namespace member
function definitions<a class='hidden_link' href='#lookup.unqual-9.sentence-2'>.</a></div></div><div class='para' id='lookup.unqual-10'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1446'>#</a></div><div id='lookup.unqual-10.sentence-1' class='sentence'>In a friend declaration naming a member function, a name used in
the function declarator and not part of a <i ><a href='temp.names#nt:template-argument'>template-argument</a></i>
in the <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> is first looked up in the scope of the
member function's class (<a href='class.member.lookup'>[class.member.lookup]</a>)<a class='hidden_link' href='#lookup.unqual-10.sentence-1'>.</a></div> <div id='lookup.unqual-10.sentence-2' class='sentence'>If it is not found,
or if the name is part of a
<i ><a href='temp.names#nt:template-argument'>template-argument</a></i> in
the <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>, the look up is
as described for unqualified names in the definition of the class
granting friendship<a class='hidden_link' href='#lookup.unqual-10.sentence-2'>.</a></div> <div id='lookup.unqual-10.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#lookup.unqual-10.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A {
  typedef int AT;
  void f1(AT);
  void f2(float);
  template &lt;class T&gt; void f3();
};
struct B {
  typedef char AT;
  typedef float BT;
  friend void A::f1(AT);      <span class='comment'>// parameter type is <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;AT</span>
</span>  friend void A::f2(BT);      <span class='comment'>// parameter type is <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;BT</span>
</span>  friend void A::f3&lt;AT&gt;();    <span class='comment'>// template argument is <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;AT</span>
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='lookup.unqual-11'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1474'>#</a></div><div id='lookup.unqual-11.sentence-1' class='sentence'>During the lookup for a name used as a <a href='dcl.fct.default'>default
argument</a> in a function
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> or used in the
<i ><a href='expr.comma#nt:expression'>expression</a></i> of a <i ><a href='class.base.init#nt:mem-initializer'>mem-initializer</a></i> for a
constructor (<a href='class.base.init'>[class.base.init]</a>), the function parameter names are
visible and hide the names of entities declared in the block, class or
namespace scopes containing the function declaration<a class='hidden_link' href='#lookup.unqual-11.sentence-1'>.</a></div> <div id='lookup.unqual-11.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#lookup.unqual-11.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='lookup.unqual-11.sentence-2' class='sentence'><a href='dcl.fct.default'>[dcl.fct.default]</a> further describes the restrictions on the use of
names in default arguments<a class='hidden_link' href='#lookup.unqual-11.sentence-2'>.</a></div> <div id='lookup.unqual-11.sentence-3' class='sentence'><a href='class.base.init'>[class.base.init]</a> further describes the
restrictions on the use of names in a <i ><a href='class.base.init#nt:ctor-initializer'>ctor-initializer</a></i><a class='hidden_link' href='#lookup.unqual-11.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='lookup.unqual-12'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1487'>#</a></div><div id='lookup.unqual-12.sentence-1' class='sentence'>During the lookup of a name used in the
<i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i> of an <i ><a href='dcl.enum#nt:enumerator-definition'>enumerator-definition</a></i>,
previously declared <i ><a href='dcl.enum#nt:enumerator'>enumerator</a></i><span class='textit'>s</span> of the enumeration are visible
and hide the names of entities declared in the block, class, or namespace
scopes containing the <i ><a href='dcl.enum#nt:enum-specifier'>enum-specifier</a></i><a class='hidden_link' href='#lookup.unqual-12.sentence-1'>.</a></div></div><div class='para' id='lookup.unqual-13'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1494'>#</a></div><div id='lookup.unqual-13.sentence-1' class='sentence'>A name used in the definition of a <a href='class.static.data'><span class='texttt'>static</span> data member</a>
of class <span class='texttt'>X</span> (after the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i>
of the static member) is looked up as if the name was used in a member
function of <span class='texttt'>X</span><a class='hidden_link' href='#lookup.unqual-13.sentence-1'>.</a></div> <div id='lookup.unqual-13.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#lookup.unqual-13.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='lookup.unqual-13.sentence-2' class='sentence'><a href='class.static.data'>[class.static.data]</a> further
describes the restrictions on the use of names in the definition of a
<span class='texttt'>static</span> data member<a class='hidden_link' href='#lookup.unqual-13.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='lookup.unqual-14'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1502'>#</a></div><div id='lookup.unqual-14.sentence-1' class='sentence'>If a variable member of a namespace is defined outside of the scope of
its namespace then any name that appears in the definition of the
member (after the <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>) is looked up as if the
definition of the member occurred in its namespace<a class='hidden_link' href='#lookup.unqual-14.sentence-1'>.</a></div> <div id='lookup.unqual-14.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#lookup.unqual-14.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace N {
  int i = 4;
  extern int j;
}

int i = 2;

int N::j = i;       <span class='comment'>// <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;j == 4</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='lookup.unqual-15'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1521'>#</a></div><div id='lookup.unqual-15.sentence-1' class='sentence'>A name used in the handler for a <i ><a href='except#nt:function-try-block'>function-try-block</a></i>
is looked up as if the name was used in the
outermost block of the function definition<a class='hidden_link' href='#lookup.unqual-15.sentence-1'>.</a></div> <div id='lookup.unqual-15.sentence-2' class='sentence'>In particular, the function
parameter names shall not be redeclared in the
<i ><a href='except#nt:exception-declaration'>exception-declaration</a></i> nor in the outermost block of a handler
for the <i ><a href='except#nt:function-try-block'>function-try-block</a></i><a class='hidden_link' href='#lookup.unqual-15.sentence-2'>.</a></div> <div id='lookup.unqual-15.sentence-3' class='sentence'>Names declared in the outermost
block of the function definition are not found when looked up in the
scope of a handler for the <i ><a href='except#nt:function-try-block'>function-try-block</a></i><a class='hidden_link' href='#lookup.unqual-15.sentence-3'>.</a></div> <div id='lookup.unqual-15.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#lookup.unqual-15.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='lookup.unqual-15.sentence-4' class='sentence'>But
function parameter names are found<a class='hidden_link' href='#lookup.unqual-15.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='lookup.unqual-16'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1532'>#</a></div><div id='lookup.unqual-16.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#lookup.unqual-16.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='lookup.unqual-16.sentence-1' class='sentence'>The rules for name lookup in template definitions are
described in <a href='temp.res'>[temp.res]</a><a class='hidden_link' href='#lookup.unqual-16.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='footnote' id='footnote-23'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-23'>23)</a></div><div id='footnote-23.sentence-1' class='sentence'>This refers to unqualified names
that occur, for instance, in
a type or default argument in the
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> or used in the function body<a class='hidden_link' href='#footnote-23.sentence-1'>.</a></div></div><div class='footnote' id='footnote-24'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-24'>24)</a></div><div id='footnote-24.sentence-1' class='sentence'>This
refers to unqualified names following the class name;
such a name may be used in a <i ><a href='class.derived#nt:base-specifier'>base-specifier</a></i> or
in the <i ><a href='class.mem#nt:member-specification'>member-specification</a></i> of the class definition<a class='hidden_link' href='#footnote-24.sentence-1'>.</a></div></div><div class='footnote' id='footnote-25'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-25'>25)</a></div><div id='footnote-25.sentence-1' class='sentence'>This lookup applies whether the
definition of <span class='texttt'>X</span> is
nested within <span class='texttt'>Y</span>'s definition or whether <span class='texttt'>X</span>'s definition
appears in a namespace scope enclosing <span class='texttt'>Y</span>'s
definition (<a href='class.nest'>[class.nest]</a>)<a class='hidden_link' href='#footnote-25.sentence-1'>.</a></div></div><div class='footnote' id='footnote-26'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-26'>26)</a></div><div id='footnote-26.sentence-1' class='sentence'>That is, an unqualified name that occurs,
for instance, in a
type in the
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> or in the
<i ><a href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a></i><a class='hidden_link' href='#footnote-26.sentence-1'>.</a></div></div><div class='footnote' id='footnote-27'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-27'>27)</a></div><div id='footnote-27.sentence-1' class='sentence'>This lookup applies whether
the member function is defined
within the definition of class <span class='texttt'>X</span> or whether the member function
is defined in a namespace scope enclosing <span class='texttt'>X</span>'s definition<a class='hidden_link' href='#footnote-27.sentence-1'>.</a></div></div></div><div id='lookup.argdep' class='section'><h3 ><a class='secnum' href='#lookup.argdep' style='min-width:103pt'>6.4.2</a> Argument-dependent name lookup <a class='abbr_ref' href='basic.lookup.argdep'>[basic.lookup.argdep]</a></h3><span class='indexparent'><a class='index' id=':lookup,argument-dependent'></a></span><div class='para' id='lookup.argdep-1'><div class='marginalizedparent'><a class='marginalized' href='#lookup.argdep-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1539'>#</a></div><div id='lookup.argdep-1.sentence-1' class='sentence'>When the <i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> in
a <a href='expr.call'>function call</a> is an <i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i>, other namespaces not considered
during the usual <a href='#lookup.unqual'>unqualified lookup</a> may be
searched, and in those namespaces, namespace-scope friend function or
function template declarations (<a href='class.friend'>[class.friend]</a>) not otherwise
visible may be found<a class='hidden_link' href='#lookup.argdep-1.sentence-1'>.</a></div> <div id='lookup.argdep-1.sentence-2' class='sentence'>These modifications to the search depend on the types of the arguments
(and for template template arguments, the namespace of the template
argument)<a class='hidden_link' href='#lookup.argdep-1.sentence-2'>.</a></div> <div id='lookup.argdep-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#lookup.argdep-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace N {
  struct S { };
  void f(S);
}

void g() {
  N::S s;
  f(s);     <span class='comment'>// OK: calls <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;f</span>
</span>  (f)(s);   <span class='comment'>// error: <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;f</span> not considered; parentheses prevent argument-dependent lookup
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='lookup.argdep-2'><div class='marginalizedparent'><a class='marginalized' href='#lookup.argdep-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1564'>#</a></div><div id='lookup.argdep-2.sentence-1' class='sentence'>For each argument type <span class='texttt'>T</span> in the function call, there is a set of
zero or more <a class='hidden_link' href='#def:namespace,associated' id='def:namespace,associated'><i >associated namespaces</i></a>
and a set of zero or more <a class='hidden_link' href='#def:class,associated' id='def:class,associated'><i >associated classes</i></a>
to be considered<a class='hidden_link' href='#lookup.argdep-2.sentence-1'>.</a></div> <div id='lookup.argdep-2.sentence-2' class='sentence'>The sets of namespaces and classes are
determined entirely by the types of the function arguments (and the
namespace of any template template argument)<a class='hidden_link' href='#lookup.argdep-2.sentence-2'>.</a></div> <div id='lookup.argdep-2.sentence-3' class='sentence'>Typedef names and
<i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i><span class='textit'>s</span> used to specify the types do not
contribute to this set<a class='hidden_link' href='#lookup.argdep-2.sentence-3'>.</a></div> <div id='lookup.argdep-2.sentence-4' class='sentence'>The sets of namespaces and classes are
determined in the following way:
<ul class='itemize'><li id='lookup.argdep-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.argdep-2.1'>(2.1)</a></div><div id='lookup.argdep-2.1.sentence-1' class='sentence'>If <span class='texttt'>T</span> is a fundamental type, its associated sets of
namespaces and classes are both empty<a class='hidden_link' href='#lookup.argdep-2.1.sentence-1'>.</a></div></li><li id='lookup.argdep-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.argdep-2.2'>(2.2)</a></div><div id='lookup.argdep-2.2.sentence-1' class='sentence'>If <span class='texttt'>T</span> is a class type (including unions), its associated
classes are: the class itself; the class of which it is a member, if
any; and its direct and indirect base classes<a class='hidden_link' href='#lookup.argdep-2.2.sentence-1'>.</a></div> <div id='lookup.argdep-2.2.sentence-2' class='sentence'>Its associated namespaces
are the innermost enclosing namespaces of its associated classes<a class='hidden_link' href='#lookup.argdep-2.2.sentence-2'>.</a></div> <div id='lookup.argdep-2.2.sentence-3' class='sentence'>Furthermore, if <span class='texttt'>T</span> is a class template specialization, its
associated namespaces and classes also include: the namespaces and
classes associated with the types of the template arguments provided for
template type parameters (excluding template template parameters); the
namespaces of which any template template arguments are members; and the
classes of which any member templates used as template template
arguments are members<a class='hidden_link' href='#lookup.argdep-2.2.sentence-3'>.</a></div> <div id='lookup.argdep-2.2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#lookup.argdep-2.2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='lookup.argdep-2.2.sentence-4' class='sentence'>Non-type template arguments do not
contribute to the set of associated namespaces<a class='hidden_link' href='#lookup.argdep-2.2.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </li><li id='lookup.argdep-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.argdep-2.3'>(2.3)</a></div><div id='lookup.argdep-2.3.sentence-1' class='sentence'>If <span class='texttt'>T</span> is an enumeration type, its associated namespace is
the innermost enclosing namespace of its declaration<a class='hidden_link' href='#lookup.argdep-2.3.sentence-1'>.</a></div> <div id='lookup.argdep-2.3.sentence-2' class='sentence'>If it is a class member, its
associated class is the member's class; else it has no associated class<a class='hidden_link' href='#lookup.argdep-2.3.sentence-2'>.</a></div></li><li id='lookup.argdep-2.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.argdep-2.4'>(2.4)</a></div><div id='lookup.argdep-2.4.sentence-1' class='sentence'>If <span class='texttt'>T</span> is a pointer to <span class='texttt'>U</span> or an array of <span class='texttt'>U</span>,
its associated namespaces and classes are those associated with
<span class='texttt'>U</span><a class='hidden_link' href='#lookup.argdep-2.4.sentence-1'>.</a></div></li><li id='lookup.argdep-2.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.argdep-2.5'>(2.5)</a></div><div id='lookup.argdep-2.5.sentence-1' class='sentence'>If <span class='texttt'>T</span> is a function type, its associated namespaces and
classes are those associated with the function parameter types and those
associated with the return type<a class='hidden_link' href='#lookup.argdep-2.5.sentence-1'>.</a></div></li><li id='lookup.argdep-2.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.argdep-2.6'>(2.6)</a></div><div id='lookup.argdep-2.6.sentence-1' class='sentence'>If <span class='texttt'>T</span> is a pointer to a member function of a class
<span class='texttt'>X</span>, its associated namespaces and classes are those associated
with the function parameter types and return type, together with those
associated with <span class='texttt'>X</span><a class='hidden_link' href='#lookup.argdep-2.6.sentence-1'>.</a></div></li><li id='lookup.argdep-2.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.argdep-2.7'>(2.7)</a></div><div id='lookup.argdep-2.7.sentence-1' class='sentence'>If <span class='texttt'>T</span> is a pointer to a data member of class <span class='texttt'>X</span>, its
associated namespaces and classes are those associated with the member
type together with those associated with <span class='texttt'>X</span><a class='hidden_link' href='#lookup.argdep-2.7.sentence-1'>.</a></div></li></ul></div> <div id='lookup.argdep-2.sentence-5' class='sentence'>
If an associated namespace is an <a href='namespace.def#def:inline_namespace'>inline namespace</a>, its
enclosing namespace is also included in the set<a class='hidden_link' href='#lookup.argdep-2.sentence-5'>.</a></div> <div id='lookup.argdep-2.sentence-6' class='sentence'>If an associated namespace
directly contains inline namespaces, those inline namespaces are also included
in the set<a class='hidden_link' href='#lookup.argdep-2.sentence-6'>.</a></div> <div id='lookup.argdep-2.sentence-7' class='sentence'>In addition, if the argument is the name or address of a set of
overloaded functions and/or function templates, its associated classes
and namespaces are the union of those associated with each of the
members of the set, i.e., the classes and namespaces associated with its
parameter types and return type.
Additionally, if the aforementioned set of overloaded functions is named with
a <i ><a href='temp.names#nt:template-id'>template-id</a></i>, its associated classes and namespaces also include
those of its type <i ><a href='temp.names#nt:template-argument'>template-argument</a></i><span class='textit'>s</span> and its template
<i ><a href='temp.names#nt:template-argument'>template-argument</a></i><span class='textit'>s</span><a class='hidden_link' href='#lookup.argdep-2.sentence-7'>.</a></div></div><div class='para' id='lookup.argdep-3'><div class='marginalizedparent'><a class='marginalized' href='#lookup.argdep-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1626'>#</a></div><div id='lookup.argdep-3.sentence-1' class='sentence'>Let <span class='textit'>X</span> be the lookup set produced by <a href='#lookup.unqual'>unqualified
lookup</a> and let <span class='textit'>Y</span> be the lookup set produced
by argument dependent lookup (defined as follows)<a class='hidden_link' href='#lookup.argdep-3.sentence-1'>.</a></div> <div id='lookup.argdep-3.sentence-2' class='sentence'>If <span class='textit'>X</span> contains
<ul class='itemize'><li id='lookup.argdep-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.argdep-3.1'>(3.1)</a></div><div id='lookup.argdep-3.1.sentence-1' class='sentence'>a declaration of a class member, or</div></li><li id='lookup.argdep-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.argdep-3.2'>(3.2)</a></div><div id='lookup.argdep-3.2.sentence-1' class='sentence'>a block-scope function declaration that is not a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>, or</div></li><li id='lookup.argdep-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.argdep-3.3'>(3.3)</a></div><div id='lookup.argdep-3.3.sentence-1' class='sentence'>a declaration that is neither a function nor a function template</div></li></ul>
then <span class='textit'>Y</span> is empty<a class='hidden_link' href='#lookup.argdep-3.sentence-2'>.</a></div> <div id='lookup.argdep-3.sentence-3' class='sentence'>Otherwise <span class='textit'>Y</span> is the set of declarations
found in the namespaces associated with the argument types as described
below<a class='hidden_link' href='#lookup.argdep-3.sentence-3'>.</a></div> <div id='lookup.argdep-3.sentence-4' class='sentence'>The set of declarations found by the lookup of the name is the
union of <span class='textit'>X</span> and <span class='textit'>Y</span><a class='hidden_link' href='#lookup.argdep-3.sentence-4'>.</a></div> <div id='lookup.argdep-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#lookup.argdep-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='lookup.argdep-3.sentence-5' class='sentence'>The namespaces and classes
associated with the argument types can include namespaces and classes
already considered by the ordinary unqualified lookup<a class='hidden_link' href='#lookup.argdep-3.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='lookup.argdep-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#lookup.argdep-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace NS {
  class T { };
  void f(T);
  void g(T, int);
}
NS::T parm;
void g(NS::T, float);
int main() {
  f(parm);                      <span class='comment'>// OK: calls <span class='tcode_in_codeblock'>NS&#x200b;::&#x200b;f</span>
</span>  extern void g(NS::T, float);
  g(parm, 1);                   <span class='comment'>// OK: calls <span class='tcode_in_codeblock'>g(NS&#x200b;::&#x200b;T, float)</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='lookup.argdep-4'><div class='marginalizedparent'><a class='marginalized' href='#lookup.argdep-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1659'>#</a></div><div id='lookup.argdep-4.sentence-1' class='sentence'>When considering an associated namespace, the lookup is the same as the
lookup performed when the associated namespace is used as a
qualifier (<a href='#namespace.qual'>[namespace.qual]</a>) except that:
<ul class='itemize'><li id='lookup.argdep-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.argdep-4.1'>(4.1)</a></div><div id='lookup.argdep-4.1.sentence-1' class='sentence'>Any <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i><span class='textit'>s</span> in the associated namespace are
ignored<a class='hidden_link' href='#lookup.argdep-4.1.sentence-1'>.</a></div></li><li id='lookup.argdep-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.argdep-4.2'>(4.2)</a></div><div id='lookup.argdep-4.2.sentence-1' class='sentence'>Any namespace-scope friend functions or friend function templates (<a href='class.friend'>[class.friend]</a>)
declared in associated classes are visible within their respective
namespaces even if they are not visible during an ordinary
lookup (<a href='namespace.memdef'>[namespace.memdef]</a>)<a class='hidden_link' href='#lookup.argdep-4.2.sentence-1'>.</a></div></li><li id='lookup.argdep-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.argdep-4.3'>(4.3)</a></div><div id='lookup.argdep-4.3.sentence-1' class='sentence'>All names except those of (possibly overloaded) functions and
function templates are ignored<a class='hidden_link' href='#lookup.argdep-4.3.sentence-1'>.</a></div></li></ul></div></div></div><div id='lookup.qual' class='section'><h3 ><a class='secnum' href='#lookup.qual' style='min-width:103pt'>6.4.3</a> Qualified name lookup <a class='abbr_ref' href='basic.lookup.qual'>[basic.lookup.qual]</a></h3><div class='para' id='lookup.qual-1'><div class='marginalizedparent'><a class='marginalized' href='#lookup.qual-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1678'>#</a></div><div id='lookup.qual-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':lookup,qualified_name'></a></span><span class='indexparent'><a class='index' id=':name,qualified'></a></span><span class='indexparent'><a class='index' id=':qualification,explicit'></a></span>The name of a class or namespace member
or enumerator can be referred to after the
<span class='texttt'>&#x200b;::&#x200b;</span> scope resolution operator (<a href='expr.prim.id.qual'>[expr.prim.id.qual]</a>) applied to a
<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> that denotes its class,
namespace, or enumeration<a class='hidden_link' href='#lookup.qual-1.sentence-1'>.</a></div> <div id='lookup.qual-1.sentence-2' class='sentence'>If a
<span class='texttt'>&#x200b;::&#x200b;</span> scope resolution
operator
in a <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> is not preceded by a <i ><a href='dcl.type.simple#nt:decltype-specifier'>decltype-specifier</a></i>,
lookup of the name preceding that <span class='texttt'>&#x200b;::&#x200b;</span> considers only namespaces, types, and
templates whose specializations are types<a class='hidden_link' href='#lookup.qual-1.sentence-2'>.</a></div> <div id='lookup.qual-1.sentence-3' class='sentence'>If the
name found does not designate a namespace or a class, enumeration, or dependent type,
the program is ill-formed<a class='hidden_link' href='#lookup.qual-1.sentence-3'>.</a></div> <div id='lookup.qual-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#lookup.qual-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
class A {
public:
  static int n;
};
int main() {
  int A;
  A::n = 42;        <span class='comment'>// OK
</span>  A b;              <span class='comment'>// ill-formed: <span class='tcode_in_codeblock'>A</span> does not name a type
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='lookup.qual-2'><div class='marginalizedparent'><a class='marginalized' href='#lookup.qual-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1709'>#</a></div><div id='lookup.qual-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#lookup.qual-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='lookup.qual-2.sentence-1' class='sentence'>Multiply qualified names, such as <span class='texttt'>N1&#x200b;::&#x200b;N2&#x200b;::&#x200b;N3&#x200b;::&#x200b;n</span>, can
be used to refer to members of nested classes (<a href='class.nest'>[class.nest]</a>) or
members of nested namespaces<a class='hidden_link' href='#lookup.qual-2.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='lookup.qual-3'><div class='marginalizedparent'><a class='marginalized' href='#lookup.qual-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1714'>#</a></div><div id='lookup.qual-3.sentence-1' class='sentence'>In a declaration in which the <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> is a
<i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i>, names used before the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i>
being declared are looked up in the defining namespace scope; names
following the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> are looked up in the scope of the
member's class or namespace<a class='hidden_link' href='#lookup.qual-3.sentence-1'>.</a></div> <div id='lookup.qual-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#lookup.qual-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
class X { };
class C {
  class X { };
  static const int number = 50;
  static X arr[number];
};
X C::arr[number];   <span class='comment'>// ill-formed:
</span>                    <span class='comment'>// equivalent to <span class='tcode_in_codeblock'>&#x200b;::&#x200b;X</span> <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;arr[C&#x200b;::&#x200b;number];</span>
</span>                    <span class='comment'>// and not to <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;X</span> <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;arr[C&#x200b;::&#x200b;number];</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='lookup.qual-4'><div class='marginalizedparent'><a class='marginalized' href='#lookup.qual-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1734'>#</a></div><div id='lookup.qual-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':operator,scope_resolution'></a></span>A name prefixed by the unary scope operator <span class='texttt'>&#x200b;::&#x200b;</span> (<a href='expr.prim.id.qual'>[expr.prim.id.qual]</a>)
is looked up in global scope, in the translation unit where it is used<a class='hidden_link' href='#lookup.qual-4.sentence-1'>.</a></div> <div id='lookup.qual-4.sentence-2' class='sentence'>The name shall be declared in global namespace scope or shall be a name
whose declaration is visible in global scope because of a
<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> (<a href='#namespace.qual'>[namespace.qual]</a>)<a class='hidden_link' href='#lookup.qual-4.sentence-2'>.</a></div> <div id='lookup.qual-4.sentence-3' class='sentence'>The use of <span class='texttt'>&#x200b;::&#x200b;</span>
allows a global name to be referred to even if its identifier has been
<a href='#scope.hiding'>hidden</a><a class='hidden_link' href='#lookup.qual-4.sentence-3'>.</a></div></div><div class='para' id='lookup.qual-5'><div class='marginalizedparent'><a class='marginalized' href='#lookup.qual-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1745'>#</a></div><div id='lookup.qual-5.sentence-1' class='sentence'>A name prefixed by a <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> that
nominates an enumeration type shall represent an <i ><a href='dcl.enum#nt:enumerator'>enumerator</a></i>
of that enumeration<a class='hidden_link' href='#lookup.qual-5.sentence-1'>.</a></div></div><div class='para' id='lookup.qual-6'><div class='marginalizedparent'><a class='marginalized' href='#lookup.qual-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1750'>#</a></div><div id='lookup.qual-6.sentence-1' class='sentence'>If a <i ><a href='expr.post#nt:pseudo-destructor-name'>pseudo-destructor-name</a></i> (<a href='expr.pseudo'>[expr.pseudo]</a>) contains a
<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i>, the <i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i><span class='textit'>s</span> are looked
up as types in the scope designated by the
<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i><a class='hidden_link' href='#lookup.qual-6.sentence-1'>.</a></div> <div id='lookup.qual-6.sentence-2' class='sentence'>Similarly, in a
<i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> of the form:
<pre class='ncbnf'><i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="Subscript o p t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='class#nt:class-name'>class-name</a></i> <span class='terminal'>::</span> <span class='terminal'>~</span> <i ><a href='class#nt:class-name'>class-name</a></i>
</pre>
the second <i ><a href='class#nt:class-name'>class-name</a></i> is looked up in the same scope as the
first<a class='hidden_link' href='#lookup.qual-6.sentence-2'>.</a></div> <div id='lookup.qual-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#lookup.qual-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct C {
  typedef int I;
};
typedef int I1, I2;
extern int* p;
extern int* q;
p-&gt;C::I::~I();      <span class='comment'>// <span class='tcode_in_codeblock'>I</span> is looked up in the scope of <span class='tcode_in_codeblock'>C</span>
</span>q-&gt;I1::~I2();       <span class='comment'>// <span class='tcode_in_codeblock'>I2</span> is looked up in the scope of the postfix-expression
</span>
struct A {
  ~A();
};
typedef A AB;
int main() {
  AB* p;
  p-&gt;AB::~AB();     <span class='comment'>// explicitly calls the destructor for <span class='tcode_in_codeblock'>A</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>   <div id='lookup.qual-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#lookup.qual-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='lookup.qual-6.sentence-3' class='sentence'><a href='#lookup.classref'>[basic.lookup.classref]</a> describes how name
lookup proceeds after the <span class='texttt'>.</span> and <span class='texttt'>-&gt;</span> operators<a class='hidden_link' href='#lookup.qual-6.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div id='class.qual' class='section'><h4 ><a class='secnum' href='#class.qual' style='min-width:118pt'>6.4.3.1</a> Class members <a class='abbr_ref' href='class.qual'>[class.qual]</a></h4><div class='para' id='class.qual-1'><div class='marginalizedparent'><a class='marginalized' href='#class.qual-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1785'>#</a></div><div id='class.qual-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':lookup,class_member'></a></span>If the <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> of a <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i>
nominates a class, the name specified after the
<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> is looked up in the scope of the
class (<a href='class.member.lookup'>[class.member.lookup]</a>), except for the cases listed below<a class='hidden_link' href='#class.qual-1.sentence-1'>.</a></div> <div id='class.qual-1.sentence-2' class='sentence'>The name shall represent one or more members of that class or of one of
its base classes (<a href='class.derived'>[class.derived]</a>)<a class='hidden_link' href='#class.qual-1.sentence-2'>.</a></div> <div id='class.qual-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#class.qual-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.qual-1.sentence-3' class='sentence'>A class member
can be referred to using a <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> at any point in its
potential scope (<a href='#scope.class'>[basic.scope.class]</a>)<a class='hidden_link' href='#class.qual-1.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='class.qual-1.sentence-4' class='sentence'> The exceptions to
the name lookup rule above are the following:
<ul class='itemize'><li id='class.qual-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.qual-1.1'>(1.1)</a></div><div id='class.qual-1.1.sentence-1' class='sentence'>the lookup for a destructor is as specified
in <a href='#lookup.qual'>[basic.lookup.qual]</a>;</div></li><li id='class.qual-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.qual-1.2'>(1.2)</a></div><div id='class.qual-1.2.sentence-1' class='sentence'>a <i ><a href='class.conv.fct#nt:conversion-type-id'>conversion-type-id</a></i> of a
<i ><a href='class.conv.fct#nt:conversion-function-id'>conversion-function-id</a></i> is looked up
in the same manner as a <i ><a href='class.conv.fct#nt:conversion-type-id'>conversion-type-id</a></i> in a class member
access (see <a href='#lookup.classref'>[basic.lookup.classref]</a>);</div></li><li id='class.qual-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.qual-1.3'>(1.3)</a></div><div id='class.qual-1.3.sentence-1' class='sentence'>the names in a <i ><a href='temp.names#nt:template-argument'>template-argument</a></i> of a
<i ><a href='temp.names#nt:template-id'>template-id</a></i> are looked up in the context in which the entire
<i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> occurs<a class='hidden_link' href='#class.qual-1.3.sentence-1'>.</a></div></li><li id='class.qual-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.qual-1.4'>(1.4)</a></div><div id='class.qual-1.4.sentence-1' class='sentence'>the lookup for a name specified in a
<i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> also finds class or
enumeration names <a href='#scope.hiding'>hidden</a> within the same
scope<a class='hidden_link' href='#class.qual-1.4.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='class.qual-2'><div class='marginalizedparent'><a class='marginalized' href='#class.qual-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1815'>#</a></div><div id='class.qual-2.sentence-1' class='sentence'>In a lookup in which function names are not ignored<a class='footnotenum' href='#footnote-28'>28</a>
and the <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> nominates a class <span class='texttt'>C</span>:
<ul class='itemize'><li id='class.qual-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.qual-2.1'>(2.1)</a></div><div id='class.qual-2.1.sentence-1' class='sentence'>if the name specified after the <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i>,
when looked up in <span class='texttt'>C</span>, is the injected-class-name of <span class='texttt'>C</span> (<a href='class'>[class]</a>), or</div></li><li id='class.qual-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.qual-2.2'>(2.2)</a></div><div id='class.qual-2.2.sentence-1' class='sentence'>in a <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> of
a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> that is a <i ><a href='class.mem#nt:member-declaration'>member-declaration</a></i>,
if the name specified after the <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> is the same as the
<i ><a href='lex.name#nt:identifier'>identifier</a></i> or the <i ><a href='temp.names#nt:simple-template-id'>simple-template-id</a></i>'s
<i ><a href='temp.names#nt:template-name'>template-name</a></i> in the last component of the <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i>,</div></li></ul>
the name is instead considered to name the
constructor of class <span class='texttt'>C</span><a class='hidden_link' href='#class.qual-2.sentence-1'>.</a></div> <div id='class.qual-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#class.qual-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.qual-2.sentence-2' class='sentence'>For example, the constructor
is not an acceptable lookup result in an
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> so the constructor would not be
used in place of the injected-class-name<a class='hidden_link' href='#class.qual-2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='class.qual-2.sentence-3' class='sentence'> Such a constructor
name shall be used only in the <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> of a declaration
that names a constructor or in a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i><a class='hidden_link' href='#class.qual-2.sentence-3'>.</a></div> <div id='class.qual-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#class.qual-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A { A(); };
struct B: public A { B(); };

A::A() { }
B::B() { }

B::A ba;            <span class='comment'>// object of type <span class='tcode_in_codeblock'>A</span>
</span>A::A a;             <span class='comment'>// error, <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;A</span> is not a type name
</span>struct A::A a2;     <span class='comment'>// object of type <span class='tcode_in_codeblock'>A</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='class.qual-3'><div class='marginalizedparent'><a class='marginalized' href='#class.qual-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1852'>#</a></div><div id='class.qual-3.sentence-1' class='sentence'>A class member name hidden by a name in a nested declarative region or
by the name of a derived class member can still be found if qualified by
the name of its class followed by the <span class='texttt'>&#x200b;::&#x200b;</span> operator<a class='hidden_link' href='#class.qual-3.sentence-1'>.</a></div></div><div class='footnote' id='footnote-28'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-28'>28)</a></div><div id='footnote-28.sentence-1' class='sentence'>Lookups in which
function names are ignored include names appearing in a
<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i>, an
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i>, or a <i ><a href='class.derived#nt:base-specifier'>base-specifier</a></i><a class='hidden_link' href='#footnote-28.sentence-1'>.</a></div></div></div><div id='namespace.qual' class='section'><h4 ><a class='secnum' href='#namespace.qual' style='min-width:118pt'>6.4.3.2</a> Namespace members <a class='abbr_ref' href='namespace.qual'>[namespace.qual]</a></h4><div class='para' id='namespace.qual-1'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1859'>#</a></div><div id='namespace.qual-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':lookup,namespace_member'></a></span>If the <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> of a <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i>
nominates a namespace (including the case where the
<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> is <span class='texttt'>&#x200b;::&#x200b;</span>, i.e., nominating
the global namespace), the name specified after the
<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> is looked up in the scope of the
namespace<a class='hidden_link' href='#namespace.qual-1.sentence-1'>.</a></div> <div id='namespace.qual-1.sentence-2' class='sentence'>The names in a <i ><a href='temp.names#nt:template-argument'>template-argument</a></i> of a
<i ><a href='temp.names#nt:template-id'>template-id</a></i> are looked up in the context in which the
entire <i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> occurs<a class='hidden_link' href='#namespace.qual-1.sentence-2'>.</a></div></div><div class='para' id='namespace.qual-2'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1871'>#</a></div><div id='namespace.qual-2.sentence-1' class='sentence'>For a namespace <span class='texttt'>X</span> and name <span class='texttt'>m</span>, the namespace-qualified lookup set
<span class="mjx-chtml"><span class="mjx-math" aria-label="upper S left-parenthesis upper X comma m right-parenthesis"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.024em;">X</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> is defined as follows: Let <span class="mjx-chtml"><span class="mjx-math" aria-label="upper S prime left-parenthesis upper X comma m right-parenthesis"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0.13em; padding-right: 0.071em;"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.298em;">′</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.024em;">X</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> be the set of all
declarations of <span class='texttt'>m</span> in <span class='texttt'>X</span> and the <a href='namespace.def#def:inline_namespace_set'>inline namespace set</a> of
<span class='texttt'>X</span><a class='hidden_link' href='#namespace.qual-2.sentence-1'>.</a></div> <div id='namespace.qual-2.sentence-2' class='sentence'>If <span class="mjx-chtml"><span class="mjx-math" aria-label="upper S prime left-parenthesis upper X comma m right-parenthesis"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0.13em; padding-right: 0.071em;"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.298em;">′</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.024em;">X</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> is not empty, <span class="mjx-chtml"><span class="mjx-math" aria-label="upper S left-parenthesis upper X comma m right-parenthesis"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.024em;">X</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>
is <span class="mjx-chtml"><span class="mjx-math" aria-label="upper S prime left-parenthesis upper X comma m right-parenthesis"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msup"><span class="mjx-base" style="margin-right: -0.032em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0.13em; padding-right: 0.071em;"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.298em;">′</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.024em;">X</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>; otherwise, <span class="mjx-chtml"><span class="mjx-math" aria-label="upper S left-parenthesis upper X comma m right-parenthesis"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.024em;">X</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> is the union of <span class="mjx-chtml"><span class="mjx-math" aria-label="upper S left-parenthesis upper N Subscript i Baseline comma m right-parenthesis"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.085em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> for
all namespaces <span class="mjx-chtml"><span class="mjx-math" aria-label="upper N Subscript i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.085em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> nominated by <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i><span class='textit'>s</span> in
<span class='texttt'>X</span> and its inline namespace set<a class='hidden_link' href='#namespace.qual-2.sentence-2'>.</a></div></div><div class='para' id='namespace.qual-3'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1880'>#</a></div><div id='namespace.qual-3.sentence-1' class='sentence'>Given <span class='texttt'>X&#x200b;::&#x200b;m</span> (where <span class='texttt'>X</span> is a user-declared namespace), or
given <span class='texttt'>&#x200b;::&#x200b;m</span> (where X is the global namespace), if
<span class="mjx-chtml"><span class="mjx-math" aria-label="upper S left-parenthesis upper X comma m right-parenthesis"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.024em;">X</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> is the empty set, the program is ill-formed<a class='hidden_link' href='#namespace.qual-3.sentence-1'>.</a></div> <div id='namespace.qual-3.sentence-2' class='sentence'>Otherwise, if
<span class="mjx-chtml"><span class="mjx-math" aria-label="upper S left-parenthesis upper X comma m right-parenthesis"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.024em;">X</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> has exactly one member, or if the context of the reference is
a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>, <span class="mjx-chtml"><span class="mjx-math" aria-label="upper S left-parenthesis upper X comma m right-parenthesis"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.024em;">X</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>
is the
required set of declarations of <span class='texttt'>m</span><a class='hidden_link' href='#namespace.qual-3.sentence-2'>.</a></div> <div id='namespace.qual-3.sentence-3' class='sentence'>Otherwise if the use of
<span class='texttt'>m</span> is not one that allows a unique declaration to be chosen from
<span class="mjx-chtml"><span class="mjx-math" aria-label="upper S left-parenthesis upper X comma m right-parenthesis"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.024em;">X</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>, the program is ill-formed<a class='hidden_link' href='#namespace.qual-3.sentence-3'>.</a></div> <div id='namespace.qual-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.qual-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int x;
namespace Y {
  void f(float);
  void h(int);
}

namespace Z {
  void h(double);
}

namespace A {
  using namespace Y;
  void f(int);
  void g(int);
  int i;
}

namespace B {
  using namespace Z;
  void f(char);
  int i;
}

namespace AB {
  using namespace A;
  using namespace B;
  void g();
}

void h()
{
  AB::g();      <span class='comment'>// <span class='tcode_in_codeblock'>g</span> is declared directly in <span class='tcode_in_codeblock'>AB</span>, therefore <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>AB&#x200b;::&#x200b;g()</span> }</span> and <span class='tcode_in_codeblock'>AB&#x200b;::&#x200b;g()</span> is chosen
</span>
  AB::f(1);     <span class='comment'>// <span class='tcode_in_codeblock'>f</span> is not declared directly in <span class='tcode_in_codeblock'>AB</span> so the rules are applied recursively to <span class='tcode_in_codeblock'>A</span> and <span class='tcode_in_codeblock'>B</span>;
</span>                <span class='comment'>// namespace <span class='tcode_in_codeblock'>Y</span> is not searched and <span class='tcode_in_codeblock'>Y&#x200b;::&#x200b;f(float)</span> is not considered;
</span>                <span class='comment'>// <span class='tcode_in_codeblock'>S</span> is <span class="mjx-chtml"><span class="mjx-math" aria-label="StartSet monospace upper A colon colon f left-parenthesis int right-parenthesis comma monospace upper B colon colon f left-parenthesis char right-parenthesis EndSet"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">{</span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.519em; padding-bottom: 0.372em;">A::f(int)</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.519em; padding-bottom: 0.372em;">B::f(char)</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">}</span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span></span></span> and overload resolution chooses <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f(int)</span>
</span>
  AB::f('c');   <span class='comment'>// as above but resolution chooses <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(char)</span>
</span>
  AB::x++;      <span class='comment'>// <span class='tcode_in_codeblock'>x</span> is not declared directly in <span class='tcode_in_codeblock'>AB</span>, and is not declared in <span class='tcode_in_codeblock'>A</span> or <span class='tcode_in_codeblock'>B</span>, so the rules
</span>                <span class='comment'>// are applied recursively to <span class='tcode_in_codeblock'>Y</span> and <span class='tcode_in_codeblock'>Z</span>, <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ }</span> so the program is ill-formed
</span>
  AB::i++;      <span class='comment'>// <span class='tcode_in_codeblock'>i</span> is not declared directly in <span class='tcode_in_codeblock'>AB</span> so the rules are applied recursively to <span class='tcode_in_codeblock'>A</span> and <span class='tcode_in_codeblock'>B</span>,
</span>                <span class='comment'>// <span class='tcode_in_codeblock'>S</span> is <span class="mjx-chtml"><span class="mjx-math" aria-label="StartSet monospace upper A colon colon i comma monospace upper B colon colon i EndSet"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">{</span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.225em;">A::i</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">B::i</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">}</span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span></span></span> so the use is ambiguous and the program is ill-formed
</span>
  AB::h(16.8);  <span class='comment'>// <span class='tcode_in_codeblock'>h</span> is not declared directly in <span class='tcode_in_codeblock'>AB</span> and not declared directly in <span class='tcode_in_codeblock'>A</span> or <span class='tcode_in_codeblock'>B</span> so the rules
</span>                <span class='comment'>// are applied recursively to <span class='tcode_in_codeblock'>Y</span> and <span class='tcode_in_codeblock'>Z</span>, <span class='tcode_in_codeblock'>S</span> is <span class="mjx-chtml"><span class="mjx-math" aria-label="StartSet monospace upper Y colon colon h left-parenthesis int right-parenthesis comma monospace upper Z colon colon h left-parenthesis double right-parenthesis EndSet"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">{</span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.519em; padding-bottom: 0.372em;">Y::h(int)</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.519em; padding-bottom: 0.372em;">Z::h(double)</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">}</span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span></span></span> and
</span>                <span class='comment'>// overload resolution chooses <span class='tcode_in_codeblock'>Z&#x200b;::&#x200b;h(double)</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.qual-4'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1944'>#</a></div><div id='namespace.qual-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#namespace.qual-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='namespace.qual-4.sentence-1' class='sentence'>The same declaration found more than once is not an ambiguity (because
it is still a unique declaration)<a class='hidden_link' href='#namespace.qual-4.sentence-1'>.</a></div> <div id='namespace.qual-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.qual-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace A {
  int a;
}

namespace B {
  using namespace A;
}

namespace C {
  using namespace A;
}

namespace BC {
  using namespace B;
  using namespace C;
}

void f()
{
  BC::a++;          <span class='comment'>// OK: <span class='tcode_in_codeblock'>S</span> is <span class="mjx-chtml"><span class="mjx-math" aria-label="StartSet monospace upper A colon colon a comma monospace upper A colon colon a EndSet"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">{</span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.298em;">A::a</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.298em;">A::a</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">}</span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span></span></span>
</span>}

namespace D {
  using A::a;
}

namespace BD {
  using namespace B;
  using namespace D;
}

void g()
{
  BD::a++;          <span class='comment'>// OK: <span class='tcode_in_codeblock'>S</span> is <span class="mjx-chtml"><span class="mjx-math" aria-label="StartSet monospace upper A colon colon a comma monospace upper A colon colon a EndSet"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">{</span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.298em;">A::a</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.298em;">A::a</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">}</span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span></span></span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.qual-5'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L1989'>#</a></div><div id='namespace.qual-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.qual-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='namespace.qual-5.sentence-1' class='sentence'>Because each referenced namespace is searched at most once, the
following is well-defined:
<pre class='codeblock'>
namespace B {
  int b;
}

namespace A {
  using namespace B;
  int a;
}

namespace B {
  using namespace A;
}

void f()
{
  A::a++;           <span class='comment'>// OK: <span class='tcode_in_codeblock'>a</span> declared directly in <span class='tcode_in_codeblock'>A</span>, <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;a</span> }</span>
</span>  B::a++;           <span class='comment'>// OK: both <span class='tcode_in_codeblock'>A</span> and <span class='tcode_in_codeblock'>B</span> searched (once), <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;a</span> }</span>
</span>  A::b++;           <span class='comment'>// OK: both <span class='tcode_in_codeblock'>A</span> and <span class='tcode_in_codeblock'>B</span> searched (once), <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;b</span> }</span>
</span>  B::b++;           <span class='comment'>// OK: <span class='tcode_in_codeblock'>b</span> declared directly in <span class='tcode_in_codeblock'>B</span>, <span class='tcode_in_codeblock'>S</span> is <span class='math'>{ <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;b</span> }</span>
</span>}</pre></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.qual-6'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2017'>#</a></div><div id='namespace.qual-6.sentence-1' class='sentence'>During the lookup of a qualified namespace member name, if the lookup
finds more than one declaration of the member, and if one declaration
introduces a class name or enumeration name and the other declarations
either introduce the same variable, the same enumerator or a set of
functions, the non-type name hides the class or enumeration name if and
only if the declarations are from the same namespace; otherwise (the
declarations are from different namespaces), the program is ill-formed<a class='hidden_link' href='#namespace.qual-6.sentence-1'>.</a></div> <div id='namespace.qual-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.qual-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace A {
  struct x { };
  int x;
  int y;
}

namespace B {
  struct y { };
}

namespace C {
  using namespace A;
  using namespace B;
  int i = C::x;     <span class='comment'>// OK, <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;x</span> (of type <span class='tcode_in_codeblock'>int</span>)
</span>  int j = C::y;     <span class='comment'>// ambiguous, <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;y</span> or <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;y</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='namespace.qual-7'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2046'>#</a></div><div id='namespace.qual-7.sentence-1' class='sentence'>In a declaration for a namespace member in which the
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> is a <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i>, given that the
<i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> for the namespace member has the form
<pre class='ncbnf'><i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> <i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i>
</pre>
the
<i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i> shall name a member of the namespace
designated by the <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i>
or of an element of the <a href='namespace.def#def:inline_namespace_set'>inline namespace set</a> of that namespace<a class='hidden_link' href='#namespace.qual-7.sentence-1'>.</a></div> <div id='namespace.qual-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.qual-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace A {
  namespace B {
    void f1(int);
  }
  using namespace B;
}
void A::f1(int){ }  <span class='comment'>// ill-formed, <span class='tcode_in_codeblock'>f1</span> is not a member of <span class='tcode_in_codeblock'>A</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='namespace.qual-7.sentence-2' class='sentence'> However, in such namespace member declarations, the
<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> may rely on <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i><span class='textit'>s</span>
to implicitly provide the initial part of the
<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i><a class='hidden_link' href='#namespace.qual-7.sentence-2'>.</a></div> <div id='namespace.qual-7.example-2' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#namespace.qual-7.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace A {
  namespace B {
    void f1(int);
  }
}

namespace C {
  namespace D {
    void f1(int);
  }
}

using namespace A;
using namespace C::D;
void B::f1(int){ }  <span class='comment'>// OK, defines <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;B&#x200b;::&#x200b;f1(int)</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  </div></div></div><div id='lookup.elab' class='section'><h3 ><a class='secnum' href='#lookup.elab' style='min-width:103pt'>6.4.4</a> Elaborated type specifiers <a class='abbr_ref' href='basic.lookup.elab'>[basic.lookup.elab]</a></h3><span class='indexparent'><a class='index' id=':lookup,elaborated_type_specifier'></a></span><span class='indexparent'><a class='index' id=':type_specifier,elaborated'></a></span><div class='para' id='lookup.elab-1'><div class='marginalizedparent'><a class='marginalized' href='#lookup.elab-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2095'>#</a></div><div id='lookup.elab-1.sentence-1' class='sentence'>An <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> may be
used to refer to a previously declared <i ><a href='class#nt:class-name'>class-name</a></i> or
<i ><a href='dcl.enum#nt:enum-name'>enum-name</a></i> even though the name has been
<a href='#scope.hiding'>hidden</a> by a non-type
declaration<a class='hidden_link' href='#lookup.elab-1.sentence-1'>.</a></div></div><div class='para' id='lookup.elab-2'><div class='marginalizedparent'><a class='marginalized' href='#lookup.elab-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2102'>#</a></div><div id='lookup.elab-2.sentence-1' class='sentence'>If the <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> has no
<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i>, and unless the
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> appears in a declaration with the
following form:
<pre class='ncbnf'><i ><a href='class#nt:class-key'>class-key</a></i> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="Subscript o p t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='lex.name#nt:identifier'>identifier</a></i> <span class='terminal'>;</span>
</pre>
the <i ><a href='lex.name#nt:identifier'>identifier</a></i> is looked up according
to <a href='#lookup.unqual'>[basic.lookup.unqual]</a> but ignoring any non-type names that have
been declared<a class='hidden_link' href='#lookup.elab-2.sentence-1'>.</a></div> <div id='lookup.elab-2.sentence-2' class='sentence'>If the <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> is introduced
by the <span class='texttt'>enum</span> keyword and this lookup does not find a previously
declared <i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i>, the <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i>
is ill-formed<a class='hidden_link' href='#lookup.elab-2.sentence-2'>.</a></div> <div id='lookup.elab-2.sentence-3' class='sentence'>If the <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> is introduced
by the <i ><a href='class#nt:class-key'>class-key</a></i> and this lookup does not find a previously
declared <i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i>, or if the
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> appears in a declaration with the
form:
<pre class='ncbnf'><i ><a href='class#nt:class-key'>class-key</a></i> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="Subscript o p t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='lex.name#nt:identifier'>identifier</a></i> <span class='terminal'>;</span>
</pre>
the <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> is a declaration that
introduces the <i ><a href='class#nt:class-name'>class-name</a></i> as described
in <a href='#scope.pdecl'>[basic.scope.pdecl]</a><a class='hidden_link' href='#lookup.elab-2.sentence-3'>.</a></div></div><div class='para' id='lookup.elab-3'><div class='marginalizedparent'><a class='marginalized' href='#lookup.elab-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2127'>#</a></div><div id='lookup.elab-3.sentence-1' class='sentence'>If the <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> has a
<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i>, qualified name lookup is performed, as
described in <a href='#lookup.qual'>[basic.lookup.qual]</a>, but ignoring any non-type names
that have been declared<a class='hidden_link' href='#lookup.elab-3.sentence-1'>.</a></div> <div id='lookup.elab-3.sentence-2' class='sentence'>If the name lookup does not find a previously
declared <i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i>, the <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i>
is ill-formed<a class='hidden_link' href='#lookup.elab-3.sentence-2'>.</a></div> <div id='lookup.elab-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#lookup.elab-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct Node {
  struct Node* Next;            <span class='comment'>// OK: Refers to <span class='tcode_in_codeblock'>Node</span> at global scope
</span>  struct Data* Data;            <span class='comment'>// OK: Declares type <span class='tcode_in_codeblock'>Data</span> at global scope and member <span class='tcode_in_codeblock'>Data</span>
</span>};

struct Data {
  struct Node* Node;            <span class='comment'>// OK: Refers to <span class='tcode_in_codeblock'>Node</span> at global scope
</span>  friend struct ::Glob;         <span class='comment'>// error: <span class='tcode_in_codeblock'>Glob</span> is not declared, cannot introduce a qualified type (<a href='dcl.type.elab'>[dcl.type.elab]</a>)
</span>  friend struct Glob;           <span class='comment'>// OK: Refers to (as yet) undeclared <span class='tcode_in_codeblock'>Glob</span> at global scope.
</span>  <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span>
};

struct Base {
  struct Data;                  <span class='comment'>// OK: Declares nested <span class='tcode_in_codeblock'>Data</span>
</span>  struct ::Data*     thatData;  <span class='comment'>// OK: Refers to <span class='tcode_in_codeblock'>&#x200b;::&#x200b;Data</span>
</span>  struct Base::Data* thisData;  <span class='comment'>// OK: Refers to nested <span class='tcode_in_codeblock'>Data</span>
</span>  friend class ::Data;          <span class='comment'>// OK: global <span class='tcode_in_codeblock'>Data</span> is a friend
</span>  friend class Data;            <span class='comment'>// OK: nested <span class='tcode_in_codeblock'>Data</span> is a friend
</span>  struct Data { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> };    <span class='comment'>// Defines nested <span class='tcode_in_codeblock'>Data</span>
</span>};

struct Data;                    <span class='comment'>// OK: Redeclares <span class='tcode_in_codeblock'>Data</span> at global scope
</span>struct ::Data;                  <span class='comment'>// error: cannot introduce a qualified type (<a href='dcl.type.elab'>[dcl.type.elab]</a>)
</span>struct Base::Data;              <span class='comment'>// error: cannot introduce a qualified type (<a href='dcl.type.elab'>[dcl.type.elab]</a>)
</span>struct Base::Datum;             <span class='comment'>// error: <span class='tcode_in_codeblock'>Datum</span> undefined
</span>struct Base::Data* pBase;       <span class='comment'>// OK: refers to nested <span class='tcode_in_codeblock'>Data</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>   </div></div><div id='lookup.classref' class='section'><h3 ><a class='secnum' href='#lookup.classref' style='min-width:103pt'>6.4.5</a> Class member access <a class='abbr_ref' href='basic.lookup.classref'>[basic.lookup.classref]</a></h3><div class='para' id='lookup.classref-1'><div class='marginalizedparent'><a class='marginalized' href='#lookup.classref-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2167'>#</a></div><div id='lookup.classref-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':lookup,class_member_'></a></span>In a <a href='expr.ref'>class member access</a> expression, if the <span class='texttt'>.</span>
or <span class='texttt'>-&gt;</span> token is immediately followed by an <i ><a href='lex.name#nt:identifier'>identifier</a></i>
followed by a <span class='texttt'>&lt;</span>, the identifier must be looked up to determine
whether the <span class='texttt'>&lt;</span> is the beginning of a template argument
list (<a href='temp.names'>[temp.names]</a>) or a less-than operator<a class='hidden_link' href='#lookup.classref-1.sentence-1'>.</a></div> <div id='lookup.classref-1.sentence-2' class='sentence'>The identifier is first
looked up in the class of the object expression<a class='hidden_link' href='#lookup.classref-1.sentence-2'>.</a></div> <div id='lookup.classref-1.sentence-3' class='sentence'>If the identifier is
not found, it is then looked up in the context of the entire
<i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> and shall name a class template<a class='hidden_link' href='#lookup.classref-1.sentence-3'>.</a></div></div><div class='para' id='lookup.classref-2'><div class='marginalizedparent'><a class='marginalized' href='#lookup.classref-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2178'>#</a></div><div id='lookup.classref-2.sentence-1' class='sentence'>If the <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> in a <a href='expr.ref'>class member
access</a> is an <i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i>, and the type of
the object expression is of a class type <span class='texttt'>C</span>, the
<i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i> is looked up in the scope of class <span class='texttt'>C</span><a class='hidden_link' href='#lookup.classref-2.sentence-1'>.</a></div> <div id='lookup.classref-2.sentence-2' class='sentence'>For a <a href='expr.pseudo'>pseudo-destructor call</a>,
the <i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i> is looked up in the context of the complete
<i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i><a class='hidden_link' href='#lookup.classref-2.sentence-2'>.</a></div></div><div class='para' id='lookup.classref-3'><div class='marginalizedparent'><a class='marginalized' href='#lookup.classref-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2187'>#</a></div><div id='lookup.classref-3.sentence-1' class='sentence'>If the <i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i> is <span class='texttt'>~</span><i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i>, the
<i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i> is looked up in the context of the entire
<i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i><a class='hidden_link' href='#lookup.classref-3.sentence-1'>.</a></div> <div id='lookup.classref-3.sentence-2' class='sentence'>If the type <span class='texttt'>T</span> of the object
expression is of a class type <span class='texttt'>C</span>, the <i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i> is
also looked up in the scope of class <span class='texttt'>C</span><a class='hidden_link' href='#lookup.classref-3.sentence-2'>.</a></div> <div id='lookup.classref-3.sentence-3' class='sentence'>At least one of the
lookups shall find a name that refers to <span class='mathit'>cv</span> <span class='texttt'>T</span><a class='hidden_link' href='#lookup.classref-3.sentence-3'>.</a></div> <div id='lookup.classref-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#lookup.classref-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A { };

struct B {
  struct A { };
  void f(::A* a);
};

void B::f(::A* a) {
  a-&gt;~A();                      <span class='comment'>// OK: lookup in <span class='tcode_in_codeblock'>*a</span> finds the injected-class-name
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='lookup.classref-4'><div class='marginalizedparent'><a class='marginalized' href='#lookup.classref-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2207'>#</a></div><div id='lookup.classref-4.sentence-1' class='sentence'>If the <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> in a class member access is a
<i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> of the form
<pre class='codeblock'>
<span class='textit'>class-name-or-namespace-name</span>::...</pre>
the <span class='texttt'><span class='textit'>class-name-or-namespace-name</span></span> following the <span class='texttt'>.</span> or
<span class='texttt'>-&gt;</span> operator is
first looked up in the class of the object expression and the name, if found,
is used<a class='hidden_link' href='#lookup.classref-4.sentence-1'>.</a></div> <div id='lookup.classref-4.sentence-2' class='sentence'>Otherwise it is looked up in the context of the entire
<i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i><a class='hidden_link' href='#lookup.classref-4.sentence-2'>.</a></div> <div id='lookup.classref-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#lookup.classref-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='lookup.classref-4.sentence-3' class='sentence'>See <a href='#lookup.qual'>[basic.lookup.qual]</a>, which
describes the lookup of a name before <span class='texttt'>&#x200b;::&#x200b;</span>, which will only find a type
or namespace name<a class='hidden_link' href='#lookup.classref-4.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='lookup.classref-5'><div class='marginalizedparent'><a class='marginalized' href='#lookup.classref-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2221'>#</a></div><div id='lookup.classref-5.sentence-1' class='sentence'>If the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> has the form
<pre class='codeblock'>
::<span class='textit'>class-name-or-namespace-name</span>::...</pre>
the <span class='texttt'><span class='textit'>class-name-or-namespace-name</span></span> is looked up in global scope
as a <i ><a href='class#nt:class-name'>class-name</a></i> or <i ><a href='namespace.def#nt:namespace-name'>namespace-name</a></i><a class='hidden_link' href='#lookup.classref-5.sentence-1'>.</a></div></div><div class='para' id='lookup.classref-6'><div class='marginalizedparent'><a class='marginalized' href='#lookup.classref-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2229'>#</a></div><div id='lookup.classref-6.sentence-1' class='sentence'>If the <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> contains a
<i ><a href='temp.names#nt:simple-template-id'>simple-template-id</a></i>, the names in its
<i ><a href='temp.names#nt:template-argument'>template-argument</a></i><span class='textit'>s</span> are looked up in the context in which the
entire <i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> occurs<a class='hidden_link' href='#lookup.classref-6.sentence-1'>.</a></div></div><div class='para' id='lookup.classref-7'><div class='marginalizedparent'><a class='marginalized' href='#lookup.classref-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2235'>#</a></div><div id='lookup.classref-7.sentence-1' class='sentence'>If the <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> is a <i ><a href='class.conv.fct#nt:conversion-function-id'>conversion-function-id</a></i>,
its <i ><a href='class.conv.fct#nt:conversion-type-id'>conversion-type-id</a></i>
is first looked up in the class of the object expression and the name, if
found, is used<a class='hidden_link' href='#lookup.classref-7.sentence-1'>.</a></div> <div id='lookup.classref-7.sentence-2' class='sentence'>Otherwise it is looked up in the context
of the entire <i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i><a class='hidden_link' href='#lookup.classref-7.sentence-2'>.</a></div> <div id='lookup.classref-7.sentence-3' class='sentence'>In each of these lookups, only names that denote types or templates whose
specializations are types are considered<a class='hidden_link' href='#lookup.classref-7.sentence-3'>.</a></div> <div id='lookup.classref-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#lookup.classref-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A { };
namespace N {
  struct A {
    void g() { }
    template &lt;class T&gt; operator T();
  };
}

int main() {
  N::A a;
  a.operator A();               <span class='comment'>// calls <span class='tcode_in_codeblock'>N&#x200b;::&#x200b;A&#x200b;::&#x200b;operator N&#x200b;::&#x200b;A</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='lookup.udir' class='section'><h3 ><a class='secnum' href='#lookup.udir' style='min-width:103pt'>6.4.6</a> Using-directives and namespace aliases <a class='abbr_ref' href='basic.lookup.udir'>[basic.lookup.udir]</a></h3><div class='para' id='lookup.udir-1'><div class='marginalizedparent'><a class='marginalized' href='#lookup.udir-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2262'>#</a></div><div id='lookup.udir-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':lookup,using-directives_and'></a></span><span class='indexparent'><a class='index' id=':lookup,namespace_aliases_and'></a></span>In a <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> or <i ><a href='namespace.alias#nt:namespace-alias-definition'>namespace-alias-definition</a></i>,
during the lookup for a <i ><a href='namespace.def#nt:namespace-name'>namespace-name</a></i> or for a name in a
<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i>
only namespace names are considered<a class='hidden_link' href='#lookup.udir-1.sentence-1'>.</a></div> </div></div></div><div id='link' class='section'><h2 ><a class='secnum' href='#link' style='min-width:88pt'>6.5</a> Program and linkage <a class='abbr_ref' href='basic.link'>[basic.link]</a></h2><span class='indexparent'><a class='index' id=':linkage__'></a></span><div class='para' id='link-1'><div class='marginalizedparent'><a class='marginalized' href='#link-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2275'>#</a></div><div id='link-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':program'></a></span>A <a class='hidden_link' href='#def:program_' id='def:program_'><i >program</i></a> consists of one or more
<a href='lex#def:translation_unit'>translation units</a> linked together<a class='hidden_link' href='#link-1.sentence-1'>.</a></div> <div id='link-1.sentence-2' class='sentence'>A translation unit consists of a sequence of declarations<a class='hidden_link' href='#link-1.sentence-2'>.</a></div><pre class='bnf'><a class='nontermdef' href='#nt:translation-unit' id='nt:translation-unit'>translation-unit:</a>
&#9;<i ><a href='dcl.dcl#nt:declaration-seq'>declaration-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="Subscript o p t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre></div><div class='para' id='link-2'><div class='marginalizedparent'><a class='marginalized' href='#link-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2286'>#</a></div><div id='link-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':linkage___'></a></span><span class='indexparent'><a class='index' id=':translation_unit'></a></span><span class='indexparent'><a class='index' id=':linkage,internal'></a></span><span class='indexparent'><a class='index' id=':linkage,external'></a></span>A name is said to have <a class='hidden_link' href='#def:linkage____' id='def:linkage____'><i >linkage</i></a> when it might denote the same
object, reference, function, type, template, namespace or value as a
name introduced by a declaration in another scope:
<ul class='itemize'><li id='link-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-2.1'>(2.1)</a></div><div id='link-2.1.sentence-1' class='sentence'>When a name has <span class='indexparent'><a class='index' id=':linkage,external_'></a></span><a class='hidden_link' href='#def:external_linkage' id='def:external_linkage'><i >external linkage</i></a>,
the entity it denotes
can be referred to by names from scopes of other translation units or
from other scopes of the same translation unit<a class='hidden_link' href='#link-2.1.sentence-1'>.</a></div></li><li id='link-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-2.2'>(2.2)</a></div><div id='link-2.2.sentence-1' class='sentence'>When a name has <span class='indexparent'><a class='index' id=':linkage,internal_'></a></span><a class='hidden_link' href='#def:internal_linkage' id='def:internal_linkage'><i >internal linkage</i></a>,
the entity it denotes
can be referred to by names from other scopes in the same translation
unit<a class='hidden_link' href='#link-2.2.sentence-1'>.</a></div></li><li id='link-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-2.3'>(2.3)</a></div><div id='link-2.3.sentence-1' class='sentence'>When a name has <span class='indexparent'><a class='index' id=':linkage,no'></a></span><a class='hidden_link' href='#def:no_linkage' id='def:no_linkage'><i >no linkage</i></a>, the entity it denotes
cannot be referred to by names from other scopes<a class='hidden_link' href='#link-2.3.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='link-3'><div class='marginalizedparent'><a class='marginalized' href='#link-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2309'>#</a></div><div id='link-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':linkage,static_and'></a></span><span class='indexparent'><a class='index' id=':static,linkage_of'></a></span><span class='indexparent'><a class='index' id=':linkage,const_and'></a></span><span class='indexparent'><a class='index' id=':const,linkage_of'></a></span><span class='indexparent'><a class='index' id=':linkage,inline_and'></a></span><span class='indexparent'><a class='index' id=':inline,linkage_of'></a></span>A name having <a href='#scope.namespace'>namespace scope</a> has internal
linkage if it is the name of
<ul class='itemize'><li id='link-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-3.1'>(3.1)</a></div><div id='link-3.1.sentence-1' class='sentence'>a variable, function or function template that is
  explicitly declared <span class='texttt'>static</span>; or,</div></li><li id='link-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-3.2'>(3.2)</a></div><div id='link-3.2.sentence-1' class='sentence'>a non-inline variable of non-volatile const-qualified type that is
  neither explicitly declared <span class='texttt'>extern</span> nor previously
  declared to have external linkage; or</div></li><li id='link-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-3.3'>(3.3)</a></div><div id='link-3.3.sentence-1' class='sentence'>a data member of an anonymous union<a class='hidden_link' href='#link-3.3.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='link-4'><div class='marginalizedparent'><a class='marginalized' href='#link-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2330'>#</a></div><div id='link-4.sentence-1' class='sentence'>An unnamed namespace or a namespace declared directly or indirectly within an
unnamed namespace has internal linkage<a class='hidden_link' href='#link-4.sentence-1'>.</a></div> <div id='link-4.sentence-2' class='sentence'>All other namespaces have external linkage<a class='hidden_link' href='#link-4.sentence-2'>.</a></div> <div id='link-4.sentence-3' class='sentence'>A name having namespace scope
that has not been given internal linkage above
has the same linkage as the enclosing namespace if it is the name of
<ul class='itemize'><li id='link-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-4.1'>(4.1)</a></div><div id='link-4.1.sentence-1' class='sentence'>a variable; or</div></li><li id='link-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-4.2'>(4.2)</a></div><div id='link-4.2.sentence-1' class='sentence'>a function; or</div></li><li id='link-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-4.3'>(4.3)</a></div><div id='link-4.3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':class,linkage_of'></a></span>a named class (<a href='class'>[class]</a>), or an unnamed class defined in a
typedef declaration in which the class has the typedef name for linkage
purposes (<a href='dcl.typedef'>[dcl.typedef]</a>); or</div></li><li id='link-4.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-4.4'>(4.4)</a></div><div id='link-4.4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':enumeration,linkage_of'></a></span>a named <a href='dcl.enum'>enumeration</a>, or an unnamed enumeration defined
in a typedef declaration in which the enumeration has the typedef name
for linkage purposes (<a href='dcl.typedef'>[dcl.typedef]</a>); or</div></li><li id='link-4.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-4.5'>(4.5)</a></div><div id='link-4.5.sentence-1' class='sentence'>a template<a class='hidden_link' href='#link-4.5.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='link-5'><div class='marginalizedparent'><a class='marginalized' href='#link-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2350'>#</a></div><div id='link-5.sentence-1' class='sentence'>In addition, a member function, static data member, a named class or
enumeration of class scope, or an unnamed class or enumeration defined
in a class-scope typedef declaration such that the class or enumeration
has the typedef name for linkage purposes (<a href='dcl.typedef'>[dcl.typedef]</a>), has
the same linkage, if any, as the name of the class of which it is a
member<a class='hidden_link' href='#link-5.sentence-1'>.</a></div></div><div class='para' id='link-6'><div class='marginalizedparent'><a class='marginalized' href='#link-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2358'>#</a></div><div id='link-6.sentence-1' class='sentence'>The name of a function declared in block scope and the name of a variable declared by a
block scope <span class='texttt'>extern</span> declaration have linkage<a class='hidden_link' href='#link-6.sentence-1'>.</a></div> <div id='link-6.sentence-2' class='sentence'>If there is a visible declaration
of an entity with linkage having the same name and type, ignoring entities declared
outside the innermost enclosing namespace scope, the block scope declaration declares
that same entity and receives the linkage of the previous declaration<a class='hidden_link' href='#link-6.sentence-2'>.</a></div> <div id='link-6.sentence-3' class='sentence'>If there is more
than one such matching entity, the program is ill-formed<a class='hidden_link' href='#link-6.sentence-3'>.</a></div> <div id='link-6.sentence-4' class='sentence'>Otherwise, if no matching
entity is found, the block scope entity receives external linkage<a class='hidden_link' href='#link-6.sentence-4'>.</a></div> <div id='link-6.sentence-5' class='sentence'>If, within a translation unit, the same entity is declared with both
internal and external linkage, the program is ill-formed<a class='hidden_link' href='#link-6.sentence-5'>.</a></div> <div id='link-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#link-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
static void f();
static int i = 0;               <span class='comment'>// #1
</span>void g() {
  extern void f();              <span class='comment'>// internal linkage
</span>  int i;                        <span class='comment'>// #2: <span class='tcode_in_codeblock'>i</span> has no linkage
</span>  {
    extern void f();            <span class='comment'>// internal linkage
</span>    extern int i;               <span class='comment'>// #3: external linkage, ill-formed
</span>  }
}</pre> <div id='link-6.sentence-6' class='sentence'>
Without the declaration at line #2,
the declaration at line #3 would link with the declaration at line #1<a class='hidden_link' href='#link-6.sentence-6'>.</a></div> <div id='link-6.sentence-7' class='sentence'>Because the declaration with internal linkage is hidden, however,
#3 is given external linkage, making the program ill-formed<a class='hidden_link' href='#link-6.sentence-7'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='link-7'><div class='marginalizedparent'><a class='marginalized' href='#link-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2387'>#</a></div><div id='link-7.sentence-1' class='sentence'>When a block scope declaration of an entity with linkage is not found to
refer to some other declaration, then that entity is a member of the
innermost enclosing namespace<a class='hidden_link' href='#link-7.sentence-1'>.</a></div> <div id='link-7.sentence-2' class='sentence'>However such a declaration does not
introduce the member name in its namespace scope<a class='hidden_link' href='#link-7.sentence-2'>.</a></div> <div id='link-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#link-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace X {
  void p() {
    q();                        <span class='comment'>// error: <span class='tcode_in_codeblock'>q</span> not yet declared
</span>    extern void q();            <span class='comment'>// <span class='tcode_in_codeblock'>q</span> is a member of namespace <span class='tcode_in_codeblock'>X</span>
</span>  }

  void middle() {
    q();                        <span class='comment'>// error: <span class='tcode_in_codeblock'>q</span> not yet declared
</span>  }

  void q() { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> }        <span class='comment'>// definition of <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;q</span>
</span>}

void q() { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> }          <span class='comment'>// some other, unrelated <span class='tcode_in_codeblock'>q</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='link-8'><div class='marginalizedparent'><a class='marginalized' href='#link-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2410'>#</a></div><div id='link-8.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':linkage,no_'></a></span>Names not covered by these rules have no linkage<a class='hidden_link' href='#link-8.sentence-1'>.</a></div> <div id='link-8.sentence-2' class='sentence'>Moreover, except as
noted, a name declared at <a href='#def:block_scope'>block scope</a> has no
linkage<a class='hidden_link' href='#link-8.sentence-2'>.</a></div></div><div class='para' id='link-9'><div class='marginalizedparent'><a class='marginalized' href='#link-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2416'>#</a></div><div id='link-9.sentence-1' class='sentence'>A type is said to have linkage if and only if:
<ul class='itemize'><li id='link-9.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-9.1'>(9.1)</a></div><div id='link-9.1.sentence-1' class='sentence'>it is a class or enumeration type that is named (or has a name for
linkage purposes (<a href='dcl.typedef'>[dcl.typedef]</a>)) and the name has linkage; or</div></li><li id='link-9.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-9.2'>(9.2)</a></div><div id='link-9.2.sentence-1' class='sentence'>it is an unnamed class or unnamed enumeration that is a member of a class
with linkage; or</div></li><li id='link-9.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-9.3'>(9.3)</a></div><div id='link-9.3.sentence-1' class='sentence'>it is a specialization of a class template (<a href='temp'>[temp]</a>)<a class='footnotenum' href='#footnote-29'>29</a>;
or</div></li><li id='link-9.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-9.4'>(9.4)</a></div><div id='link-9.4.sentence-1' class='sentence'>it is a <a href='#fundamental'>fundamental type</a>; or</div></li><li id='link-9.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-9.5'>(9.5)</a></div><div id='link-9.5.sentence-1' class='sentence'>it is a <a href='#compound'>compound type</a> other than a class or
enumeration, compounded exclusively from types that have linkage; or</div></li><li id='link-9.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-9.6'>(9.6)</a></div><div id='link-9.6.sentence-1' class='sentence'>it is a <a href='#type.qualifier'>cv-qualified</a> version of a
type that has linkage<a class='hidden_link' href='#link-9.6.sentence-1'>.</a></div></li></ul></div> <div id='link-9.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#link-9.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='link-9.sentence-2' class='sentence'>In other words, a type without linkage contains a class or enumeration that
cannot be named outside its translation unit<a class='hidden_link' href='#link-9.sentence-2'>.</a></div> <div id='link-9.sentence-3' class='sentence'>Classes with linkage may contain members
whose types do not have linkage<a class='hidden_link' href='#link-9.sentence-3'>.</a></div> <div id='link-9.sentence-4' class='sentence'>Typedef names are ignored in the determination
of whether a type has linkage<a class='hidden_link' href='#link-9.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> <div id='link-9.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#link-9.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template &lt;class T&gt; struct B {
  void g(T) { }
  void h(T);
  friend void i(B, T) { }
};

void f() {
  struct A { int x; };  <span class='comment'>// no linkage
</span>  A a = { 1 };
  B&lt;A&gt; ba;              <span class='comment'>// declares <span class='tcode_in_codeblock'>B&lt;A&gt;&#x200b;::&#x200b;g(A)</span> and <span class='tcode_in_codeblock'>B&lt;A&gt;&#x200b;::&#x200b;h(A)</span>
</span>  ba.g(a);              <span class='comment'>// OK
</span>  ba.h(a);              <span class='comment'>// error: <span class='tcode_in_codeblock'>B&lt;A&gt;&#x200b;::&#x200b;h(A)</span> not defined; <span class='tcode_in_codeblock'>A</span> cannot be named in another translation unit
</span>  i(ba, a);             <span class='comment'>// OK
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='link-10'><div class='marginalizedparent'><a class='marginalized' href='#link-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2466'>#</a></div><div id='link-10.sentence-1' class='sentence'>Two names that are <a href='#def:name,same'>the same</a> and that are declared
in different scopes shall denote the same variable, function,
type, template or namespace if
<ul class='itemize'><li id='link-10.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-10.1'>(10.1)</a></div><div id='link-10.1.sentence-1' class='sentence'>both names have external linkage or else both names have internal
linkage and are declared in the same translation unit; and</div></li><li id='link-10.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-10.2'>(10.2)</a></div><div id='link-10.2.sentence-1' class='sentence'>both names refer to members of the same namespace or to members,
not by inheritance, of the same class; and</div></li><li id='link-10.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-10.3'>(10.3)</a></div><div id='link-10.3.sentence-1' class='sentence'>when both names denote functions, the parameter-type-lists of the
functions (<a href='dcl.fct'>[dcl.fct]</a>) are identical; and</div></li><li id='link-10.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-10.4'>(10.4)</a></div><div id='link-10.4.sentence-1' class='sentence'>when both names denote function templates, the
signatures (<a href='temp.over.link'>[temp.over.link]</a>) are the same<a class='hidden_link' href='#link-10.4.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='link-11'><div class='marginalizedparent'><a class='marginalized' href='#link-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2484'>#</a></div><div id='link-11.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':consistency,type_declaration'></a></span><span class='indexparent'><a class='index' id=':declaration,multiple'></a></span>After all adjustments of types (during which
<a href='dcl.typedef'>typedefs</a> are replaced by their definitions), the
types specified by all declarations referring to a given variable or
function shall be identical, except that declarations for an array
object can specify array types that differ by the presence or absence of
a major array bound (<a href='dcl.array'>[dcl.array]</a>)<a class='hidden_link' href='#link-11.sentence-1'>.</a></div> <div id='link-11.sentence-2' class='sentence'>A violation of this rule on type
identity does not require a diagnostic<a class='hidden_link' href='#link-11.sentence-2'>.</a></div></div><div class='para' id='link-12'><div class='marginalizedparent'><a class='marginalized' href='#link-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2495'>#</a></div><div id='link-12.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#link-12.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='link-12.sentence-1' class='sentence'>Linkage to non-C++ declarations can be achieved using a
<i ><a href='dcl.link#nt:linkage-specification'>linkage-specification</a></i><a class='hidden_link' href='#link-12.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  </div><div class='footnote' id='footnote-29'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-29'>29)</a></div><div id='footnote-29.sentence-1' class='sentence'>A class
template has the linkage of the innermost enclosing class or namespace in which
it is declared<a class='hidden_link' href='#footnote-29.sentence-1'>.</a></div></div></div><div id='memobj' class='section'><h2 ><a class='secnum' href='#memobj' style='min-width:88pt'>6.6</a> Memory and objects <a class='abbr_ref' href='basic.memobj'>[basic.memobj]</a></h2><div id='intro.memory' class='section'><h3 ><a class='secnum' href='#intro.memory' style='min-width:103pt'>6.6.1</a> Memory model <a class='abbr_ref' href='intro.memory'>[intro.memory]</a></h3><div class='para' id='intro.memory-1'><div class='marginalizedparent'><a class='marginalized' href='#intro.memory-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2504'>#</a></div><div id='intro.memory-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':memory_model'></a></span>The fundamental storage unit in the C++ memory model is the
<a class='hidden_link' href='#def:byte' id='def:byte'><i >byte</i></a><a class='hidden_link' href='#intro.memory-1.sentence-1'>.</a></div> <div id='intro.memory-1.sentence-2' class='sentence'>A byte is at least large enough to contain any member of the
<span class='indexparent'><a class='index' id=':character_set,basic_execution'></a></span><a href='lex.charset#def:character_set,basic_execution'>basic execution character set</a>
and the eight-bit code units of the Unicode UTF-8 encoding form
and is composed of a contiguous sequence of
bits,<a class='footnotenum' href='#footnote-30'>30</a>
the number of which is <span class='indexparent'><a class='index' id=':bits_in_a_byte'></a></span>implementation-defined<a class='hidden_link' href='#intro.memory-1.sentence-2'>.</a></div> <div id='intro.memory-1.sentence-3' class='sentence'>The least
significant bit is called the <a class='hidden_link' href='#def:low-order_bit' id='def:low-order_bit'><i >low-order bit</i></a>; the most
significant bit is called the <a class='hidden_link' href='#def:high-order_bit' id='def:high-order_bit'><i >high-order bit</i></a><a class='hidden_link' href='#intro.memory-1.sentence-3'>.</a></div> <div id='intro.memory-1.sentence-4' class='sentence'>The memory
available to a C++ program consists of one or more sequences of
contiguous bytes<a class='hidden_link' href='#intro.memory-1.sentence-4'>.</a></div> <div id='intro.memory-1.sentence-5' class='sentence'>Every byte has a unique address<a class='hidden_link' href='#intro.memory-1.sentence-5'>.</a></div></div><div class='para' id='intro.memory-2'><div class='marginalizedparent'><a class='marginalized' href='#intro.memory-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2521'>#</a></div><div id='intro.memory-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.memory-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.memory-2.sentence-1' class='sentence'>The representation of types is described
in <a href='#types'>[basic.types]</a><a class='hidden_link' href='#intro.memory-2.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.memory-3'><div class='marginalizedparent'><a class='marginalized' href='#intro.memory-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2525'>#</a></div><div id='intro.memory-3.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:memory_location' id='def:memory_location'><i >memory location</i></a> is either an object of scalar type or a maximal
sequence of adjacent bit-fields all having nonzero width<a class='hidden_link' href='#intro.memory-3.sentence-1'>.</a></div> <div id='intro.memory-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.memory-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.memory-3.sentence-2' class='sentence'>Various
features of the language, such as references and virtual functions, might
involve additional memory locations that are not accessible to programs but are
managed by the implementation<a class='hidden_link' href='#intro.memory-3.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='intro.memory-3.sentence-3' class='sentence'> Two or more <a href='#def:thread_of_execution'>threads of
execution</a> can access separate memory
locations without interfering with each other<a class='hidden_link' href='#intro.memory-3.sentence-3'>.</a></div></div><div class='para' id='intro.memory-4'><div class='marginalizedparent'><a class='marginalized' href='#intro.memory-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2534'>#</a></div><div id='intro.memory-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.memory-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.memory-4.sentence-1' class='sentence'>Thus a bit-field and an adjacent non-bit-field are in separate memory
locations, and therefore can be concurrently updated by two threads of execution
without interference<a class='hidden_link' href='#intro.memory-4.sentence-1'>.</a></div> <div id='intro.memory-4.sentence-2' class='sentence'>The same applies to two bit-fields, if one is declared
inside a nested struct declaration and the other is not, or if the two are
separated by a zero-length bit-field declaration, or if they are separated by a
non-bit-field declaration<a class='hidden_link' href='#intro.memory-4.sentence-2'>.</a></div> <div id='intro.memory-4.sentence-3' class='sentence'>It is not safe to concurrently update two bit-fields
in the same struct if all fields between them are also bit-fields of nonzero
width<a class='hidden_link' href='#intro.memory-4.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.memory-5'><div class='marginalizedparent'><a class='marginalized' href='#intro.memory-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2544'>#</a></div><div id='intro.memory-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#intro.memory-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='intro.memory-5.sentence-1' class='sentence'>A class declared as</div><pre class='codeblock'>
struct {
  char a;
  int b:5,
  c:11,
  :0,
  d:8;
  struct {int ee:8;} e;
}</pre><div id='intro.memory-5.sentence-2' class='sentence'>contains four separate memory locations: The member <span class='texttt'>a</span> and bit-fields
<span class='texttt'>d</span> and <span class='texttt'>e.ee</span> are each separate memory locations, and can be
modified concurrently without interfering with each other<a class='hidden_link' href='#intro.memory-5.sentence-2'>.</a></div> <div id='intro.memory-5.sentence-3' class='sentence'>The bit-fields
<span class='texttt'>b</span> and <span class='texttt'>c</span> together constitute the fourth memory location<a class='hidden_link' href='#intro.memory-5.sentence-3'>.</a></div> <div id='intro.memory-5.sentence-4' class='sentence'>The
bit-fields <span class='texttt'>b</span> and <span class='texttt'>c</span> cannot be concurrently modified, but
<span class='texttt'>b</span> and <span class='texttt'>a</span>, for example, can be<a class='hidden_link' href='#intro.memory-5.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  </div><div class='footnote' id='footnote-30'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-30'>30)</a></div><div id='footnote-30.sentence-1' class='sentence'>The number of bits in a byte is reported by the macro
<span class='texttt'>CHAR_&shy;BIT</span> in the header <span class='texttt'>&lt;climits&gt;</span><a class='hidden_link' href='#footnote-30.sentence-1'>.</a></div></div></div><div id='intro.object' class='section'><h3 ><a class='secnum' href='#intro.object' style='min-width:103pt'>6.6.2</a> Object model <a class='abbr_ref' href='intro.object'>[intro.object]</a></h3><div class='para' id='intro.object-1'><div class='marginalizedparent'><a class='marginalized' href='#intro.object-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2568'>#</a></div><div id='intro.object-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':object_model'></a></span>The constructs in a C++ program create, destroy, refer to, access, and
manipulate objects<a class='hidden_link' href='#intro.object-1.sentence-1'>.</a></div> <div id='intro.object-1.sentence-2' class='sentence'>An <a class='hidden_link' href='#def:object_' id='def:object_'><i >object</i></a> is created
by a definition (<a href='#def'>[basic.def]</a>),
by a <i ><a href='expr.new#nt:new-expression'>new-expression</a></i>,
when implicitly changing the active member of a union (<a href='class.union'>[class.union]</a>),
or
when a temporary object is created (<a href='conv.rval'>[conv.rval]</a>, <a href='#class.temporary'>[class.temporary]</a>)<a class='hidden_link' href='#intro.object-1.sentence-2'>.</a></div> <div id='intro.object-1.sentence-3' class='sentence'>An object occupies a region of storage
in its period of construction (<a href='class.cdtor'>[class.cdtor]</a>),
throughout its lifetime (<a href='#life'>[basic.life]</a>),
and
in its period of destruction (<a href='class.cdtor'>[class.cdtor]</a>)<a class='hidden_link' href='#intro.object-1.sentence-3'>.</a></div> <div id='intro.object-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.object-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.object-1.sentence-4' class='sentence'>A function is not an object, regardless of whether or not it
occupies storage in the way that objects do<a class='hidden_link' href='#intro.object-1.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='intro.object-1.sentence-5' class='sentence'>
The properties of an
object are determined when the object is created<a class='hidden_link' href='#intro.object-1.sentence-5'>.</a></div> <div id='intro.object-1.sentence-6' class='sentence'>An object can have a
name (<a href='#basic'>[basic]</a>)<a class='hidden_link' href='#intro.object-1.sentence-6'>.</a></div> <div id='intro.object-1.sentence-7' class='sentence'>An object has a storage
duration (<a href='#stc'>[basic.stc]</a>) which influences its
lifetime (<a href='#life'>[basic.life]</a>)<a class='hidden_link' href='#intro.object-1.sentence-7'>.</a></div> <div id='intro.object-1.sentence-8' class='sentence'>An object has a
type (<a href='#types'>[basic.types]</a>)<a class='hidden_link' href='#intro.object-1.sentence-8'>.</a></div> <div id='intro.object-1.sentence-9' class='sentence'>Some objects are
polymorphic (<a href='class.virtual'>[class.virtual]</a>); the implementation
generates information associated with each such object that makes it
possible to determine that object's type during program execution<a class='hidden_link' href='#intro.object-1.sentence-9'>.</a></div> <div id='intro.object-1.sentence-10' class='sentence'>For
other objects, the interpretation of the values found therein is
determined by the type of the <i ><a href='expr.comma#nt:expression'>expression</a></i><span class='textit'>s</span> (<a href='expr.compound'>[expr.compound]</a>)
used to access them<a class='hidden_link' href='#intro.object-1.sentence-10'>.</a></div></div><div class='para' id='intro.object-2'><div class='marginalizedparent'><a class='marginalized' href='#intro.object-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2599'>#</a></div><div id='intro.object-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':subobject'></a></span>Objects can contain other objects, called <a class='hidden_link' href='#def:subobject_' id='def:subobject_'><i >subobjects</i></a><a class='hidden_link' href='#intro.object-2.sentence-1'>.</a></div> <div id='intro.object-2.sentence-2' class='sentence'>A subobject can be
a <a class='hidden_link' href='#def:member_subobject' id='def:member_subobject'><i >member subobject</i></a> (<a href='class.mem'>[class.mem]</a>), a <a class='hidden_link' href='#def:base_class_subobject' id='def:base_class_subobject'><i >base class subobject</i></a> (<a href='class.derived'>[class.derived]</a>),
or an array element<a class='hidden_link' href='#intro.object-2.sentence-2'>.</a></div> <div id='intro.object-2.sentence-3' class='sentence'><span class='indexparent'><a class='index' id=':object,complete'></a></span>An object that is not a subobject of any other object is called a <a class='hidden_link' href='#def:complete_object' id='def:complete_object'><i >complete
object</i></a><a class='hidden_link' href='#intro.object-2.sentence-3'>.</a></div> <div id='intro.object-2.sentence-4' class='sentence'>If an object is created
in storage associated with a member subobject or array element <span class='textit'>e</span>
(which may or may not be within its lifetime),
the created object
is a subobject of <span class='textit'>e</span>'s containing object if:
<ul class='itemize'><li id='intro.object-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.object-2.1'>(2.1)</a></div><div id='intro.object-2.1.sentence-1' class='sentence'>the lifetime of <span class='textit'>e</span>'s containing object has begun and not ended, and</div></li><li id='intro.object-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.object-2.2'>(2.2)</a></div><div id='intro.object-2.2.sentence-1' class='sentence'>the storage for the new object exactly overlays the storage location associated with <span class='textit'>e</span>, and</div></li><li id='intro.object-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.object-2.3'>(2.3)</a></div><div id='intro.object-2.3.sentence-1' class='sentence'>the new object is of the same type as <span class='textit'>e</span> (ignoring cv-qualification)<a class='hidden_link' href='#intro.object-2.3.sentence-1'>.</a></div></li></ul></div> <div id='intro.object-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.object-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.object-2.sentence-5' class='sentence'>If the subobject contains a reference member or a <span class='texttt'>const</span> subobject,
the name of the original subobject cannot be used to access the new object (<a href='#life'>[basic.life]</a>)<a class='hidden_link' href='#intro.object-2.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='intro.object-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#intro.object-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct X { const int n; };
union U { X x; float f; };
void tong() {
  U u = {{ 1 }};
  u.f = 5.f;                            <span class='comment'>// OK, creates new subobject of <span class='tcode_in_codeblock'>u</span> (<a href='class.union'>[class.union]</a>)
</span>  X *p = new (&amp;u.x) X {2};              <span class='comment'>// OK, creates new subobject of <span class='tcode_in_codeblock'>u</span>
</span>  assert(p-&gt;n == 2);                    <span class='comment'>// OK
</span>  assert(*std::launder(&amp;u.x.n) == 2);   <span class='comment'>// OK
</span>  assert(u.x.n == 2);                   <span class='comment'>// undefined behavior, <span class='tcode_in_codeblock'>u.x</span> does not name new subobject
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.object-3'><div class='marginalizedparent'><a class='marginalized' href='#intro.object-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2640'>#</a></div><div id='intro.object-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':object,providing_storage_for'></a></span>If a complete object is created (<a href='expr.new'>[expr.new]</a>)
in storage associated with another object <span class='textit'>e</span>
of type “array of <span class='math'><span class='mathalpha'>N</span></span> <span class='texttt'>unsigned char</span>” or
of type “array of <span class='math'><span class='mathalpha'>N</span></span> <span class='texttt'>std&#x200b;::&#x200b;byte</span>” (<a href='cstddef.syn'>[cstddef.syn]</a>),
that array <a class='hidden_link' href='#def:provides_storage' id='def:provides_storage'><i >provides storage</i></a>
for the created object if:
<ul class='itemize'><li id='intro.object-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.object-3.1'>(3.1)</a></div><div id='intro.object-3.1.sentence-1' class='sentence'>the lifetime of <span class='textit'>e</span> has begun and not ended, and</div></li><li id='intro.object-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.object-3.2'>(3.2)</a></div><div id='intro.object-3.2.sentence-1' class='sentence'>the storage for the new object fits entirely within <span class='textit'>e</span>, and</div></li><li id='intro.object-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.object-3.3'>(3.3)</a></div><div id='intro.object-3.3.sentence-1' class='sentence'>there is no smaller array object that satisfies these constraints<a class='hidden_link' href='#intro.object-3.3.sentence-1'>.</a></div></li></ul></div> <div id='intro.object-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.object-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.object-3.sentence-2' class='sentence'>If that portion of the array
previously provided storage for another object,
the lifetime of that object ends
because its storage was reused (<a href='#life'>[basic.life]</a>)<a class='hidden_link' href='#intro.object-3.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='intro.object-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#intro.object-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;typename ...T&gt;
struct AlignedUnion {
  alignas(T...) unsigned char data[max(sizeof(T)...)];
};
int f() {
  AlignedUnion&lt;int, char&gt; au;
  int *p = new (au.data) int;           <span class='comment'>// OK, <span class='tcode_in_codeblock'>au.data</span> provides storage
</span>  char *c = new (au.data) char();       <span class='comment'>// OK, ends lifetime of <span class='tcode_in_codeblock'>*p</span>
</span>  char *d = new (au.data + 1) char();
  return *c + *d; <span class='comment'>// OK
</span>}

struct A { unsigned char a[32]; };
struct B { unsigned char b[16]; };
A a;
B *b = new (a.a + 8) B;                 <span class='comment'>// <span class='tcode_in_codeblock'>a.a</span> provides storage for <span class='tcode_in_codeblock'>*b</span>
</span>int *p = new (b-&gt;b + 4) int;            <span class='comment'>// <span class='tcode_in_codeblock'>b-&gt;b</span> provides storage for <span class='tcode_in_codeblock'>*p</span>
</span>                                        <span class='comment'>// <span class='tcode_in_codeblock'>a.a</span> does not provide storage for <span class='tcode_in_codeblock'>*p</span> (directly),
</span>                                        <span class='comment'>// but <span class='tcode_in_codeblock'>*p</span> is nested within <span class='tcode_in_codeblock'>a</span> (see below)
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.object-4'><div class='marginalizedparent'><a class='marginalized' href='#intro.object-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2686'>#</a></div><div id='intro.object-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':object,nested_within'></a></span>An object <span class='textit'>a</span> is <a class='hidden_link' href='#def:nested_within' id='def:nested_within'><i >nested within</i></a> another object <span class='textit'>b</span> if:
<ul class='itemize'><li id='intro.object-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.object-4.1'>(4.1)</a></div><div id='intro.object-4.1.sentence-1' class='sentence'><span class='textit'>a</span> is a subobject of <span class='textit'>b</span>, or</div></li><li id='intro.object-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.object-4.2'>(4.2)</a></div><div id='intro.object-4.2.sentence-1' class='sentence'><span class='textit'>b</span> provides storage for <span class='textit'>a</span>, or</div></li><li id='intro.object-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.object-4.3'>(4.3)</a></div><div id='intro.object-4.3.sentence-1' class='sentence'>there exists an object <span class='textit'>c</span>
where <span class='textit'>a</span> is nested within <span class='textit'>c</span>,
and <span class='textit'>c</span> is nested within <span class='textit'>b</span><a class='hidden_link' href='#intro.object-4.3.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='intro.object-5'><div class='marginalizedparent'><a class='marginalized' href='#intro.object-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2700'>#</a></div><div id='intro.object-5.sentence-1' class='sentence'>For every object <span class='texttt'>x</span>, there is some object called the
<a class='hidden_link' href='#def:complete_object_of' id='def:complete_object_of'><i >complete object of</i></a> <span class='texttt'>x</span>, determined as follows:
<ul class='itemize'><li id='intro.object-5.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.object-5.1'>(5.1)</a></div><div id='intro.object-5.1.sentence-1' class='sentence'>If <span class='texttt'>x</span> is a complete object, then the complete object
of <span class='texttt'>x</span> is itself<a class='hidden_link' href='#intro.object-5.1.sentence-1'>.</a></div></li><li id='intro.object-5.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.object-5.2'>(5.2)</a></div><div id='intro.object-5.2.sentence-1' class='sentence'>Otherwise, the complete object of <span class='texttt'>x</span> is the complete object
of the (unique) object that contains <span class='texttt'>x</span><a class='hidden_link' href='#intro.object-5.2.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='intro.object-6'><div class='marginalizedparent'><a class='marginalized' href='#intro.object-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2713'>#</a></div><div id='intro.object-6.sentence-1' class='sentence'>If a complete object, a data member (<a href='class.mem'>[class.mem]</a>), or an array element is of
class type, its type is considered the <a class='hidden_link' href='#def:most_derived_class' id='def:most_derived_class'><i >most derived
class</i></a>, to distinguish it from the class type of any base class subobject;
an object of a most derived class type or of a non-class type is called a
<a class='hidden_link' href='#def:most_derived_object' id='def:most_derived_object'><i >most derived object</i></a><a class='hidden_link' href='#intro.object-6.sentence-1'>.</a></div></div><div class='para' id='intro.object-7'><div class='marginalizedparent'><a class='marginalized' href='#intro.object-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2720'>#</a></div><div id='intro.object-7.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:potentially-overlapping_subobject' id='def:potentially-overlapping_subobject'><i >potentially-overlapping subobject</i></a> is either:
<ul class='itemize'><li id='intro.object-7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.object-7.1'>(7.1)</a></div><div id='intro.object-7.1.sentence-1' class='sentence'>a base class subobject, or</div></li><li id='intro.object-7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.object-7.2'>(7.2)</a></div><div id='intro.object-7.2.sentence-1' class='sentence'>a non-static data member
declared with the <span class='texttt'>no_&shy;unique_&shy;address</span> attribute (<a href='dcl.attr.nouniqueaddr'>[dcl.attr.nouniqueaddr]</a>)<a class='hidden_link' href='#intro.object-7.2.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='intro.object-8'><div class='marginalizedparent'><a class='marginalized' href='#intro.object-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2728'>#</a></div><div id='intro.object-8.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':object,zero_size'></a></span><span class='indexparent'><a class='index' id=':object,nonzero_size'></a></span>An object has nonzero size if it
<ul class='itemize'><li id='intro.object-8.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.object-8.1'>(8.1)</a></div><div id='intro.object-8.1.sentence-1' class='sentence'>is not a potentially-overlapping subobject, or</div></li><li id='intro.object-8.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.object-8.2'>(8.2)</a></div><div id='intro.object-8.2.sentence-1' class='sentence'>is not of class type, or</div></li><li id='intro.object-8.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.object-8.3'>(8.3)</a></div><div id='intro.object-8.3.sentence-1' class='sentence'>is of a class type with virtual member functions or virtual base classes, or</div></li><li id='intro.object-8.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.object-8.4'>(8.4)</a></div><div id='intro.object-8.4.sentence-1' class='sentence'>has subobjects of nonzero size or bit-fields of nonzero length<a class='hidden_link' href='#intro.object-8.4.sentence-1'>.</a></div></li></ul></div> <div id='intro.object-8.sentence-2' class='sentence'>
Otherwise, if the object is a base class subobject
of a standard-layout class type
with no non-static data members,
it has zero size<a class='hidden_link' href='#intro.object-8.sentence-2'>.</a></div> <div id='intro.object-8.sentence-3' class='sentence'>Otherwise, the circumstances under which the object has zero size
are <span class='indexparent'><a class='index' id=':which_non-standard-layout_objects_containing_no_data_are_considered_empty'></a></span>implementation-defined<a class='hidden_link' href='#intro.object-8.sentence-3'>.</a></div> <div id='intro.object-8.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':most_derived_object,bit-field'></a></span>Unless it is a bit-field (<a href='class.bit'>[class.bit]</a>),
an object with nonzero size
shall occupy one or more bytes of storage,
including every byte that is occupied in full or in part
by any of its subobjects<a class='hidden_link' href='#intro.object-8.sentence-4'>.</a></div> <div id='intro.object-8.sentence-5' class='sentence'>An object of trivially copyable or
standard-layout type (<a href='#types'>[basic.types]</a>) shall occupy contiguous bytes of
storage<a class='hidden_link' href='#intro.object-8.sentence-5'>.</a></div></div><div class='para' id='intro.object-9'><div class='marginalizedparent'><a class='marginalized' href='#intro.object-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2755'>#</a></div><div id='intro.object-9.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':most_derived_object,bit-field_'></a></span><span class='indexparent'><a class='index' id=':most_derived_object,zero_size_subobject'></a></span>Unless an object is a bit-field or a subobject of zero size, the
address of that object is the address of the first byte it occupies<a class='hidden_link' href='#intro.object-9.sentence-1'>.</a></div> <div id='intro.object-9.sentence-2' class='sentence'>Two objects
with overlapping lifetimes
that are not bit-fields
may have the same address
if one is nested within the other,
or
if at least one is a subobject of zero size
and they are of different types;
otherwise, they have distinct addresses
and occupy disjoint bytes of storage<a class='hidden_link' href='#intro.object-9.sentence-2'>.</a><a class='footnotenum' href='#footnote-31'>31</a></div> <div id='intro.object-9.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#intro.object-9.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
static const char test1 = 'x';
static const char test2 = 'x';
const bool b = &amp;test1 != &amp;test2;        <span class='comment'>// always <span class='tcode_in_codeblock'>true</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='intro.object-9.sentence-3' class='sentence'>
The address of a non-bit-field subobject of zero size is
the address of an unspecified byte of storage
occupied by the complete object of that subobject<a class='hidden_link' href='#intro.object-9.sentence-3'>.</a></div></div><div class='para' id='intro.object-10'><div class='marginalizedparent'><a class='marginalized' href='#intro.object-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2784'>#</a></div><div id='intro.object-10.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.object-10.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.object-10.sentence-1' class='sentence'>C++ provides a variety of fundamental types and several ways of composing
new types from existing types (<a href='#types'>[basic.types]</a>)<a class='hidden_link' href='#intro.object-10.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  </div><div class='footnote' id='footnote-31'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-31'>31)</a></div><div id='footnote-31.sentence-1' class='sentence'>Under the “as-if” rule an
implementation is allowed to store two objects at the same machine address or
not store an object at all if the program cannot observe the
difference (<a href='#intro.execution'>[intro.execution]</a>)<a class='hidden_link' href='#footnote-31.sentence-1'>.</a></div></div></div><div id='life' class='section'><h3 ><a class='secnum' href='#life' style='min-width:103pt'>6.6.3</a> Object lifetime <a class='abbr_ref' href='basic.life'>[basic.life]</a></h3><div class='para' id='life-1'><div class='marginalizedparent'><a class='marginalized' href='#life-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2793'>#</a></div><div id='life-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':object_lifetime'></a></span>The <a class='hidden_link' href='#def:lifetime' id='def:lifetime'><i >lifetime</i></a> of an object or reference is a runtime property of the
object or reference<a class='hidden_link' href='#life-1.sentence-1'>.</a></div> <div id='life-1.sentence-2' class='sentence'>An object is said to have <span class='indexparent'><a class='index' id=':initialization,non-vacuous'></a></span><span class='textit'>non-vacuous initialization</span> if it is of a class or
array type and it or one of its subobjects is initialized by a constructor
other than a trivial default constructor<a class='hidden_link' href='#life-1.sentence-2'>.</a></div> <div id='life-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#life-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='life-1.sentence-3' class='sentence'>Initialization by a
trivial copy/move constructor is non-vacuous initialization<a class='hidden_link' href='#life-1.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='life-1.sentence-4' class='sentence'>
The lifetime of an object of type <span class='texttt'>T</span> begins when:
<ul class='itemize'><li id='life-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-1.1'>(1.1)</a></div><div id='life-1.1.sentence-1' class='sentence'>storage with the proper alignment and size for type <span class='texttt'>T</span> is
obtained, and</div></li><li id='life-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-1.2'>(1.2)</a></div><div id='life-1.2.sentence-1' class='sentence'>if the object has non-vacuous initialization, its initialization is complete,</div></li></ul>
except that if the object is a union member or subobject thereof,
its lifetime only begins if that union member is the
initialized member in the union (<a href='dcl.init.aggr'>[dcl.init.aggr]</a>, <a href='class.base.init'>[class.base.init]</a>),
or as described in <a href='class.union'>[class.union]</a><a class='hidden_link' href='#life-1.sentence-4'>.</a></div> <div id='life-1.sentence-5' class='sentence'>The lifetime of an object <span class='textit'>o</span> of type <span class='texttt'>T</span> ends when:
<ul class='itemize'><li id='life-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-1.3'>(1.3)</a></div><div id='life-1.3.sentence-1' class='sentence'>if <span class='texttt'>T</span> is a class type with a non-trivial
destructor (<a href='class.dtor'>[class.dtor]</a>), the destructor call starts, or</div></li><li id='life-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-1.4'>(1.4)</a></div><div id='life-1.4.sentence-1' class='sentence'>the storage which the object occupies is released,
or is reused by an object that is not nested within <span class='textit'>o</span> (<a href='#intro.object'>[intro.object]</a>)<a class='hidden_link' href='#life-1.4.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='life-2'><div class='marginalizedparent'><a class='marginalized' href='#life-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2819'>#</a></div><div id='life-2.sentence-1' class='sentence'>The lifetime of a reference begins when its initialization is complete<a class='hidden_link' href='#life-2.sentence-1'>.</a></div> <div id='life-2.sentence-2' class='sentence'>The lifetime of a reference ends as if it were a scalar object<a class='hidden_link' href='#life-2.sentence-2'>.</a></div></div><div class='para' id='life-3'><div class='marginalizedparent'><a class='marginalized' href='#life-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2823'>#</a></div><div id='life-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#life-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='life-3.sentence-1' class='sentence'><a href='class.base.init'>[class.base.init]</a>
describes the lifetime of base and member subobjects<a class='hidden_link' href='#life-3.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='life-4'><div class='marginalizedparent'><a class='marginalized' href='#life-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2827'>#</a></div><div id='life-4.sentence-1' class='sentence'>The properties ascribed to objects and references throughout this document
apply for a given object or reference only during its lifetime<a class='hidden_link' href='#life-4.sentence-1'>.</a></div> <div id='life-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#life-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='life-4.sentence-2' class='sentence'>In particular, before the lifetime of an object starts and after its
lifetime ends there are significant restrictions on the use of the
object, as described below, in <a href='class.base.init'>[class.base.init]</a> and
in <a href='class.cdtor'>[class.cdtor]</a><a class='hidden_link' href='#life-4.sentence-2'>.</a></div> <div id='life-4.sentence-3' class='sentence'>Also, the behavior of an object under construction
and destruction might not be the same as the behavior of an object whose
lifetime has started and not ended<a class='hidden_link' href='#life-4.sentence-3'>.</a></div> <div id='life-4.sentence-4' class='sentence'><a href='class.base.init'>[class.base.init]</a>
and <a href='class.cdtor'>[class.cdtor]</a> describe the behavior of objects during the
construction and destruction phases<a class='hidden_link' href='#life-4.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='life-5'><div class='marginalizedparent'><a class='marginalized' href='#life-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2839'>#</a></div><div id='life-5.sentence-1' class='sentence'>A program may end the lifetime of any object by reusing the storage
which the object occupies or by explicitly calling the destructor for an
object of a class type with a non-trivial destructor<a class='hidden_link' href='#life-5.sentence-1'>.</a></div> <div id='life-5.sentence-2' class='sentence'>For an object of a
class type with a non-trivial destructor, the program is not required to
call the destructor explicitly before the storage which the object
occupies is reused or released; however, if there is no explicit call to
the destructor or if a <i ><a href='expr.delete#nt:delete-expression'>delete-expression</a></i>
is not used to release the storage, the destructor shall not be
implicitly called and any program that depends on the side effects
produced by the destructor has undefined behavior<a class='hidden_link' href='#life-5.sentence-2'>.</a></div></div><div class='para' id='life-6'><div class='marginalizedparent'><a class='marginalized' href='#life-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2851'>#</a></div><div id='life-6.sentence-1' class='sentence'>Before the lifetime of an object has started but after the storage which
the object will occupy has been allocated<a class='footnotenum' href='#footnote-32'>32</a>
or, after the lifetime of an object has ended and before the storage
which the object occupied is reused or released, any pointer that represents the address of
the storage location where the object will be or was located may be
used but only in limited ways<a class='hidden_link' href='#life-6.sentence-1'>.</a></div> <div id='life-6.sentence-2' class='sentence'>For an object under construction or destruction, see <a href='class.cdtor'>[class.cdtor]</a><a class='hidden_link' href='#life-6.sentence-2'>.</a></div> <div id='life-6.sentence-3' class='sentence'>Otherwise, such
a pointer refers to allocated
storage (<a href='#stc.dynamic.allocation'>[basic.stc.dynamic.allocation]</a>), and using the pointer as
if the pointer were of type <span class='texttt'>void*</span>, is
well-defined<a class='hidden_link' href='#life-6.sentence-3'>.</a></div> <div id='life-6.sentence-4' class='sentence'>Indirection through such a pointer is permitted but the resulting lvalue may only be used in
limited ways, as described below<a class='hidden_link' href='#life-6.sentence-4'>.</a></div> <div id='life-6.sentence-5' class='sentence'>The
program has undefined behavior if:
<ul class='itemize'><li id='life-6.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-6.1'>(6.1)</a></div><div id='life-6.1.sentence-1' class='sentence'>the object will be or was of a class type with a non-trivial destructor
  and the pointer is used as the operand of a <i ><a href='expr.delete#nt:delete-expression'>delete-expression</a></i>,</div></li><li id='life-6.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-6.2'>(6.2)</a></div><div id='life-6.2.sentence-1' class='sentence'>the pointer is used to access a non-static data member or call a
  non-static member function of the object, or</div></li><li id='life-6.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-6.3'>(6.3)</a></div><div id='life-6.3.sentence-1' class='sentence'>the pointer is implicitly converted (<a href='conv.ptr'>[conv.ptr]</a>) to a pointer
  to a virtual base class, or</div></li><li id='life-6.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-6.4'>(6.4)</a></div><div id='life-6.4.sentence-1' class='sentence'>the pointer is used as the operand of a
  <span class='texttt'>static_&shy;cast</span> (<a href='expr.static.cast'>[expr.static.cast]</a>), except when the conversion
  is to pointer to <span class='mathit'>cv</span> <span class='texttt'>void</span>, or to pointer to <span class='mathit'>cv</span> <span class='texttt'>void</span>
  and subsequently to pointer to
  <span class='mathit'>cv</span> <span class='texttt'>char</span>,
  <span class='mathit'>cv</span> <span class='texttt'>unsigned char</span>, or
  <span class='mathit'>cv</span> <span class='texttt'>std&#x200b;::&#x200b;byte</span> (<a href='cstddef.syn'>[cstddef.syn]</a>), or</div></li><li id='life-6.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-6.5'>(6.5)</a></div><div id='life-6.5.sentence-1' class='sentence'>the pointer is used as the operand of a
  <span class='texttt'>dynamic_&shy;cast</span> (<a href='expr.dynamic.cast'>[expr.dynamic.cast]</a>)<a class='hidden_link' href='#life-6.5.sentence-1'>.</a></div></li></ul></div> <div id='life-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#life-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
#include &lt;cstdlib&gt;

struct B {
  virtual void f();
  void mutate();
  virtual ~B();
};

struct D1 : B { void f(); };
struct D2 : B { void f(); };

void B::mutate() {
  new (this) D2;    <span class='comment'>// reuses storage — ends the lifetime of <span class='tcode_in_codeblock'>*this</span>
</span>  f();              <span class='comment'>// undefined behavior
</span>  ... = this;       <span class='comment'>// OK, <span class='tcode_in_codeblock'>this</span> points to valid memory
</span>}

void g() {
  void* p = std::malloc(sizeof(D1) + sizeof(D2));
  B* pb = new (p) D1;
  pb-&gt;mutate();
  *pb;              <span class='comment'>// OK: <span class='tcode_in_codeblock'>pb</span> points to valid memory
</span>  void* q = pb;     <span class='comment'>// OK: <span class='tcode_in_codeblock'>pb</span> points to valid memory
</span>  pb-&gt;f();          <span class='comment'>// undefined behavior, lifetime of <span class='tcode_in_codeblock'>*pb</span> has ended
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='life-7'><div class='marginalizedparent'><a class='marginalized' href='#life-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2920'>#</a></div><div id='life-7.sentence-1' class='sentence'>Similarly, before the lifetime of an object has started but after the
storage which the object will occupy has been allocated or, after the
lifetime of an object has ended and before the storage which the object
occupied is reused or released, any glvalue that refers to the original
object may be used but only in limited ways<a class='hidden_link' href='#life-7.sentence-1'>.</a></div> <div id='life-7.sentence-2' class='sentence'>For an object under construction or destruction, see <a href='class.cdtor'>[class.cdtor]</a><a class='hidden_link' href='#life-7.sentence-2'>.</a></div> <div id='life-7.sentence-3' class='sentence'>Otherwise, such
a glvalue refers to
allocated storage (<a href='#stc.dynamic.allocation'>[basic.stc.dynamic.allocation]</a>), and using the
properties of the glvalue that do not depend on its value is
well-defined<a class='hidden_link' href='#life-7.sentence-3'>.</a></div> <div id='life-7.sentence-4' class='sentence'>The program has undefined behavior if:
<ul class='itemize'><li id='life-7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-7.1'>(7.1)</a></div><div id='life-7.1.sentence-1' class='sentence'>the glvalue is used to access the object, or</div></li><li id='life-7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-7.2'>(7.2)</a></div><div id='life-7.2.sentence-1' class='sentence'>the glvalue is used to call a non-static member function of the object, or</div></li><li id='life-7.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-7.3'>(7.3)</a></div><div id='life-7.3.sentence-1' class='sentence'>the glvalue is bound to a reference to a virtual base class (<a href='dcl.init.ref'>[dcl.init.ref]</a>), or</div></li><li id='life-7.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-7.4'>(7.4)</a></div><div id='life-7.4.sentence-1' class='sentence'>the glvalue is used as the operand of a
<span class='texttt'>dynamic_&shy;cast</span> (<a href='expr.dynamic.cast'>[expr.dynamic.cast]</a>) or as the operand of
<span class='texttt'>typeid</span><a class='hidden_link' href='#life-7.4.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='life-8'><div class='marginalizedparent'><a class='marginalized' href='#life-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2941'>#</a></div><div id='life-8.sentence-1' class='sentence'>If, after the lifetime of an object has ended and before the storage
which the object occupied is reused or released, a new object is created
at the storage location which the original object occupied, a pointer
that pointed to the original object, a reference that referred to the
original object, or the name of the original object will automatically
refer to the new object and, once the lifetime of the new object has
started, can be used to manipulate the new object, if:
<ul class='itemize'><li id='life-8.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-8.1'>(8.1)</a></div><div id='life-8.1.sentence-1' class='sentence'>the storage for the new object exactly overlays the storage
location which the original object occupied, and</div></li><li id='life-8.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-8.2'>(8.2)</a></div><div id='life-8.2.sentence-1' class='sentence'>the new object is of the same type as the original object
(ignoring the top-level cv-qualifiers), and</div></li><li id='life-8.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-8.3'>(8.3)</a></div><div id='life-8.3.sentence-1' class='sentence'>the type of the original object is not const-qualified, and, if a
class type, does not contain any non-static data member whose type is
const-qualified or a reference type, and</div></li><li id='life-8.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-8.4'>(8.4)</a></div><div id='life-8.4.sentence-1' class='sentence'>neither the original object nor the new object
is a potentially-overlapping subobject (<a href='#intro.object'>[intro.object]</a>)<a class='hidden_link' href='#life-8.4.sentence-1'>.</a></div></li></ul></div> <div id='life-8.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#life-8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct C {
  int i;
  void f();
  const C&amp; operator=( const C&amp; );
};

const C&amp; C::operator=( const C&amp; other) {
  if ( this != &amp;other ) {
    this-&gt;~C();                 <span class='comment'>// lifetime of <span class='tcode_in_codeblock'>*this</span> ends
</span>    new (this) C(other);        <span class='comment'>// new object of type <span class='tcode_in_codeblock'>C</span> created
</span>    f();                        <span class='comment'>// well-defined
</span>  }
  return *this;
}

C c1;
C c2;
c1 = c2;                        <span class='comment'>// well-defined
</span>c1.f();                         <span class='comment'>// well-defined; <span class='tcode_in_codeblock'>c1</span> refers to a new object of type <span class='tcode_in_codeblock'>C</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='life-8.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#life-8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='life-8.sentence-2' class='sentence'>If these conditions are not met,
a pointer to the new object can be obtained from
a pointer that represents the address of its storage
by calling <span class='texttt'>std&#x200b;::&#x200b;launder</span> (<a href='support.dynamic'>[support.dynamic]</a>)<a class='hidden_link' href='#life-8.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='life-9'><div class='marginalizedparent'><a class='marginalized' href='#life-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L2993'>#</a></div><div id='life-9.sentence-1' class='sentence'>If a program ends the lifetime of an object of type <span class='texttt'>T</span> with
<a href='#stc.static'>static</a>, <a href='#stc.thread'>thread</a>,
or <a href='#stc.auto'>automatic storage duration</a>
and if <span class='texttt'>T</span> has a non-trivial destructor,<a class='footnotenum' href='#footnote-33'>33</a>
the program must ensure that an object of the original type occupies
that same storage location when the implicit destructor call takes
place; otherwise the behavior of the program is undefined<a class='hidden_link' href='#life-9.sentence-1'>.</a></div> <div id='life-9.sentence-2' class='sentence'>This is true
even if the block is exited with an exception<a class='hidden_link' href='#life-9.sentence-2'>.</a></div> <div id='life-9.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#life-9.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
class T { };
struct B {
   ~B();
};

void h() {
   B b;
   new (&amp;b) T;
}                               <span class='comment'>// undefined behavior at block exit
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='life-10'><div class='marginalizedparent'><a class='marginalized' href='#life-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3021'>#</a></div><div id='life-10.sentence-1' class='sentence'>Creating a new object within the storage that a const complete
object with static, thread, or automatic storage duration occupies,
or within the storage that such a const object used to occupy before
its lifetime ended, results in undefined behavior<a class='hidden_link' href='#life-10.sentence-1'>.</a></div> <div id='life-10.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#life-10.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct B {
  B();
  ~B();
};

const B b;

void h() {
  b.~B();
  new (const_cast&lt;B*&gt;(&amp;b)) const B;     <span class='comment'>// undefined behavior
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='life-11'><div class='marginalizedparent'><a class='marginalized' href='#life-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3042'>#</a></div><div id='life-11.sentence-1' class='sentence'>In this subclause, “before” and “after” refer to the “happens before”
relation (<a href='#intro.multithread'>[intro.multithread]</a>)<a class='hidden_link' href='#life-11.sentence-1'>.</a></div> <div id='life-11.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#life-11.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='life-11.sentence-2' class='sentence'>Therefore, undefined behavior results
if an object that is being constructed in one thread is referenced from another
thread without adequate synchronization<a class='hidden_link' href='#life-11.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  </div><div class='footnote' id='footnote-32'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-32'>32)</a></div><div id='footnote-32.sentence-1' class='sentence'>For example, before the
construction of a global object
that is initialized via a user-provided constructor (<a href='class.cdtor'>[class.cdtor]</a>)<a class='hidden_link' href='#footnote-32.sentence-1'>.</a></div></div><div class='footnote' id='footnote-33'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-33'>33)</a></div><div id='footnote-33.sentence-1' class='sentence'>That
is, an object for which a destructor will be called
implicitly—upon exit from the block for an object with
automatic storage duration, upon exit from the thread for an object with
thread storage duration, or upon exit from the program for an object
with static storage duration<a class='hidden_link' href='#footnote-33.sentence-1'>.</a></div></div></div><div id='stc' class='section'><h3 ><a class='secnum' href='#stc' style='min-width:103pt'>6.6.4</a> Storage duration <a class='abbr_ref' href='basic.stc'>[basic.stc]</a></h3><div class='para' id='stc-1'><div class='marginalizedparent'><a class='marginalized' href='#stc-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3051'>#</a></div><div id='stc-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':storage_duration'></a></span>The <a class='hidden_link' href='#def:storage_duration_' id='def:storage_duration_'><i >storage duration</i></a> is the property of an object that defines the minimum
potential lifetime of the storage containing the object<a class='hidden_link' href='#stc-1.sentence-1'>.</a></div> <div id='stc-1.sentence-2' class='sentence'>The storage
duration is determined by the construct used to create the object and is
one of the following:</div><div id='stc-1.sentence-3' class='sentence'><ul class='itemize'><li id='stc-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc-1.1'>(1.1)</a></div><div id='stc-1.1.sentence-1' class='sentence'>static storage duration</div></li><li id='stc-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc-1.2'>(1.2)</a></div><div id='stc-1.2.sentence-1' class='sentence'>thread storage duration</div></li><li id='stc-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc-1.3'>(1.3)</a></div><div id='stc-1.3.sentence-1' class='sentence'>automatic storage duration</div></li><li id='stc-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc-1.4'>(1.4)</a></div><div id='stc-1.4.sentence-1' class='sentence'>dynamic storage duration</div></li></ul></div></div><div class='para' id='stc-2'><div class='marginalizedparent'><a class='marginalized' href='#stc-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3065'>#</a></div><div id='stc-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':storage_duration,static'></a></span><span class='indexparent'><a class='index' id=':storage_duration,thread'></a></span><span class='indexparent'><a class='index' id=':storage_duration,automatic'></a></span><span class='indexparent'><a class='index' id=':storage_duration,dynamic'></a></span>Static, thread, and automatic storage durations are associated with objects
introduced by declarations (<a href='#def'>[basic.def]</a>) and <a href='#class.temporary'>implicitly created by
the implementation</a><a class='hidden_link' href='#stc-2.sentence-1'>.</a></div> <div id='stc-2.sentence-2' class='sentence'>The dynamic storage duration
is associated with objects created by a
<i ><a href='expr.new#nt:new-expression'>new-expression</a></i><a class='hidden_link' href='#stc-2.sentence-2'>.</a></div></div><div class='para' id='stc-3'><div class='marginalizedparent'><a class='marginalized' href='#stc-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3076'>#</a></div><div id='stc-3.sentence-1' class='sentence'>The storage duration categories apply to references as well<a class='hidden_link' href='#stc-3.sentence-1'>.</a></div></div><div class='para' id='stc-4'><div class='marginalizedparent'><a class='marginalized' href='#stc-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3079'>#</a></div><div id='stc-4.sentence-1' class='sentence'>When the end of the duration of a region of storage is reached,
the values of all pointers
representing the address of any part of that region of storage
become <a href='#def:invalid_pointer_value'>invalid pointer values</a><a class='hidden_link' href='#stc-4.sentence-1'>.</a></div> <div id='stc-4.sentence-2' class='sentence'>Indirection through an invalid pointer value and
passing an invalid pointer value to a deallocation function
have undefined behavior<a class='hidden_link' href='#stc-4.sentence-2'>.</a></div> <div id='stc-4.sentence-3' class='sentence'>Any other use of an invalid pointer value has
<span class='indexparent'><a class='index' id=':any_use_of_an_invalid_pointer_other_than_to_perform_indirection_or_deallocate'></a></span>implementation-defined
behavior<a class='hidden_link' href='#stc-4.sentence-3'>.</a><a class='footnotenum' href='#footnote-34'>34</a></div></div><div class='footnote' id='footnote-34'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-34'>34)</a></div><div id='footnote-34.sentence-1' class='sentence'>Some implementations might define that
copying an invalid pointer value
causes a system-generated runtime fault<a class='hidden_link' href='#footnote-34.sentence-1'>.</a></div></div><div id='stc.static' class='section'><h4 ><a class='secnum' href='#stc.static' style='min-width:118pt'>6.6.4.1</a> Static storage duration <a class='abbr_ref' href='basic.stc.static'>[basic.stc.static]</a></h4><div class='para' id='stc.static-1'><div class='marginalizedparent'><a class='marginalized' href='#stc.static-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3095'>#</a></div><div id='stc.static-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':storage_duration,static_'></a></span>All variables which do not have dynamic storage duration, do not have thread
storage duration, and are not local
have <a class='hidden_link' href='#def:static_storage_duration' id='def:static_storage_duration'><i >static storage duration</i></a><a class='hidden_link' href='#stc.static-1.sentence-1'>.</a></div> <div id='stc.static-1.sentence-2' class='sentence'>The
storage for these entities shall last for the duration of the
program (<a href='#start.static'>[basic.start.static]</a>, <a href='#start.term'>[basic.start.term]</a>)<a class='hidden_link' href='#stc.static-1.sentence-2'>.</a></div></div><div class='para' id='stc.static-2'><div class='marginalizedparent'><a class='marginalized' href='#stc.static-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3103'>#</a></div><div id='stc.static-2.sentence-1' class='sentence'>If a variable with static storage duration has initialization or a
destructor with side effects, it shall not be eliminated even if it
appears to be unused, except that a class object or its copy/move may be
eliminated as specified in <a href='class.copy.elision'>[class.copy.elision]</a><a class='hidden_link' href='#stc.static-2.sentence-1'>.</a></div></div><div class='para' id='stc.static-3'><div class='marginalizedparent'><a class='marginalized' href='#stc.static-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3109'>#</a></div><div id='stc.static-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':object,local_static'></a></span>The keyword <span class='texttt'>static</span> can be used to declare a local variable with
static storage duration<a class='hidden_link' href='#stc.static-3.sentence-1'>.</a></div> <div id='stc.static-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#stc.static-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='stc.static-3.sentence-2' class='sentence'><a href='stmt.dcl'>[stmt.dcl]</a> describes the
initialization of local <span class='texttt'>static</span> variables; <a href='#start.term'>[basic.start.term]</a>
describes the destruction of local <span class='texttt'>static</span> variables<a class='hidden_link' href='#stc.static-3.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='stc.static-4'><div class='marginalizedparent'><a class='marginalized' href='#stc.static-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3116'>#</a></div><div id='stc.static-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':member,class_static'></a></span>The keyword <span class='texttt'>static</span> applied to a class data member in a class
definition gives the data member static storage duration<a class='hidden_link' href='#stc.static-4.sentence-1'>.</a></div></div></div><div id='stc.thread' class='section'><h4 ><a class='secnum' href='#stc.thread' style='min-width:118pt'>6.6.4.2</a> Thread storage duration <a class='abbr_ref' href='basic.stc.thread'>[basic.stc.thread]</a></h4><div class='para' id='stc.thread-1'><div class='marginalizedparent'><a class='marginalized' href='#stc.thread-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3123'>#</a></div><div id='stc.thread-1.sentence-1' class='sentence'>All variables declared with the <span class='texttt'>thread_&shy;local</span> keyword have
<span class='indexparent'><a class='index' id=':storage_duration,thread_'></a></span><span class='textit'>thread storage duration</span><a class='hidden_link' href='#stc.thread-1.sentence-1'>.</a></div> <div id='stc.thread-1.sentence-2' class='sentence'>The storage for these entities shall last for the duration of
the thread in which they are created<a class='hidden_link' href='#stc.thread-1.sentence-2'>.</a></div> <div id='stc.thread-1.sentence-3' class='sentence'>There is a distinct object or reference
per thread, and use of the declared name refers to the entity associated with
the current thread<a class='hidden_link' href='#stc.thread-1.sentence-3'>.</a></div></div><div class='para' id='stc.thread-2'><div class='marginalizedparent'><a class='marginalized' href='#stc.thread-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3131'>#</a></div><div id='stc.thread-2.sentence-1' class='sentence'>A variable with thread storage duration shall be initialized before
its first <a href='#def.odr'>odr-use</a> and, if constructed, shall be destroyed on thread exit<a class='hidden_link' href='#stc.thread-2.sentence-1'>.</a></div></div></div><div id='stc.auto' class='section'><h4 ><a class='secnum' href='#stc.auto' style='min-width:118pt'>6.6.4.3</a> Automatic storage duration <a class='abbr_ref' href='basic.stc.auto'>[basic.stc.auto]</a></h4><div class='para' id='stc.auto-1'><div class='marginalizedparent'><a class='marginalized' href='#stc.auto-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3137'>#</a></div><div id='stc.auto-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':storage_duration,local_object'></a></span>Block-scope variables
not explicitly declared <span class='texttt'>static</span>, <span class='texttt'>thread_&shy;local</span>, or <span class='texttt'>extern</span> have
<span class='indexparent'><a class='index' id=':storage_duration,automatic_'></a></span><span class='textit'>automatic storage duration</span><a class='hidden_link' href='#stc.auto-1.sentence-1'>.</a></div> <div id='stc.auto-1.sentence-2' class='sentence'>The storage
for these entities lasts until the block in which they are created exits<a class='hidden_link' href='#stc.auto-1.sentence-2'>.</a></div></div><div class='para' id='stc.auto-2'><div class='marginalizedparent'><a class='marginalized' href='#stc.auto-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3144'>#</a></div><div id='stc.auto-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#stc.auto-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='stc.auto-2.sentence-1' class='sentence'>These variables are initialized and destroyed as described in <a href='stmt.dcl'>[stmt.dcl]</a><a class='hidden_link' href='#stc.auto-2.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='stc.auto-3'><div class='marginalizedparent'><a class='marginalized' href='#stc.auto-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3149'>#</a></div><div id='stc.auto-3.sentence-1' class='sentence'>If a variable with automatic storage duration has initialization or a destructor with side
effects, an implementation shall not destroy it before the end of its block
nor eliminate it as an optimization, even if it appears to be
unused, except that a class object or its copy/move may be eliminated as
specified in <a href='class.copy.elision'>[class.copy.elision]</a><a class='hidden_link' href='#stc.auto-3.sentence-1'>.</a></div></div></div><div id='stc.dynamic' class='section'><h4 ><a class='secnum' href='#stc.dynamic' style='min-width:118pt'>6.6.4.4</a> Dynamic storage duration <a class='abbr_ref' href='basic.stc.dynamic'>[basic.stc.dynamic]</a></h4><span class='indexparent'><a class='index' id=':storage_duration,dynamic_'></a></span><div class='para' id='stc.dynamic-1'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3159'>#</a></div><div id='stc.dynamic-1.sentence-1' class='sentence'>Objects can be created dynamically during <a href='#intro.execution'>program
execution</a>, using
<span class='indexparent'><a class='index' id=':new'></a></span><i ><a href='expr.new#nt:new-expression'>new-expression</a></i><span class='textit'>s</span>, and destroyed using
<span class='indexparent'><a class='index' id=':delete'></a></span><i ><a href='expr.delete#nt:delete-expression'>delete-expression</a></i><span class='textit'>s</span><a class='hidden_link' href='#stc.dynamic-1.sentence-1'>.</a></div> <div id='stc.dynamic-1.sentence-2' class='sentence'>A C++ implementation
provides access to, and management of, dynamic storage via the global
<a class='hidden_link' href='#def:allocation_functions' id='def:allocation_functions'><i >allocation functions</i></a> <span class='texttt'>operator new</span> and <span class='texttt'>operator
new[]</span> and the global <a class='hidden_link' href='#def:deallocation_functions' id='def:deallocation_functions'><i >deallocation functions</i></a> <span class='texttt'>operator
delete</span> and <span class='texttt'>operator delete[]</span><a class='hidden_link' href='#stc.dynamic-1.sentence-2'>.</a></div> <div id='stc.dynamic-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#stc.dynamic-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='stc.dynamic-1.sentence-3' class='sentence'>The non-allocating forms described in <a href='new.delete.placement'>[new.delete.placement]</a>
do not perform allocation or deallocation<a class='hidden_link' href='#stc.dynamic-1.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='stc.dynamic-2'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3175'>#</a></div><div id='stc.dynamic-2.sentence-1' class='sentence'>The library provides default definitions for the global allocation and
deallocation functions<a class='hidden_link' href='#stc.dynamic-2.sentence-1'>.</a></div> <div id='stc.dynamic-2.sentence-2' class='sentence'>Some global allocation and deallocation
functions are replaceable (<a href='new.delete'>[new.delete]</a>)<a class='hidden_link' href='#stc.dynamic-2.sentence-2'>.</a></div> <div id='stc.dynamic-2.sentence-3' class='sentence'>A C++ program shall
provide at most one definition of a replaceable allocation or
deallocation function<a class='hidden_link' href='#stc.dynamic-2.sentence-3'>.</a></div> <div id='stc.dynamic-2.sentence-4' class='sentence'>Any such function definition replaces the default
version provided in the library (<a href='replacement.functions'>[replacement.functions]</a>)<a class='hidden_link' href='#stc.dynamic-2.sentence-4'>.</a></div> <div id='stc.dynamic-2.sentence-5' class='sentence'>The
following allocation and deallocation functions (<a href='support.dynamic'>[support.dynamic]</a>)
are implicitly declared in global scope in each translation unit of a
program<a class='hidden_link' href='#stc.dynamic-2.sentence-5'>.</a></div><pre class='codeblock'>
[[nodiscard]] void* operator new(std::size_t);
[[nodiscard]] void* operator new(std::size_t, std::align_val_t);

void operator delete(void*) noexcept;
void operator delete(void*, std::size_t) noexcept;
void operator delete(void*, std::align_val_t) noexcept;
void operator delete(void*, std::size_t, std::align_val_t) noexcept;

[[nodiscard]] void* operator new[](std::size_t);
[[nodiscard]] void* operator new[](std::size_t, std::align_val_t);

void operator delete[](void*) noexcept;
void operator delete[](void*, std::size_t) noexcept;
void operator delete[](void*, std::align_val_t) noexcept;
void operator delete[](void*, std::size_t, std::align_val_t) noexcept;</pre><div id='stc.dynamic-2.sentence-6' class='sentence'>These implicit declarations introduce only the function names
<span class='texttt'>operator</span> <span class='texttt'>new</span>, <span class='texttt'>operator</span> <span class='texttt'>new[]</span>,
<span class='texttt'>operator</span> <span class='texttt'>delete</span>, and <span class='texttt'>operator</span>
<span class='texttt'>delete[]</span><a class='hidden_link' href='#stc.dynamic-2.sentence-6'>.</a></div> <div id='stc.dynamic-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#stc.dynamic-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='stc.dynamic-2.sentence-7' class='sentence'>The implicit declarations do not introduce
the names <span class='texttt'>std</span>,
<span class='texttt'>std&#x200b;::&#x200b;size_&shy;t</span>,
<span class='texttt'>std&#x200b;::&#x200b;align_&shy;val_&shy;t</span>,
or any other names that the library uses to
declare these names<a class='hidden_link' href='#stc.dynamic-2.sentence-7'>.</a></div> <div id='stc.dynamic-2.sentence-8' class='sentence'>Thus, a <i ><a href='expr.new#nt:new-expression'>new-expression</a></i>,
<i ><a href='expr.delete#nt:delete-expression'>delete-expression</a></i> or function call that refers to one of
these functions without including the header <span class='texttt'>&lt;new&gt;</span> is
well-formed<a class='hidden_link' href='#stc.dynamic-2.sentence-8'>.</a></div> <div id='stc.dynamic-2.sentence-9' class='sentence'>However, referring to <span class='texttt'>std</span>
or <span class='texttt'>std&#x200b;::&#x200b;size_&shy;t</span>
or <span class='texttt'>std&#x200b;::&#x200b;align_&shy;val_&shy;t</span>
is ill-formed unless the name has been declared
by including the appropriate header<a class='hidden_link' href='#stc.dynamic-2.sentence-9'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='stc.dynamic-2.sentence-10' class='sentence'> Allocation and/or
deallocation functions may also be declared and defined for any
class (<a href='class.free'>[class.free]</a>)<a class='hidden_link' href='#stc.dynamic-2.sentence-10'>.</a></div></div><div class='para' id='stc.dynamic-3'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3223'>#</a></div><div id='stc.dynamic-3.sentence-1' class='sentence'>If the behavior of an allocation or deallocation function
does not satisfy the semantic constraints
specified in <a href='#stc.dynamic.allocation'>[basic.stc.dynamic.allocation]</a>
and <a href='#stc.dynamic.deallocation'>[basic.stc.dynamic.deallocation]</a>,
the behavior is undefined<a class='hidden_link' href='#stc.dynamic-3.sentence-1'>.</a></div></div><div id='stc.dynamic.allocation' class='section'><h4 ><a class='secnum' href='#stc.dynamic.allocation' style='min-width:133pt'>6.6.4.4.1</a> Allocation functions <a class='abbr_ref' href='basic.stc.dynamic.allocation'>[basic.stc.dynamic.allocation]</a></h4><div class='para' id='stc.dynamic.allocation-1'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.allocation-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3232'>#</a></div><div id='stc.dynamic.allocation-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':function,allocation'></a></span>An allocation function shall be a class member function or a global
function; a program is ill-formed if an allocation function is declared
in a namespace scope other than global scope or declared static in
global scope<a class='hidden_link' href='#stc.dynamic.allocation-1.sentence-1'>.</a></div> <div id='stc.dynamic.allocation-1.sentence-2' class='sentence'>The return type shall be <span class='texttt'>void*</span><a class='hidden_link' href='#stc.dynamic.allocation-1.sentence-2'>.</a></div> <div id='stc.dynamic.allocation-1.sentence-3' class='sentence'>The first
parameter shall have type <span class='texttt'>std&#x200b;::&#x200b;size_&shy;t</span> (<a href='support.types'>[support.types]</a>)<a class='hidden_link' href='#stc.dynamic.allocation-1.sentence-3'>.</a></div> <div id='stc.dynamic.allocation-1.sentence-4' class='sentence'>The
first parameter shall not have an associated default
argument (<a href='dcl.fct.default'>[dcl.fct.default]</a>)<a class='hidden_link' href='#stc.dynamic.allocation-1.sentence-4'>.</a></div> <div id='stc.dynamic.allocation-1.sentence-5' class='sentence'>The value of the first parameter
is interpreted as the requested size of the allocation<a class='hidden_link' href='#stc.dynamic.allocation-1.sentence-5'>.</a></div> <div id='stc.dynamic.allocation-1.sentence-6' class='sentence'>An allocation
function can be a function template<a class='hidden_link' href='#stc.dynamic.allocation-1.sentence-6'>.</a></div> <div id='stc.dynamic.allocation-1.sentence-7' class='sentence'>Such a template shall declare its
return type and first parameter as specified above (that is, template
parameter types shall not be used in the return type and first parameter
type)<a class='hidden_link' href='#stc.dynamic.allocation-1.sentence-7'>.</a></div> <div id='stc.dynamic.allocation-1.sentence-8' class='sentence'>Template allocation functions shall have two or more parameters<a class='hidden_link' href='#stc.dynamic.allocation-1.sentence-8'>.</a></div></div><div class='para' id='stc.dynamic.allocation-2'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.allocation-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3247'>#</a></div><div id='stc.dynamic.allocation-2.sentence-1' class='sentence'>An allocation function attempts to allocate the requested amount of
storage<a class='hidden_link' href='#stc.dynamic.allocation-2.sentence-1'>.</a></div> <div id='stc.dynamic.allocation-2.sentence-2' class='sentence'>If it is successful, it returns the address of the start
of a block of storage whose length in bytes is at least as large
as the requested size<a class='hidden_link' href='#stc.dynamic.allocation-2.sentence-2'>.</a></div> <div id='stc.dynamic.allocation-2.sentence-3' class='sentence'>The order,
contiguity, and initial value of storage allocated by successive calls
to an allocation function are unspecified<a class='hidden_link' href='#stc.dynamic.allocation-2.sentence-3'>.</a></div> <div id='stc.dynamic.allocation-2.sentence-4' class='sentence'>For an allocation function other than
a reserved placement allocation function (<a href='new.delete.placement'>[new.delete.placement]</a>),
the pointer returned is
suitably aligned so that it can be converted to a pointer to any
suitable complete object type (<a href='new.delete.single'>[new.delete.single]</a>)
and then used to access the object or array in the
storage allocated (until the storage is explicitly deallocated by a call
to a corresponding deallocation function)<a class='hidden_link' href='#stc.dynamic.allocation-2.sentence-4'>.</a></div> <div id='stc.dynamic.allocation-2.sentence-5' class='sentence'>Even if the size of the space
requested is zero, the request can fail<a class='hidden_link' href='#stc.dynamic.allocation-2.sentence-5'>.</a></div> <div id='stc.dynamic.allocation-2.sentence-6' class='sentence'>If the request succeeds, the
value returned by a replaceable allocation function
is a non-null pointer value (<a href='conv.ptr'>[conv.ptr]</a>)
<span class='texttt'>p0</span> different from any previously returned value <span class='texttt'>p1</span>,
unless that value <span class='texttt'>p1</span> was subsequently passed to a
replaceable deallocation function<a class='hidden_link' href='#stc.dynamic.allocation-2.sentence-6'>.</a></div> <div id='stc.dynamic.allocation-2.sentence-7' class='sentence'>Furthermore, for the library allocation functions
in <a href='new.delete.single'>[new.delete.single]</a> and <a href='new.delete.array'>[new.delete.array]</a>,
<span class='texttt'>p0</span> represents the address of a block of storage disjoint from the storage
for any other object accessible to the caller<a class='hidden_link' href='#stc.dynamic.allocation-2.sentence-7'>.</a></div> <div id='stc.dynamic.allocation-2.sentence-8' class='sentence'>The effect of indirecting through a pointer
returned from a request for zero size is undefined<a class='hidden_link' href='#stc.dynamic.allocation-2.sentence-8'>.</a><a class='footnotenum' href='#footnote-35'>35</a></div></div><div class='para' id='stc.dynamic.allocation-3'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.allocation-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3280'>#</a></div><div id='stc.dynamic.allocation-3.sentence-1' class='sentence'>An allocation function that fails to allocate storage can invoke the
currently installed new-handler function (<a href='new.handler'>[new.handler]</a>), if any<a class='hidden_link' href='#stc.dynamic.allocation-3.sentence-1'>.</a></div> <div id='stc.dynamic.allocation-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#stc.dynamic.allocation-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='stc.dynamic.allocation-3.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':new_handler'></a></span>A program-supplied allocation function can obtain the address of the
currently installed <span class='texttt'>new_&shy;handler</span> using the
<span class='texttt'>std&#x200b;::&#x200b;get_&shy;new_&shy;handler</span> function (<a href='set.new.handler'>[set.new.handler]</a>)<a class='hidden_link' href='#stc.dynamic.allocation-3.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='stc.dynamic.allocation-3.sentence-3' class='sentence'>
An allocation function that has a non-throwing
exception specification (<a href='except.spec'>[except.spec]</a>)
indicates failure by returning
a null pointer value<a class='hidden_link' href='#stc.dynamic.allocation-3.sentence-3'>.</a></div> <div id='stc.dynamic.allocation-3.sentence-4' class='sentence'>Any other allocation function
never returns a null pointer value and
indicates failure only by throwing an exception (<a href='except.throw'>[except.throw]</a>) of a type
that would match a handler (<a href='except.handle'>[except.handle]</a>) of type
<span class='texttt'>std&#x200b;::&#x200b;bad_&shy;alloc</span> (<a href='bad.alloc'>[bad.alloc]</a>)<a class='hidden_link' href='#stc.dynamic.allocation-3.sentence-4'>.</a></div></div><div class='para' id='stc.dynamic.allocation-4'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.allocation-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3298'>#</a></div><div id='stc.dynamic.allocation-4.sentence-1' class='sentence'>A global allocation function is only called as the result of a <a href='expr.new'>new
expression</a>, or called directly using the <a href='expr.call'>function call</a>
syntax, or called indirectly through calls to the
functions in the C++ standard library<a class='hidden_link' href='#stc.dynamic.allocation-4.sentence-1'>.</a></div> <div id='stc.dynamic.allocation-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#stc.dynamic.allocation-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='stc.dynamic.allocation-4.sentence-2' class='sentence'>In particular, a
global allocation function is not called to allocate storage for objects
with <a href='#stc.static'>static storage duration</a>, for objects or references
with <a href='#stc.thread'>thread storage duration</a>, for objects of
type <a href='expr.typeid'><span class='texttt'>std&#x200b;::&#x200b;type_&shy;info</span></a>, or for an
<a href='except.throw'>exception object</a><a class='hidden_link' href='#stc.dynamic.allocation-4.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='footnote' id='footnote-35'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-35'>35)</a></div><div id='footnote-35.sentence-1' class='sentence'>The intent is
to have <span class='texttt'>operator new()</span> implementable by
calling <span class='texttt'>std&#x200b;::&#x200b;malloc()</span> or <span class='texttt'>std&#x200b;::&#x200b;calloc()</span>, so the rules are
substantially the same<a class='hidden_link' href='#footnote-35.sentence-1'>.</a></div> <div id='footnote-35.sentence-2' class='sentence'>C++ differs from C in requiring a zero request
to return a non-null pointer<a class='hidden_link' href='#footnote-35.sentence-2'>.</a></div></div></div><div id='stc.dynamic.deallocation' class='section'><h4 ><a class='secnum' href='#stc.dynamic.deallocation' style='min-width:133pt'>6.6.4.4.2</a> Deallocation functions <a class='abbr_ref' href='basic.stc.dynamic.deallocation'>[basic.stc.dynamic.deallocation]</a></h4><div class='para' id='stc.dynamic.deallocation-1'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.deallocation-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3312'>#</a></div><div id='stc.dynamic.deallocation-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':function,deallocation'></a></span>Deallocation functions shall be class member functions or global
functions; a program is ill-formed if deallocation functions are
declared in a namespace scope other than global scope or declared static
in global scope<a class='hidden_link' href='#stc.dynamic.deallocation-1.sentence-1'>.</a></div></div><div class='para' id='stc.dynamic.deallocation-2'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.deallocation-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3319'>#</a></div><div id='stc.dynamic.deallocation-2.sentence-1' class='sentence'>A deallocation function
is a <span class='indexparent'><a class='index' id=':operator_delete,destroying'></a></span><span class='textit'>destroying operator delete</span>
if it has at least two parameters
and its second parameter
is of type <span class='texttt'>std&#x200b;::&#x200b;destroying_&shy;delete_&shy;t</span><a class='hidden_link' href='#stc.dynamic.deallocation-2.sentence-1'>.</a></div> <div id='stc.dynamic.deallocation-2.sentence-2' class='sentence'>A destroying operator delete
shall be a class member function named <span class='texttt'>operator delete</span><a class='hidden_link' href='#stc.dynamic.deallocation-2.sentence-2'>.</a></div> <div id='stc.dynamic.deallocation-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#stc.dynamic.deallocation-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='stc.dynamic.deallocation-2.sentence-3' class='sentence'>Array deletion cannot use a destroying operator delete<a class='hidden_link' href='#stc.dynamic.deallocation-2.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='stc.dynamic.deallocation-3'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.deallocation-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3331'>#</a></div><div id='stc.dynamic.deallocation-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':delete,overloading_and'></a></span>Each deallocation function shall return <span class='texttt'>void</span><a class='hidden_link' href='#stc.dynamic.deallocation-3.sentence-1'>.</a></div> <div id='stc.dynamic.deallocation-3.sentence-2' class='sentence'>If the function is a destroying operator delete
declared in class type <span class='texttt'>C</span>,
the type of its first parameter shall be <span class='texttt'>C*</span>;
otherwise, the type of its first
parameter shall be <span class='texttt'>void*</span><a class='hidden_link' href='#stc.dynamic.deallocation-3.sentence-2'>.</a></div> <div id='stc.dynamic.deallocation-3.sentence-3' class='sentence'>A deallocation function may have more
than one parameter<a class='hidden_link' href='#stc.dynamic.deallocation-3.sentence-3'>.</a></div> <div id='stc.dynamic.deallocation-3.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':deallocation_function,usual'></a></span>A <a class='hidden_link' href='#def:usual_deallocation_function' id='def:usual_deallocation_function'><i >usual deallocation function</i></a> is a deallocation function
whose parameters after the first are
<ul class='itemize'><li id='stc.dynamic.deallocation-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.deallocation-3.1'>(3.1)</a></div><div id='stc.dynamic.deallocation-3.1.sentence-1' class='sentence'>optionally, a parameter of type <span class='texttt'>std&#x200b;::&#x200b;destroying_&shy;delete_&shy;t</span>, then</div></li><li id='stc.dynamic.deallocation-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.deallocation-3.2'>(3.2)</a></div><div id='stc.dynamic.deallocation-3.2.sentence-1' class='sentence'>optionally, a parameter of type <span class='texttt'>std&#x200b;::&#x200b;size_&shy;t</span><a class='footnotenum' href='#footnote-36'>36</a>, then</div></li><li id='stc.dynamic.deallocation-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.deallocation-3.3'>(3.3)</a></div><div id='stc.dynamic.deallocation-3.3.sentence-1' class='sentence'>optionally, a parameter of type <span class='texttt'>std&#x200b;::&#x200b;align_&shy;val_&shy;t</span><a class='hidden_link' href='#stc.dynamic.deallocation-3.3.sentence-1'>.</a></div></li></ul></div> <div id='stc.dynamic.deallocation-3.sentence-5' class='sentence'>
A destroying operator delete shall be a usual deallocation function<a class='hidden_link' href='#stc.dynamic.deallocation-3.sentence-5'>.</a></div> <div id='stc.dynamic.deallocation-3.sentence-6' class='sentence'>A deallocation function may be an instance of a function
template<a class='hidden_link' href='#stc.dynamic.deallocation-3.sentence-6'>.</a></div> <div id='stc.dynamic.deallocation-3.sentence-7' class='sentence'>Neither the first parameter nor the return type shall depend
on a template parameter<a class='hidden_link' href='#stc.dynamic.deallocation-3.sentence-7'>.</a></div> <div id='stc.dynamic.deallocation-3.sentence-8' class='sentence'>A deallocation
function template shall have two or more function parameters<a class='hidden_link' href='#stc.dynamic.deallocation-3.sentence-8'>.</a></div> <div id='stc.dynamic.deallocation-3.sentence-9' class='sentence'>A template
instance is never a usual deallocation function, regardless of its
signature<a class='hidden_link' href='#stc.dynamic.deallocation-3.sentence-9'>.</a></div></div><div class='para' id='stc.dynamic.deallocation-4'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.deallocation-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3364'>#</a></div><div id='stc.dynamic.deallocation-4.sentence-1' class='sentence'>If a deallocation function terminates by throwing an exception, the behavior is undefined<a class='hidden_link' href='#stc.dynamic.deallocation-4.sentence-1'>.</a></div> <div id='stc.dynamic.deallocation-4.sentence-2' class='sentence'>The value of the first argument supplied to a deallocation function may
be a null pointer value; if so, and if the deallocation function is one
supplied in the standard library, the call has no effect<a class='hidden_link' href='#stc.dynamic.deallocation-4.sentence-2'>.</a></div></div><div class='para' id='stc.dynamic.deallocation-5'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.deallocation-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3370'>#</a></div><div id='stc.dynamic.deallocation-5.sentence-1' class='sentence'>If the argument given to a deallocation function in the standard library
is a pointer that is not the <a href='conv.ptr#def:null_pointer_value'>null pointer value</a>, the
deallocation function shall deallocate the storage referenced by the
pointer, ending the duration of the region of storage<a class='hidden_link' href='#stc.dynamic.deallocation-5.sentence-1'>.</a></div></div><div class='footnote' id='footnote-36'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-36'>36)</a></div><div id='footnote-36.sentence-1' class='sentence'>The global <span class='texttt'>operator delete(void*, std&#x200b;::&#x200b;size_&shy;t)</span>
precludes use of an
allocation function <span class='texttt'>void operator new(std&#x200b;::&#x200b;size_&shy;t, std&#x200b;::&#x200b;size_&shy;t)</span> as a placement
allocation function (<a href='diff.cpp11.basic'>[diff.cpp11.basic]</a>)<a class='hidden_link' href='#footnote-36.sentence-1'>.</a></div></div></div><div id='stc.dynamic.safety' class='section'><h4 ><a class='secnum' href='#stc.dynamic.safety' style='min-width:133pt'>6.6.4.4.3</a> Safely-derived pointers <a class='abbr_ref' href='basic.stc.dynamic.safety'>[basic.stc.dynamic.safety]</a></h4><div class='para' id='stc.dynamic.safety-1'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.safety-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3378'>#</a></div><div id='stc.dynamic.safety-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':pointer,safely-derived'></a></span><span class='indexparent'><a class='index' id=':pointer,to_traceable_object'></a></span>A <a class='hidden_link' href='#def:traceable_pointer_object' id='def:traceable_pointer_object'><i >traceable pointer object</i></a> is
<ul class='itemize'><li id='stc.dynamic.safety-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-1.1'>(1.1)</a></div><div id='stc.dynamic.safety-1.1.sentence-1' class='sentence'>an object of an <a href='#def:object_pointer_type'>object pointer type</a>, or</div></li><li id='stc.dynamic.safety-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-1.2'>(1.2)</a></div><div id='stc.dynamic.safety-1.2.sentence-1' class='sentence'>an object of an integral type that is at least as large as <span class='texttt'>std&#x200b;::&#x200b;intptr_&shy;t</span>,
or</div></li><li id='stc.dynamic.safety-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-1.3'>(1.3)</a></div><div id='stc.dynamic.safety-1.3.sentence-1' class='sentence'>a sequence of elements in an array of
<a href='#def:type,narrow_character'>narrow character type</a>, where the size and alignment of the sequence
match those of some object pointer type<a class='hidden_link' href='#stc.dynamic.safety-1.3.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='stc.dynamic.safety-2'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.safety-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3391'>#</a></div><div id='stc.dynamic.safety-2.sentence-1' class='sentence'>A pointer value is a <a class='hidden_link' href='#def:safely-derived_pointer' id='def:safely-derived_pointer'><i >safely-derived pointer</i></a> to a dynamic object only if it
has an object pointer type and it is one of the following:
<ul class='itemize'><li id='stc.dynamic.safety-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-2.1'>(2.1)</a></div><div id='stc.dynamic.safety-2.1.sentence-1' class='sentence'>the value returned by a call to the C++ standard library implementation of
<span class='texttt'>&#x200b;::&#x200b;operator new(std&#x200b;::&#x200b;&#x200b;size_&shy;t)</span> or
<span class='texttt'>&#x200b;::&#x200b;operator new(std&#x200b;::&#x200b;size_&shy;t, std&#x200b;::&#x200b;align_&shy;val_&shy;t)</span>;<a class='footnotenum' href='#footnote-37'>37</a></div></li><li id='stc.dynamic.safety-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-2.2'>(2.2)</a></div><div id='stc.dynamic.safety-2.2.sentence-1' class='sentence'>the result of taking the address of an object (or one of its
  subobjects) designated by an lvalue resulting from indirection
  through a safely-derived pointer value;</div></li><li id='stc.dynamic.safety-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-2.3'>(2.3)</a></div><div id='stc.dynamic.safety-2.3.sentence-1' class='sentence'>the result of well-defined pointer arithmetic (<a href='expr.add'>[expr.add]</a>) using a safely-derived pointer
value;</div></li><li id='stc.dynamic.safety-2.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-2.4'>(2.4)</a></div><div id='stc.dynamic.safety-2.4.sentence-1' class='sentence'>the result of a well-defined pointer
conversion (<a href='conv.ptr'>[conv.ptr]</a>, <a href='expr.cast'>[expr.cast]</a>) of a safely-derived pointer value;</div></li><li id='stc.dynamic.safety-2.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-2.5'>(2.5)</a></div><div id='stc.dynamic.safety-2.5.sentence-1' class='sentence'>the result of a <span class='texttt'>reinterpret_&shy;cast</span> of a safely-derived pointer value;</div></li><li id='stc.dynamic.safety-2.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-2.6'>(2.6)</a></div><div id='stc.dynamic.safety-2.6.sentence-1' class='sentence'>the result of a <span class='texttt'>reinterpret_&shy;cast</span> of an integer representation of a
safely-derived pointer value;</div></li><li id='stc.dynamic.safety-2.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-2.7'>(2.7)</a></div><div id='stc.dynamic.safety-2.7.sentence-1' class='sentence'>the value of an object whose value was copied from a traceable pointer object,
where at the time of the copy the source object contained a copy of a safely-derived
pointer value<a class='hidden_link' href='#stc.dynamic.safety-2.7.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='stc.dynamic.safety-3'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.safety-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3424'>#</a></div><div id='stc.dynamic.safety-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':integer_representation'></a></span><span class='indexparent'><a class='index' id=':pointer,integer_representation_of_safely-derived'></a></span>An integer value is an <a class='hidden_link' href='#def:safely-derived_pointer,integer_representation' id='def:safely-derived_pointer,integer_representation'><i >integer representation of a safely-derived pointer</i></a>
only if its type is at least as large as <span class='texttt'>std&#x200b;::&#x200b;intptr_&shy;t</span> and it is one of the
following:</div><div id='stc.dynamic.safety-3.sentence-2' class='sentence'><ul class='itemize'><li id='stc.dynamic.safety-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-3.1'>(3.1)</a></div><div id='stc.dynamic.safety-3.1.sentence-1' class='sentence'>the result of a <span class='texttt'>reinterpret_&shy;cast</span> of a safely-derived pointer value;</div></li><li id='stc.dynamic.safety-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-3.2'>(3.2)</a></div><div id='stc.dynamic.safety-3.2.sentence-1' class='sentence'>the result of a valid conversion of an integer representation of a safely-derived
pointer value;</div></li><li id='stc.dynamic.safety-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-3.3'>(3.3)</a></div><div id='stc.dynamic.safety-3.3.sentence-1' class='sentence'>the value of an object whose value was copied from a traceable pointer object,
where at the time of the copy the source object contained an integer representation of a
safely-derived pointer value;</div></li><li id='stc.dynamic.safety-3.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-3.4'>(3.4)</a></div><div id='stc.dynamic.safety-3.4.sentence-1' class='sentence'>the result of an additive or bitwise operation, one of whose operands is an
integer representation of a safely-derived pointer value <span class='texttt'>P</span>, if that result
converted by <span class='texttt'>reinterpret_&shy;cast&lt;void*&gt;</span> would compare equal to a safely-derived
pointer computable from <span class='texttt'>reinterpret_&shy;cast&lt;void*&gt;(P)</span><a class='hidden_link' href='#stc.dynamic.safety-3.4.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='stc.dynamic.safety-4'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.safety-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3447'>#</a></div><div id='stc.dynamic.safety-4.sentence-1' class='sentence'>An implementation may have <a class='hidden_link' href='#def:relaxed_pointer_safety' id='def:relaxed_pointer_safety'><i >relaxed pointer safety</i></a>, in which case the
validity of a pointer value does not depend on whether it is a safely-derived
pointer value<a class='hidden_link' href='#stc.dynamic.safety-4.sentence-1'>.</a></div> <div id='stc.dynamic.safety-4.sentence-2' class='sentence'>Alternatively, an implementation may have <a class='hidden_link' href='#def:strict_pointer_safety' id='def:strict_pointer_safety'><i >strict pointer
safety</i></a>, in which case a pointer value referring to an object with dynamic
storage duration that is not a safely-derived pointer
value is an invalid pointer value unless
the referenced complete object has previously been declared
reachable (<a href='util.dynamic.safety'>[util.dynamic.safety]</a>)<a class='hidden_link' href='#stc.dynamic.safety-4.sentence-2'>.</a></div> <div id='stc.dynamic.safety-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#stc.dynamic.safety-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='stc.dynamic.safety-4.sentence-3' class='sentence'>The effect of using an invalid pointer value (including passing it to a
deallocation function) is undefined, see <a href='#stc'>[basic.stc]</a><a class='hidden_link' href='#stc.dynamic.safety-4.sentence-3'>.</a></div> <div id='stc.dynamic.safety-4.sentence-4' class='sentence'>This is true even if the unsafely-derived pointer value might compare equal to
some safely-derived pointer value<a class='hidden_link' href='#stc.dynamic.safety-4.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='stc.dynamic.safety-4.sentence-5' class='sentence'> It is
<span class='indexparent'><a class='index' id=':whether_an_implementation_has_relaxed_or_strict_pointer_safety'></a></span>implementation-defined whether an implementation has relaxed or strict pointer safety<a class='hidden_link' href='#stc.dynamic.safety-4.sentence-5'>.</a></div> </div><div class='footnote' id='footnote-37'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-37'>37)</a></div><div id='footnote-37.sentence-1' class='sentence'>This subclause does not impose restrictions
on indirection through pointers to memory not allocated by <span class='texttt'>&#x200b;::&#x200b;operator new</span><a class='hidden_link' href='#footnote-37.sentence-1'>.</a></div> <div id='footnote-37.sentence-2' class='sentence'>This
maintains the ability of many C++ implementations to use binary libraries and
components written in other languages<a class='hidden_link' href='#footnote-37.sentence-2'>.</a></div> <div id='footnote-37.sentence-3' class='sentence'>In particular, this applies to C binaries,
because indirection through pointers to memory allocated by <span class='texttt'>std&#x200b;::&#x200b;malloc</span> is not restricted<a class='hidden_link' href='#footnote-37.sentence-3'>.</a></div></div></div></div><div id='stc.inherit' class='section'><h4 ><a class='secnum' href='#stc.inherit' style='min-width:118pt'>6.6.4.5</a> Duration of subobjects <a class='abbr_ref' href='basic.stc.inherit'>[basic.stc.inherit]</a></h4><div class='para' id='stc.inherit-1'><div class='marginalizedparent'><a class='marginalized' href='#stc.inherit-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3467'>#</a></div><div id='stc.inherit-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':storage_duration,class_member'></a></span>The storage duration of subobjects and reference members
is that of their complete object (<a href='#intro.object'>[intro.object]</a>)<a class='hidden_link' href='#stc.inherit-1.sentence-1'>.</a></div> </div></div></div><div id='align' class='section'><h3 ><a class='secnum' href='#align' style='min-width:103pt'>6.6.5</a> Alignment <a class='abbr_ref' href='basic.align'>[basic.align]</a></h3><div class='para' id='align-1'><div class='marginalizedparent'><a class='marginalized' href='#align-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3475'>#</a></div><div id='align-1.sentence-1' class='sentence'>Object types have <a class='hidden_link' href='#def:alignment_requirement,implementation-defined' id='def:alignment_requirement,implementation-defined'><i >alignment requirements</i></a> (<a href='#fundamental'>[basic.fundamental]</a>, <a href='#compound'>[basic.compound]</a>)
which place restrictions on the addresses at which an object of that type
may be allocated<a class='hidden_link' href='#align-1.sentence-1'>.</a></div> <div id='align-1.sentence-2' class='sentence'>An <a class='hidden_link' href='#def:alignment' id='def:alignment'><i >alignment</i></a> is an <span class='indexparent'><a class='index' id=':alignment'></a></span>implementation-defined
integer value representing the number of bytes between successive addresses
at which a given object can be allocated<a class='hidden_link' href='#align-1.sentence-2'>.</a></div> <div id='align-1.sentence-3' class='sentence'>An object type imposes an alignment
requirement on every object of that type; stricter alignment can be requested
using the <a href='dcl.align'>alignment specifier</a><a class='hidden_link' href='#align-1.sentence-3'>.</a></div></div><div class='para' id='align-2'><div class='marginalizedparent'><a class='marginalized' href='#align-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3484'>#</a></div><div id='align-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':alignment,fundamental'></a></span>A <a class='hidden_link' href='#def:fundamental_alignment' id='def:fundamental_alignment'><i >fundamental alignment</i></a> is represented by an alignment
less than or equal to the greatest alignment supported by the implementation in
all contexts, which is equal to
<span class='texttt'>alignof(std&#x200b;::&#x200b;max_&shy;align_&shy;t)</span> (<a href='support.types'>[support.types]</a>)<a class='hidden_link' href='#align-2.sentence-1'>.</a></div> <div id='align-2.sentence-2' class='sentence'>The alignment required for a type might be different when it is used as the type
of a complete object and when it is used as the type of a subobject<a class='hidden_link' href='#align-2.sentence-2'>.</a></div> <div id='align-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#align-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct B { long double d; };
struct D : virtual B { char c; };</pre><div id='align-2.sentence-3' class='sentence'>When <span class='texttt'>D</span> is the type of a complete object, it will have a subobject of
type <span class='texttt'>B</span>, so it must be aligned appropriately for a <span class='texttt'>long double</span><a class='hidden_link' href='#align-2.sentence-3'>.</a></div> <div id='align-2.sentence-4' class='sentence'>If <span class='texttt'>D</span> appears as a subobject of another object that also has <span class='texttt'>B</span>
as a virtual base class, the <span class='texttt'>B</span> subobject might be part of a different
subobject, reducing the alignment requirements on the <span class='texttt'>D</span> subobject<a class='hidden_link' href='#align-2.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='align-2.sentence-5' class='sentence'> The result of the <span class='texttt'>alignof</span> operator reflects the alignment
requirement of the type in the complete-object case<a class='hidden_link' href='#align-2.sentence-5'>.</a></div></div><div class='para' id='align-3'><div class='marginalizedparent'><a class='marginalized' href='#align-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3505'>#</a></div><div id='align-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':alignment,extended'></a></span><span class='indexparent'><a class='index' id=':alignment,new-extended'></a></span>An <a class='hidden_link' href='#def:extended_alignment' id='def:extended_alignment'><i >extended alignment</i></a> is represented by an alignment
greater than <span class='texttt'>alignof(std&#x200b;::&#x200b;max_&shy;align_&shy;t)</span><a class='hidden_link' href='#align-3.sentence-1'>.</a></div> <div id='align-3.sentence-2' class='sentence'>It is <span class='indexparent'><a class='index' id=':support_for_extended_alignments'></a></span>implementation-defined
whether any extended alignments are supported and the contexts in which they are
supported (<a href='dcl.align'>[dcl.align]</a>)<a class='hidden_link' href='#align-3.sentence-2'>.</a></div> <div id='align-3.sentence-3' class='sentence'>A type having an extended alignment
requirement is an <span class='indexparent'><a class='index' id=':type,over-aligned'></a></span><span class='textit'>over-aligned type</span><a class='hidden_link' href='#align-3.sentence-3'>.</a></div> <div id='align-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#align-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='align-3.sentence-4' class='sentence'>Every over-aligned type is or contains a class type
to which extended alignment applies (possibly through a non-static data member)<a class='hidden_link' href='#align-3.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='align-3.sentence-5' class='sentence'>
A <a class='hidden_link' href='#def:new-extended_alignment' id='def:new-extended_alignment'><i >new-extended alignment</i></a> is represented by
an alignment greater than <span class='texttt'>__STDCPP_&shy;DEFAULT_&shy;NEW_&shy;ALIGNMENT__</span> (<a href='cpp.predefined'>[cpp.predefined]</a>)<a class='hidden_link' href='#align-3.sentence-5'>.</a></div></div><div class='para' id='align-4'><div class='marginalizedparent'><a class='marginalized' href='#align-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3520'>#</a></div><div id='align-4.sentence-1' class='sentence'>Alignments are represented as values of the type <span class='texttt'>std&#x200b;::&#x200b;size_&shy;t</span><a class='hidden_link' href='#align-4.sentence-1'>.</a></div> <div id='align-4.sentence-2' class='sentence'>Valid alignments include only those values returned by an <span class='texttt'>alignof</span>
expression for the fundamental types plus an additional <span class='indexparent'><a class='index' id=':alignment_additional_values'></a></span>implementation-defined
set of values, which may be empty<a class='hidden_link' href='#align-4.sentence-2'>.</a></div> <div id='align-4.sentence-3' class='sentence'>Every alignment value shall be a non-negative integral power of two<a class='hidden_link' href='#align-4.sentence-3'>.</a></div></div><div class='para' id='align-5'><div class='marginalizedparent'><a class='marginalized' href='#align-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3528'>#</a></div><div id='align-5.sentence-1' class='sentence'>Alignments have an order from <a class='hidden_link' href='#def:alignment,weaker' id='def:alignment,weaker'><i >weaker</i></a> to
<a class='hidden_link' href='#def:alignment,stronger' id='def:alignment,stronger'><i >stronger</i></a> or <a class='hidden_link' href='#def:alignment,stricter' id='def:alignment,stricter'><i >stricter</i></a> alignments<a class='hidden_link' href='#align-5.sentence-1'>.</a></div> <div id='align-5.sentence-2' class='sentence'>Stricter
alignments have larger alignment values<a class='hidden_link' href='#align-5.sentence-2'>.</a></div> <div id='align-5.sentence-3' class='sentence'>An address that satisfies an alignment
requirement also satisfies any weaker valid alignment requirement<a class='hidden_link' href='#align-5.sentence-3'>.</a></div></div><div class='para' id='align-6'><div class='marginalizedparent'><a class='marginalized' href='#align-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3534'>#</a></div><div id='align-6.sentence-1' class='sentence'>The alignment requirement of a complete type can be queried using an
<a href='expr.alignof'><span class='texttt'>alignof</span> expression</a><a class='hidden_link' href='#align-6.sentence-1'>.</a></div> <div id='align-6.sentence-2' class='sentence'>Furthermore,
the <a href='#def:type,narrow_character'>narrow character types</a> shall have the weakest
alignment requirement<a class='hidden_link' href='#align-6.sentence-2'>.</a></div> <div id='align-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#align-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='align-6.sentence-3' class='sentence'>This enables the narrow character types to be used as the
underlying type for an aligned memory area (<a href='dcl.align'>[dcl.align]</a>)<a class='hidden_link' href='#align-6.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='align-7'><div class='marginalizedparent'><a class='marginalized' href='#align-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3542'>#</a></div><div id='align-7.sentence-1' class='sentence'>Comparing alignments is meaningful and provides the obvious results:</div><div id='align-7.sentence-2' class='sentence'><ul class='itemize'><li id='align-7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#align-7.1'>(7.1)</a></div><div id='align-7.1.sentence-1' class='sentence'>Two alignments are equal when their numeric values are equal<a class='hidden_link' href='#align-7.1.sentence-1'>.</a></div></li><li id='align-7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#align-7.2'>(7.2)</a></div><div id='align-7.2.sentence-1' class='sentence'>Two alignments are different when their numeric values are not equal<a class='hidden_link' href='#align-7.2.sentence-1'>.</a></div></li><li id='align-7.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#align-7.3'>(7.3)</a></div><div id='align-7.3.sentence-1' class='sentence'>When an alignment is larger than another it represents a stricter alignment<a class='hidden_link' href='#align-7.3.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='align-8'><div class='marginalizedparent'><a class='marginalized' href='#align-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3551'>#</a></div><div id='align-8.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#align-8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='align-8.sentence-1' class='sentence'>The runtime pointer alignment function (<a href='ptr.align'>[ptr.align]</a>)
can be used to obtain an aligned pointer within a buffer; the aligned-storage templates
in the library (<a href='meta.trans.other'>[meta.trans.other]</a>) can be used to obtain aligned storage<a class='hidden_link' href='#align-8.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='align-9'><div class='marginalizedparent'><a class='marginalized' href='#align-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3557'>#</a></div><div id='align-9.sentence-1' class='sentence'>If a request for a specific extended alignment in a specific context is not
supported by an implementation, the program is ill-formed<a class='hidden_link' href='#align-9.sentence-1'>.</a></div></div></div><div id='class.temporary' class='section'><h3 ><a class='secnum' href='#class.temporary' style='min-width:103pt'>6.6.6</a> Temporary objects <a class='abbr_ref' href='class.temporary'>[class.temporary]</a></h3><div class='para' id='class.temporary-1'><div class='marginalizedparent'><a class='marginalized' href='#class.temporary-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3563'>#</a></div><div id='class.temporary-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':temporary'></a></span><span class='indexparent'><a class='index' id=':temporary,elimination_of'></a></span><span class='indexparent'><a class='index' id=':temporary,implementation-defined_generation_of'></a></span>Temporary objects are created
<ul class='itemize'><li id='class.temporary-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.temporary-1.1'>(1.1)</a></div><div id='class.temporary-1.1.sentence-1' class='sentence'>when a prvalue is converted to an xvalue (<a href='conv.rval'>[conv.rval]</a>),</div></li><li id='class.temporary-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.temporary-1.2'>(1.2)</a></div><div id='class.temporary-1.2.sentence-1' class='sentence'>when needed by the implementation to pass or return an object of trivially-copyable type (see below),
and</div></li><li id='class.temporary-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.temporary-1.3'>(1.3)</a></div><div id='class.temporary-1.3.sentence-1' class='sentence'>when throwing an exception (<a href='except.throw'>[except.throw]</a>)<a class='hidden_link' href='#class.temporary-1.3.sentence-1'>.</a></div> <div id='class.temporary-1.3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#class.temporary-1.3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.temporary-1.3.sentence-2' class='sentence'>The lifetime of exception objects is described in <a href='except.throw'>[except.throw]</a><a class='hidden_link' href='#class.temporary-1.3.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </li></ul>
Even when the creation of the temporary object is
unevaluated (<a href='expr.prop'>[expr.prop]</a>),
all the semantic restrictions shall be respected as if the temporary object
had been created and later destroyed<a class='hidden_link' href='#class.temporary-1.sentence-1'>.</a></div> <div id='class.temporary-1.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#class.temporary-1.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.temporary-1.sentence-2' class='sentence'>This includes accessibility (<a href='class.access'>[class.access]</a>) and whether it is deleted,
for the constructor selected and for the destructor<a class='hidden_link' href='#class.temporary-1.sentence-2'>.</a></div> <div id='class.temporary-1.sentence-3' class='sentence'>However, in the special
case of the operand of a
<i ><a href='dcl.type.simple#nt:decltype-specifier'>decltype-specifier</a></i> (<a href='expr.call'>[expr.call]</a>), no temporary is introduced,
so the foregoing does not apply to such a prvalue<a class='hidden_link' href='#class.temporary-1.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='class.temporary-2'><div class='marginalizedparent'><a class='marginalized' href='#class.temporary-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3594'>#</a></div><div id='class.temporary-2.sentence-1' class='sentence'>The materialization of a temporary object is generally
delayed as long as possible
in order to avoid creating unnecessary temporary objects<a class='hidden_link' href='#class.temporary-2.sentence-1'>.</a></div> <div id='class.temporary-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#class.temporary-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.temporary-2.sentence-2' class='sentence'>Temporary objects are materialized:
<ul class='itemize'><li id='class.temporary-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.temporary-2.1'>(2.1)</a></div><div id='class.temporary-2.1.sentence-1' class='sentence'>when binding a reference to a prvalue (<a href='dcl.init.ref'>[dcl.init.ref]</a>, <a href='expr.type.conv'>[expr.type.conv]</a>,
<a href='expr.dynamic.cast'>[expr.dynamic.cast]</a>, <a href='expr.static.cast'>[expr.static.cast]</a>, <a href='expr.const.cast'>[expr.const.cast]</a>, <a href='expr.cast'>[expr.cast]</a>),</div></li><li id='class.temporary-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.temporary-2.2'>(2.2)</a></div><div id='class.temporary-2.2.sentence-1' class='sentence'>when performing member access on a class prvalue (<a href='expr.ref'>[expr.ref]</a>, <a href='expr.mptr.oper'>[expr.mptr.oper]</a>),</div></li><li id='class.temporary-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.temporary-2.3'>(2.3)</a></div><div id='class.temporary-2.3.sentence-1' class='sentence'>when performing an array-to-pointer conversion or subscripting on an array prvalue (<a href='conv.array'>[conv.array]</a>, <a href='expr.sub'>[expr.sub]</a>),</div></li><li id='class.temporary-2.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.temporary-2.4'>(2.4)</a></div><div id='class.temporary-2.4.sentence-1' class='sentence'>when initializing an object of type <span class='texttt'>std&#x200b;::&#x200b;initializer_&shy;list&lt;T&gt;</span> from a <i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i> (<a href='dcl.init.list'>[dcl.init.list]</a>),</div></li><li id='class.temporary-2.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.temporary-2.5'>(2.5)</a></div><div id='class.temporary-2.5.sentence-1' class='sentence'>for certain unevaluated operands (<a href='expr.typeid'>[expr.typeid]</a>, <a href='expr.sizeof'>[expr.sizeof]</a>), and</div></li><li id='class.temporary-2.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.temporary-2.6'>(2.6)</a></div><div id='class.temporary-2.6.sentence-1' class='sentence'>when a prvalue appears as a discarded-value expression (<a href='expr.prop'>[expr.prop]</a>)<a class='hidden_link' href='#class.temporary-2.6.sentence-1'>.</a></div></li></ul></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='class.temporary-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#class.temporary-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='class.temporary-2.sentence-3' class='sentence'>Consider the following code:
<pre class='codeblock'>
class X {
public:
  X(int);
  X(const X&amp;);
  X&amp; operator=(const X&amp;);
  ~X();
};

class Y {
public:
  Y(int);
  Y(Y&amp;&amp;);
  ~Y();
};

X f(X);
Y g(Y);

void h() {
  X a(1);
  X b = f(X(2));
  Y c = g(Y(3));
  a = f(a);
}</pre></div><div id='class.temporary-2.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':constructor,copy'></a></span><span class='texttt'>X(2)</span> is constructed in the space used to hold <span class='texttt'>f()</span>'s argument and
<span class='texttt'>Y(3)</span> is constructed in the space used to hold <span class='texttt'>g()</span>'s argument<a class='hidden_link' href='#class.temporary-2.sentence-4'>.</a></div> <div id='class.temporary-2.sentence-5' class='sentence'>Likewise,
<span class='texttt'>f()</span>'s result is constructed directly in <span class='texttt'>b</span> and
<span class='texttt'>g()</span>'s result is constructed directly in <span class='texttt'>c</span><a class='hidden_link' href='#class.temporary-2.sentence-5'>.</a></div> <div id='class.temporary-2.sentence-6' class='sentence'>On the other hand, the expression
<span class='texttt'>a = f(a)</span>
requires a temporary for
the result of <span class='texttt'>f(a)</span>,
which is materialized so that the reference parameter
of <span class='texttt'>A&#x200b;::&#x200b;operator=(const A&amp;)</span> can bind to it<a class='hidden_link' href='#class.temporary-2.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='class.temporary-3'><div class='marginalizedparent'><a class='marginalized' href='#class.temporary-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3659'>#</a></div><div id='class.temporary-3.sentence-1' class='sentence'>When an object of class type <span class='texttt'>X</span>
is passed to or returned from a function,
if each copy constructor, move constructor, and destructor of <span class='texttt'>X</span>
is either trivial or deleted,
and <span class='texttt'>X</span>
has at least one non-deleted copy or move constructor,
implementations are permitted
to create a temporary object
to hold the function parameter or result object<a class='hidden_link' href='#class.temporary-3.sentence-1'>.</a></div> <div id='class.temporary-3.sentence-2' class='sentence'>The temporary object is constructed
from the function argument or return value, respectively,
and the function's parameter or return object
is initialized as if by
using the non-deleted trivial constructor to copy the temporary
(even if that constructor is inaccessible
or would not be selected by overload resolution
to perform a copy or move of the object)<a class='hidden_link' href='#class.temporary-3.sentence-2'>.</a></div> <div id='class.temporary-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#class.temporary-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.temporary-3.sentence-3' class='sentence'>This latitude is granted to allow objects of class type to be passed to or returned from functions in registers<a class='hidden_link' href='#class.temporary-3.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='class.temporary-4'><div class='marginalizedparent'><a class='marginalized' href='#class.temporary-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3681'>#</a></div><div id='class.temporary-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':temporary,constructor_for'></a></span><span class='indexparent'><a class='index' id=':temporary,destructor_for'></a></span><span class='indexparent'><a class='index' id=':temporary,destruction_of'></a></span>When an implementation introduces a temporary object of a class that has a
non-trivial constructor (<a href='class.default.ctor'>[class.default.ctor]</a>, <a href='class.copy.ctor'>[class.copy.ctor]</a>),
it shall ensure that a constructor is called for the temporary object<a class='hidden_link' href='#class.temporary-4.sentence-1'>.</a></div> <div id='class.temporary-4.sentence-2' class='sentence'>Similarly, the destructor shall be called for a temporary with a non-trivial
destructor (<a href='class.dtor'>[class.dtor]</a>)<a class='hidden_link' href='#class.temporary-4.sentence-2'>.</a></div> <div id='class.temporary-4.sentence-3' class='sentence'>Temporary objects are destroyed as the last step
in evaluating
the full-expression (<a href='#intro.execution'>[intro.execution]</a>)
that (lexically) contains the point where
they were created<a class='hidden_link' href='#class.temporary-4.sentence-3'>.</a></div> <div id='class.temporary-4.sentence-4' class='sentence'>This is true even if that evaluation ends in throwing an exception<a class='hidden_link' href='#class.temporary-4.sentence-4'>.</a></div> <div id='class.temporary-4.sentence-5' class='sentence'>The
<span class='indexparent'><a class='index' id=':value_computation'></a></span>value computations and
<span class='indexparent'><a class='index' id=':side_effects'></a></span>side effects of destroying a temporary object
are associated only with the full-expression, not with any specific
subexpression<a class='hidden_link' href='#class.temporary-4.sentence-5'>.</a></div></div><div class='para' id='class.temporary-5'><div class='marginalizedparent'><a class='marginalized' href='#class.temporary-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3704'>#</a></div><div id='class.temporary-5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':initializer,temporary_and_declarator'></a></span><span class='indexparent'><a class='index' id=':temporary,order_of_destruction_of'></a></span>There are three contexts in which temporaries are destroyed at a different
point than the end of the full-expression<a class='hidden_link' href='#class.temporary-5.sentence-1'>.</a></div> <div id='class.temporary-5.sentence-2' class='sentence'>The first context is when a default constructor is called to initialize
an element of an array with no corresponding initializer (<a href='dcl.init'>[dcl.init]</a>)<a class='hidden_link' href='#class.temporary-5.sentence-2'>.</a></div> <div id='class.temporary-5.sentence-3' class='sentence'>The second context is when a copy constructor is called to copy an element of
an array while the entire array is copied (<a href='expr.prim.lambda.capture'>[expr.prim.lambda.capture]</a>, <a href='class.copy.ctor'>[class.copy.ctor]</a>)<a class='hidden_link' href='#class.temporary-5.sentence-3'>.</a></div> <div id='class.temporary-5.sentence-4' class='sentence'>In either case, if the constructor has one or more default arguments,
the destruction of every temporary created in a default argument is
sequenced before the construction of the next array element, if any<a class='hidden_link' href='#class.temporary-5.sentence-4'>.</a></div></div><div class='para' id='class.temporary-6'><div class='marginalizedparent'><a class='marginalized' href='#class.temporary-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3717'>#</a></div><div id='class.temporary-6.sentence-1' class='sentence'>The third context is when a reference is bound to a
temporary object<a class='hidden_link' href='#class.temporary-6.sentence-1'>.</a><a class='footnotenum' href='#footnote-38'>38</a></div> <div id='class.temporary-6.sentence-2' class='sentence'>
The temporary object to which the reference is bound or the temporary object
that is the complete object of a subobject to which the reference is bound
persists for the lifetime of the reference if the glvalue
to which the reference is bound
was obtained through one of the following:
<ul class='itemize'><li id='class.temporary-6.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.temporary-6.1'>(6.1)</a></div><div id='class.temporary-6.1.sentence-1' class='sentence'>a temporary materialization conversion (<a href='conv.rval'>[conv.rval]</a>),</div></li><li id='class.temporary-6.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.temporary-6.2'>(6.2)</a></div><div id='class.temporary-6.2.sentence-1' class='sentence'><span class='texttt'>(</span> <i ><a href='expr.comma#nt:expression'>expression</a></i> <span class='texttt'>)</span>,
  where <i ><a href='expr.comma#nt:expression'>expression</a></i> is one of these expressions,</div></li><li id='class.temporary-6.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.temporary-6.3'>(6.3)</a></div><div id='class.temporary-6.3.sentence-1' class='sentence'>subscripting (<a href='expr.sub'>[expr.sub]</a>) of an array operand,
  where that operand is one of these expressions,</div></li><li id='class.temporary-6.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.temporary-6.4'>(6.4)</a></div><div id='class.temporary-6.4.sentence-1' class='sentence'>a class member access (<a href='expr.ref'>[expr.ref]</a>) using the <span class='texttt'>.</span> operator
  where the left operand is one of these expressions and
  the right operand designates a non-static data member of non-reference type,</div></li><li id='class.temporary-6.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.temporary-6.5'>(6.5)</a></div><div id='class.temporary-6.5.sentence-1' class='sentence'>a pointer-to-member operation (<a href='expr.mptr.oper'>[expr.mptr.oper]</a>) using the <span class='texttt'>.*</span> operator
  where the left operand is one of these expressions and
  the right operand is a pointer to data member of non-reference type,</div></li><li id='class.temporary-6.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.temporary-6.6'>(6.6)</a></div><div id='class.temporary-6.6.sentence-1' class='sentence'>a
  <ul class='itemize'><li id='class.temporary-6.6.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#class.temporary-6.6.1'>(6.6.1)</a></div><div id='class.temporary-6.6.1.sentence-1' class='sentence'>
  <span class='texttt'>const_&shy;cast</span> (<a href='expr.const.cast'>[expr.const.cast]</a>),</div></li><li id='class.temporary-6.6.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#class.temporary-6.6.2'>(6.6.2)</a></div><div id='class.temporary-6.6.2.sentence-1' class='sentence'><span class='texttt'>static_&shy;cast</span> (<a href='expr.static.cast'>[expr.static.cast]</a>),</div></li><li id='class.temporary-6.6.3'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#class.temporary-6.6.3'>(6.6.3)</a></div><div id='class.temporary-6.6.3.sentence-1' class='sentence'><span class='texttt'>dynamic_&shy;cast</span> (<a href='expr.dynamic.cast'>[expr.dynamic.cast]</a>), or</div></li><li id='class.temporary-6.6.4'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#class.temporary-6.6.4'>(6.6.4)</a></div><div id='class.temporary-6.6.4.sentence-1' class='sentence'><span class='texttt'>reinterpret_&shy;cast</span> (<a href='expr.reinterpret.cast'>[expr.reinterpret.cast]</a>)</div></li></ul>
  converting, without a user-defined conversion,
  a glvalue operand that is one of these expressions
  to a glvalue that refers
  to the object designated by the operand, or
  to its complete object or a subobject thereof,</div></li><li id='class.temporary-6.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.temporary-6.7'>(6.7)</a></div><div id='class.temporary-6.7.sentence-1' class='sentence'>a conditional expression (<a href='expr.cond'>[expr.cond]</a>) that is a glvalue
  where the second or third operand is one of these expressions, or</div></li><li id='class.temporary-6.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.temporary-6.8'>(6.8)</a></div><div id='class.temporary-6.8.sentence-1' class='sentence'>a comma expression (<a href='expr.comma'>[expr.comma]</a>) that is a glvalue
  where the right operand is one of these expressions<a class='hidden_link' href='#class.temporary-6.8.sentence-1'>.</a></div></li></ul></div> <div id='class.temporary-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#class.temporary-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;typename T&gt; using id = T;

int i = 1;
int&amp;&amp; a = id&lt;int[3]&gt;{1, 2, 3}[i];          <span class='comment'>// temporary array has same lifetime as <span class='tcode_in_codeblock'>a</span>
</span>const int&amp; b = static_cast&lt;const int&amp;&gt;(0); <span class='comment'>// temporary <span class='tcode_in_codeblock'>int</span> has same lifetime as <span class='tcode_in_codeblock'>b</span>
</span>int&amp;&amp; c = cond ? id&lt;int[3]&gt;{1, 2, 3}[i] : static_cast&lt;int&amp;&amp;&gt;(0);
                                           <span class='comment'>// exactly one of the two temporaries is lifetime-extended
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='class.temporary-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#class.temporary-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.temporary-6.sentence-3' class='sentence'>An explicit type conversion (<a href='expr.type.conv'>[expr.type.conv]</a>, <a href='expr.cast'>[expr.cast]</a>)
is interpreted as
a sequence of elementary casts,
covered above<a class='hidden_link' href='#class.temporary-6.sentence-3'>.</a></div> <div id='class.temporary-6.example-2' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#class.temporary-6.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
const int&amp; x = (const int&amp;)1;  <span class='comment'>// temporary for value 1 has same lifetime as x
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='class.temporary-6.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#class.temporary-6.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.temporary-6.sentence-4' class='sentence'>If a temporary object has a reference member initialized by another temporary object,
lifetime extension applies recursively to such a member's initializer<a class='hidden_link' href='#class.temporary-6.sentence-4'>.</a></div> <div id='class.temporary-6.example-3' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#class.temporary-6.example-3'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct S {
  const int&amp; m;
};
const S&amp; s = S{1};             <span class='comment'>// both <span class='tcode_in_codeblock'>S</span> and <span class='tcode_in_codeblock'>int</span> temporaries have lifetime of <span class='tcode_in_codeblock'>s</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> <div id='class.temporary-6.sentence-5' class='sentence'>The exceptions to this lifetime rule are:
<ul class='itemize'><li id='class.temporary-6.9'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.temporary-6.9'>(6.9)</a></div><div id='class.temporary-6.9.sentence-1' class='sentence'>A temporary object bound to a reference parameter in a function call (<a href='expr.call'>[expr.call]</a>)
persists until the completion of the full-expression containing the call<a class='hidden_link' href='#class.temporary-6.9.sentence-1'>.</a></div></li><li id='class.temporary-6.10'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.temporary-6.10'>(6.10)</a></div><div id='class.temporary-6.10.sentence-1' class='sentence'>The lifetime of a temporary bound to the returned value in a function <span class='texttt'>return</span> statement (<a href='stmt.return'>[stmt.return]</a>) is not extended; the temporary is destroyed at the end of the full-expression in the <span class='texttt'>return</span> statement<a class='hidden_link' href='#class.temporary-6.10.sentence-1'>.</a></div></li><li id='class.temporary-6.11'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.temporary-6.11'>(6.11)</a></div><div id='class.temporary-6.11.sentence-1' class='sentence'>A temporary bound to a reference in a <i ><a href='expr.new#nt:new-initializer'>new-initializer</a></i> persists until the completion of the full-expression containing the <i ><a href='expr.new#nt:new-initializer'>new-initializer</a></i><a class='hidden_link' href='#class.temporary-6.11.sentence-1'>.</a></div> <div id='class.temporary-6.11.note-3' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#class.temporary-6.11.note-3'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.temporary-6.11.sentence-2' class='sentence'>This may introduce a dangling reference<a class='hidden_link' href='#class.temporary-6.11.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='class.temporary-6.11.example-4' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#class.temporary-6.11.example-4'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct S { int mi; const std::pair&lt;int,int&gt;&amp; mp; };
S a { 1, {2,3} };
S* p = new S{ 1, {2,3} };      <span class='comment'>// creates dangling reference
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </li></ul></div></div><div class='para' id='class.temporary-7'><div class='marginalizedparent'><a class='marginalized' href='#class.temporary-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3817'>#</a></div><div id='class.temporary-7.sentence-1' class='sentence'>The destruction of a temporary whose lifetime is not extended by being
bound to a reference is sequenced before the destruction of every
temporary which is constructed earlier in the same full-expression<a class='hidden_link' href='#class.temporary-7.sentence-1'>.</a></div> <div id='class.temporary-7.sentence-2' class='sentence'>If the lifetime of two or more temporaries to which references are bound ends
at the same point,
these temporaries are destroyed at that point in the reverse order of the
completion of their construction<a class='hidden_link' href='#class.temporary-7.sentence-2'>.</a></div> <div id='class.temporary-7.sentence-3' class='sentence'>In addition, the destruction of temporaries bound to references shall
take into account the ordering of destruction of objects with static, thread, or
automatic storage duration (<a href='#stc.static'>[basic.stc.static]</a>, <a href='#stc.thread'>[basic.stc.thread]</a>, <a href='#stc.auto'>[basic.stc.auto]</a>);
that is, if
<span class='texttt'>obj1</span>
is an object with the same storage duration as the temporary and
created before the temporary is created
the temporary shall be destroyed before
<span class='texttt'>obj1</span>
is destroyed;
if
<span class='texttt'>obj2</span>
is an object with the same storage duration as the temporary and
created after the temporary is created
the temporary shall be destroyed after
<span class='texttt'>obj2</span>
is destroyed<a class='hidden_link' href='#class.temporary-7.sentence-3'>.</a></div></div><div class='para' id='class.temporary-8'><div class='marginalizedparent'><a class='marginalized' href='#class.temporary-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3843'>#</a></div><div id='class.temporary-8.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#class.temporary-8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct S {
  S();
  S(int);
  friend S operator+(const S&amp;, const S&amp;);
  ~S();
};
S obj1;
const S&amp; cr = S(16)+S(23);
S obj2;</pre><div id='class.temporary-8.sentence-1' class='sentence'>The expression
<span class='texttt'>S(16) + S(23)</span>
creates three temporaries:
a first temporary
<span class='texttt'>T1</span>
to hold the result of the expression
<span class='texttt'>S(16)</span>,
a second temporary
<span class='texttt'>T2</span>
to hold the result of the expression
<span class='texttt'>S(23)</span>,
and a third temporary
<span class='texttt'>T3</span>
to hold the result of the addition of these two expressions<a class='hidden_link' href='#class.temporary-8.sentence-1'>.</a></div> <div id='class.temporary-8.sentence-2' class='sentence'>The temporary
<span class='texttt'>T3</span>
is then bound to the reference
<span class='texttt'>cr</span><a class='hidden_link' href='#class.temporary-8.sentence-2'>.</a></div> <div id='class.temporary-8.sentence-3' class='sentence'>It is unspecified whether
<span class='texttt'>T1</span>
or
<span class='texttt'>T2</span>
is created first<a class='hidden_link' href='#class.temporary-8.sentence-3'>.</a></div> <div id='class.temporary-8.sentence-4' class='sentence'>On an implementation where
<span class='texttt'>T1</span>
is created before
<span class='texttt'>T2</span>,
<span class='texttt'>T2</span>
shall be destroyed before
<span class='texttt'>T1</span><a class='hidden_link' href='#class.temporary-8.sentence-4'>.</a></div> <div id='class.temporary-8.sentence-5' class='sentence'>The temporaries
<span class='texttt'>T1</span>
and
<span class='texttt'>T2</span>
are bound to the reference parameters of
<span class='texttt'>operator+</span>;
these temporaries are destroyed at the end of the full-expression
containing the call to
<span class='texttt'>operator+</span><a class='hidden_link' href='#class.temporary-8.sentence-5'>.</a></div> <div id='class.temporary-8.sentence-6' class='sentence'>The temporary
<span class='texttt'>T3</span>
bound to the reference
<span class='texttt'>cr</span>
is destroyed at the end of
<span class='texttt'>cr</span>'s
lifetime, that is, at the end of the program<a class='hidden_link' href='#class.temporary-8.sentence-6'>.</a></div> <div id='class.temporary-8.sentence-7' class='sentence'>In addition, the order in which
<span class='texttt'>T3</span>
is destroyed takes into account the destruction order of other objects with
static storage duration<a class='hidden_link' href='#class.temporary-8.sentence-7'>.</a></div> <div id='class.temporary-8.sentence-8' class='sentence'>That is, because
<span class='texttt'>obj1</span>
is constructed before
<span class='texttt'>T3</span>,
and
<span class='texttt'>T3</span>
is constructed before
<span class='texttt'>obj2</span>,
<span class='texttt'>obj2</span>
shall be destroyed before
<span class='texttt'>T3</span>,
and
<span class='texttt'>T3</span>
shall be destroyed before
<span class='texttt'>obj1</span><a class='hidden_link' href='#class.temporary-8.sentence-8'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='footnote' id='footnote-38'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-38'>38)</a></div><div id='footnote-38.sentence-1' class='sentence'>The same rules apply to initialization of an
  <span class='texttt'>initializer_&shy;list</span> object (<a href='dcl.init.list'>[dcl.init.list]</a>) with its
  underlying temporary array<a class='hidden_link' href='#footnote-38.sentence-1'>.</a></div></div></div></div><div id='types' class='section'><h2 ><a class='secnum' href='#types' style='min-width:88pt'>6.7</a> Types <a class='abbr_ref' href='basic.types'>[basic.types]</a></h2><span class='indexparent'><a class='index' id=':type_'></a></span><div class='para' id='types-1'><div class='marginalizedparent'><a class='marginalized' href='#types-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3927'>#</a></div><div id='types-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#types-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='types-1.sentence-1' class='sentence'><a href='#types'>[basic.types]</a> and the subclauses thereof
impose requirements on implementations regarding the representation
of types<a class='hidden_link' href='#types-1.sentence-1'>.</a></div> <div id='types-1.sentence-2' class='sentence'>There are two kinds of types: fundamental types and compound types<a class='hidden_link' href='#types-1.sentence-2'>.</a></div> <div id='types-1.sentence-3' class='sentence'>Types describe <a href='#intro.object'>objects</a>,
<a href='dcl.ref'>references</a>,
or <a href='dcl.fct'>functions</a><a class='hidden_link' href='#types-1.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='types-2'><div class='marginalizedparent'><a class='marginalized' href='#types-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3938'>#</a></div><div id='types-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':object,byte_copying_and'></a></span><span class='indexparent'><a class='index' id=':type,trivially_copyable'></a></span>For any object (other than a potentially-overlapping subobject) of trivially copyable type
<span class='texttt'>T</span>, whether or not the object holds a valid value of type
<span class='texttt'>T</span>, the underlying bytes (<a href='#intro.memory'>[intro.memory]</a>) making up the
object can be copied into an array of
<span class='texttt'>char</span>,
<span class='texttt'>unsigned char</span>, or
<span class='texttt'>std&#x200b;::&#x200b;byte</span> (<a href='cstddef.syn'>[cstddef.syn]</a>)<a class='hidden_link' href='#types-2.sentence-1'>.</a><a class='footnotenum' href='#footnote-39'>39</a></div> <div id='types-2.sentence-2' class='sentence'>
If the content of that array
is copied back into the object, the object shall
subsequently hold its original value<a class='hidden_link' href='#types-2.sentence-2'>.</a></div> <div id='types-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#types-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
#define N sizeof(T)
char buf[N];
T obj;                          <span class='comment'>// <span class='tcode_in_codeblock'>obj</span> initialized to its original value
</span>std::memcpy(buf, &amp;obj, N);      <span class='comment'>// between these two calls to <span class='tcode_in_codeblock'>std&#x200b;::&#x200b;memcpy</span>, <span class='tcode_in_codeblock'>obj</span> might be modified
</span>std::memcpy(&amp;obj, buf, N);      <span class='comment'>// at this point, each subobject of <span class='tcode_in_codeblock'>obj</span> of scalar type holds its original value
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='types-3'><div class='marginalizedparent'><a class='marginalized' href='#types-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3962'>#</a></div><div id='types-3.sentence-1' class='sentence'>For any trivially copyable type <span class='texttt'>T</span>, if two pointers to <span class='texttt'>T</span> point to
distinct <span class='texttt'>T</span> objects <span class='texttt'>obj1</span> and <span class='texttt'>obj2</span>, where neither
<span class='texttt'>obj1</span> nor <span class='texttt'>obj2</span> is a potentially-overlapping subobject, if the underlying
bytes (<a href='#intro.memory'>[intro.memory]</a>) making up
<span class='texttt'>obj1</span> are copied into <span class='texttt'>obj2</span>,<a class='footnotenum' href='#footnote-40'>40</a>
 <span class='texttt'>obj2</span> shall subsequently hold the same value as
<span class='texttt'>obj1</span><a class='hidden_link' href='#types-3.sentence-1'>.</a></div> <div id='types-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#types-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
T* t1p;
T* t2p;
    <span class='comment'>// provided that <span class='tcode_in_codeblock'>t2p</span> points to an initialized object ...
</span>std::memcpy(t1p, t2p, sizeof(T));
    <span class='comment'>// at this point, every subobject of trivially copyable type in <span class='tcode_in_codeblock'>*t1p</span> contains
</span>    <span class='comment'>// the same value as the corresponding subobject in <span class='tcode_in_codeblock'>*t2p</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  </div><div class='para' id='types-4'><div class='marginalizedparent'><a class='marginalized' href='#types-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L3983'>#</a></div><div id='types-4.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:representation,object' id='def:representation,object'><i >object representation</i></a>
of an object of type <span class='texttt'>T</span> is the
sequence of <span class='textit'>N</span> <span class='texttt'>unsigned char</span> objects taken up
by the object of type <span class='texttt'>T</span>, where <span class='textit'>N</span> equals
<span class='texttt'>sizeof(T)</span><a class='hidden_link' href='#types-4.sentence-1'>.</a></div> <div id='types-4.sentence-2' class='sentence'>The <a class='hidden_link' href='#def:representation,value' id='def:representation,value'><i >value representation</i></a>
of an object of type <span class='texttt'>T</span> is the set of bits
that participate in representing a value of type <span class='texttt'>T</span><a class='hidden_link' href='#types-4.sentence-2'>.</a></div> <div id='types-4.sentence-3' class='sentence'>Bits in the object representation that are not part of the value representation
are <a class='hidden_link' href='#def:padding_bits' id='def:padding_bits'><i >padding bits</i></a><a class='hidden_link' href='#types-4.sentence-3'>.</a></div> <div id='types-4.sentence-4' class='sentence'>For trivially copyable types, the value representation is
a set of bits in the object representation that determines a
<a class='hidden_link' href='#def:value' id='def:value'><i >value</i></a>, which is one discrete element of an
<span class='indexparent'><a class='index' id=':values_of_a_trivially_copyable_type'></a></span>implementation-defined set of values<a class='hidden_link' href='#types-4.sentence-4'>.</a><a class='footnotenum' href='#footnote-41'>41</a></div></div><div class='para' id='types-5'><div class='marginalizedparent'><a class='marginalized' href='#types-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4001'>#</a></div><div id='types-5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':type,incompletely-defined_object'></a></span>A class that has been declared but not defined, an enumeration type in certain
contexts (<a href='dcl.enum'>[dcl.enum]</a>), or an array of unknown
bound or of incomplete element type, is an
<span class='indexparent'><a class='index' id=':object_type,incompletely-defined'></a></span><span class='textit'>incompletely-defined object type</span><a class='hidden_link' href='#types-5.sentence-1'>.</a><a class='footnotenum' href='#footnote-42'>42</a></div> <div id='types-5.sentence-2' class='sentence'>
Incompletely-defined object types and <span class='mathit'>cv</span> <span class='texttt'>void</span> are
<a class='hidden_link' href='#def:type,incomplete___' id='def:type,incomplete___'><i >incomplete types</i></a> (<a href='#fundamental'>[basic.fundamental]</a>)<a class='hidden_link' href='#types-5.sentence-2'>.</a></div> <div id='types-5.sentence-3' class='sentence'>Objects shall not be defined to have an
incomplete type<a class='hidden_link' href='#types-5.sentence-3'>.</a></div></div><div class='para' id='types-6'><div class='marginalizedparent'><a class='marginalized' href='#types-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4014'>#</a></div><div id='types-6.sentence-1' class='sentence'>A class type (such as “<span class='texttt'>class X</span>”) might be incomplete at one
point in a translation unit and complete later on; the type
“<span class='texttt'>class X</span>” is the same type at both points<a class='hidden_link' href='#types-6.sentence-1'>.</a></div> <div id='types-6.sentence-2' class='sentence'>The declared type
of an array object might be an array of incomplete class type and
therefore incomplete; if the class type is completed later on in the
translation unit, the array type becomes complete; the array type at
those two points is the same type<a class='hidden_link' href='#types-6.sentence-2'>.</a></div> <div id='types-6.sentence-3' class='sentence'>The declared type of an array object
might be an array of unknown bound and therefore be incomplete at one
point in a translation unit and complete later on; the array types at
those two points (“array of unknown bound of <span class='texttt'>T</span>” and “array of
<span class='texttt'>N</span> <span class='texttt'>T</span>”) are different types<a class='hidden_link' href='#types-6.sentence-3'>.</a></div> <div id='types-6.sentence-4' class='sentence'>The type of a pointer to array of
unknown bound, or of a type defined by a <span class='texttt'>typedef</span> declaration to
be an array of unknown bound, cannot be completed<a class='hidden_link' href='#types-6.sentence-4'>.</a></div> <div id='types-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#types-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <span class='indexparent'><a class='index' id=':type,example_of_incomplete'></a></span><pre class='codeblock'>
class X;                        <span class='comment'>// <span class='tcode_in_codeblock'>X</span> is an incomplete type
</span>extern X* xp;                   <span class='comment'>// <span class='tcode_in_codeblock'>xp</span> is a pointer to an incomplete type
</span>extern int arr[];               <span class='comment'>// the type of arr is incomplete
</span>typedef int UNKA[];             <span class='comment'>// <span class='tcode_in_codeblock'>UNKA</span> is an incomplete type
</span>UNKA* arrp;                     <span class='comment'>// <span class='tcode_in_codeblock'>arrp</span> is a pointer to an incomplete type
</span>UNKA** arrpp;

void foo() {
  xp++;                         <span class='comment'>// ill-formed: <span class='tcode_in_codeblock'>X</span> is incomplete
</span>  arrp++;                       <span class='comment'>// ill-formed: incomplete type
</span>  arrpp++;                      <span class='comment'>// OK: sizeof <span class='tcode_in_codeblock'>UNKA*</span> is known
</span>}

struct X { int i; };            <span class='comment'>// now <span class='tcode_in_codeblock'>X</span> is a complete type
</span>int  arr[10];                   <span class='comment'>// now the type of <span class='tcode_in_codeblock'>arr</span> is complete
</span>
X x;
void bar() {
  xp = &amp;x;                      <span class='comment'>// OK; type is “pointer to <span class='tcode_in_codeblock'>X</span>”
</span>  arrp = &amp;arr;                  <span class='comment'>// ill-formed: different types
</span>  xp++;                         <span class='comment'>// OK:  <span class='tcode_in_codeblock'>X</span> is complete
</span>  arrp++;                       <span class='comment'>// ill-formed: <span class='tcode_in_codeblock'>UNKA</span> can't be completed
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='types-7'><div class='marginalizedparent'><a class='marginalized' href='#types-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4057'>#</a></div><div id='types-7.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#types-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='types-7.sentence-1' class='sentence'>The rules for declarations and expressions describe in which
contexts incomplete types are prohibited<a class='hidden_link' href='#types-7.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='types-8'><div class='marginalizedparent'><a class='marginalized' href='#types-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4061'>#</a></div><div id='types-8.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:object_type' id='def:object_type'><i >object type</i></a> is a (possibly cv-qualified) type that is not
a function type, not a reference type, and not <span class='mathit'>cv</span> <span class='texttt'>void</span><a class='hidden_link' href='#types-8.sentence-1'>.</a></div></div><div class='para' id='types-9'><div class='marginalizedparent'><a class='marginalized' href='#types-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4065'>#</a></div><div id='types-9.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':class,trivial'></a></span><span class='indexparent'><a class='index' id=':class,trivially_copyable'></a></span><span class='indexparent'><a class='index' id=':class,standard-layout'></a></span>Arithmetic types (<a href='#fundamental'>[basic.fundamental]</a>), enumeration types,
pointer types, pointer-to-member types (<a href='#compound'>[basic.compound]</a>),
<span class='texttt'>std&#x200b;::&#x200b;nullptr_&shy;t</span>,
and
<a href='#type.qualifier'>cv-qualified</a> versions of these
types are collectively called
<a class='hidden_link' href='#def:scalar_type' id='def:scalar_type'><i >scalar types</i></a><a class='hidden_link' href='#types-9.sentence-1'>.</a></div> <div id='types-9.sentence-2' class='sentence'>Scalar types, trivially copyable class types (<a href='class.prop'>[class.prop]</a>),
arrays of such types, and cv-qualified versions of these
types are collectively called <a class='hidden_link' href='#def:trivially_copyable_types' id='def:trivially_copyable_types'><i >trivially copyable types</i></a><a class='hidden_link' href='#types-9.sentence-2'>.</a></div> <div id='types-9.sentence-3' class='sentence'>Scalar types, trivial class types (<a href='class.prop'>[class.prop]</a>),
arrays of such types and cv-qualified versions of these
types are collectively called
<a class='hidden_link' href='#def:trivial_types' id='def:trivial_types'><i >trivial types</i></a><a class='hidden_link' href='#types-9.sentence-3'>.</a></div> <div id='types-9.sentence-4' class='sentence'>Scalar types, <a href='class.prop#def:standard-layout_class'>standard-layout class</a>
types, arrays of such types and
cv-qualified versions of these types
are collectively called <a class='hidden_link' href='#def:standard-layout_types' id='def:standard-layout_types'><i >standard-layout types</i></a><a class='hidden_link' href='#types-9.sentence-4'>.</a></div></div><div class='para' id='types-10'><div class='marginalizedparent'><a class='marginalized' href='#types-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4087'>#</a></div><div id='types-10.sentence-1' class='sentence'>A type is a <a class='hidden_link' href='#def:literal_type' id='def:literal_type'><i >literal type</i></a> if it is:
<ul class='itemize'><li id='types-10.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#types-10.1'>(10.1)</a></div><div id='types-10.1.sentence-1' class='sentence'>possibly cv-qualified <span class='texttt'>void</span>; or</div></li><li id='types-10.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#types-10.2'>(10.2)</a></div><div id='types-10.2.sentence-1' class='sentence'>a scalar type; or</div></li><li id='types-10.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#types-10.3'>(10.3)</a></div><div id='types-10.3.sentence-1' class='sentence'>a reference type; or</div></li><li id='types-10.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#types-10.4'>(10.4)</a></div><div id='types-10.4.sentence-1' class='sentence'>an array of literal type; or</div></li><li id='types-10.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#types-10.5'>(10.5)</a></div><div id='types-10.5.sentence-1' class='sentence'>a possibly cv-qualified <a href='class'>class type</a> that
has all of the following properties:
<ul class='itemize'><li id='types-10.5.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#types-10.5.1'>(10.5.1)</a></div><div id='types-10.5.1.sentence-1' class='sentence'>it has a trivial destructor,</div></li><li id='types-10.5.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#types-10.5.2'>(10.5.2)</a></div><div id='types-10.5.2.sentence-1' class='sentence'>it is either a <a href='expr.prim.lambda.closure#def:closure_type'>closure type</a>,
an <a href='dcl.init.aggr'>aggregate type</a>, or
has at least one constexpr constructor or constructor template
(possibly <a href='namespace.udecl#def:inherits'>inherited</a> from a base class)
that is not a copy or move constructor,</div></li><li id='types-10.5.3'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#types-10.5.3'>(10.5.3)</a></div><div id='types-10.5.3.sentence-1' class='sentence'>if it is a union, at least one of its non-static data members is
of non-volatile literal type, and</div></li><li id='types-10.5.4'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#types-10.5.4'>(10.5.4)</a></div><div id='types-10.5.4.sentence-1' class='sentence'>if it is not a union, all of its non-static data members and base classes are
of non-volatile literal types<a class='hidden_link' href='#types-10.5.4.sentence-1'>.</a></div></li></ul></div></li></ul></div> <div id='types-10.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#types-10.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='types-10.sentence-2' class='sentence'>A literal type is one for which
it might be possible to create an object
within a constant expression<a class='hidden_link' href='#types-10.sentence-2'>.</a></div> <div id='types-10.sentence-3' class='sentence'>It is not a guarantee that it is possible to create such an object,
nor is it a guarantee that any object of that type
will be usable in a constant expression<a class='hidden_link' href='#types-10.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='types-11'><div class='marginalizedparent'><a class='marginalized' href='#types-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4118'>#</a></div><div id='types-11.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':layout-compatible_type'></a></span>Two types <span class='textit'>cv1</span> <span class='texttt'>T1</span> and <span class='textit'>cv2</span> <span class='texttt'>T2</span> are
<a class='hidden_link' href='#def:layout-compatible' id='def:layout-compatible'><i >layout-compatible</i></a> types
if <span class='texttt'>T1</span> and <span class='texttt'>T2</span> are the same type,
<a href='dcl.enum#def:layout-compatible,enumeration'>layout-compatible enumerations</a>, or
<a href='class.mem#def:layout-compatible,class'>layout-compatible standard-layout class types</a><a class='hidden_link' href='#types-11.sentence-1'>.</a></div></div><div class='footnote' id='footnote-39'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-39'>39)</a></div><div id='footnote-39.sentence-1' class='sentence'>By using, for example, the library
functions (<a href='headers'>[headers]</a>) <span class='texttt'>std&#x200b;::&#x200b;memcpy</span> or <span class='texttt'>std&#x200b;::&#x200b;memmove</span><a class='hidden_link' href='#footnote-39.sentence-1'>.</a></div></div><div class='footnote' id='footnote-40'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-40'>40)</a></div><div id='footnote-40.sentence-1' class='sentence'>By using, for example,
the library functions (<a href='headers'>[headers]</a>) <span class='texttt'>std&#x200b;::&#x200b;memcpy</span> or <span class='texttt'>std&#x200b;::&#x200b;memmove</span><a class='hidden_link' href='#footnote-40.sentence-1'>.</a></div></div><div class='footnote' id='footnote-41'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-41'>41)</a></div><div id='footnote-41.sentence-1' class='sentence'>The
intent is that the memory model of C++ is compatible
with that of ISO/IEC 9899 Programming Language C<a class='hidden_link' href='#footnote-41.sentence-1'>.</a></div></div><div class='footnote' id='footnote-42'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-42'>42)</a></div><div id='footnote-42.sentence-1' class='sentence'>The size and layout of an instance of an incompletely-defined
object type is unknown<a class='hidden_link' href='#footnote-42.sentence-1'>.</a></div></div><div id='fundamental' class='section'><h3 ><a class='secnum' href='#fundamental' style='min-width:103pt'>6.7.1</a> Fundamental types <a class='abbr_ref' href='basic.fundamental'>[basic.fundamental]</a></h3><div class='para' id='fundamental-1'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4128'>#</a></div><div id='fundamental-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':type,integral'></a></span><span class='indexparent'><a class='index' id=':type,implementation-defined_sizeof'></a></span><span class='indexparent'><a class='index' id=':type,Boolean'></a></span><span class='indexparent'><a class='index' id=':type,char'></a></span><span class='indexparent'><a class='index' id=':type,character'></a></span>Objects declared as characters (<span class='texttt'>char</span>) shall be large enough to
store any member of the implementation's basic character set<a class='hidden_link' href='#fundamental-1.sentence-1'>.</a></div> <div id='fundamental-1.sentence-2' class='sentence'>If a
character from this set is stored in a character object, the integral
value of that character object is equal to the value of the single
character literal form of that character<a class='hidden_link' href='#fundamental-1.sentence-2'>.</a></div> <div id='fundamental-1.sentence-3' class='sentence'>It is <span class='indexparent'><a class='index' id=':signedness_of_char'></a></span>implementation-defined
whether a <span class='texttt'>char</span> object can hold negative values<a class='hidden_link' href='#fundamental-1.sentence-3'>.</a></div> <div id='fundamental-1.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':char,implementation-defined_sign_of'></a></span><span class='indexparent'><a class='index' id=':type,signed_char'></a></span><span class='indexparent'><a class='index' id=':type,unsigned_char'></a></span>Characters can be explicitly declared <span class='texttt'>unsigned</span> or
<span class='texttt'>signed</span><a class='hidden_link' href='#fundamental-1.sentence-4'>.</a></div> <div id='fundamental-1.sentence-5' class='sentence'><span class='indexparent'><a class='index' id=':character,signed'></a></span>Plain <span class='texttt'>char</span>, <span class='texttt'>signed char</span>, and <span class='texttt'>unsigned char</span> are
three distinct types, collectively called
<a class='hidden_link' href='#def:type,narrow_character' id='def:type,narrow_character'><i >narrow character types</i></a><a class='hidden_link' href='#fundamental-1.sentence-5'>.</a></div> <div id='fundamental-1.sentence-6' class='sentence'>A <span class='texttt'>char</span>, a <span class='texttt'>signed char</span>, and an
<span class='texttt'>unsigned char</span> occupy the same amount of storage and have the
same <a href='#align'>alignment requirements</a>; that is, they have the
same object representation<a class='hidden_link' href='#fundamental-1.sentence-6'>.</a></div> <div id='fundamental-1.sentence-7' class='sentence'>For narrow character types, all bits of the object
representation participate in the value representation<a class='hidden_link' href='#fundamental-1.sentence-7'>.</a></div> <div id='fundamental-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#fundamental-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='fundamental-1.sentence-8' class='sentence'>A bit-field of narrow character type whose length is larger than
the number of bits in the object representation of that type has
padding bits; see <a href='#types'>[basic.types]</a><a class='hidden_link' href='#fundamental-1.sentence-8'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='fundamental-1.sentence-9' class='sentence'>
For unsigned narrow
character types, each possible bit pattern of the value representation
represents a distinct number<a class='hidden_link' href='#fundamental-1.sentence-9'>.</a></div> <div id='fundamental-1.sentence-10' class='sentence'>These requirements do not hold for other types<a class='hidden_link' href='#fundamental-1.sentence-10'>.</a></div> <div id='fundamental-1.sentence-11' class='sentence'>In
any particular implementation, a plain <span class='texttt'>char</span> object can take on
either the same values as a <span class='texttt'>signed char</span> or an <span class='texttt'>unsigned
char</span>; which one is <span class='indexparent'><a class='index' id=':representation_of_char'></a></span>implementation-defined<a class='hidden_link' href='#fundamental-1.sentence-11'>.</a></div> <div id='fundamental-1.sentence-12' class='sentence'>For each value <span class='textit'>i</span> of type <span class='texttt'>unsigned char</span> in the range
0 to 255 inclusive, there exists a value <span class='textit'>j</span> of type
<span class='texttt'>char</span> such that the result of an <a href='conv.integral'>integral
conversion</a> from <span class='textit'>i</span> to <span class='texttt'>char</span> is
<span class='textit'>j</span>, and the result of an integral conversion from
<span class='textit'>j</span> to <span class='texttt'>unsigned char</span> is <span class='textit'>i</span><a class='hidden_link' href='#fundamental-1.sentence-12'>.</a></div></div><div class='para' id='fundamental-2'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4173'>#</a></div><div id='fundamental-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':type,standard_signed_integer'></a></span>There are five <a class='hidden_link' href='#def:standard_signed_integer_type' id='def:standard_signed_integer_type'><i >standard signed integer types</i></a> :
<span class='indexparent'><a class='index' id=':type,signed_char_'></a></span><span class='indexparent'><a class='index' id=':type,short'></a></span><span class='indexparent'><a class='index' id=':type,int'></a></span><span class='indexparent'><a class='index' id=':type,long'></a></span><span class='indexparent'><a class='index' id=':type,long_long'></a></span>“<span class='texttt'>signed char</span>”, “<span class='texttt'>short int</span>”, “<span class='texttt'>int</span>”,
“<span class='texttt'>long int</span>”, and “<span class='texttt'>long long int</span>”<a class='hidden_link' href='#fundamental-2.sentence-1'>.</a></div> <div id='fundamental-2.sentence-2' class='sentence'>In
this list, each type provides at least as much storage as those
preceding it in the list<a class='hidden_link' href='#fundamental-2.sentence-2'>.</a></div> <div id='fundamental-2.sentence-3' class='sentence'><span class='indexparent'><a class='index' id=':type,extended_signed_integer'></a></span><span class='indexparent'><a class='index' id=':type,signed_integer'></a></span>There may also be <span class='indexparent'><a class='index' id=':extended_signed_integer_types'></a></span>implementation-defined
<a class='hidden_link' href='#def:extended_signed_integer_type' id='def:extended_signed_integer_type'><i >extended signed integer types</i></a><a class='hidden_link' href='#fundamental-2.sentence-3'>.</a></div> <div id='fundamental-2.sentence-4' class='sentence'>The standard and
extended signed integer types are collectively called
<a class='hidden_link' href='#def:signed_integer_type' id='def:signed_integer_type'><i >signed integer types</i></a><a class='hidden_link' href='#fundamental-2.sentence-4'>.</a></div> <span class='indexparent'><a class='index' id=':integral_type,implementation-defined_sizeof'></a></span><div id='fundamental-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#fundamental-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='fundamental-2.sentence-5' class='sentence'>Plain <span class='texttt'>int</span>s
are intended to have
the natural size suggested by the architecture of the
execution environment;
the other signed integer types are provided to meet special needs<a class='hidden_link' href='#fundamental-2.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='fundamental-3'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4201'>#</a></div><div id='fundamental-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':type,unsigned'></a></span>For each of the standard signed integer types,
there exists a corresponding (but different)
<span class='indexparent'><a class='index' id=':type,standard_unsigned_integer'></a></span><a class='hidden_link' href='#def:standard_unsigned_integer_type' id='def:standard_unsigned_integer_type'><i >standard unsigned integer type</i></a>:
<span class='indexparent'><a class='index' id=':type,unsigned_char_'></a></span><span class='indexparent'><a class='index' id=':type,unsigned_short'></a></span><span class='indexparent'><a class='index' id=':type,unsigned_int'></a></span><span class='indexparent'><a class='index' id=':type,unsigned_long'></a></span><span class='indexparent'><a class='index' id=':type,unsigned_long_long'></a></span>“<span class='texttt'>unsigned char</span>”, “<span class='texttt'>unsigned short int</span>”,
“<span class='texttt'>unsigned int</span>”, “<span class='texttt'>unsigned long int</span>”, and
“<span class='texttt'>unsigned long long int</span>”, each of
which occupies the same amount of storage and has the same <a href='#align'>alignment
requirements</a> as the corresponding signed integer
type<a class='footnotenum' href='#footnote-43'>43</a>;
that is, each signed integer type has the same object representation as
its corresponding unsigned integer type<a class='hidden_link' href='#fundamental-3.sentence-1'>.</a></div> <div id='fundamental-3.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':type,extended_unsigned_integer'></a></span><span class='indexparent'><a class='index' id=':type,unsigned_integer'></a></span>Likewise, for each of the extended signed integer types there exists a
corresponding
<a class='hidden_link' href='#def:extended_unsigned_integer_type' id='def:extended_unsigned_integer_type'><i >extended unsigned integer type</i></a> with the same amount of storage and alignment
requirements<a class='hidden_link' href='#fundamental-3.sentence-2'>.</a></div> <div id='fundamental-3.sentence-3' class='sentence'>The standard and extended unsigned integer types are
collectively called <a class='hidden_link' href='#def:unsigned_integer_type' id='def:unsigned_integer_type'><i >unsigned integer types</i></a><a class='hidden_link' href='#fundamental-3.sentence-3'>.</a></div> <div id='fundamental-3.sentence-4' class='sentence'>The range of non-negative
values of a signed integer type is
a subrange of the corresponding unsigned integer type,
the representation of the same value in each of the two types is the same, and
the value representation of each corresponding signed/unsigned type shall be the same<a class='hidden_link' href='#fundamental-3.sentence-4'>.</a></div> <div id='fundamental-3.sentence-5' class='sentence'><span class='indexparent'><a class='index' id=':type,standard_integer'></a></span><span class='indexparent'><a class='index' id=':type,extended_integer'></a></span>The standard signed integer types and standard unsigned integer types
are collectively called the <a class='hidden_link' href='#def:standard_integer_type' id='def:standard_integer_type'><i >standard integer types</i></a>, and the extended
signed integer types and extended
unsigned integer types are collectively called the
<a class='hidden_link' href='#def:extended_integer_type' id='def:extended_integer_type'><i >extended integer types</i></a><a class='hidden_link' href='#fundamental-3.sentence-5'>.</a></div> <div id='fundamental-3.sentence-6' class='sentence'>The signed and unsigned integer types shall satisfy
the constraints given in the C standard, subclause 5.2.4.2.1<a class='hidden_link' href='#fundamental-3.sentence-6'>.</a></div></div><div class='para' id='fundamental-4'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4242'>#</a></div><div id='fundamental-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':arithmetic,unsigned'></a></span>Unsigned integers shall obey the laws of arithmetic modulo <span class="mjx-chtml"><span class="mjx-math" aria-label="2 Superscript n"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.591em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span> where <span class='math'><span class='mathalpha'>n</span></span> is
the number of bits in the value representation of that particular size of
integer<a class='hidden_link' href='#fundamental-4.sentence-1'>.</a><a class='footnotenum' href='#footnote-44'>44</a></div></div><div class='para' id='fundamental-5'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4252'>#</a></div><div id='fundamental-5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':type,char16_t'></a></span><span class='indexparent'><a class='index' id=':type,char32_t'></a></span><span class='indexparent'><a class='index' id=':type,wchar_t'></a></span><span class='indexparent'><a class='index' id=':type,underlying,char16_t'></a></span><span class='indexparent'><a class='index' id=':type,underlying,char32_t'></a></span>Type <span class='texttt'>wchar_&shy;t</span> is a distinct type whose values can represent
distinct codes for all members of the largest extended character set
specified among the supported <a href='locale'>locales</a><a class='hidden_link' href='#fundamental-5.sentence-1'>.</a></div> <div id='fundamental-5.sentence-2' class='sentence'>Type
<span class='texttt'>wchar_&shy;t</span> shall have the same size, signedness, and <a href='#align'>alignment
requirements</a> as one of the other integral types,
called its <a class='hidden_link' href='#def:type,underlying,wchar_t' id='def:type,underlying,wchar_t'><i >underlying type</i></a><a class='hidden_link' href='#fundamental-5.sentence-2'>.</a></div> <div id='fundamental-5.sentence-3' class='sentence'>Types <span class='texttt'>char16_&shy;t</span> and
<span class='texttt'>char32_&shy;t</span> denote distinct types with the same size, signedness,
and alignment as <span class='texttt'>uint_&shy;least16_&shy;t</span> and <span class='texttt'>uint_&shy;least32_&shy;t</span>,
respectively, in <span class='texttt'>&lt;cstdint&gt;</span>, called the underlying types<a class='hidden_link' href='#fundamental-5.sentence-3'>.</a></div></div><div class='para' id='fundamental-6'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4272'>#</a></div><div id='fundamental-6.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':Boolean_type'></a></span>Values of type <span class='texttt'>bool</span> are either <span class='texttt'>true</span> or
<span class='texttt'>false</span><a class='hidden_link' href='#fundamental-6.sentence-1'>.</a><a class='footnotenum' href='#footnote-45'>45</a></div> <div id='fundamental-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#fundamental-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='fundamental-6.sentence-2' class='sentence'>There are no <span class='texttt'>signed</span>, <span class='texttt'>unsigned</span>, <span class='texttt'>short</span>,
or <span class='texttt'>long bool</span> types or values<a class='hidden_link' href='#fundamental-6.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='fundamental-6.sentence-3' class='sentence'> Values of type
<span class='texttt'>bool</span> participate in <a href='conv.prom#def:integral_promotions'>integral promotions</a><a class='hidden_link' href='#fundamental-6.sentence-3'>.</a></div></div><div class='para' id='fundamental-7'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4283'>#</a></div><div id='fundamental-7.sentence-1' class='sentence'>Types <span class='texttt'>bool</span>, <span class='texttt'>char</span>, <span class='texttt'>char16_&shy;t</span>, <span class='texttt'>char32_&shy;t</span>,
<span class='texttt'>wchar_&shy;t</span>, and the signed and unsigned integer types are
collectively called
<a class='hidden_link' href='#def:integral_type' id='def:integral_type'><i >integral</i></a> types<a class='hidden_link' href='#fundamental-7.sentence-1'>.</a><a class='footnotenum' href='#footnote-46'>46</a></div> <div id='fundamental-7.sentence-2' class='sentence'>
A synonym for integral type is
<span class='indexparent'><a class='index' id=':signed_integer_representation,ones&#39;_complement'></a></span><span class='indexparent'><a class='index' id=':signed_integer_representation,two&#39;s_complement'></a></span><span class='indexparent'><a class='index' id=':signed_integer_representation,signed_magnitude'></a></span><a class='hidden_link' href='#def:integer_type' id='def:integer_type'><i >integer type</i></a><a class='hidden_link' href='#fundamental-7.sentence-2'>.</a></div> <div id='fundamental-7.sentence-3' class='sentence'>The representations of integral types shall
define values by use of a pure binary numeration system<a class='hidden_link' href='#fundamental-7.sentence-3'>.</a><a class='footnotenum' href='#footnote-47'>47</a></div> <div id='fundamental-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#fundamental-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='fundamental-7.sentence-4' class='sentence'>This document permits two's complement,
ones' complement and signed magnitude representations for integral types<a class='hidden_link' href='#fundamental-7.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='fundamental-8'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4305'>#</a></div><div id='fundamental-8.sentence-1' class='sentence'>There are three <a class='hidden_link' href='#def:type,floating-point' id='def:type,floating-point'><i >floating-point types</i></a>:
<span class='indexparent'><a class='index' id=':type,float'></a></span><span class='texttt'>float</span>,
<span class='indexparent'><a class='index' id=':type,double'></a></span><span class='texttt'>double</span>,
and
<span class='indexparent'><a class='index' id=':type,long_double'></a></span><span class='texttt'>long double</span><a class='hidden_link' href='#fundamental-8.sentence-1'>.</a></div> <div id='fundamental-8.sentence-2' class='sentence'>The type <span class='texttt'>double</span> provides at least as much
precision as <span class='texttt'>float</span>, and the type <span class='texttt'>long double</span> provides at
least as much precision as <span class='texttt'>double</span><a class='hidden_link' href='#fundamental-8.sentence-2'>.</a></div> <div id='fundamental-8.sentence-3' class='sentence'>The set of values of the type
<span class='texttt'>float</span> is a subset of the set of values of the type
<span class='texttt'>double</span>; the set of values of the type <span class='texttt'>double</span> is a subset
of the set of values of the type <span class='texttt'>long double</span><a class='hidden_link' href='#fundamental-8.sentence-3'>.</a></div> <div id='fundamental-8.sentence-4' class='sentence'>The value
representation of floating-point types is <span class='indexparent'><a class='index' id=':value_representation_of_floating-point_types'></a></span>implementation-defined<a class='hidden_link' href='#fundamental-8.sentence-4'>.</a></div> <div id='fundamental-8.sentence-6' class='sentence'><span class='indexparent'><a class='index' id=':floating-point_type,implementation-defined'></a></span><div id='fundamental-8.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#fundamental-8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='fundamental-8.sentence-5' class='sentence'>This document imposes no requirements on the accuracy of
floating-point operations; see also <a href='support.limits'>[support.limits]</a><a class='hidden_link' href='#fundamental-8.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> 
Integral and floating-point types are collectively
called <a class='hidden_link' href='#def:type,arithmetic' id='def:type,arithmetic'><i >arithmetic</i></a> types<a class='hidden_link' href='#fundamental-8.sentence-6'>.</a></div> <div id='fundamental-8.sentence-7' class='sentence'><span class='indexparent'><a class='index' id=':numeric_limits,specializations_for_arithmetic_types'></a></span>Specializations of the standard library template
<span class='texttt'>std&#x200b;::&#x200b;numeric_&shy;limits</span> (<a href='support.limits'>[support.limits]</a>) shall specify the
maximum and minimum values of each arithmetic type for an
implementation<a class='hidden_link' href='#fundamental-8.sentence-7'>.</a></div></div><div class='para' id='fundamental-9'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4334'>#</a></div><div id='fundamental-9.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':type,void'></a></span>A type <span class='mathit'>cv</span> <span class='texttt'>void</span>
is an incomplete type that cannot be completed; such a type has
an empty set of values<a class='hidden_link' href='#fundamental-9.sentence-1'>.</a></div> <div id='fundamental-9.sentence-2' class='sentence'>It is used as the return
type for functions that do not return a value<a class='hidden_link' href='#fundamental-9.sentence-2'>.</a></div> <div id='fundamental-9.sentence-3' class='sentence'>Any expression can be
explicitly converted to type <span class='mathit'>cv</span> <span class='texttt'>void</span> (<a href='expr.cast'>[expr.cast]</a>)<a class='hidden_link' href='#fundamental-9.sentence-3'>.</a></div> <div id='fundamental-9.sentence-4' class='sentence'>An expression of type <span class='mathit'>cv</span> <span class='texttt'>void</span> shall
be used only as an <a href='stmt.expr'>expression statement</a>, as an operand
of a <a href='expr.comma'>comma expression</a>, as a second or third operand
of <span class='texttt'>?:</span> (<a href='expr.cond'>[expr.cond]</a>), as the operand of
<span class='texttt'>typeid</span>, <span class='texttt'>noexcept</span>, or <span class='texttt'>decltype</span>, as
the expression in a <a href='stmt.return'><span class='texttt'>return</span> statement</a> for a function
with the return type <span class='mathit'>cv</span> <span class='texttt'>void</span>, or as the operand of an explicit conversion
to type <span class='mathit'>cv</span> <span class='texttt'>void</span><a class='hidden_link' href='#fundamental-9.sentence-4'>.</a></div></div><div class='para' id='fundamental-10'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4350'>#</a></div><div id='fundamental-10.sentence-1' class='sentence'>A value of type <span class='texttt'>std&#x200b;::&#x200b;nullptr_&shy;t</span> is a <a href='conv.ptr#def:null_pointer_constant'>null pointer
constant</a><a class='hidden_link' href='#fundamental-10.sentence-1'>.</a></div> <div id='fundamental-10.sentence-2' class='sentence'>Such values participate in the pointer and the
pointer-to-member conversions (<a href='conv.ptr'>[conv.ptr]</a>, <a href='conv.mem'>[conv.mem]</a>)<a class='hidden_link' href='#fundamental-10.sentence-2'>.</a></div> <div id='fundamental-10.sentence-3' class='sentence'><span class='texttt'>sizeof(std&#x200b;::&#x200b;nullptr_&shy;t)</span> shall be equal to <span class='texttt'>sizeof(void*)</span><a class='hidden_link' href='#fundamental-10.sentence-3'>.</a></div></div><div class='para' id='fundamental-11'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4356'>#</a></div><div id='fundamental-11.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':type,fundamental'></a></span>The types described in this subclause
are called <a class='hidden_link' href='#def:fundamental_type' id='def:fundamental_type'><i >fundamental types</i></a><a class='hidden_link' href='#fundamental-11.sentence-1'>.</a></div> <div id='fundamental-11.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#fundamental-11.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='fundamental-11.sentence-2' class='sentence'>Even if the implementation defines two or more fundamental types to have the
same value representation, they are nevertheless different types<a class='hidden_link' href='#fundamental-11.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='footnote' id='footnote-43'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-43'>43)</a></div><div id='footnote-43.sentence-1' class='sentence'>See <a href='dcl.type.simple'>[dcl.type.simple]</a> regarding the correspondence between types and
the sequences of <i ><a href='dcl.type#nt:type-specifier'>type-specifier</a></i><span class='textit'>s</span> that designate them<a class='hidden_link' href='#footnote-43.sentence-1'>.</a></div></div><div class='footnote' id='footnote-44'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-44'>44)</a></div><div id='footnote-44.sentence-1' class='sentence'>This implies that
unsigned arithmetic does not overflow because a result
that cannot be represented by the resulting unsigned integer type is
reduced modulo the number that is one greater than the largest value
that can be represented by the resulting unsigned integer type<a class='hidden_link' href='#footnote-44.sentence-1'>.</a></div></div><div class='footnote' id='footnote-45'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-45'>45)</a></div><div id='footnote-45.sentence-1' class='sentence'>Using a <span class='texttt'>bool</span> value in ways described by this document
as “undefined”, such as by examining the value of an
uninitialized automatic object, might cause it to behave as if it is
neither <span class='texttt'>true</span> nor <span class='texttt'>false</span><a class='hidden_link' href='#footnote-45.sentence-1'>.</a></div></div><div class='footnote' id='footnote-46'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-46'>46)</a></div><div id='footnote-46.sentence-1' class='sentence'>Therefore, enumerations (<a href='dcl.enum'>[dcl.enum]</a>) are not integral; however,
enumerations can be promoted to integral types as specified
in <a href='conv.prom'>[conv.prom]</a><a class='hidden_link' href='#footnote-46.sentence-1'>.</a></div></div><div class='footnote' id='footnote-47'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-47'>47)</a></div><div id='footnote-47.sentence-1' class='sentence'>A positional
representation for integers that uses the binary digits 0
and 1, in which the values represented by successive bits are additive,
begin with 1, and are multiplied by successive integral power of 2,
except perhaps for the bit with the highest position<a class='hidden_link' href='#footnote-47.sentence-1'>.</a></div> <div id='footnote-47.sentence-2' class='sentence'>(Adapted from the
<span class='textit'>American National Dictionary for Information Processing Systems</span><a class='hidden_link' href='#footnote-47.sentence-2'>.</a>)</div></div></div><div id='compound' class='section'><h3 ><a class='secnum' href='#compound' style='min-width:103pt'>6.7.2</a> Compound types <a class='abbr_ref' href='basic.compound'>[basic.compound]</a></h3><div class='para' id='compound-1'><div class='marginalizedparent'><a class='marginalized' href='#compound-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4367'>#</a></div><div id='compound-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':type,compound'></a></span>Compound types can be constructed in the following ways:
<ul class='itemize'><li id='compound-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#compound-1.1'>(1.1)</a></div><div id='compound-1.1.sentence-1' class='sentence'><a class='hidden_link' href='#def:type,array' id='def:type,array'><i >arrays</i></a> of objects of a given type, <a href='dcl.array'>[dcl.array]</a>;</div></li><li id='compound-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#compound-1.2'>(1.2)</a></div><div id='compound-1.2.sentence-1' class='sentence'><a class='hidden_link' href='#def:type,function' id='def:type,function'><i >functions</i></a>, which have parameters of given types and return
<span class='texttt'>void</span> or references or objects of a given type, <a href='dcl.fct'>[dcl.fct]</a>;</div></li><li id='compound-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#compound-1.3'>(1.3)</a></div><div id='compound-1.3.sentence-1' class='sentence'><a class='hidden_link' href='#def:type,pointer' id='def:type,pointer'><i >pointers</i></a> to <span class='mathit'>cv</span> <span class='texttt'>void</span> or objects or functions (including
static members of classes) of a given type, <a href='dcl.ptr'>[dcl.ptr]</a>;</div></li><li id='compound-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#compound-1.4'>(1.4)</a></div><div id='compound-1.4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':reference,lvalue'></a></span><span class='indexparent'><a class='index' id=':reference,rvalue'></a></span><a class='hidden_link' href='#def:reference' id='def:reference'><i >references</i></a> to objects or functions of a given
type, <a href='dcl.ref'>[dcl.ref]</a><a class='hidden_link' href='#compound-1.4.sentence-1'>.</a></div> <div id='compound-1.4.sentence-2' class='sentence'>There are two types of references:
<ul class='itemize'><li id='compound-1.4.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#compound-1.4.1'>(1.4.1)</a></div><div id='compound-1.4.1.sentence-1' class='sentence'>lvalue reference</div></li><li id='compound-1.4.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#compound-1.4.2'>(1.4.2)</a></div><div id='compound-1.4.2.sentence-1' class='sentence'>rvalue reference</div></li></ul></div></li><li id='compound-1.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#compound-1.5'>(1.5)</a></div><div id='compound-1.5.sentence-1' class='sentence'><a class='hidden_link' href='#def:class' id='def:class'><i >classes</i></a> containing a sequence of objects of various types (<a href='class'>[class]</a>),
a set of types, enumerations and functions for
manipulating these objects (<a href='class.mfct'>[class.mfct]</a>), and a set of restrictions
on the access to these entities (<a href='class.access'>[class.access]</a>);</div></li><li id='compound-1.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#compound-1.6'>(1.6)</a></div><div id='compound-1.6.sentence-1' class='sentence'><a class='hidden_link' href='#def:union' id='def:union'><i >unions</i></a>, which are classes capable of containing objects of
different types at different times, <a href='class.union'>[class.union]</a>;</div></li><li id='compound-1.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#compound-1.7'>(1.7)</a></div><div id='compound-1.7.sentence-1' class='sentence'><a class='hidden_link' href='#def:enum' id='def:enum'><i >enumerations</i></a>, which comprise a set of named constant values<a class='hidden_link' href='#compound-1.7.sentence-1'>.</a></div> <div id='compound-1.7.sentence-2' class='sentence'>Each distinct enumeration constitutes a different
<span class='indexparent'><a class='index' id=':type,enumerated'></a></span><span class='textit'>enumerated type</span>, <a href='dcl.enum'>[dcl.enum]</a>;</div></li><li id='compound-1.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#compound-1.8'>(1.8)</a></div><div id='compound-1.8.sentence-1' class='sentence'><a class='hidden_link' href='#def:pointer_to_member' id='def:pointer_to_member'><i >pointers to non-static class members</i></a>,<a class='footnotenum' href='#footnote-48'>48</a>
which identify members of a given
type within objects of a given class, <a href='dcl.mptr'>[dcl.mptr]</a><a class='hidden_link' href='#compound-1.8.sentence-1'>.</a></div> <div id='compound-1.8.sentence-2' class='sentence'>Pointers to data members and pointers to member functions are collectively
called <a class='hidden_link' href='#def:pointer-to-member' id='def:pointer-to-member'><i>pointer-to-member</i></a> types<a class='hidden_link' href='#compound-1.8.sentence-2'>.</a></div></li></ul></div></div><div class='para' id='compound-2'><div class='marginalizedparent'><a class='marginalized' href='#compound-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4414'>#</a></div><div id='compound-2.sentence-1' class='sentence'>These methods of constructing types can be applied recursively;
restrictions are mentioned in <a href='dcl.ptr'>[dcl.ptr]</a>, <a href='dcl.array'>[dcl.array]</a>,
<a href='dcl.fct'>[dcl.fct]</a>, and <a href='dcl.ref'>[dcl.ref]</a><a class='hidden_link' href='#compound-2.sentence-1'>.</a></div> <div id='compound-2.sentence-2' class='sentence'>Constructing a type such that the number of
bytes in its object representation exceeds the maximum value representable in
the type <span class='texttt'>std&#x200b;::&#x200b;size_&shy;t</span> (<a href='support.types'>[support.types]</a>) is ill-formed<a class='hidden_link' href='#compound-2.sentence-2'>.</a></div></div><div class='para' id='compound-3'><div class='marginalizedparent'><a class='marginalized' href='#compound-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4421'>#</a></div><div id='compound-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':terminology,pointer'></a></span>The type of a pointer to <span class='mathit'>cv</span> <span class='texttt'>void</span> or a pointer to an object type is
called an <a class='hidden_link' href='#def:object_pointer_type' id='def:object_pointer_type'><i >object pointer type</i></a><a class='hidden_link' href='#compound-3.sentence-1'>.</a></div> <div id='compound-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#compound-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='compound-3.sentence-2' class='sentence'>A pointer to <span class='texttt'>void</span>
does not have a pointer-to-object type, however, because <span class='texttt'>void</span> is not
an object type<a class='hidden_link' href='#compound-3.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='compound-3.sentence-3' class='sentence'> The type of a pointer that can designate a function
is called a <a class='hidden_link' href='#def:function_pointer_type' id='def:function_pointer_type'><i >function pointer type</i></a><a class='hidden_link' href='#compound-3.sentence-3'>.</a></div> <div id='compound-3.sentence-4' class='sentence'>A pointer to objects of type <span class='texttt'>T</span> is referred to as a “pointer to
<span class='texttt'>T</span>”<a class='hidden_link' href='#compound-3.sentence-4'>.</a></div> <div id='compound-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#compound-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='compound-3.sentence-5' class='sentence'>A pointer to an object of type <span class='texttt'>int</span> is
referred to as “pointer to <span class='texttt'>int</span>” and a pointer to an object of
class <span class='texttt'>X</span> is called a “pointer to <span class='texttt'>X</span>”<a class='hidden_link' href='#compound-3.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='compound-3.sentence-6' class='sentence'>
Except for pointers to static members, text referring to “pointers”
does not apply to pointers to members<a class='hidden_link' href='#compound-3.sentence-6'>.</a></div> <div id='compound-3.sentence-7' class='sentence'>Pointers to incomplete types are
allowed although there are restrictions on what can be done with
them (<a href='#align'>[basic.align]</a>)<a class='hidden_link' href='#compound-3.sentence-7'>.</a></div> <div id='compound-3.sentence-8' class='sentence'><span class='indexparent'><a class='index' id=':address'></a></span>Every value of pointer type is one of the following:
<ul class='itemize'><li id='compound-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#compound-3.1'>(3.1)</a></div><div id='compound-3.1.sentence-1' class='sentence'>a <a class='hidden_link' href='#def:pointer_to' id='def:pointer_to'><i >pointer to</i></a> an object or function (the pointer is said to <a class='hidden_link' href='#def:point' id='def:point'><i >point</i></a> to the object or function), or</div></li><li id='compound-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#compound-3.2'>(3.2)</a></div><div id='compound-3.2.sentence-1' class='sentence'>a <a class='hidden_link' href='#def:pointer_past_the_end_of' id='def:pointer_past_the_end_of'><i >pointer past the end of</i></a> an object (<a href='expr.add'>[expr.add]</a>), or</div></li><li id='compound-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#compound-3.3'>(3.3)</a></div><div id='compound-3.3.sentence-1' class='sentence'>
the <a class='hidden_link' href='#def:value,null_pointer' id='def:value,null_pointer'><i >null pointer value</i></a> (<a href='conv.ptr'>[conv.ptr]</a>) for that type, or</div></li><li id='compound-3.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#compound-3.4'>(3.4)</a></div><div id='compound-3.4.sentence-1' class='sentence'>
an <a class='hidden_link' href='#def:value,invalid_pointer' id='def:value,invalid_pointer'><i >invalid pointer value</i></a><a class='hidden_link' href='#compound-3.4.sentence-1'>.</a></div></li></ul></div> <div id='compound-3.sentence-9' class='sentence'>
A value of a
pointer type
that is a pointer to or past the end of an object
<a class='hidden_link' href='#def:represents_the_address' id='def:represents_the_address'><i >represents the address</i></a> of
the first byte in memory (<a href='#intro.memory'>[intro.memory]</a>) occupied by the object<a class='footnotenum' href='#footnote-49'>49</a>
or the first byte in memory
after the end of the storage occupied by the object,
respectively<a class='hidden_link' href='#compound-3.sentence-9'>.</a></div> <div id='compound-3.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#compound-3.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='compound-3.sentence-10' class='sentence'>A pointer past the end of an object (<a href='expr.add'>[expr.add]</a>)
is not considered to point to an unrelated object
of the object's type
that might be located at that address<a class='hidden_link' href='#compound-3.sentence-10'>.</a></div> <div id='compound-3.sentence-11' class='sentence'>A pointer value becomes invalid
when the storage it denotes
reaches the end of its storage duration;
see <a href='#stc'>[basic.stc]</a><a class='hidden_link' href='#compound-3.sentence-11'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='compound-3.sentence-12' class='sentence'>
For purposes of pointer arithmetic (<a href='expr.add'>[expr.add]</a>)
and comparison (<a href='expr.rel'>[expr.rel]</a>, <a href='expr.eq'>[expr.eq]</a>),
a pointer past the end of the last element of
an array <span class='texttt'>x</span> of <span class='math'><span class='mathalpha'>n</span></span> elements
is considered to be equivalent to
a pointer to a hypothetical element <span class='texttt'>x[<span class='math'><span class='mathalpha'>n</span></span>]</span><a class='hidden_link' href='#compound-3.sentence-12'>.</a></div> <div id='compound-3.sentence-13' class='sentence'>The value representation of
pointer types is <span class='indexparent'><a class='index' id=':value_representation_of_pointer_types'></a></span>implementation-defined<a class='hidden_link' href='#compound-3.sentence-13'>.</a></div> <div id='compound-3.sentence-14' class='sentence'>Pointers to
layout-compatible types shall
have the same value representation and alignment
requirements (<a href='#align'>[basic.align]</a>)<a class='hidden_link' href='#compound-3.sentence-14'>.</a></div> <div id='compound-3.note-3' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#compound-3.note-3'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='compound-3.sentence-15' class='sentence'>Pointers to <a href='#def:type,over-aligned'>over-aligned types</a> have no special
representation, but their range of valid values is restricted by the extended
alignment requirement<a class='hidden_link' href='#compound-3.sentence-15'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='compound-4'><div class='marginalizedparent'><a class='marginalized' href='#compound-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4485'>#</a></div><div id='compound-4.sentence-1' class='sentence'>Two objects <span class='textit'>a</span> and <span class='textit'>b</span> are <a class='hidden_link' href='#def:pointer-interconvertible' id='def:pointer-interconvertible'><i >pointer-interconvertible</i></a> if:
<ul class='itemize'><li id='compound-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#compound-4.1'>(4.1)</a></div><div id='compound-4.1.sentence-1' class='sentence'>they are the same object, or</div></li><li id='compound-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#compound-4.2'>(4.2)</a></div><div id='compound-4.2.sentence-1' class='sentence'>one is a union object and
the other is a non-static data member of that object (<a href='class.union'>[class.union]</a>), or</div></li><li id='compound-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#compound-4.3'>(4.3)</a></div><div id='compound-4.3.sentence-1' class='sentence'>one is a standard-layout class object and
the other is the first non-static data member of that object, or,
if the object has no non-static data members,
any base class subobject of that object (<a href='class.mem'>[class.mem]</a>), or</div></li><li id='compound-4.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#compound-4.4'>(4.4)</a></div><div id='compound-4.4.sentence-1' class='sentence'>there exists an object <span class='textit'>c</span> such that
<span class='textit'>a</span> and <span class='textit'>c</span> are pointer-interconvertible, and
<span class='textit'>c</span> and <span class='textit'>b</span> are pointer-interconvertible<a class='hidden_link' href='#compound-4.4.sentence-1'>.</a></div></li></ul></div> <div id='compound-4.sentence-2' class='sentence'>
If two objects are pointer-interconvertible,
then they have the same address,
and it is possible to obtain a pointer to one
from a pointer to the other
via a <a href='expr.reinterpret.cast'><span class='texttt'>reinterpret_&shy;cast</span></a><a class='hidden_link' href='#compound-4.sentence-2'>.</a></div> <div id='compound-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#compound-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='compound-4.sentence-3' class='sentence'>An array object and its first element are not pointer-interconvertible,
even though they have the same address<a class='hidden_link' href='#compound-4.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='compound-5'><div class='marginalizedparent'><a class='marginalized' href='#compound-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4513'>#</a></div><div id='compound-5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':void*,type'></a></span>A pointer to <span class='mathit'>cv</span>-qualified (<a href='#type.qualifier'>[basic.type.qualifier]</a>) or <span class='mathit'>cv</span>-unqualified
<span class='texttt'>void</span>
can be used to point to objects of
unknown type<a class='hidden_link' href='#compound-5.sentence-1'>.</a></div> <div id='compound-5.sentence-2' class='sentence'>Such a pointer shall be able to hold any object pointer<a class='hidden_link' href='#compound-5.sentence-2'>.</a></div> <div id='compound-5.sentence-3' class='sentence'>An object of type <span class='mathit'>cv</span> <span class='texttt'>void*</span>
shall have the same representation and alignment
requirements as <span class='mathit'>cv</span> <span class='texttt'>char*</span><a class='hidden_link' href='#compound-5.sentence-3'>.</a></div></div><div class='footnote' id='footnote-48'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-48'>48)</a></div><div id='footnote-48.sentence-1' class='sentence'>Static class members are objects or functions, and pointers to them are
ordinary pointers to objects or functions<a class='hidden_link' href='#footnote-48.sentence-1'>.</a></div></div><div class='footnote' id='footnote-49'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-49'>49)</a></div><div id='footnote-49.sentence-1' class='sentence'>For an object that is not within its lifetime,
this is the first byte in memory that it will occupy or used to occupy<a class='hidden_link' href='#footnote-49.sentence-1'>.</a></div></div></div><div id='type.qualifier' class='section'><h3 ><a class='secnum' href='#type.qualifier' style='min-width:103pt'>6.7.3</a> CV-qualifiers <a class='abbr_ref' href='basic.type.qualifier'>[basic.type.qualifier]</a></h3><div class='para' id='type.qualifier-1'><div class='marginalizedparent'><a class='marginalized' href='#type.qualifier-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4526'>#</a></div><div id='type.qualifier-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':cv-qualifier'></a></span><span class='indexparent'><a class='index' id=':const'></a></span><span class='indexparent'><a class='index' id=':volatile'></a></span>A type mentioned in <a href='#fundamental'>[basic.fundamental]</a> and <a href='#compound'>[basic.compound]</a> is
a <span class='indexparent'><a class='index' id=':type,cv-unqualified'></a></span><span class='textit'>cv-unqualified type</span><a class='hidden_link' href='#type.qualifier-1.sentence-1'>.</a></div> <div id='type.qualifier-1.sentence-2' class='sentence'>Each type which is a
cv-unqualified complete or incomplete object type or is
<span class='texttt'>void</span> (<a href='#types'>[basic.types]</a>) has three corresponding cv-qualified
versions of its type: a <a class='hidden_link' href='#def:const-qualified' id='def:const-qualified'><i >const-qualified</i></a> version, a
<a class='hidden_link' href='#def:volatile-qualified' id='def:volatile-qualified'><i >volatile-qualified</i></a> version, and a
<a class='hidden_link' href='#def:const-volatile-qualified' id='def:const-volatile-qualified'><i >const-volatile-qualified</i></a> version<a class='hidden_link' href='#type.qualifier-1.sentence-2'>.</a></div> <div id='type.qualifier-1.sentence-3' class='sentence'>The
type of an object (<a href='#intro.object'>[intro.object]</a>) includes the <i ><a href='dcl.decl#nt:cv-qualifier'>cv-qualifier</a></i><span class='textit'>s</span>
specified in the <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>,
<i ><a href='dcl.decl#nt:declarator'>declarator</a></i>,
<i ><a href='dcl.name#nt:type-id'>type-id</a></i>, or
<i ><a href='expr.new#nt:new-type-id'>new-type-id</a></i> when the object is created<a class='hidden_link' href='#type.qualifier-1.sentence-3'>.</a></div> <div id='type.qualifier-1.sentence-4' class='sentence'><ul class='itemize'><li id='type.qualifier-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type.qualifier-1.1'>(1.1)</a></div><div id='type.qualifier-1.1.sentence-1' class='sentence'>A <span class='indexparent'><a class='index' id=':object,const'></a></span><span class='textit'>const object</span> is an object of type <span class='texttt'>const T</span> or a
  non-mutable subobject of such an object<a class='hidden_link' href='#type.qualifier-1.1.sentence-1'>.</a></div></li><li id='type.qualifier-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type.qualifier-1.2'>(1.2)</a></div><div id='type.qualifier-1.2.sentence-1' class='sentence'>A <span class='indexparent'><a class='index' id=':object,volatile'></a></span><span class='textit'>volatile object</span> is an object of type
  <span class='texttt'>volatile T</span>, a subobject of such an object, or a mutable
  subobject of a const volatile object<a class='hidden_link' href='#type.qualifier-1.2.sentence-1'>.</a></div></li><li id='type.qualifier-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type.qualifier-1.3'>(1.3)</a></div><div id='type.qualifier-1.3.sentence-1' class='sentence'>A <span class='indexparent'><a class='index' id=':object,const_volatile'></a></span><span class='textit'>const volatile object</span> is an object of type
  <span class='texttt'>const volatile T</span>, a non-mutable subobject of such an object,
  a const subobject of a volatile object, or a non-mutable volatile
  subobject of a const object<a class='hidden_link' href='#type.qualifier-1.3.sentence-1'>.</a></div></li></ul></div> <div id='type.qualifier-1.sentence-5' class='sentence'>
The cv-qualified or
cv-unqualified versions of a type
are distinct types; however, they shall have the same representation and
alignment requirements (<a href='#align'>[basic.align]</a>)<a class='hidden_link' href='#type.qualifier-1.sentence-5'>.</a><a class='footnotenum' href='#footnote-50'>50</a></div></div><div class='para' id='type.qualifier-2'><div class='marginalizedparent'><a class='marginalized' href='#type.qualifier-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4563'>#</a></div><div id='type.qualifier-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':array,const'></a></span>A compound type (<a href='#compound'>[basic.compound]</a>) is not cv-qualified by the
cv-qualifiers (if any) of the types from which it is compounded<a class='hidden_link' href='#type.qualifier-2.sentence-1'>.</a></div> <div id='type.qualifier-2.sentence-2' class='sentence'>Any
cv-qualifiers applied to an array type
affect the array element type (<a href='dcl.array'>[dcl.array]</a>)<a class='hidden_link' href='#type.qualifier-2.sentence-2'>.</a></div></div><div class='para' id='type.qualifier-3'><div class='marginalizedparent'><a class='marginalized' href='#type.qualifier-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4570'>#</a></div><div id='type.qualifier-3.sentence-1' class='sentence'>See <a href='dcl.fct'>[dcl.fct]</a> and <a href='class.this'>[class.this]</a> regarding function
types that have <i ><a href='dcl.decl#nt:cv-qualifier'>cv-qualifier</a></i><span class='textit'>s</span><a class='hidden_link' href='#type.qualifier-3.sentence-1'>.</a></div></div><div class='para' id='type.qualifier-4'><div class='marginalizedparent'><a class='marginalized' href='#type.qualifier-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4574'>#</a></div><div id='type.qualifier-4.sentence-1' class='sentence'>There is a partial ordering on cv-qualifiers, so that a type can be
said to be <a class='hidden_link' href='#def:more_cv-qualified' id='def:more_cv-qualified'><i >more cv-qualified</i></a> than another<a class='hidden_link' href='#type.qualifier-4.sentence-1'>.</a></div> <div id='type.qualifier-4.sentence-2' class='sentence'>Table <a href='#tab:relations.on.const.and.volatile'>10</a> shows the relations that
constitute this ordering<a class='hidden_link' href='#type.qualifier-4.sentence-2'>.</a></div><div class='numberedTable' id='tab:relations.on.const.and.volatile'>Table <a href='#tab:relations.on.const.and.volatile'>10</a> — Relations on <span class='texttt'>const</span> and <span class='texttt'>volatile</span><br><table ><tr class='rowsep'><td class='center'><div id='type.qualifier-4.sentence-3' class='sentence'><span class='textit'>no cv-qualifier</span></div></td><td class='center'><div id='type.qualifier-4.sentence-4' class='sentence'>&lt;</div></td><td class='center'><div id='type.qualifier-4.sentence-5' class='sentence'><span class='texttt'>const</span></div></td></tr><tr ><td class='center'><div id='type.qualifier-4.sentence-6' class='sentence'><span class='textit'>no cv-qualifier</span></div></td><td class='center'><div id='type.qualifier-4.sentence-7' class='sentence'>&lt;</div></td><td class='center'><div id='type.qualifier-4.sentence-8' class='sentence'><span class='texttt'>volatile</span></div></td></tr><tr ><td class='center'><div id='type.qualifier-4.sentence-9' class='sentence'><span class='textit'>no cv-qualifier</span></div></td><td class='center'><div id='type.qualifier-4.sentence-10' class='sentence'>&lt;</div></td><td class='center'><div id='type.qualifier-4.sentence-11' class='sentence'><span class='texttt'>const volatile</span></div></td></tr><tr ><td class='center'><div id='type.qualifier-4.sentence-12' class='sentence'><span class='texttt'>const</span></div></td><td class='center'><div id='type.qualifier-4.sentence-13' class='sentence'>&lt;</div></td><td class='center'><div id='type.qualifier-4.sentence-14' class='sentence'><span class='texttt'>const volatile</span></div></td></tr><tr ><td class='center'><div id='type.qualifier-4.sentence-15' class='sentence'><span class='texttt'>volatile</span></div></td><td class='center'><div id='type.qualifier-4.sentence-16' class='sentence'>&lt;</div></td><td class='center'><div id='type.qualifier-4.sentence-17' class='sentence'><span class='texttt'>const volatile</span></div></td></tr></table></div></div><div class='para' id='type.qualifier-5'><div class='marginalizedparent'><a class='marginalized' href='#type.qualifier-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4590'>#</a></div><div id='type.qualifier-5.sentence-1' class='sentence'>In this document, the notation <span class='mathit'>cv</span> (or
<span class='textit'>cv1</span>, <span class='textit'>cv2</span>, etc<a class='hidden_link' href='#type.qualifier-5.sentence-1'>.</a>)</div> <div id='type.qualifier-5.sentence-2' class='sentence'>, used in the description of types,
represents an arbitrary set of cv-qualifiers, i.e., one of
{<span class='texttt'>const</span>}, {<span class='texttt'>volatile</span>}, {<span class='texttt'>const</span>,
<span class='texttt'>volatile</span>}, or the empty set<a class='hidden_link' href='#type.qualifier-5.sentence-2'>.</a></div> <div id='type.qualifier-5.sentence-3' class='sentence'>For a type <span class='mathit'>cv</span> <span class='texttt'>T</span>, the <a class='hidden_link' href='#def:cv-qualifier,top-level' id='def:cv-qualifier,top-level'><i >top-level cv-qualifiers</i></a>
of that type are those denoted by <span class='mathit'>cv</span><a class='hidden_link' href='#type.qualifier-5.sentence-3'>.</a></div> <div id='type.qualifier-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#type.qualifier-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='type.qualifier-5.sentence-4' class='sentence'>The type corresponding to the <i ><a href='dcl.name#nt:type-id'>type-id</a></i>
<span class='texttt'>const int&amp;</span>
has no top-level cv-qualifiers<a class='hidden_link' href='#type.qualifier-5.sentence-4'>.</a></div> <div id='type.qualifier-5.sentence-5' class='sentence'>The type corresponding to the <i ><a href='dcl.name#nt:type-id'>type-id</a></i>
<span class='texttt'>volatile int * const</span>
has the top-level cv-qualifier <span class='texttt'>const</span><a class='hidden_link' href='#type.qualifier-5.sentence-5'>.</a></div> <div id='type.qualifier-5.sentence-6' class='sentence'>For a class type <span class='texttt'>C</span>,
the type corresponding to the <i ><a href='dcl.name#nt:type-id'>type-id</a></i>
<span class='texttt'>void (C&#x200b;::&#x200b;* volatile)(int) const</span>
has the top-level cv-qualifier <span class='texttt'>volatile</span><a class='hidden_link' href='#type.qualifier-5.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='type.qualifier-6'><div class='marginalizedparent'><a class='marginalized' href='#type.qualifier-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4611'>#</a></div><div id='type.qualifier-6.sentence-1' class='sentence'>Cv-qualifiers applied to an array
type attach to the underlying element type, so the notation
“<span class='mathit'>cv</span> <span class='texttt'>T</span>”, where <span class='texttt'>T</span> is an array type, refers to
an array whose elements are so-qualified<a class='hidden_link' href='#type.qualifier-6.sentence-1'>.</a></div> <div id='type.qualifier-6.sentence-2' class='sentence'>An array type whose elements
are cv-qualified is also considered to have the same cv-qualifications
as its elements<a class='hidden_link' href='#type.qualifier-6.sentence-2'>.</a></div> <div id='type.qualifier-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#type.qualifier-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
typedef char CA[5];
typedef const char CC;
CC arr1[5] = { 0 };
const CA arr2 = { 0 };</pre> <div id='type.qualifier-6.sentence-3' class='sentence'>
The type of both <span class='texttt'>arr1</span> and <span class='texttt'>arr2</span> is “array of 5
<span class='texttt'>const char</span>”, and the array type is considered to be
const-qualified<a class='hidden_link' href='#type.qualifier-6.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  </div><div class='footnote' id='footnote-50'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-50'>50)</a></div><div id='footnote-50.sentence-1' class='sentence'>The same representation
and alignment requirements are meant to imply
interchangeability as arguments to functions, return values from
functions, and non-static data members of unions<a class='hidden_link' href='#footnote-50.sentence-1'>.</a></div></div></div><div id='conv.rank' class='section'><h3 ><a class='secnum' href='#conv.rank' style='min-width:103pt'>6.7.4</a> Integer conversion rank <a class='abbr_ref' href='conv.rank'>[conv.rank]</a></h3><span class='indexparent'><a class='index' id=':conversion,integer_rank'></a></span><div class='para' id='conv.rank-1'><div class='marginalizedparent'><a class='marginalized' href='#conv.rank-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4634'>#</a></div><div id='conv.rank-1.sentence-1' class='sentence'>Every integer type has an <a class='hidden_link' href='#def:integer_conversion_rank' id='def:integer_conversion_rank'><i>integer conversion rank</i></a> defined as follows:</div><div id='conv.rank-1.sentence-2' class='sentence'><ul class='itemize'><li id='conv.rank-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#conv.rank-1.1'>(1.1)</a></div><div id='conv.rank-1.1.sentence-1' class='sentence'>No two signed integer types other than <span class='texttt'>char</span> and <span class='texttt'>signed
char</span> (if <span class='texttt'>char</span> is signed) shall have the same rank, even if they have
the same representation<a class='hidden_link' href='#conv.rank-1.1.sentence-1'>.</a></div></li><li id='conv.rank-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#conv.rank-1.2'>(1.2)</a></div><div id='conv.rank-1.2.sentence-1' class='sentence'>The rank of a signed integer type shall be greater than the rank
of any signed integer type with a smaller size<a class='hidden_link' href='#conv.rank-1.2.sentence-1'>.</a></div></li><li id='conv.rank-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#conv.rank-1.3'>(1.3)</a></div><div id='conv.rank-1.3.sentence-1' class='sentence'>The rank of <span class='texttt'>long long int</span> shall be greater
than the rank of <span class='texttt'>long int</span>, which shall be greater than
the rank of <span class='texttt'>int</span>, which shall be greater than the rank of
<span class='texttt'>short int</span>, which shall be greater than the rank of
<span class='texttt'>signed char</span><a class='hidden_link' href='#conv.rank-1.3.sentence-1'>.</a></div></li><li id='conv.rank-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#conv.rank-1.4'>(1.4)</a></div><div id='conv.rank-1.4.sentence-1' class='sentence'>The rank of any unsigned integer type shall equal the rank of the
corresponding signed integer type<a class='hidden_link' href='#conv.rank-1.4.sentence-1'>.</a></div></li><li id='conv.rank-1.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#conv.rank-1.5'>(1.5)</a></div><div id='conv.rank-1.5.sentence-1' class='sentence'>The rank of any standard integer type shall be greater than the
rank of any extended integer type with the same size<a class='hidden_link' href='#conv.rank-1.5.sentence-1'>.</a></div></li><li id='conv.rank-1.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#conv.rank-1.6'>(1.6)</a></div><div id='conv.rank-1.6.sentence-1' class='sentence'>The rank of <span class='texttt'>char</span> shall equal the rank of <span class='texttt'>signed char</span>
and <span class='texttt'>unsigned char</span><a class='hidden_link' href='#conv.rank-1.6.sentence-1'>.</a></div></li><li id='conv.rank-1.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#conv.rank-1.7'>(1.7)</a></div><div id='conv.rank-1.7.sentence-1' class='sentence'>The rank of <span class='texttt'>bool</span> shall be less than the rank of all other
standard integer types<a class='hidden_link' href='#conv.rank-1.7.sentence-1'>.</a></div> <span class='indexparent'><a class='index' id=':type,wchar_t_'></a></span><span class='indexparent'><a class='index' id=':type,char16_t_'></a></span><span class='indexparent'><a class='index' id=':type,char32_t_'></a></span></li><li id='conv.rank-1.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#conv.rank-1.8'>(1.8)</a></div><div id='conv.rank-1.8.sentence-1' class='sentence'>The ranks of <span class='texttt'>char16_&shy;t</span>, <span class='texttt'>char32_&shy;t</span>, and
<span class='texttt'>wchar_&shy;t</span> shall equal the ranks of their underlying
types (<a href='#fundamental'>[basic.fundamental]</a>)<a class='hidden_link' href='#conv.rank-1.8.sentence-1'>.</a></div></li><li id='conv.rank-1.9'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#conv.rank-1.9'>(1.9)</a></div><div id='conv.rank-1.9.sentence-1' class='sentence'>The rank of any extended signed integer type relative to another
extended signed integer type with the same size is <span class='indexparent'><a class='index' id=':rank_of_extended_signed_integer_type'></a></span>implementation-defined, but still subject to the other rules for determining the integer
conversion rank<a class='hidden_link' href='#conv.rank-1.9.sentence-1'>.</a></div></li><li id='conv.rank-1.10'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#conv.rank-1.10'>(1.10)</a></div><div id='conv.rank-1.10.sentence-1' class='sentence'>For all integer types <span class='texttt'>T1</span>, <span class='texttt'>T2</span>, and <span class='texttt'>T3</span>, if
<span class='texttt'>T1</span> has greater rank than <span class='texttt'>T2</span> and <span class='texttt'>T2</span> has greater
rank than <span class='texttt'>T3</span>, then <span class='texttt'>T1</span> shall have greater rank than
<span class='texttt'>T3</span><a class='hidden_link' href='#conv.rank-1.10.sentence-1'>.</a></div></li></ul></div><div id='conv.rank-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#conv.rank-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='conv.rank-1.sentence-3' class='sentence'>The integer conversion rank is used in the definition of the <a href='conv.prom#def:integral_promotions'>integral
promotions</a> and the usual arithmetic
conversions (<a href='expr.prop'>[expr.prop]</a>)<a class='hidden_link' href='#conv.rank-1.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div></div><div id='exec' class='section'><h2 ><a class='secnum' href='#exec' style='min-width:88pt'>6.8</a> Program execution <a class='abbr_ref' href='basic.exec'>[basic.exec]</a></h2><div id='intro.execution' class='section'><h3 ><a class='secnum' href='#intro.execution' style='min-width:103pt'>6.8.1</a> Sequential execution <a class='abbr_ref' href='intro.execution'>[intro.execution]</a></h3><div class='para' id='intro.execution-1'><div class='marginalizedparent'><a class='marginalized' href='#intro.execution-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4691'>#</a></div><div id='intro.execution-1.sentence-1' class='sentence'>An instance of each object with <a href='#stc.auto'>automatic storage
duration</a> is associated with each entry into its
block<a class='hidden_link' href='#intro.execution-1.sentence-1'>.</a></div> <div id='intro.execution-1.sentence-2' class='sentence'>Such an object exists and retains its last-stored value during
the execution of the block and while the block is suspended (by a call
of a function or receipt of a signal)<a class='hidden_link' href='#intro.execution-1.sentence-2'>.</a></div></div><div class='para' id='intro.execution-2'><div class='marginalizedparent'><a class='marginalized' href='#intro.execution-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4698'>#</a></div><div id='intro.execution-2.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:constituent_expression' id='def:constituent_expression'><i >constituent expression</i></a> is defined as follows:
<ul class='itemize'><li id='intro.execution-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.execution-2.1'>(2.1)</a></div><div id='intro.execution-2.1.sentence-1' class='sentence'>The constituent expression of an expression is that expression<a class='hidden_link' href='#intro.execution-2.1.sentence-1'>.</a></div></li><li id='intro.execution-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.execution-2.2'>(2.2)</a></div><div id='intro.execution-2.2.sentence-1' class='sentence'>The constituent expressions of a <i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i> or
of a (possibly parenthesized) <i ><a href='expr.post#nt:expression-list'>expression-list</a></i>
are the constituent expressions of the elements of the respective list<a class='hidden_link' href='#intro.execution-2.2.sentence-1'>.</a></div></li><li id='intro.execution-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.execution-2.3'>(2.3)</a></div><div id='intro.execution-2.3.sentence-1' class='sentence'>The constituent expressions of a <i ><a href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializer</a></i>
of the form <span class='texttt'>=</span> <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>
are the constituent expressions of the <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i><a class='hidden_link' href='#intro.execution-2.3.sentence-1'>.</a></div></li></ul></div> <div id='intro.execution-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#intro.execution-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A { int x; };
struct B { int y; struct A a; };
B b = { 5, { 1+1 } };</pre> <div id='intro.execution-2.sentence-2' class='sentence'>
The constituent expressions of the <i ><a href='dcl.init#nt:initializer'>initializer</a></i>
used for the initialization of <span class='texttt'>b</span> are <span class='texttt'>5</span> and <span class='texttt'>1+1</span><a class='hidden_link' href='#intro.execution-2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.execution-3'><div class='marginalizedparent'><a class='marginalized' href='#intro.execution-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4722'>#</a></div><div id='intro.execution-3.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:immediate_subexpression' id='def:immediate_subexpression'><i >immediate subexpressions</i></a> of an expression <span class='texttt'>e</span> are
<ul class='itemize'><li id='intro.execution-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.execution-3.1'>(3.1)</a></div><div id='intro.execution-3.1.sentence-1' class='sentence'>the constituent expressions of <span class='texttt'>e</span>'s operands (<a href='expr.prop'>[expr.prop]</a>),</div></li><li id='intro.execution-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.execution-3.2'>(3.2)</a></div><div id='intro.execution-3.2.sentence-1' class='sentence'>any function call that <span class='texttt'>e</span> implicitly invokes,</div></li><li id='intro.execution-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.execution-3.3'>(3.3)</a></div><div id='intro.execution-3.3.sentence-1' class='sentence'>if <span class='texttt'>e</span> is a <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i>,
the initialization of the entities captured by copy and
the constituent expressions of the <i ><a href='dcl.init#nt:initializer'>initializer</a></i> of the <i ><a href='expr.prim.lambda.capture#nt:init-capture'>init-capture</a></i><span class='textit'>s</span>,</div></li><li id='intro.execution-3.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.execution-3.4'>(3.4)</a></div><div id='intro.execution-3.4.sentence-1' class='sentence'>if <span class='texttt'>e</span> is a <a href='expr.call'>function call</a> or implicitly invokes a function,
the constituent expressions of each default argument (<a href='dcl.fct.default'>[dcl.fct.default]</a>)
used in the call, or</div></li><li id='intro.execution-3.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.execution-3.5'>(3.5)</a></div><div id='intro.execution-3.5.sentence-1' class='sentence'>if <span class='texttt'>e</span> creates an aggregate object (<a href='dcl.init.aggr'>[dcl.init.aggr]</a>),
the constituent expressions of each default member initializer (<a href='class.mem'>[class.mem]</a>)
used in the initialization<a class='hidden_link' href='#intro.execution-3.5.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='intro.execution-4'><div class='marginalizedparent'><a class='marginalized' href='#intro.execution-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4743'>#</a></div><div id='intro.execution-4.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:subexpression' id='def:subexpression'><i >subexpression</i></a> of an expression <span class='texttt'>e</span> is
an immediate subexpression of <span class='texttt'>e</span> or
a subexpression of an immediate subexpression of <span class='texttt'>e</span><a class='hidden_link' href='#intro.execution-4.sentence-1'>.</a></div> <div id='intro.execution-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.execution-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.execution-4.sentence-2' class='sentence'>Expressions appearing in the <i ><a href='stmt.block#nt:compound-statement'>compound-statement</a></i> of a <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i>
are not subexpressions of the <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i><a class='hidden_link' href='#intro.execution-4.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.execution-5'><div class='marginalizedparent'><a class='marginalized' href='#intro.execution-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4752'>#</a></div><div id='intro.execution-5.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:full-expression' id='def:full-expression'><i >full-expression</i></a> is
<ul class='itemize'><li id='intro.execution-5.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.execution-5.1'>(5.1)</a></div><div id='intro.execution-5.1.sentence-1' class='sentence'>an <a href='expr.prop#def:unevaluated_operand'>unevaluated operand</a>,</div></li><li id='intro.execution-5.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.execution-5.2'>(5.2)</a></div><div id='intro.execution-5.2.sentence-1' class='sentence'>a <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i>,</div></li><li id='intro.execution-5.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.execution-5.3'>(5.3)</a></div><div id='intro.execution-5.3.sentence-1' class='sentence'>an <i ><a href='dcl.decl#nt:init-declarator'>init-declarator</a></i> or
a <i ><a href='class.base.init#nt:mem-initializer'>mem-initializer</a></i>,
including the constituent expressions of the initializer,</div></li><li id='intro.execution-5.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.execution-5.4'>(5.4)</a></div><div id='intro.execution-5.4.sentence-1' class='sentence'>an invocation of a destructor generated at the end of the lifetime
of an object other than a temporary object (<a href='#class.temporary'>[class.temporary]</a>), or</div></li><li id='intro.execution-5.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.execution-5.5'>(5.5)</a></div><div id='intro.execution-5.5.sentence-1' class='sentence'>an expression that is not a subexpression of another expression and
that is not otherwise part of a full-expression<a class='hidden_link' href='#intro.execution-5.5.sentence-1'>.</a></div></li></ul></div> <div id='intro.execution-5.sentence-2' class='sentence'>
If a language construct is defined to produce an implicit call of a function,
a use of the language construct is considered to be an expression
for the purposes of this definition<a class='hidden_link' href='#intro.execution-5.sentence-2'>.</a></div> <div id='intro.execution-5.sentence-3' class='sentence'>Conversions applied to the result of an expression in order to satisfy the requirements
of the language construct in which the expression appears
are also considered to be part of the full-expression<a class='hidden_link' href='#intro.execution-5.sentence-3'>.</a></div> <div id='intro.execution-5.sentence-4' class='sentence'>For an initializer, performing the initialization of the entity
(including evaluating default member initializers of an aggregate)
is also considered part of the full-expression<a class='hidden_link' href='#intro.execution-5.sentence-4'>.</a></div> <div id='intro.execution-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#intro.execution-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct S {
  S(int i): I(i) { }            <span class='comment'>// full-expression is initialization of <span class='tcode_in_codeblock'>I</span>
</span>  int&amp; v() { return I; }
  ~S() noexcept(false) { }
private:
  int I;
};

S s1(1);                        <span class='comment'>// full-expression comprises call of <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;S(int)</span>
</span>void f() {
  S s2 = 2;                     <span class='comment'>// full-expression comprises call of <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;S(int)</span>
</span>  if (S(3).v())                 <span class='comment'>// full-expression includes lvalue-to-rvalue and <span class='tcode_in_codeblock'>int</span> to <span class='tcode_in_codeblock'>bool</span> conversions,
</span>                                <span class='comment'>// performed before temporary is deleted at end of full-expression
</span>  { }
  bool b = noexcept(S());       <span class='comment'>// exception specification of destructor of <span class='tcode_in_codeblock'>S</span> considered for <span class='tcode_in_codeblock'>noexcept</span>
</span>
  <span class='comment'>// full-expression is destruction of <span class='tcode_in_codeblock'>s2</span> at end of block
</span>}
struct B {
  B(S = S(0));
};
B b[2] = { B(), B() };          <span class='comment'>// full-expression is the entire initialization
</span>                                <span class='comment'>// including the destruction of temporaries
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.execution-6'><div class='marginalizedparent'><a class='marginalized' href='#intro.execution-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4807'>#</a></div><div id='intro.execution-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.execution-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.execution-6.sentence-1' class='sentence'>The evaluation of a full-expression can include the
evaluation of subexpressions that are not lexically part of the
full-expression<a class='hidden_link' href='#intro.execution-6.sentence-1'>.</a></div> <div id='intro.execution-6.sentence-2' class='sentence'>For example, subexpressions involved in evaluating
default arguments (<a href='dcl.fct.default'>[dcl.fct.default]</a>) are considered to
be created in the expression that calls the function, not the expression
that defines the default argument<a class='hidden_link' href='#intro.execution-6.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.execution-7'><div class='marginalizedparent'><a class='marginalized' href='#intro.execution-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4815'>#</a></div><div id='intro.execution-7.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':value_computation_'></a></span>Reading an object designated by a <span class='texttt'>volatile</span>
glvalue (<a href='basic.lval'>[basic.lval]</a>), modifying an object, calling a library I/O
function, or calling a function that does any of those operations are
all
<a class='hidden_link' href='#def:side_effects_' id='def:side_effects_'><i >side effects</i></a>, which are changes in the state of the execution
environment<a class='hidden_link' href='#intro.execution-7.sentence-1'>.</a></div> <div id='intro.execution-7.sentence-2' class='sentence'><a class='hidden_link' href='#def:evaluation' id='def:evaluation'><i >Evaluation</i></a> of an expression (or a
subexpression) in general includes both value computations (including
determining the identity of an object for glvalue evaluation and fetching
a value previously assigned to an object for prvalue evaluation) and
initiation of side effects<a class='hidden_link' href='#intro.execution-7.sentence-2'>.</a></div> <div id='intro.execution-7.sentence-3' class='sentence'>When a call to a library I/O function
returns or an access through a volatile glvalue is evaluated the side
effect is considered complete, even though some external actions implied
by the call (such as the I/O itself) or by the <span class='texttt'>volatile</span> access
may not have completed yet<a class='hidden_link' href='#intro.execution-7.sentence-3'>.</a></div></div><div class='para' id='intro.execution-8'><div class='marginalizedparent'><a class='marginalized' href='#intro.execution-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4832'>#</a></div><div id='intro.execution-8.sentence-1' class='sentence'><a class='hidden_link' href='#def:sequenced_before' id='def:sequenced_before'><i >Sequenced before</i></a> is an asymmetric, transitive, pair-wise relation between
evaluations executed by a single thread (<a href='#intro.multithread'>[intro.multithread]</a>), which induces
a partial order among those evaluations<a class='hidden_link' href='#intro.execution-8.sentence-1'>.</a></div> <div id='intro.execution-8.sentence-2' class='sentence'>Given any two evaluations <span class='textit'>A</span> and
<span class='textit'>B</span>, if <span class='textit'>A</span> is sequenced before <span class='textit'>B</span>
(or, equivalently, <span class='textit'>B</span> is <a class='hidden_link' href='#def:sequenced_after' id='def:sequenced_after'><i >sequenced after</i></a> <span class='textit'>A</span>),
then the execution of
<span class='textit'>A</span> shall precede the execution of <span class='textit'>B</span><a class='hidden_link' href='#intro.execution-8.sentence-2'>.</a></div> <div id='intro.execution-8.sentence-3' class='sentence'>If <span class='textit'>A</span> is not sequenced
before <span class='textit'>B</span> and <span class='textit'>B</span> is not sequenced before <span class='textit'>A</span>, then <span class='textit'>A</span> and
<span class='textit'>B</span> are <a class='hidden_link' href='#def:unsequenced' id='def:unsequenced'><i >unsequenced</i></a><a class='hidden_link' href='#intro.execution-8.sentence-3'>.</a></div> <div id='intro.execution-8.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.execution-8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.execution-8.sentence-4' class='sentence'>The execution of unsequenced
evaluations can overlap<a class='hidden_link' href='#intro.execution-8.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='intro.execution-8.sentence-5' class='sentence'> Evaluations <span class='textit'>A</span> and <span class='textit'>B</span> are
<a class='hidden_link' href='#def:indeterminately_sequenced' id='def:indeterminately_sequenced'><i >indeterminately sequenced</i></a> when either <span class='textit'>A</span> is sequenced before
<span class='textit'>B</span> or <span class='textit'>B</span> is sequenced before <span class='textit'>A</span>, but it is unspecified which<a class='hidden_link' href='#intro.execution-8.sentence-5'>.</a></div> <div id='intro.execution-8.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.execution-8.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.execution-8.sentence-6' class='sentence'>Indeterminately sequenced evaluations cannot overlap, but either
could be executed first<a class='hidden_link' href='#intro.execution-8.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='intro.execution-8.sentence-7' class='sentence'>
An expression <span class='textit'>X</span>
is said to be sequenced before
an expression <span class='textit'>Y</span> if
every value computation and every side effect
associated with the expression <span class='textit'>X</span>
is sequenced before
every value computation and every side effect
associated with the expression <span class='textit'>Y</span><a class='hidden_link' href='#intro.execution-8.sentence-7'>.</a></div></div><div class='para' id='intro.execution-9'><div class='marginalizedparent'><a class='marginalized' href='#intro.execution-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4856'>#</a></div><div id='intro.execution-9.sentence-1' class='sentence'>Every
<span class='indexparent'><a class='index' id=':value_computation__'></a></span>value computation and
<span class='indexparent'><a class='index' id=':side_effects__'></a></span>side effect associated with a full-expression is
sequenced before every value computation and side effect associated with the
next full-expression to be evaluated<a class='hidden_link' href='#intro.execution-9.sentence-1'>.</a><a class='footnotenum' href='#footnote-51'>51</a></div></div><div class='para' id='intro.execution-10'><div class='marginalizedparent'><a class='marginalized' href='#intro.execution-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4868'>#</a></div><div id='intro.execution-10.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':evaluation,unspecified_order_of'></a></span>Except where noted, evaluations of operands of individual operators and
of subexpressions of individual expressions are unsequenced<a class='hidden_link' href='#intro.execution-10.sentence-1'>.</a></div> <div id='intro.execution-10.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.execution-10.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.execution-10.sentence-2' class='sentence'>In an expression that is evaluated more than once during the execution
of a program, unsequenced and indeterminately sequenced evaluations of
its subexpressions need not be performed consistently in different
evaluations<a class='hidden_link' href='#intro.execution-10.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='intro.execution-10.sentence-3' class='sentence'> The value computations of the operands of an
operator are sequenced before the value computation of the result of the
operator<a class='hidden_link' href='#intro.execution-10.sentence-3'>.</a></div> <div id='intro.execution-10.sentence-4' class='sentence'>If a
<span class='indexparent'><a class='index' id=':side_effects___'></a></span>side effect on a memory location (<a href='#intro.memory'>[intro.memory]</a>) is unsequenced
relative to either another side effect on the same memory location or
a value computation using the value of any object in the same memory location,
and they are not potentially concurrent (<a href='#intro.multithread'>[intro.multithread]</a>),
the behavior is undefined<a class='hidden_link' href='#intro.execution-10.sentence-4'>.</a></div> <div id='intro.execution-10.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.execution-10.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.execution-10.sentence-5' class='sentence'>The next subclause imposes similar, but more complex restrictions on
potentially concurrent computations<a class='hidden_link' href='#intro.execution-10.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> <div id='intro.execution-10.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#intro.execution-10.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void g(int i) {
  i = 7, i++, i++;              <span class='comment'>// <span class='tcode_in_codeblock'>i</span> becomes <span class='tcode_in_codeblock'>9</span>
</span>
  i = i++ + 1;                  <span class='comment'>// the value of <span class='tcode_in_codeblock'>i</span> is incremented
</span>  i = i++ + i;                  <span class='comment'>// the behavior is undefined
</span>  i = i + 1;                    <span class='comment'>// the value of <span class='tcode_in_codeblock'>i</span> is incremented
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.execution-11'><div class='marginalizedparent'><a class='marginalized' href='#intro.execution-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4902'>#</a></div><div id='intro.execution-11.sentence-1' class='sentence'>When calling a function (whether or not the function is inline), every
<span class='indexparent'><a class='index' id=':value_computation___'></a></span>value computation and
<span class='indexparent'><a class='index' id=':side_effects____'></a></span>side effect associated with any argument
expression, or with the postfix expression designating the called
function, is sequenced before execution of every expression or statement
in the body of the called function<a class='hidden_link' href='#intro.execution-11.sentence-1'>.</a></div> <div id='intro.execution-11.sentence-2' class='sentence'>For each function invocation <span class='textit'>F</span>,
for every evaluation <span class='textit'>A</span> that occurs within <span class='textit'>F</span> and
every evaluation <span class='textit'>B</span> that does not occur within <span class='textit'>F</span> but
is evaluated on the same thread and as part of the same signal handler (if any),
either <span class='textit'>A</span> is sequenced before <span class='textit'>B</span> or
<span class='textit'>B</span> is sequenced before <span class='textit'>A</span><a class='hidden_link' href='#intro.execution-11.sentence-2'>.</a><a class='footnotenum' href='#footnote-52'>52</a></div> <div id='intro.execution-11.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.execution-11.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.execution-11.sentence-3' class='sentence'>If <span class='textit'>A</span> and <span class='textit'>B</span> would not otherwise be sequenced then they are
indeterminately sequenced<a class='hidden_link' href='#intro.execution-11.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='intro.execution-11.sentence-4' class='sentence'>
Several contexts in C++ cause evaluation of a function call, even
though no corresponding function call syntax appears in the translation
unit<a class='hidden_link' href='#intro.execution-11.sentence-4'>.</a></div> <div id='intro.execution-11.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#intro.execution-11.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='intro.execution-11.sentence-5' class='sentence'>Evaluation of a <i ><a href='expr.new#nt:new-expression'>new-expression</a></i> invokes one or more allocation
and constructor functions; see <a href='expr.new'>[expr.new]</a><a class='hidden_link' href='#intro.execution-11.sentence-5'>.</a></div> <div id='intro.execution-11.sentence-6' class='sentence'>For another example,
invocation of a conversion function (<a href='class.conv.fct'>[class.conv.fct]</a>) can arise in
contexts in which no function call syntax appears<a class='hidden_link' href='#intro.execution-11.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='intro.execution-11.sentence-7' class='sentence'>
The sequencing constraints on the execution of the called function (as
described above) are features of the function calls as evaluated,
whatever the syntax of the expression that calls the function might be<a class='hidden_link' href='#intro.execution-11.sentence-7'>.</a></div> <span class='indexparent'><a class='index' id=':behavior,on_receipt_of_signal'></a></span><span class='indexparent'><a class='index' id=':signal'></a></span></div><div class='para' id='intro.execution-12'><div class='marginalizedparent'><a class='marginalized' href='#intro.execution-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4938'>#</a></div><div id='intro.execution-12.sentence-1' class='sentence'>If a signal handler is executed as a result of a call to the <span class='texttt'>std&#x200b;::&#x200b;raise</span>
function, then the execution of the handler is sequenced after the invocation
of the <span class='texttt'>std&#x200b;::&#x200b;raise</span> function and before its return<a class='hidden_link' href='#intro.execution-12.sentence-1'>.</a></div> <div id='intro.execution-12.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.execution-12.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.execution-12.sentence-2' class='sentence'>When a signal is received for another reason, the execution of the
signal handler is usually unsequenced with respect to the rest of the program<a class='hidden_link' href='#intro.execution-12.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  </div><div class='footnote' id='footnote-51'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-51'>51)</a></div><div id='footnote-51.sentence-1' class='sentence'>As specified
in <a href='#class.temporary'>[class.temporary]</a>, after a full-expression is evaluated, a sequence of
zero or more invocations of destructor functions for temporary objects takes
place, usually in reverse order of the construction of each temporary object<a class='hidden_link' href='#footnote-51.sentence-1'>.</a></div></div><div class='footnote' id='footnote-52'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-52'>52)</a></div><div id='footnote-52.sentence-1' class='sentence'>In other words,
function executions do not interleave with each other<a class='hidden_link' href='#footnote-52.sentence-1'>.</a></div></div></div><div id='intro.multithread' class='section'><h3 ><a class='secnum' href='#intro.multithread' style='min-width:103pt'>6.8.2</a> Multi-threaded executions and data races <a class='abbr_ref' href='intro.multithread'>[intro.multithread]</a></h3><div class='para' id='intro.multithread-1'><div class='marginalizedparent'><a class='marginalized' href='#intro.multithread-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4949'>#</a></div><div id='intro.multithread-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':threads,multiple'></a></span><span class='indexparent'><a class='index' id=':operation,atomic'></a></span>A <a class='hidden_link' href='#def:thread_of_execution' id='def:thread_of_execution'><i >thread of execution</i></a> (also known as a <a class='hidden_link' href='#def:thread' id='def:thread'><i >thread</i></a>) is a single flow of
control within a program, including the initial invocation of a specific
top-level function, and recursively including every function invocation
subsequently executed by the thread<a class='hidden_link' href='#intro.multithread-1.sentence-1'>.</a></div> <div id='intro.multithread-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.multithread-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.multithread-1.sentence-2' class='sentence'>When one thread creates another,
the initial call to the top-level function of the new thread is executed by the
new thread, not by the creating thread<a class='hidden_link' href='#intro.multithread-1.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='intro.multithread-1.sentence-3' class='sentence'> Every thread in a program can
potentially access every object and function in a program<a class='hidden_link' href='#intro.multithread-1.sentence-3'>.</a><a class='footnotenum' href='#footnote-53'>53</a></div> <div id='intro.multithread-1.sentence-4' class='sentence'> Under a hosted
implementation, a C++ program can have more than one thread running
concurrently<a class='hidden_link' href='#intro.multithread-1.sentence-4'>.</a></div> <div id='intro.multithread-1.sentence-5' class='sentence'>The execution of each thread proceeds as defined by the remainder
of this document<a class='hidden_link' href='#intro.multithread-1.sentence-5'>.</a></div> <div id='intro.multithread-1.sentence-6' class='sentence'>The execution of the entire program consists of an execution
of all of its threads<a class='hidden_link' href='#intro.multithread-1.sentence-6'>.</a></div> <div id='intro.multithread-1.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.multithread-1.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.multithread-1.sentence-7' class='sentence'>Usually the execution can be viewed as an
interleaving of all its threads<a class='hidden_link' href='#intro.multithread-1.sentence-7'>.</a></div> <div id='intro.multithread-1.sentence-8' class='sentence'>However, some kinds of atomic operations, for
example, allow executions inconsistent with a simple interleaving, as described
below<a class='hidden_link' href='#intro.multithread-1.sentence-8'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='intro.multithread-1.sentence-9' class='sentence'> Under a freestanding implementation, it is <span class='indexparent'><a class='index' id=':number_of_threads_in_a_program_under_a_freestanding_implementation'></a></span>implementation-defined whether a program can
have more than one thread of execution<a class='hidden_link' href='#intro.multithread-1.sentence-9'>.</a></div></div><div class='para' id='intro.multithread-2'><div class='marginalizedparent'><a class='marginalized' href='#intro.multithread-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4972'>#</a></div><div id='intro.multithread-2.sentence-1' class='sentence'>For a signal handler that is not executed as a result of a call to the
<span class='texttt'>std&#x200b;::&#x200b;raise</span> function, it is unspecified which thread of execution
contains the signal handler invocation<a class='hidden_link' href='#intro.multithread-2.sentence-1'>.</a></div></div><div class='footnote' id='footnote-53'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-53'>53)</a></div><div id='footnote-53.sentence-1' class='sentence'>An object
with automatic or thread storage duration (<a href='#stc'>[basic.stc]</a>) is associated with
one specific thread, and can be accessed by a different thread only indirectly
through a pointer or reference (<a href='#compound'>[basic.compound]</a>)<a class='hidden_link' href='#footnote-53.sentence-1'>.</a></div></div><div id='intro.races' class='section'><h4 ><a class='secnum' href='#intro.races' style='min-width:118pt'>6.8.2.1</a> Data races <a class='abbr_ref' href='intro.races'>[intro.races]</a></h4><div class='para' id='intro.races-1'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4979'>#</a></div><div id='intro.races-1.sentence-1' class='sentence'>The value of an object visible to a thread <span class='textit'>T</span> at a particular point is the
initial value of the object, a value assigned to the object by <span class='textit'>T</span>, or a
value assigned to the object by another thread, according to the rules below<a class='hidden_link' href='#intro.races-1.sentence-1'>.</a></div> <div id='intro.races-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.races-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.races-1.sentence-2' class='sentence'>In some cases, there may instead be undefined behavior<a class='hidden_link' href='#intro.races-1.sentence-2'>.</a></div> <div id='intro.races-1.sentence-3' class='sentence'>Much of this
subclause is motivated by the desire to support atomic operations with explicit
and detailed visibility constraints<a class='hidden_link' href='#intro.races-1.sentence-3'>.</a></div> <div id='intro.races-1.sentence-4' class='sentence'>However, it also implicitly supports a
simpler view for more restricted programs<a class='hidden_link' href='#intro.races-1.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.races-2'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4988'>#</a></div><div id='intro.races-2.sentence-1' class='sentence'>Two expression evaluations <a class='hidden_link' href='#def:conflict' id='def:conflict'><i >conflict</i></a> if one of them modifies a memory
location (<a href='#intro.memory'>[intro.memory]</a>) and the other one reads or modifies the same
memory location<a class='hidden_link' href='#intro.races-2.sentence-1'>.</a></div></div><div class='para' id='intro.races-3'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L4993'>#</a></div><div id='intro.races-3.sentence-1' class='sentence'>The library defines a number of atomic operations (<a href='atomics'>[atomics]</a>) and
operations on mutexes (<a href='thread'>[thread]</a>) that are specially identified as
synchronization operations<a class='hidden_link' href='#intro.races-3.sentence-1'>.</a></div> <div id='intro.races-3.sentence-2' class='sentence'>These operations play a special role in making
assignments in one thread visible to another<a class='hidden_link' href='#intro.races-3.sentence-2'>.</a></div> <div id='intro.races-3.sentence-3' class='sentence'>A synchronization operation on one
or more memory locations is either a consume operation, an acquire operation, a
release operation, or both an acquire and release operation<a class='hidden_link' href='#intro.races-3.sentence-3'>.</a></div> <div id='intro.races-3.sentence-4' class='sentence'>A synchronization
operation without an associated memory location is a fence and can be either an
acquire fence, a release fence, or both an acquire and release fence<a class='hidden_link' href='#intro.races-3.sentence-4'>.</a></div> <div id='intro.races-3.sentence-5' class='sentence'>In
addition, there are relaxed atomic operations, which are not synchronization
operations, and atomic read-modify-write operations, which have special
characteristics<a class='hidden_link' href='#intro.races-3.sentence-5'>.</a></div> <div id='intro.races-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.races-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.races-3.sentence-6' class='sentence'>For example, a call that acquires a mutex will
perform an acquire operation on the locations comprising the mutex<a class='hidden_link' href='#intro.races-3.sentence-6'>.</a></div> <div id='intro.races-3.sentence-7' class='sentence'>Correspondingly, a call that releases the same mutex will perform a release
operation on those same locations<a class='hidden_link' href='#intro.races-3.sentence-7'>.</a></div> <div id='intro.races-3.sentence-8' class='sentence'>Informally, performing a release operation on
<span class='textit'>A</span> forces prior
<span class='indexparent'><a class='index' id=':side_effects_____'></a></span>side effects on other memory locations to become visible
to other threads that later perform a consume or an acquire operation on
<span class='textit'>A</span><a class='hidden_link' href='#intro.races-3.sentence-8'>.</a></div> <div id='intro.races-3.sentence-9' class='sentence'>“Relaxed” atomic operations are not synchronization operations even
though, like synchronization operations, they cannot contribute to data races<a class='hidden_link' href='#intro.races-3.sentence-9'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.races-4'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5016'>#</a></div><div id='intro.races-4.sentence-1' class='sentence'>All modifications to a particular atomic object <span class='textit'>M</span> occur in some
particular total order, called the <a class='hidden_link' href='#def:modification_order' id='def:modification_order'><i >modification order</i></a> of <span class='textit'>M</span><a class='hidden_link' href='#intro.races-4.sentence-1'>.</a></div> <div id='intro.races-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.races-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.races-4.sentence-2' class='sentence'>There is a separate order for each
atomic object<a class='hidden_link' href='#intro.races-4.sentence-2'>.</a></div> <div id='intro.races-4.sentence-3' class='sentence'>There is no requirement that these can be combined into a single
total order for all objects<a class='hidden_link' href='#intro.races-4.sentence-3'>.</a></div> <div id='intro.races-4.sentence-4' class='sentence'>In general this will be impossible since different
threads may observe modifications to different objects in inconsistent orders<a class='hidden_link' href='#intro.races-4.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.races-5'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5025'>#</a></div><div id='intro.races-5.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:release_sequence' id='def:release_sequence'><i >release sequence</i></a> headed by a release operation <span class='textit'>A</span> on an atomic object
<span class='textit'>M</span> is a maximal contiguous sub-sequence of
<span class='indexparent'><a class='index' id=':side_effects______'></a></span>side effects in the
modification order of <span class='textit'>M</span>, where the first operation is <span class='texttt'>A</span>, and
every subsequent operation</div><div id='intro.races-5.sentence-2' class='sentence'><ul class='itemize'><li id='intro.races-5.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.races-5.1'>(5.1)</a></div><div id='intro.races-5.1.sentence-1' class='sentence'>is performed by the same thread that performed <span class='texttt'>A</span>, or</div></li><li id='intro.races-5.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.races-5.2'>(5.2)</a></div><div id='intro.races-5.2.sentence-1' class='sentence'>is an atomic read-modify-write operation<a class='hidden_link' href='#intro.races-5.2.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='intro.races-6'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5038'>#</a></div><div id='intro.races-6.sentence-1' class='sentence'>Certain library calls <a class='hidden_link' href='#def:synchronize_with' id='def:synchronize_with'><i >synchronize with</i></a> other library calls performed by
another thread<a class='hidden_link' href='#intro.races-6.sentence-1'>.</a></div> <div id='intro.races-6.sentence-2' class='sentence'>For example, an atomic store-release synchronizes with a
load-acquire that takes its value from the store (<a href='atomics.order'>[atomics.order]</a>)<a class='hidden_link' href='#intro.races-6.sentence-2'>.</a></div> <div id='intro.races-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.races-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.races-6.sentence-3' class='sentence'>Except in the specified cases, reading a later value does not
necessarily ensure visibility as described below<a class='hidden_link' href='#intro.races-6.sentence-3'>.</a></div> <div id='intro.races-6.sentence-4' class='sentence'>Such a requirement would
sometimes interfere with efficient implementation<a class='hidden_link' href='#intro.races-6.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>   <div id='intro.races-6.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.races-6.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.races-6.sentence-5' class='sentence'>The
specifications of the synchronization operations define when one reads the value
written by another<a class='hidden_link' href='#intro.races-6.sentence-5'>.</a></div> <div id='intro.races-6.sentence-6' class='sentence'>For atomic objects, the definition is clear<a class='hidden_link' href='#intro.races-6.sentence-6'>.</a></div> <div id='intro.races-6.sentence-7' class='sentence'>All operations
on a given mutex occur in a single total order<a class='hidden_link' href='#intro.races-6.sentence-7'>.</a></div> <div id='intro.races-6.sentence-8' class='sentence'>Each mutex acquisition “reads
the value written” by the last mutex release<a class='hidden_link' href='#intro.races-6.sentence-8'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.races-7'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5050'>#</a></div><div id='intro.races-7.sentence-1' class='sentence'>An evaluation <span class='textit'>A</span> <a class='hidden_link' href='#def:carries_a_dependency' id='def:carries_a_dependency'><i >carries a dependency</i></a> to an evaluation <span class='textit'>B</span> if</div><div id='intro.races-7.sentence-2' class='sentence'><ul class='itemize'><li id='intro.races-7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.races-7.1'>(7.1)</a></div><div id='intro.races-7.1.sentence-1' class='sentence'>the value of <span class='textit'>A</span> is used as an operand of <span class='textit'>B</span>, unless:
<ul class='itemize'><li id='intro.races-7.1.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#intro.races-7.1.1'>(7.1.1)</a></div><div id='intro.races-7.1.1.sentence-1' class='sentence'><span class='textit'>B</span> is an invocation of any specialization of
<span class='texttt'>std&#x200b;::&#x200b;kill_&shy;dependency</span> (<a href='atomics.order'>[atomics.order]</a>), or</div></li><li id='intro.races-7.1.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#intro.races-7.1.2'>(7.1.2)</a></div><div id='intro.races-7.1.2.sentence-1' class='sentence'><span class='textit'>A</span> is the left operand of a built-in logical AND (<span class='texttt'>&amp;&amp;</span>,
see <a href='expr.log.and'>[expr.log.and]</a>) or logical OR (<span class='texttt'>||</span>, see <a href='expr.log.or'>[expr.log.or]</a>)
operator, or</div></li><li id='intro.races-7.1.3'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#intro.races-7.1.3'>(7.1.3)</a></div><div id='intro.races-7.1.3.sentence-1' class='sentence'><span class='textit'>A</span> is the left operand of a conditional (<span class='texttt'>?:</span>, see <a href='expr.cond'>[expr.cond]</a>)
operator, or</div></li><li id='intro.races-7.1.4'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#intro.races-7.1.4'>(7.1.4)</a></div><div id='intro.races-7.1.4.sentence-1' class='sentence'><span class='textit'>A</span> is the left operand of the built-in comma (<span class='texttt'>,</span>)
operator (<a href='expr.comma'>[expr.comma]</a>);</div></li></ul> or</div></li><li id='intro.races-7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.races-7.2'>(7.2)</a></div><div id='intro.races-7.2.sentence-1' class='sentence'><span class='textit'>A</span> writes a scalar object or bit-field <span class='textit'>M</span>, <span class='textit'>B</span> reads the value
written by <span class='textit'>A</span> from <span class='textit'>M</span>, and <span class='textit'>A</span> is sequenced before <span class='textit'>B</span>, or</div></li><li id='intro.races-7.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.races-7.3'>(7.3)</a></div><div id='intro.races-7.3.sentence-1' class='sentence'>for some evaluation <span class='textit'>X</span>, <span class='textit'>A</span> carries a dependency to <span class='textit'>X</span>, and
<span class='textit'>X</span> carries a dependency to <span class='textit'>B</span><a class='hidden_link' href='#intro.races-7.3.sentence-1'>.</a></div></li></ul></div> <div id='intro.races-7.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.races-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.races-7.sentence-3' class='sentence'>“Carries a dependency to” is a subset of “is sequenced before”,
and is similarly strictly intra-thread<a class='hidden_link' href='#intro.races-7.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.races-8'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5080'>#</a></div><div id='intro.races-8.sentence-1' class='sentence'>An evaluation <span class='textit'>A</span> is <a class='hidden_link' href='#def:dependency-ordered_before' id='def:dependency-ordered_before'><i >dependency-ordered before</i></a> an evaluation
<span class='textit'>B</span> if
<ul class='itemize'><li id='intro.races-8.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.races-8.1'>(8.1)</a></div><div id='intro.races-8.1.sentence-1' class='sentence'><span class='textit'>A</span> performs a release operation on an atomic object <span class='textit'>M</span>, and, in
another thread, <span class='textit'>B</span> performs a consume operation on <span class='textit'>M</span> and reads a
value written by any
<span class='indexparent'><a class='index' id=':side_effects_______'></a></span>side effect in the release sequence headed by <span class='textit'>A</span>, or</div></li><li id='intro.races-8.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.races-8.2'>(8.2)</a></div><div id='intro.races-8.2.sentence-1' class='sentence'>for some evaluation <span class='textit'>X</span>, <span class='textit'>A</span> is dependency-ordered before <span class='textit'>X</span> and
<span class='textit'>X</span> carries a dependency to <span class='textit'>B</span><a class='hidden_link' href='#intro.races-8.2.sentence-1'>.</a></div></li></ul></div> <div id='intro.races-8.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.races-8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.races-8.sentence-2' class='sentence'>The relation “is dependency-ordered before” is analogous to
“synchronizes with”, but uses release/consume in place of release/acquire<a class='hidden_link' href='#intro.races-8.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.races-9'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5100'>#</a></div><div id='intro.races-9.sentence-1' class='sentence'>An evaluation <span class='textit'>A</span> <a class='hidden_link' href='#def:inter-thread_happens_before' id='def:inter-thread_happens_before'><i >inter-thread happens before</i></a> an evaluation <span class='textit'>B</span>
if
<ul class='itemize'><li id='intro.races-9.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.races-9.1'>(9.1)</a></div><div id='intro.races-9.1.sentence-1' class='sentence'><span class='textit'>A</span> synchronizes with <span class='textit'>B</span>, or</div></li><li id='intro.races-9.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.races-9.2'>(9.2)</a></div><div id='intro.races-9.2.sentence-1' class='sentence'><span class='textit'>A</span> is dependency-ordered before <span class='textit'>B</span>, or</div></li><li id='intro.races-9.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.races-9.3'>(9.3)</a></div><div id='intro.races-9.3.sentence-1' class='sentence'>for some evaluation <span class='textit'>X</span>
  <ul class='itemize'><li id='intro.races-9.3.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#intro.races-9.3.1'>(9.3.1)</a></div><div id='intro.races-9.3.1.sentence-1' class='sentence'>
  <span class='textit'>A</span> synchronizes with <span class='textit'>X</span> and <span class='textit'>X</span>
    is sequenced before <span class='textit'>B</span>, or</div></li><li id='intro.races-9.3.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#intro.races-9.3.2'>(9.3.2)</a></div><div id='intro.races-9.3.2.sentence-1' class='sentence'><span class='textit'>A</span> is sequenced before <span class='textit'>X</span> and <span class='textit'>X</span>
    inter-thread happens before <span class='textit'>B</span>, or</div></li><li id='intro.races-9.3.3'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#intro.races-9.3.3'>(9.3.3)</a></div><div id='intro.races-9.3.3.sentence-1' class='sentence'><span class='textit'>A</span> inter-thread happens before <span class='textit'>X</span> and <span class='textit'>X</span>
    inter-thread happens before <span class='textit'>B</span><a class='hidden_link' href='#intro.races-9.3.3.sentence-1'>.</a></div></li></ul></div></li></ul></div> <div id='intro.races-9.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.races-9.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.races-9.sentence-2' class='sentence'>The “inter-thread happens before” relation describes arbitrary
concatenations of “sequenced before”, “synchronizes with” and
“dependency-ordered before” relationships, with two exceptions<a class='hidden_link' href='#intro.races-9.sentence-2'>.</a></div> <div id='intro.races-9.sentence-3' class='sentence'>The first
exception is that a concatenation is not permitted to end with
“dependency-ordered before” followed by “sequenced before”<a class='hidden_link' href='#intro.races-9.sentence-3'>.</a></div> <div id='intro.races-9.sentence-4' class='sentence'>The reason for
this limitation is that a consume operation participating in a
“dependency-ordered before” relationship provides ordering only with respect
to operations to which this consume operation actually carries a dependency<a class='hidden_link' href='#intro.races-9.sentence-4'>.</a></div> <div id='intro.races-9.sentence-5' class='sentence'>The
reason that this limitation applies only to the end of such a concatenation is
that any subsequent release operation will provide the required ordering for a
prior consume operation<a class='hidden_link' href='#intro.races-9.sentence-5'>.</a></div> <div id='intro.races-9.sentence-6' class='sentence'>The second exception is that a concatenation is not
permitted to consist entirely of “sequenced before”<a class='hidden_link' href='#intro.races-9.sentence-6'>.</a></div> <div id='intro.races-9.sentence-7' class='sentence'>The reasons for this
limitation are (1) to permit “inter-thread happens before” to be transitively
closed and (2) the “happens before” relation, defined below, provides for
relationships consisting entirely of “sequenced before”<a class='hidden_link' href='#intro.races-9.sentence-7'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.races-10'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5138'>#</a></div><div id='intro.races-10.sentence-1' class='sentence'>An evaluation <span class='textit'>A</span> <a class='hidden_link' href='#def:happens_before' id='def:happens_before'><i >happens before</i></a> an evaluation <span class='textit'>B</span>
(or, equivalently, <span class='textit'>B</span> <a class='hidden_link' href='#def:happens_after' id='def:happens_after'><i >happens after</i></a> <span class='textit'>A</span>) if:
<ul class='itemize'><li id='intro.races-10.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.races-10.1'>(10.1)</a></div><div id='intro.races-10.1.sentence-1' class='sentence'><span class='textit'>A</span> is sequenced before <span class='textit'>B</span>, or</div></li><li id='intro.races-10.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.races-10.2'>(10.2)</a></div><div id='intro.races-10.2.sentence-1' class='sentence'><span class='textit'>A</span> inter-thread happens before <span class='textit'>B</span><a class='hidden_link' href='#intro.races-10.2.sentence-1'>.</a></div></li></ul></div> <div id='intro.races-10.sentence-2' class='sentence'>
The implementation shall ensure that no program execution demonstrates a cycle
in the “happens before” relation<a class='hidden_link' href='#intro.races-10.sentence-2'>.</a></div> <div id='intro.races-10.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.races-10.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.races-10.sentence-3' class='sentence'>This cycle would otherwise be
possible only through the use of consume operations<a class='hidden_link' href='#intro.races-10.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.races-11'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5149'>#</a></div><div id='intro.races-11.sentence-1' class='sentence'>An evaluation <span class='textit'>A</span> <a class='hidden_link' href='#def:strongly_happens_before' id='def:strongly_happens_before'><i >strongly happens before</i></a> an evaluation <span class='textit'>B</span>
if either
<ul class='itemize'><li id='intro.races-11.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.races-11.1'>(11.1)</a></div><div id='intro.races-11.1.sentence-1' class='sentence'><span class='textit'>A</span> is sequenced before <span class='textit'>B</span>, or</div></li><li id='intro.races-11.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.races-11.2'>(11.2)</a></div><div id='intro.races-11.2.sentence-1' class='sentence'><span class='textit'>A</span> synchronizes with <span class='textit'>B</span>, or</div></li><li id='intro.races-11.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.races-11.3'>(11.3)</a></div><div id='intro.races-11.3.sentence-1' class='sentence'><span class='textit'>A</span> strongly happens before <span class='textit'>X</span> and <span class='textit'>X</span> strongly happens before <span class='textit'>B</span><a class='hidden_link' href='#intro.races-11.3.sentence-1'>.</a></div></li></ul></div> <div id='intro.races-11.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.races-11.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.races-11.sentence-2' class='sentence'>In the absence of consume operations,
the happens before and strongly happens before relations are identical<a class='hidden_link' href='#intro.races-11.sentence-2'>.</a></div> <div id='intro.races-11.sentence-3' class='sentence'>Strongly happens before essentially excludes consume operations<a class='hidden_link' href='#intro.races-11.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.races-12'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5163'>#</a></div><div id='intro.races-12.sentence-1' class='sentence'>A <span class='indexparent'><a class='index' id=':side_effect,visible'></a></span><span class='textit'>visible side effect</span> <span class='textit'>A</span> on a scalar object or bit-field <span class='textit'>M</span>
with respect to a value computation <span class='textit'>B</span> of <span class='textit'>M</span> satisfies the
conditions:
<ul class='itemize'><li id='intro.races-12.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.races-12.1'>(12.1)</a></div><div id='intro.races-12.1.sentence-1' class='sentence'><span class='textit'>A</span> happens before <span class='textit'>B</span> and</div></li><li id='intro.races-12.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.races-12.2'>(12.2)</a></div><div id='intro.races-12.2.sentence-1' class='sentence'>there is no other
<span class='indexparent'><a class='index' id=':side_effects________'></a></span>side effect <span class='textit'>X</span> to <span class='textit'>M</span> such that <span class='textit'>A</span>
happens before <span class='textit'>X</span> and <span class='textit'>X</span> happens before <span class='textit'>B</span><a class='hidden_link' href='#intro.races-12.2.sentence-1'>.</a></div></li></ul></div><div id='intro.races-12.sentence-2' class='sentence'>The value of a non-atomic scalar object or bit-field <span class='textit'>M</span>, as determined by
evaluation <span class='textit'>B</span>, shall be the value stored by the
<span class='indexparent'><a class='index' id=':side_effects,visible'></a></span>visible side effect
<span class='textit'>A</span><a class='hidden_link' href='#intro.races-12.sentence-2'>.</a></div> <div id='intro.races-12.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.races-12.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.races-12.sentence-3' class='sentence'>If there is ambiguity about which side effect to a
non-atomic object or bit-field is visible, then the behavior is either
unspecified or undefined<a class='hidden_link' href='#intro.races-12.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>   <div id='intro.races-12.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.races-12.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.races-12.sentence-4' class='sentence'>This states that operations on
ordinary objects are not visibly reordered<a class='hidden_link' href='#intro.races-12.sentence-4'>.</a></div> <div id='intro.races-12.sentence-5' class='sentence'>This is not actually detectable
without data races, but it is necessary to ensure that data races, as defined
below, and with suitable restrictions on the use of atomics, correspond to data
races in a simple interleaved (sequentially consistent) execution<a class='hidden_link' href='#intro.races-12.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.races-13'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5187'>#</a></div><div id='intro.races-13.sentence-1' class='sentence'>The value of an
atomic object <span class='textit'>M</span>, as determined by evaluation <span class='textit'>B</span>, shall be the value
stored by some
side effect <span class='textit'>A</span> that modifies <span class='textit'>M</span>, where <span class='textit'>B</span> does not happen
before <span class='textit'>A</span><a class='hidden_link' href='#intro.races-13.sentence-1'>.</a></div> <div id='intro.races-13.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.races-13.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.races-13.sentence-2' class='sentence'>The set of such side effects is also restricted by the rest of the rules
described here, and in particular, by the coherence requirements below<a class='hidden_link' href='#intro.races-13.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.races-14'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5198'>#</a></div><div id='intro.races-14.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':coherence,write-write'></a></span>If an operation <span class='textit'>A</span> that modifies an atomic object <span class='textit'>M</span> happens before
an operation <span class='textit'>B</span> that modifies <span class='textit'>M</span>, then <span class='textit'>A</span> shall be earlier
than <span class='textit'>B</span> in the modification order of <span class='textit'>M</span><a class='hidden_link' href='#intro.races-14.sentence-1'>.</a></div> <div id='intro.races-14.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.races-14.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.races-14.sentence-2' class='sentence'>This requirement
is known as write-write coherence<a class='hidden_link' href='#intro.races-14.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.races-15'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5205'>#</a></div><div id='intro.races-15.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':coherence,read-read'></a></span>If a
<span class='indexparent'><a class='index' id=':value_computation____'></a></span>value computation <span class='textit'>A</span> of an atomic object <span class='textit'>M</span> happens before a
value computation <span class='textit'>B</span> of <span class='textit'>M</span>, and <span class='textit'>A</span> takes its value from a side
effect <span class='textit'>X</span> on <span class='textit'>M</span>, then the value computed by <span class='textit'>B</span> shall either be
the value stored by <span class='textit'>X</span> or the value stored by a
<span class='indexparent'><a class='index' id=':side_effects_________'></a></span>side effect <span class='textit'>Y</span> on
<span class='textit'>M</span>, where <span class='textit'>Y</span> follows <span class='textit'>X</span> in the modification order of <span class='textit'>M</span><a class='hidden_link' href='#intro.races-15.sentence-1'>.</a></div> <div id='intro.races-15.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.races-15.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.races-15.sentence-2' class='sentence'>This requirement is known as read-read coherence<a class='hidden_link' href='#intro.races-15.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.races-16'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5218'>#</a></div><div id='intro.races-16.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':coherence,read-write'></a></span>If a
<span class='indexparent'><a class='index' id=':value_computation_____'></a></span>value computation <span class='textit'>A</span> of an atomic object <span class='textit'>M</span> happens before an
operation <span class='textit'>B</span> that modifies <span class='textit'>M</span>, then <span class='textit'>A</span> shall take its value from a side
effect <span class='textit'>X</span> on <span class='textit'>M</span>, where <span class='textit'>X</span> precedes <span class='textit'>B</span> in the
modification order of <span class='textit'>M</span><a class='hidden_link' href='#intro.races-16.sentence-1'>.</a></div> <div id='intro.races-16.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.races-16.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.races-16.sentence-2' class='sentence'>This requirement is known as
read-write coherence<a class='hidden_link' href='#intro.races-16.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.races-17'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5228'>#</a></div><div id='intro.races-17.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':coherence,write-read'></a></span>If a
<span class='indexparent'><a class='index' id=':side_effects__________'></a></span>side effect <span class='textit'>X</span> on an atomic object <span class='textit'>M</span> happens before a value
computation <span class='textit'>B</span> of <span class='textit'>M</span>, then the evaluation <span class='textit'>B</span> shall take its
value from <span class='textit'>X</span> or from a
<span class='indexparent'><a class='index' id=':side_effects___________'></a></span>side effect <span class='textit'>Y</span> that follows <span class='textit'>X</span> in the
modification order of <span class='textit'>M</span><a class='hidden_link' href='#intro.races-17.sentence-1'>.</a></div> <div id='intro.races-17.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.races-17.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.races-17.sentence-2' class='sentence'>This requirement is known as
write-read coherence<a class='hidden_link' href='#intro.races-17.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.races-18'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5240'>#</a></div><div id='intro.races-18.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.races-18.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.races-18.sentence-1' class='sentence'>The four preceding coherence requirements effectively disallow
compiler reordering of atomic operations to a single object, even if both
operations are relaxed loads<a class='hidden_link' href='#intro.races-18.sentence-1'>.</a></div> <div id='intro.races-18.sentence-2' class='sentence'>This effectively makes the cache coherence
guarantee provided by most hardware available to C++ atomic operations<a class='hidden_link' href='#intro.races-18.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.races-19'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-19'>19</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5247'>#</a></div><div id='intro.races-19.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.races-19.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.races-19.sentence-1' class='sentence'>The value observed by a load of an atomic depends on the “happens
before” relation, which depends on the values observed by loads of atomics<a class='hidden_link' href='#intro.races-19.sentence-1'>.</a></div> <div id='intro.races-19.sentence-2' class='sentence'>The intended reading is that there must exist an
association of atomic loads with modifications they observe that, together with
suitably chosen modification orders and the “happens before” relation derived
as described above, satisfy the resulting constraints as imposed here<a class='hidden_link' href='#intro.races-19.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.races-20'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-20'>20</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5255'>#</a></div><div id='intro.races-20.sentence-1' class='sentence'>Two actions are <a class='hidden_link' href='#def:potentially_concurrent' id='def:potentially_concurrent'><i >potentially concurrent</i></a> if
<ul class='itemize'><li id='intro.races-20.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.races-20.1'>(20.1)</a></div><div id='intro.races-20.1.sentence-1' class='sentence'>they are performed by different threads, or</div></li><li id='intro.races-20.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.races-20.2'>(20.2)</a></div><div id='intro.races-20.2.sentence-1' class='sentence'>they are unsequenced, at least one is performed by a signal handler, and
they are not both performed by the same signal handler invocation<a class='hidden_link' href='#intro.races-20.2.sentence-1'>.</a></div></li></ul></div> <div id='intro.races-20.sentence-2' class='sentence'>
The execution of a program contains a <a class='hidden_link' href='#def:data_race' id='def:data_race'><i >data race</i></a> if it contains two
potentially concurrent conflicting actions, at least one of which is not atomic,
and neither happens before the other,
except for the special case for signal handlers described below<a class='hidden_link' href='#intro.races-20.sentence-2'>.</a></div> <div id='intro.races-20.sentence-3' class='sentence'>Any such data race results in undefined
behavior<a class='hidden_link' href='#intro.races-20.sentence-3'>.</a></div> <div id='intro.races-20.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.races-20.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.races-20.sentence-4' class='sentence'>It can be shown that programs that correctly use mutexes
and <span class='texttt'>memory_&shy;order&#x200b;::&#x200b;seq_&shy;cst</span> operations to prevent all data races and use no
other synchronization operations behave as if the operations executed by their
constituent threads were simply interleaved, with each
<span class='indexparent'><a class='index' id=':value_computation______'></a></span>value computation of an
object being taken from the last
<span class='indexparent'><a class='index' id=':side_effects____________'></a></span>side effect on that object in that
interleaving<a class='hidden_link' href='#intro.races-20.sentence-4'>.</a></div> <div id='intro.races-20.sentence-5' class='sentence'>This is normally referred to as “sequential consistency”<a class='hidden_link' href='#intro.races-20.sentence-5'>.</a></div> <div id='intro.races-20.sentence-6' class='sentence'>However, this applies only to data-race-free programs, and data-race-free
programs cannot observe most program transformations that do not change
single-threaded program semantics<a class='hidden_link' href='#intro.races-20.sentence-6'>.</a></div> <div id='intro.races-20.sentence-7' class='sentence'>In fact, most single-threaded program
transformations continue to be allowed, since any program that behaves
differently as a result must perform an undefined operation<a class='hidden_link' href='#intro.races-20.sentence-7'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.races-21'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-21'>21</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5283'>#</a></div><div id='intro.races-21.sentence-1' class='sentence'>Two accesses to the same object of type <span class='texttt'>volatile std&#x200b;::&#x200b;sig_&shy;atomic_&shy;t</span> do not
result in a data race if both occur in the same thread, even if one or more
occurs in a signal handler<a class='hidden_link' href='#intro.races-21.sentence-1'>.</a></div> <div id='intro.races-21.sentence-2' class='sentence'>For each signal handler invocation, evaluations
performed by the thread invoking a signal handler can be divided into two
groups <span class='textit'>A</span> and <span class='textit'>B</span>, such that no evaluations in
<span class='textit'>B</span> happen before evaluations in <span class='textit'>A</span>, and the
evaluations of such <span class='texttt'>volatile std&#x200b;::&#x200b;sig_&shy;atomic_&shy;t</span> objects take values as though
all evaluations in <span class='textit'>A</span> happened before the execution of the signal
handler and the execution of the signal handler happened before all evaluations
in <span class='textit'>B</span><a class='hidden_link' href='#intro.races-21.sentence-2'>.</a></div></div><div class='para' id='intro.races-22'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-22'>22</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5295'>#</a></div><div id='intro.races-22.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.races-22.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.races-22.sentence-1' class='sentence'>Compiler transformations that introduce assignments to a potentially
shared memory location that would not be modified by the abstract machine are
generally precluded by this document, since such an assignment might overwrite
another assignment by a different thread in cases in which an abstract machine
execution would not have encountered a data race<a class='hidden_link' href='#intro.races-22.sentence-1'>.</a></div> <div id='intro.races-22.sentence-2' class='sentence'>This includes implementations
of data member assignment that overwrite adjacent members in separate memory
locations<a class='hidden_link' href='#intro.races-22.sentence-2'>.</a></div> <div id='intro.races-22.sentence-3' class='sentence'>Reordering of atomic loads in cases in which the atomics in question
may alias is also generally precluded, since this may violate the coherence
rules<a class='hidden_link' href='#intro.races-22.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.races-23'><div class='marginalizedparent'><a class='marginalized' href='#intro.races-23'>23</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5306'>#</a></div><div id='intro.races-23.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.races-23.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.races-23.sentence-1' class='sentence'>Transformations that introduce a speculative read of a potentially
shared memory location may not preserve the semantics of the C++ program as
defined in this document, since they potentially introduce a data race<a class='hidden_link' href='#intro.races-23.sentence-1'>.</a></div> <div id='intro.races-23.sentence-2' class='sentence'>However,
they are typically valid in the context of an optimizing compiler that targets a
specific machine with well-defined semantics for data races<a class='hidden_link' href='#intro.races-23.sentence-2'>.</a></div> <div id='intro.races-23.sentence-3' class='sentence'>They would be
invalid for a hypothetical machine that is not tolerant of races or provides
hardware race detection<a class='hidden_link' href='#intro.races-23.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='intro.progress' class='section'><h4 ><a class='secnum' href='#intro.progress' style='min-width:118pt'>6.8.2.2</a> Forward progress <a class='abbr_ref' href='intro.progress'>[intro.progress]</a></h4><div class='para' id='intro.progress-1'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5317'>#</a></div><div id='intro.progress-1.sentence-1' class='sentence'>The implementation may assume that any thread will eventually do one of the
following:
<ul class='itemize'><li id='intro.progress-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.progress-1.1'>(1.1)</a></div><div id='intro.progress-1.1.sentence-1' class='sentence'>terminate,</div></li><li id='intro.progress-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.progress-1.2'>(1.2)</a></div><div id='intro.progress-1.2.sentence-1' class='sentence'>make a call to a library I/O function,</div></li><li id='intro.progress-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.progress-1.3'>(1.3)</a></div><div id='intro.progress-1.3.sentence-1' class='sentence'>perform an access through a volatile glvalue, or</div></li><li id='intro.progress-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.progress-1.4'>(1.4)</a></div><div id='intro.progress-1.4.sentence-1' class='sentence'>perform a synchronization operation or an atomic operation<a class='hidden_link' href='#intro.progress-1.4.sentence-1'>.</a></div></li></ul></div> <div id='intro.progress-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.progress-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.progress-1.sentence-2' class='sentence'>This is intended to allow compiler transformations such as removal of
empty loops, even when termination cannot be proven<a class='hidden_link' href='#intro.progress-1.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.progress-2'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5329'>#</a></div><div id='intro.progress-2.sentence-1' class='sentence'>Executions of atomic functions
that are either defined to be lock-free (<a href='atomics.flag'>[atomics.flag]</a>)
or indicated as lock-free (<a href='atomics.lockfree'>[atomics.lockfree]</a>)
are <a class='hidden_link' href='#def:lock-free_execution' id='def:lock-free_execution'><i >lock-free executions</i></a><a class='hidden_link' href='#intro.progress-2.sentence-1'>.</a></div> <div id='intro.progress-2.sentence-2' class='sentence'><ul class='itemize'><li id='intro.progress-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.progress-2.1'>(2.1)</a></div><div id='intro.progress-2.1.sentence-1' class='sentence'>If there is only one thread that is not blocked (<a href='defns.block'>[defns.block]</a>)
  in a standard library function,
  a lock-free execution in that thread shall complete<a class='hidden_link' href='#intro.progress-2.1.sentence-1'>.</a></div> <div id='intro.progress-2.1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.progress-2.1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.progress-2.1.sentence-2' class='sentence'>Concurrently executing threads
    may prevent progress of a lock-free execution<a class='hidden_link' href='#intro.progress-2.1.sentence-2'>.</a></div> <div id='intro.progress-2.1.sentence-3' class='sentence'>For example,
    this situation can occur
    with load-locked store-conditional implementations<a class='hidden_link' href='#intro.progress-2.1.sentence-3'>.</a></div> <div id='intro.progress-2.1.sentence-4' class='sentence'>This property is sometimes termed obstruction-free<a class='hidden_link' href='#intro.progress-2.1.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </li><li id='intro.progress-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.progress-2.2'>(2.2)</a></div><div id='intro.progress-2.2.sentence-1' class='sentence'>When one or more lock-free executions run concurrently,
  at least one should complete<a class='hidden_link' href='#intro.progress-2.2.sentence-1'>.</a></div> <div id='intro.progress-2.2.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.progress-2.2.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.progress-2.2.sentence-2' class='sentence'>It is difficult for some implementations
    to provide absolute guarantees to this effect,
    since repeated and particularly inopportune interference
    from other threads
    may prevent forward progress,
    e.g.,
    by repeatedly stealing a cache line
    for unrelated purposes
    between load-locked and store-conditional instructions.
    Implementations should ensure
    that such effects cannot indefinitely delay progress
    under expected operating conditions,
    and that such anomalies
    can therefore safely be ignored by programmers.
    Outside this document,
    this property is sometimes termed lock-free<a class='hidden_link' href='#intro.progress-2.2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </li></ul></div></div><div class='para' id='intro.progress-3'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5370'>#</a></div><div id='intro.progress-3.sentence-1' class='sentence'>During the execution of a thread of execution, each of the following is termed
an <a class='hidden_link' href='#def:execution_step' id='def:execution_step'><i >execution step</i></a>:
<ul class='itemize'><li id='intro.progress-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.progress-3.1'>(3.1)</a></div><div id='intro.progress-3.1.sentence-1' class='sentence'>termination of the thread of execution,</div></li><li id='intro.progress-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.progress-3.2'>(3.2)</a></div><div id='intro.progress-3.2.sentence-1' class='sentence'>performing an access through a volatile glvalue, or</div></li><li id='intro.progress-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#intro.progress-3.3'>(3.3)</a></div><div id='intro.progress-3.3.sentence-1' class='sentence'>completion of a call to a library I/O function, a
      synchronization operation, or an atomic operation<a class='hidden_link' href='#intro.progress-3.3.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='intro.progress-4'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5380'>#</a></div><div id='intro.progress-4.sentence-1' class='sentence'>An invocation of a standard library function that blocks (<a href='defns.block'>[defns.block]</a>)
is considered to continuously execute execution steps while waiting for the
condition that it blocks on to be satisfied<a class='hidden_link' href='#intro.progress-4.sentence-1'>.</a></div> <div id='intro.progress-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#intro.progress-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='intro.progress-4.sentence-2' class='sentence'>A library I/O function that blocks until the I/O operation is complete can
be considered to continuously check whether the operation is complete<a class='hidden_link' href='#intro.progress-4.sentence-2'>.</a></div> <div id='intro.progress-4.sentence-3' class='sentence'>Each
such check might consist of one or more execution steps, for example using
observable behavior of the abstract machine<a class='hidden_link' href='#intro.progress-4.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.progress-5'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5391'>#</a></div><div id='intro.progress-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.progress-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.progress-5.sentence-1' class='sentence'>Because of this and the preceding requirement regarding what threads of execution
have to perform eventually, it follows that no thread of execution can execute
forever without an execution step occurring<a class='hidden_link' href='#intro.progress-5.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.progress-6'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5398'>#</a></div><div id='intro.progress-6.sentence-1' class='sentence'>A thread of execution <a class='hidden_link' href='#def:make_progress,thread' id='def:make_progress,thread'><i >makes progress</i></a>
when an execution step occurs or a
lock-free execution does not complete because there are other concurrent threads
that are not blocked in a standard library function (see above)<a class='hidden_link' href='#intro.progress-6.sentence-1'>.</a></div></div><div class='para' id='intro.progress-7'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5404'>#</a></div><div id='intro.progress-7.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':forward_progress_guarantees,concurrent'></a></span>For a thread of execution providing <a class='hidden_link' href='#def:concurrent_forward_progress_guarantees' id='def:concurrent_forward_progress_guarantees'><i >concurrent forward progress guarantees</i></a>,
the implementation ensures that the thread will eventually make progress for as
long as it has not terminated<a class='hidden_link' href='#intro.progress-7.sentence-1'>.</a></div> <div id='intro.progress-7.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.progress-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.progress-7.sentence-2' class='sentence'>This is required regardless of whether or not other threads of executions (if any)
have been or are making progress<a class='hidden_link' href='#intro.progress-7.sentence-2'>.</a></div> <div id='intro.progress-7.sentence-3' class='sentence'>To eventually fulfill this requirement means that
this will happen in an unspecified but finite amount of time<a class='hidden_link' href='#intro.progress-7.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.progress-8'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5415'>#</a></div><div id='intro.progress-8.sentence-1' class='sentence'>It is <span class='indexparent'><a class='index' id=':whether_the_thread_that_executes_main_and_the_threads_created_by_std::thread_provide_concurrent_forward_progress_guarantees'></a></span>implementation-defined whether the
implementation-created thread of execution that executes
<span class='texttt'>main</span> (<a href='#start.main'>[basic.start.main]</a>) and the threads of execution created by
<span class='texttt'>std&#x200b;::&#x200b;thread</span> (<a href='thread.thread.class'>[thread.thread.class]</a>) provide concurrent forward progress
guarantees<a class='hidden_link' href='#intro.progress-8.sentence-1'>.</a></div> <div id='intro.progress-8.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.progress-8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.progress-8.sentence-2' class='sentence'>General-purpose implementations should provide these guarantees<a class='hidden_link' href='#intro.progress-8.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.progress-9'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5426'>#</a></div><div id='intro.progress-9.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':forward_progress_guarantees,parallel'></a></span>For a thread of execution providing <a class='hidden_link' href='#def:parallel_forward_progress_guarantees' id='def:parallel_forward_progress_guarantees'><i >parallel forward progress guarantees</i></a>,
the implementation is not required to ensure that the thread will eventually make
progress if it has not yet executed any execution step; once this thread has
executed a step, it provides concurrent forward progress guarantees<a class='hidden_link' href='#intro.progress-9.sentence-1'>.</a></div></div><div class='para' id='intro.progress-10'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5433'>#</a></div><div id='intro.progress-10.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.progress-10.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.progress-10.sentence-1' class='sentence'>This does not specify a requirement for when to start this thread of execution,
which will typically be specified by the entity that creates this thread of
execution<a class='hidden_link' href='#intro.progress-10.sentence-1'>.</a></div> <div id='intro.progress-10.sentence-2' class='sentence'>For example, a thread of execution that provides concurrent forward
progress guarantees and executes tasks from a set of tasks in an arbitrary order,
one after the other, satisfies the requirements of parallel forward progress for
these tasks<a class='hidden_link' href='#intro.progress-10.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.progress-11'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5443'>#</a></div><div id='intro.progress-11.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':forward_progress_guarantees,weakly_parallel'></a></span>For a thread of execution providing <a class='hidden_link' href='#def:weakly_parallel_forward_progress_guarantees' id='def:weakly_parallel_forward_progress_guarantees'><i >weakly parallel forward progress
guarantees</i></a>, the implementation does not ensure that the thread will eventually
make progress<a class='hidden_link' href='#intro.progress-11.sentence-1'>.</a></div></div><div class='para' id='intro.progress-12'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5449'>#</a></div><div id='intro.progress-12.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.progress-12.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.progress-12.sentence-1' class='sentence'>Threads of execution providing weakly parallel forward progress guarantees cannot
be expected to make progress regardless of whether other threads make progress or
not; however, blocking with forward progress guarantee delegation, as defined below,
can be used to ensure that such threads of execution make progress eventually<a class='hidden_link' href='#intro.progress-12.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.progress-13'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5457'>#</a></div><div id='intro.progress-13.sentence-1' class='sentence'>Concurrent forward progress guarantees are stronger than parallel forward progress
guarantees, which in turn are stronger than weakly parallel forward progress
guarantees<a class='hidden_link' href='#intro.progress-13.sentence-1'>.</a></div> <div id='intro.progress-13.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.progress-13.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.progress-13.sentence-2' class='sentence'>For example, some kinds of synchronization between threads of execution may only
make progress if the respective threads of execution provide parallel forward progress
guarantees, but will fail to make progress under weakly parallel guarantees<a class='hidden_link' href='#intro.progress-13.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.progress-14'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5467'>#</a></div><div id='intro.progress-14.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':forward_progress_guarantees,delegation_of'></a></span>When a thread of execution <span class='textit'>P</span> is specified to <a class='hidden_link' href='#def:block_with_forward_progress_guarantee_delegation' id='def:block_with_forward_progress_guarantee_delegation'><i >block with forward
progress guarantee delegation</i></a> on the completion of a set <span class='textit'>S</span> of threads
of execution, then throughout the whole time of <span class='textit'>P</span> being blocked on
<span class='textit'>S</span>, the implementation shall ensure that the forward progress guarantees
provided by at least one thread of execution in <span class='textit'>S</span> is at least as strong
as <span class='textit'>P</span>'s forward progress guarantees<a class='hidden_link' href='#intro.progress-14.sentence-1'>.</a></div> <div id='intro.progress-14.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.progress-14.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.progress-14.sentence-2' class='sentence'>It is unspecified which thread or threads of execution in <span class='textit'>S</span> are chosen
and for which number of execution steps<a class='hidden_link' href='#intro.progress-14.sentence-2'>.</a></div> <div id='intro.progress-14.sentence-3' class='sentence'>The strengthening is not permanent and
not necessarily in place for the rest of the lifetime of the affected thread of
execution<a class='hidden_link' href='#intro.progress-14.sentence-3'>.</a></div> <div id='intro.progress-14.sentence-4' class='sentence'>As long as <span class='textit'>P</span> is blocked, the implementation has to eventually
select and potentially strengthen a thread of execution in <span class='textit'>S</span><a class='hidden_link' href='#intro.progress-14.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='intro.progress-14.sentence-5' class='sentence'>
Once a thread of execution in <span class='textit'>S</span> terminates, it is removed from <span class='textit'>S</span><a class='hidden_link' href='#intro.progress-14.sentence-5'>.</a></div> <div id='intro.progress-14.sentence-6' class='sentence'>Once <span class='textit'>S</span> is empty, <span class='textit'>P</span> is unblocked<a class='hidden_link' href='#intro.progress-14.sentence-6'>.</a></div></div><div class='para' id='intro.progress-15'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5485'>#</a></div><div id='intro.progress-15.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.progress-15.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.progress-15.sentence-1' class='sentence'>A thread of execution <span class='textit'>B</span> thus can temporarily provide an effectively
stronger forward progress guarantee for a certain amount of time, due to a
second thread of execution <span class='textit'>A</span> being blocked on it with forward
progress guarantee delegation<a class='hidden_link' href='#intro.progress-15.sentence-1'>.</a></div> <div id='intro.progress-15.sentence-2' class='sentence'>In turn, if <span class='textit'>B</span> then blocks with
forward progress guarantee delegation on <span class='textit'>C</span>, this may also temporarily
provide a stronger forward progress guarantee to <span class='textit'>C</span><a class='hidden_link' href='#intro.progress-15.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.progress-16'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5495'>#</a></div><div id='intro.progress-16.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.progress-16.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.progress-16.sentence-1' class='sentence'>If all threads of execution in <span class='textit'>S</span> finish executing (e.g., they terminate
and do not use blocking synchronization incorrectly), then <span class='textit'>P</span>'s execution
of the operation that blocks with forward progress guarantee delegation will not
result in <span class='textit'>P</span>'s progress guarantee being effectively weakened<a class='hidden_link' href='#intro.progress-16.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.progress-17'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5503'>#</a></div><div id='intro.progress-17.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#intro.progress-17.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='intro.progress-17.sentence-1' class='sentence'>This does not remove any constraints regarding blocking synchronization for
threads of execution providing parallel or weakly parallel forward progress
guarantees because the implementation is not required to strengthen a particular
thread of execution whose too-weak progress guarantee is preventing overall progress<a class='hidden_link' href='#intro.progress-17.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='intro.progress-18'><div class='marginalizedparent'><a class='marginalized' href='#intro.progress-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5511'>#</a></div><div id='intro.progress-18.sentence-1' class='sentence'>An implementation should ensure that the last value (in modification order)
assigned by an atomic or synchronization operation will become visible to all
other threads in a finite period of time<a class='hidden_link' href='#intro.progress-18.sentence-1'>.</a></div> </div></div></div><div id='start' class='section'><h3 ><a class='secnum' href='#start' style='min-width:103pt'>6.8.3</a> Start and termination <a class='abbr_ref' href='basic.start'>[basic.start]</a></h3><div id='start.main' class='section'><h4 ><a class='secnum' href='#start.main' style='min-width:118pt'>6.8.3.1</a> <span class='texttt'>main</span> function <a class='abbr_ref' href='basic.start.main'>[basic.start.main]</a></h4><span class='indexparent'><a class='index' id=':main_function'></a></span><div class='para' id='start.main-1'><div class='marginalizedparent'><a class='marginalized' href='#start.main-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5523'>#</a></div><div id='start.main-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':program,start'></a></span>A program shall contain a global function called <span class='texttt'>main</span><a class='hidden_link' href='#start.main-1.sentence-1'>.</a></div> <div id='start.main-1.sentence-2' class='sentence'>Executing a program starts a main thread of execution (<a href='#intro.multithread'>[intro.multithread]</a>, <a href='thread.threads'>[thread.threads]</a>)
in which the <span class='texttt'>main</span> function is invoked,
and in which variables of static storage duration
might be initialized (<a href='#start.static'>[basic.start.static]</a>) and destroyed (<a href='#start.term'>[basic.start.term]</a>)<a class='hidden_link' href='#start.main-1.sentence-2'>.</a></div> <div id='start.main-1.sentence-3' class='sentence'>It is <span class='indexparent'><a class='index' id=':defining_main_in_freestanding_environment'></a></span>implementation-defined
whether a program in a freestanding environment is required to define a <span class='texttt'>main</span>
function<a class='hidden_link' href='#start.main-1.sentence-3'>.</a></div> <div id='start.main-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#start.main-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='start.main-1.sentence-4' class='sentence'>In a freestanding environment, start-up and termination is
<span class='indexparent'><a class='index' id=':start-up_and_termination_in_freestanding_environment'></a></span>implementation-defined; start-up contains the
execution of constructors for objects of namespace scope with static storage duration;
termination contains the execution of destructors for objects with static storage
duration<a class='hidden_link' href='#start.main-1.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='start.main-2'><div class='marginalizedparent'><a class='marginalized' href='#start.main-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5538'>#</a></div><div id='start.main-2.sentence-1' class='sentence'>An implementation shall not predefine the <span class='texttt'>main</span> function<a class='hidden_link' href='#start.main-2.sentence-1'>.</a></div> <div id='start.main-2.sentence-2' class='sentence'>This
function shall not be overloaded<a class='hidden_link' href='#start.main-2.sentence-2'>.</a></div> <div id='start.main-2.sentence-3' class='sentence'>Its type shall have C++ language linkage
and it shall have a declared return type of type
<span class='texttt'>int</span>, but otherwise its type is <span class='indexparent'><a class='index' id=':parameters_to_main'></a></span>implementation-defined<a class='hidden_link' href='#start.main-2.sentence-3'>.</a></div> <div id='start.main-2.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':main_function,implementation-defined_parameters_to'></a></span>An implementation shall allow both
<ul class='itemize'><li id='start.main-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#start.main-2.1'>(2.1)</a></div><div id='start.main-2.1.sentence-1' class='sentence'>a function of <span class='texttt'>()</span> returning <span class='texttt'>int</span> and</div></li><li id='start.main-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#start.main-2.2'>(2.2)</a></div><div id='start.main-2.2.sentence-1' class='sentence'>a function of <span class='texttt'>(int</span>, pointer to pointer to <span class='texttt'>char)</span> returning <span class='texttt'>int</span></div></li></ul></div><div id='start.main-2.sentence-5' class='sentence'><span class='indexparent'><a class='index' id=':argc'></a></span><span class='indexparent'><a class='index' id=':argv'></a></span>as the type of <span class='texttt'>main</span> (<a href='dcl.fct'>[dcl.fct]</a>)<a class='hidden_link' href='#start.main-2.sentence-5'>.</a></div> <div id='start.main-2.sentence-6' class='sentence'><span class='indexparent'><a class='index' id=':main_function,parameters_to'></a></span><span class='indexparent'><a class='index' id=':environment,program'></a></span>In the latter form, for purposes of exposition, the first function
parameter is called <span class='texttt'>argc</span> and the second function parameter is
called <span class='texttt'>argv</span>, where <span class='texttt'>argc</span> shall be the number of
arguments passed to the program from the environment in which the
program is run<a class='hidden_link' href='#start.main-2.sentence-6'>.</a></div> <div id='start.main-2.sentence-7' class='sentence'>If
<span class='texttt'>argc</span> is nonzero these arguments shall be supplied in
<span class='texttt'>argv[0]</span> through <span class='texttt'>argv[argc-1]</span> as pointers to the initial
characters of null-terminated multibyte strings (<span class='textsc'>ntmbs</span>s) (<a href='multibyte.strings'>[multibyte.strings]</a>)
and <span class='texttt'>argv[0]</span> shall be the pointer to
the initial character of a <span class='textsc'>ntmbs</span> that represents the name used to
invoke the program or <span class='texttt'>""</span><a class='hidden_link' href='#start.main-2.sentence-7'>.</a></div> <div id='start.main-2.sentence-8' class='sentence'>The value of <span class='texttt'>argc</span> shall be
non-negative<a class='hidden_link' href='#start.main-2.sentence-8'>.</a></div> <div id='start.main-2.sentence-9' class='sentence'>The value of <span class='texttt'>argv[argc]</span> shall be 0<a class='hidden_link' href='#start.main-2.sentence-9'>.</a></div> <div id='start.main-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#start.main-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='start.main-2.sentence-10' class='sentence'>It
is recommended that any further (optional) parameters be added after
<span class='texttt'>argv</span><a class='hidden_link' href='#start.main-2.sentence-10'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='start.main-3'><div class='marginalizedparent'><a class='marginalized' href='#start.main-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5570'>#</a></div><div id='start.main-3.sentence-1' class='sentence'>The function <span class='texttt'>main</span> shall not be used within
a program<a class='hidden_link' href='#start.main-3.sentence-1'>.</a></div> <div id='start.main-3.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':main_function,implementation-defined_linkage_of'></a></span>The linkage (<a href='#link'>[basic.link]</a>) of <span class='texttt'>main</span> is
<span class='indexparent'><a class='index' id=':linkage_of_main'></a></span>implementation-defined<a class='hidden_link' href='#start.main-3.sentence-2'>.</a></div> <div id='start.main-3.sentence-3' class='sentence'>A program that defines <span class='texttt'>main</span> as
deleted or that declares <span class='texttt'>main</span> to be
<span class='texttt'>inline</span>, <span class='texttt'>static</span>, or <span class='texttt'>constexpr</span> is ill-formed<a class='hidden_link' href='#start.main-3.sentence-3'>.</a></div> <div id='start.main-3.sentence-4' class='sentence'>The <span class='texttt'>main</span> function shall not be declared with a
<i ><a href='dcl.link#nt:linkage-specification'>linkage-specification</a></i><a class='hidden_link' href='#start.main-3.sentence-4'>.</a></div> <div id='start.main-3.sentence-5' class='sentence'>A program that
declares a variable <span class='texttt'>main</span> at global scope or that declares the name
<span class='texttt'>main</span> with C language linkage (in any namespace) is ill-formed<a class='hidden_link' href='#start.main-3.sentence-5'>.</a></div> <div id='start.main-3.sentence-6' class='sentence'>The name <span class='texttt'>main</span> is
not otherwise reserved<a class='hidden_link' href='#start.main-3.sentence-6'>.</a></div> <div id='start.main-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#start.main-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='start.main-3.sentence-7' class='sentence'>Member functions, classes, and
enumerations can be called <span class='texttt'>main</span>, as can entities in other
namespaces<a class='hidden_link' href='#start.main-3.sentence-7'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='start.main-4'><div class='marginalizedparent'><a class='marginalized' href='#start.main-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5587'>#</a></div><div id='start.main-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':exit'></a></span><span class='indexparent'><a class='index' id='lib:exit'></a></span><span class='indexparent'><a class='index' id=':termination,program'></a></span>Terminating the program
without leaving the current block (e.g., by calling the function
<span class='texttt'>std&#x200b;::&#x200b;exit(int)</span> (<a href='support.start.term'>[support.start.term]</a>)) does not destroy any
objects with automatic storage duration (<a href='class.dtor'>[class.dtor]</a>)<a class='hidden_link' href='#start.main-4.sentence-1'>.</a></div> <div id='start.main-4.sentence-2' class='sentence'>If
<span class='texttt'>std&#x200b;::&#x200b;exit</span> is called to end a program during the destruction of
an object with static or thread storage duration, the program has undefined
behavior<a class='hidden_link' href='#start.main-4.sentence-2'>.</a></div></div><div class='para' id='start.main-5'><div class='marginalizedparent'><a class='marginalized' href='#start.main-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5599'>#</a></div><div id='start.main-5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':termination,program_'></a></span><span class='indexparent'><a class='index' id=':main_function,return_from'></a></span>A <span class='texttt'>return</span> statement (<a href='stmt.return'>[stmt.return]</a>) in <span class='texttt'>main</span> has the effect of leaving the main
function (destroying any objects with automatic storage duration) and
calling <span class='texttt'>std&#x200b;::&#x200b;exit</span> with the return value as the argument<a class='hidden_link' href='#start.main-5.sentence-1'>.</a></div> <div id='start.main-5.sentence-2' class='sentence'>If control flows off the end of
the <i ><a href='stmt.block#nt:compound-statement'>compound-statement</a></i> of <span class='texttt'>main</span>,
the effect is equivalent to a <span class='texttt'>return</span> with operand <span class='texttt'>0</span>
(see also <a href='except.handle'>[except.handle]</a>)<a class='hidden_link' href='#start.main-5.sentence-2'>.</a></div> </div></div><div id='start.static' class='section'><h4 ><a class='secnum' href='#start.static' style='min-width:118pt'>6.8.3.2</a> Static initialization <a class='abbr_ref' href='basic.start.static'>[basic.start.static]</a></h4><div class='para' id='start.static-1'><div class='marginalizedparent'><a class='marginalized' href='#start.static-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5613'>#</a></div><div id='start.static-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':initialization'></a></span><span class='indexparent'><a class='index' id=':initialization,static_and_thread'></a></span>Variables with static storage duration
are initialized as a consequence of program initiation<a class='hidden_link' href='#start.static-1.sentence-1'>.</a></div> <div id='start.static-1.sentence-2' class='sentence'>Variables with
thread storage duration are initialized as a consequence of thread execution<a class='hidden_link' href='#start.static-1.sentence-2'>.</a></div> <div id='start.static-1.sentence-3' class='sentence'>Within each of these phases of initiation, initialization occurs as follows<a class='hidden_link' href='#start.static-1.sentence-3'>.</a></div></div><div class='para' id='start.static-2'><div class='marginalizedparent'><a class='marginalized' href='#start.static-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5621'>#</a></div><div id='start.static-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':initialization,static_object'></a></span><span class='indexparent'><a class='index' id=':initialization,constant'></a></span>A <a class='hidden_link' href='#def:constant_initializer' id='def:constant_initializer'><i >constant initializer</i></a> for a variable or temporary object <span class='texttt'>o</span>
is an initializer whose full-expression is a
constant expression, except that if <span class='texttt'>o</span> is an object,
such an initializer may also invoke constexpr constructors
for <span class='texttt'>o</span> and its subobjects even if those objects are of non-literal class
types<a class='hidden_link' href='#start.static-2.sentence-1'>.</a></div> <div id='start.static-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#start.static-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='start.static-2.sentence-2' class='sentence'>Such a class may have a non-trivial destructor<a class='hidden_link' href='#start.static-2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='start.static-2.sentence-3' class='sentence'><a class='hidden_link' href='#def:constant_initialization' id='def:constant_initialization'><i >Constant initialization</i></a> is performed
if a variable or temporary object with static or thread storage duration
is initialized by a constant initializer for the entity<a class='hidden_link' href='#start.static-2.sentence-3'>.</a></div> <div id='start.static-2.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':initialization,runtime'></a></span>If constant initialization is not performed, a variable with static
storage duration (<a href='#stc.static'>[basic.stc.static]</a>) or thread storage
duration (<a href='#stc.thread'>[basic.stc.thread]</a>) is zero-initialized (<a href='dcl.init'>[dcl.init]</a>)<a class='hidden_link' href='#start.static-2.sentence-4'>.</a></div> <div id='start.static-2.sentence-5' class='sentence'>Together, zero-initialization and constant initialization are called
<span class='indexparent'><a class='index' id=':initialization,dynamic'></a></span><a class='hidden_link' href='#def:static_initialization' id='def:static_initialization'><i >static initialization</i></a>;
all other initialization is <a class='hidden_link' href='#def:dynamic_initialization' id='def:dynamic_initialization'><i >dynamic initialization</i></a><a class='hidden_link' href='#start.static-2.sentence-5'>.</a></div> <div id='start.static-2.sentence-6' class='sentence'>All static initialization strongly happens before (<a href='#intro.races'>[intro.races]</a>)
any dynamic initialization<a class='hidden_link' href='#start.static-2.sentence-6'>.</a></div> <div id='start.static-2.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#start.static-2.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='start.static-2.sentence-7' class='sentence'>The dynamic initialization of non-local variables is described
in <a href='#start.dynamic'>[basic.start.dynamic]</a>; that of local static variables is described
in <a href='stmt.dcl'>[stmt.dcl]</a><a class='hidden_link' href='#start.static-2.sentence-7'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='start.static-3'><div class='marginalizedparent'><a class='marginalized' href='#start.static-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5647'>#</a></div><div id='start.static-3.sentence-1' class='sentence'>An implementation is permitted to perform the initialization of a
variable with static or thread storage duration as a static
initialization even if such initialization is not required to be done
statically, provided that
<ul class='itemize'><li id='start.static-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#start.static-3.1'>(3.1)</a></div><div id='start.static-3.1.sentence-1' class='sentence'>the dynamic version of the initialization does not change the
value of any other object of static or thread storage duration
prior to its initialization, and</div></li><li id='start.static-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#start.static-3.2'>(3.2)</a></div><div id='start.static-3.2.sentence-1' class='sentence'>the static version of the initialization produces the same value
in the initialized variable as would be produced by the dynamic
initialization if all variables not required to be initialized statically
were initialized dynamically<a class='hidden_link' href='#start.static-3.2.sentence-1'>.</a></div></li></ul></div> <div id='start.static-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#start.static-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='start.static-3.sentence-2' class='sentence'>As a consequence, if the initialization of an object <span class='texttt'>obj1</span> refers to an
object <span class='texttt'>obj2</span> of namespace scope potentially requiring dynamic initialization and defined
later in the same translation unit, it is unspecified whether the value of <span class='texttt'>obj2</span> used
will be the value of the fully initialized <span class='texttt'>obj2</span> (because <span class='texttt'>obj2</span> was statically
initialized) or will be the value of <span class='texttt'>obj2</span> merely zero-initialized<a class='hidden_link' href='#start.static-3.sentence-2'>.</a></div> <div id='start.static-3.sentence-3' class='sentence'>For example,
<pre class='codeblock'>
inline double fd() { return 1.0; }
extern double d1;
double d2 = d1;     <span class='comment'>// unspecified:
</span>                    <span class='comment'>// may be statically initialized to <span class='tcode_in_codeblock'>0.0</span> or
</span>                    <span class='comment'>// dynamically initialized to <span class='tcode_in_codeblock'>0.0</span> if <span class='tcode_in_codeblock'>d1</span> is
</span>                    <span class='comment'>// dynamically initialized, or <span class='tcode_in_codeblock'>1.0</span> otherwise
</span>double d1 = fd();   <span class='comment'>// may be initialized statically or dynamically to <span class='tcode_in_codeblock'>1.0</span>
</span></pre></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='start.dynamic' class='section'><h4 ><a class='secnum' href='#start.dynamic' style='min-width:118pt'>6.8.3.3</a> Dynamic initialization of non-local variables <a class='abbr_ref' href='basic.start.dynamic'>[basic.start.dynamic]</a></h4><div class='para' id='start.dynamic-1'><div class='marginalizedparent'><a class='marginalized' href='#start.dynamic-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5683'>#</a></div><div id='start.dynamic-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':initialization,dynamic_non-local'></a></span><span class='indexparent'><a class='index' id=':start,program'></a></span><span class='indexparent'><a class='index' id=':initialization,order_of'></a></span>Dynamic initialization of a non-local variable with static storage duration is
unordered if the variable is an implicitly or explicitly instantiated
specialization, is partially-ordered if the variable
is an inline variable that is not an implicitly or explicitly instantiated
specialization, and otherwise is ordered<a class='hidden_link' href='#start.dynamic-1.sentence-1'>.</a></div> <div id='start.dynamic-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#start.dynamic-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='start.dynamic-1.sentence-2' class='sentence'>An explicitly specialized non-inline static data member or
variable template specialization has ordered initialization<a class='hidden_link' href='#start.dynamic-1.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='start.dynamic-2'><div class='marginalizedparent'><a class='marginalized' href='#start.dynamic-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5695'>#</a></div><div id='start.dynamic-2.sentence-1' class='sentence'>Dynamic initialization of non-local variables <span class='texttt'>V</span> and <span class='texttt'>W</span>
with static storage duration are ordered as follows:
<ul class='itemize'><li id='start.dynamic-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#start.dynamic-2.1'>(2.1)</a></div><div id='start.dynamic-2.1.sentence-1' class='sentence'>If <span class='texttt'>V</span> and <span class='texttt'>W</span> have
ordered initialization and <span class='texttt'>V</span> is defined before <span class='texttt'>W</span> within
a single translation unit, the initialization of <span class='texttt'>V</span> is sequenced
before the initialization of <span class='texttt'>W</span><a class='hidden_link' href='#start.dynamic-2.1.sentence-1'>.</a></div></li><li id='start.dynamic-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#start.dynamic-2.2'>(2.2)</a></div><div id='start.dynamic-2.2.sentence-1' class='sentence'>If <span class='texttt'>V</span> has partially-ordered initialization, <span class='texttt'>W</span> does not have
unordered initialization, and <span class='texttt'>V</span> is defined before <span class='texttt'>W</span> in
every translation unit in which <span class='texttt'>W</span> is defined, then
<ul class='itemize'><li id='start.dynamic-2.2.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#start.dynamic-2.2.1'>(2.2.1)</a></div><div id='start.dynamic-2.2.1.sentence-1' class='sentence'>if the program starts a thread (<a href='#intro.multithread'>[intro.multithread]</a>)
other than the main thread (<a href='#start.main'>[basic.start.main]</a>),
the initialization of <span class='texttt'>V</span>
strongly happens before
the initialization of <span class='texttt'>W</span>;</div></li><li id='start.dynamic-2.2.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#start.dynamic-2.2.2'>(2.2.2)</a></div><div id='start.dynamic-2.2.2.sentence-1' class='sentence'>otherwise,
the initialization of <span class='texttt'>V</span>
is sequenced before
the initialization of <span class='texttt'>W</span><a class='hidden_link' href='#start.dynamic-2.2.2.sentence-1'>.</a></div></li></ul></div></li><li id='start.dynamic-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#start.dynamic-2.3'>(2.3)</a></div><div id='start.dynamic-2.3.sentence-1' class='sentence'>Otherwise, if the program starts a thread
other than the main thread
before either <span class='texttt'>V</span> or <span class='texttt'>W</span> is initialized,
it is unspecified in which threads
the initializations of <span class='texttt'>V</span> and <span class='texttt'>W</span> occur;
the initializations are unsequenced if they occur in the same thread<a class='hidden_link' href='#start.dynamic-2.3.sentence-1'>.</a></div></li><li id='start.dynamic-2.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#start.dynamic-2.4'>(2.4)</a></div><div id='start.dynamic-2.4.sentence-1' class='sentence'>Otherwise, the initializations of <span class='texttt'>V</span> and <span class='texttt'>W</span> are indeterminately sequenced<a class='hidden_link' href='#start.dynamic-2.4.sentence-1'>.</a></div></li></ul></div> <div id='start.dynamic-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#start.dynamic-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='start.dynamic-2.sentence-2' class='sentence'>This definition permits initialization of a sequence of
ordered variables concurrently with another sequence<a class='hidden_link' href='#start.dynamic-2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='start.dynamic-3'><div class='marginalizedparent'><a class='marginalized' href='#start.dynamic-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5739'>#</a></div><div id='start.dynamic-3.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:odr-use,non-initialization' id='def:odr-use,non-initialization'><i >non-initialization odr-use</i></a>
is an odr-use (<a href='#def.odr'>[basic.def.odr]</a>) not caused directly or indirectly by
the initialization of a non-local static or thread storage duration variable<a class='hidden_link' href='#start.dynamic-3.sentence-1'>.</a></div></div><div class='para' id='start.dynamic-4'><div class='marginalizedparent'><a class='marginalized' href='#start.dynamic-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5745'>#</a></div><div id='start.dynamic-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':evaluation,unspecified_order_of_'></a></span>It is <span class='indexparent'><a class='index' id=':dynamic_initialization_of_static_variables_before_main'></a></span>implementation-defined
whether the dynamic initialization of a
non-local non-inline variable with static storage duration
is sequenced before the first statement of <span class='texttt'>main</span> or is deferred<a class='hidden_link' href='#start.dynamic-4.sentence-1'>.</a></div> <div id='start.dynamic-4.sentence-2' class='sentence'>If it is deferred, it strongly happens before
any non-initialization odr-use
of any non-inline function or non-inline variable
defined in the same translation unit as the variable to be initialized<a class='hidden_link' href='#start.dynamic-4.sentence-2'>.</a><a class='footnotenum' href='#footnote-54'>54</a></div> <div id='start.dynamic-4.sentence-3' class='sentence'>
It is <span class='indexparent'><a class='index' id=':threads_and_program_points_at_which_deferred_dynamic_initialization_is_performed'></a></span>implementation-defined
in which threads and at which points in the program such deferred dynamic initialization occurs<a class='hidden_link' href='#start.dynamic-4.sentence-3'>.</a></div> <div id='start.dynamic-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#start.dynamic-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='start.dynamic-4.sentence-4' class='sentence'>Such points should be chosen in a way that allows the programmer to avoid deadlocks<a class='hidden_link' href='#start.dynamic-4.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='start.dynamic-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#start.dynamic-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='comment'>// - File 1 -
</span>#include "a.h"
#include "b.h"
B b;
A::A(){
  b.Use();
}

<span class='comment'>// - File 2 -
</span>#include "a.h"
A a;

<span class='comment'>// - File 3 -
</span>#include "a.h"
#include "b.h"
extern A a;
extern B b;

int main() {
  a.Use();
  b.Use();
}</pre><div id='start.dynamic-4.sentence-5' class='sentence'>It is <span class='indexparent'><a class='index' id=':dynamic_initialization_of_static_variables_before_main_'></a></span>implementation-defined
whether either <span class='texttt'>a</span> or <span class='texttt'>b</span> is
initialized before <span class='texttt'>main</span> is entered or whether the
initializations are delayed until <span class='texttt'>a</span> is first odr-used in
<span class='texttt'>main</span><a class='hidden_link' href='#start.dynamic-4.sentence-5'>.</a></div> <div id='start.dynamic-4.sentence-6' class='sentence'>In particular, if <span class='texttt'>a</span> is initialized before
<span class='texttt'>main</span> is entered, it is not guaranteed that <span class='texttt'>b</span> will be
initialized before it is odr-used by the initialization of <span class='texttt'>a</span>, that
is, before <span class='texttt'>A&#x200b;::&#x200b;A</span> is called<a class='hidden_link' href='#start.dynamic-4.sentence-6'>.</a></div> <div id='start.dynamic-4.sentence-7' class='sentence'>If, however, <span class='texttt'>a</span> is initialized
at some point after the first statement of <span class='texttt'>main</span>, <span class='texttt'>b</span> will
be initialized prior to its use in <span class='texttt'>A&#x200b;::&#x200b;A</span><a class='hidden_link' href='#start.dynamic-4.sentence-7'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='start.dynamic-5'><div class='marginalizedparent'><a class='marginalized' href='#start.dynamic-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5801'>#</a></div><div id='start.dynamic-5.sentence-1' class='sentence'>It is <span class='indexparent'><a class='index' id=':dynamic_initialization_of_static_inline_variables_before_main'></a></span>implementation-defined
whether the dynamic initialization of a
non-local inline variable with static storage duration
is sequenced before the first statement of <span class='texttt'>main</span> or is deferred<a class='hidden_link' href='#start.dynamic-5.sentence-1'>.</a></div> <div id='start.dynamic-5.sentence-2' class='sentence'>If it is deferred, it strongly happens before
any non-initialization odr-use
of that variable<a class='hidden_link' href='#start.dynamic-5.sentence-2'>.</a></div> <div id='start.dynamic-5.sentence-3' class='sentence'>It is <span class='indexparent'><a class='index' id=':threads_and_program_points_at_which_deferred_dynamic_initialization_is_performed_'></a></span>implementation-defined
in which threads and at which points in the program such deferred dynamic initialization occurs<a class='hidden_link' href='#start.dynamic-5.sentence-3'>.</a></div></div><div class='para' id='start.dynamic-6'><div class='marginalizedparent'><a class='marginalized' href='#start.dynamic-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5812'>#</a></div><div id='start.dynamic-6.sentence-1' class='sentence'>It is <span class='indexparent'><a class='index' id=':dynamic_initialization_of_thread-local_variables_before_entry'></a></span>implementation-defined
whether the dynamic initialization of a
non-local non-inline variable with thread storage duration
is sequenced before the first statement of the initial function of a thread or is deferred<a class='hidden_link' href='#start.dynamic-6.sentence-1'>.</a></div> <div id='start.dynamic-6.sentence-2' class='sentence'>If it is deferred,
the initialization associated with the entity for thread <span class='textit'>t</span>
is sequenced before the first non-initialization odr-use by <span class='textit'>t</span>
of any non-inline variable with thread storage duration
defined in the same translation unit as the variable to be initialized<a class='hidden_link' href='#start.dynamic-6.sentence-2'>.</a></div> <div id='start.dynamic-6.sentence-3' class='sentence'>It is <span class='indexparent'><a class='index' id=':threads_and_program_points_at_which_deferred_dynamic_initialization_is_performed__'></a></span>implementation-defined
in which threads and at which points in the program such deferred dynamic initialization occurs<a class='hidden_link' href='#start.dynamic-6.sentence-3'>.</a></div></div><div class='para' id='start.dynamic-7'><div class='marginalizedparent'><a class='marginalized' href='#start.dynamic-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5825'>#</a></div><div id='start.dynamic-7.sentence-1' class='sentence'>If the initialization of
a non-local variable with static or thread storage duration
exits via an exception,
the function <span class='texttt'>std&#x200b;::&#x200b;terminate</span> is called (<a href='except.terminate'>[except.terminate]</a>)<a class='hidden_link' href='#start.dynamic-7.sentence-1'>.</a></div> </div><div class='footnote' id='footnote-54'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-54'>54)</a></div><div id='footnote-54.sentence-1' class='sentence'>A non-local variable with static storage duration
having initialization
with side effects is initialized in this case,
even if it is not itself odr-used (<a href='#def.odr'>[basic.def.odr]</a>, <a href='#stc.static'>[basic.stc.static]</a>)<a class='hidden_link' href='#footnote-54.sentence-1'>.</a></div></div></div><div id='start.term' class='section'><h4 ><a class='secnum' href='#start.term' style='min-width:118pt'>6.8.3.4</a> Termination <a class='abbr_ref' href='basic.start.term'>[basic.start.term]</a></h4><div class='para' id='start.term-1'><div class='marginalizedparent'><a class='marginalized' href='#start.term-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5834'>#</a></div><div id='start.term-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':program,termination'></a></span><span class='indexparent'><a class='index' id=':object,destructor_static'></a></span><span class='indexparent'><a class='index' id=':main_function,return_from_'></a></span>Destructors (<a href='class.dtor'>[class.dtor]</a>) for initialized objects
(that is, objects whose lifetime (<a href='#life'>[basic.life]</a>) has begun)
with static storage duration,
and functions registered with <span class='texttt'>std&#x200b;::&#x200b;atexit</span>,
are called as part of a call to
<span class='indexparent'><a class='index' id=':exit_'></a></span><span class='indexparent'><a class='index' id='lib:exit_'></a></span><span class='texttt'>std&#x200b;::&#x200b;exit</span> (<a href='support.start.term'>[support.start.term]</a>)<a class='hidden_link' href='#start.term-1.sentence-1'>.</a></div> <div id='start.term-1.sentence-2' class='sentence'>The call to <span class='texttt'>std&#x200b;::&#x200b;exit</span> is sequenced before
the invocations of the destructors and the registered functions<a class='hidden_link' href='#start.term-1.sentence-2'>.</a></div> <div id='start.term-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#start.term-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='start.term-1.sentence-3' class='sentence'>Returning from <span class='texttt'>main</span> invokes <span class='texttt'>std&#x200b;::&#x200b;exit</span> (<a href='#start.main'>[basic.start.main]</a>)<a class='hidden_link' href='#start.term-1.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='start.term-2'><div class='marginalizedparent'><a class='marginalized' href='#start.term-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5852'>#</a></div><div id='start.term-2.sentence-1' class='sentence'>Destructors for initialized objects with thread storage duration within a given thread
are called as a result of returning from the initial function of that thread and as a
result of that thread calling <span class='texttt'>std&#x200b;::&#x200b;exit</span><a class='hidden_link' href='#start.term-2.sentence-1'>.</a></div> <div id='start.term-2.sentence-2' class='sentence'>The completions of the destructors for all initialized objects with thread storage
duration within that thread strongly happen before the initiation of the destructors of
any object with static storage duration<a class='hidden_link' href='#start.term-2.sentence-2'>.</a></div></div><div class='para' id='start.term-3'><div class='marginalizedparent'><a class='marginalized' href='#start.term-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5860'>#</a></div><div id='start.term-3.sentence-1' class='sentence'>If the completion of the constructor or dynamic initialization of an object with static
storage duration strongly happens before that of another, the completion of the destructor
of the second is sequenced before the initiation of the destructor of the first<a class='hidden_link' href='#start.term-3.sentence-1'>.</a></div> <div id='start.term-3.sentence-2' class='sentence'>If the completion of the constructor or dynamic initialization of an object with thread
storage duration is sequenced before that of another, the completion of the destructor
of the second is sequenced before the initiation of the destructor of the first<a class='hidden_link' href='#start.term-3.sentence-2'>.</a></div> <div id='start.term-3.sentence-3' class='sentence'>If an object is
initialized statically, the object is destroyed in the same order as if
the object was dynamically initialized<a class='hidden_link' href='#start.term-3.sentence-3'>.</a></div> <div id='start.term-3.sentence-4' class='sentence'>For an object of array or class
type, all subobjects of that object are destroyed before any block-scope
object with static storage duration initialized during the construction
of the subobjects is destroyed<a class='hidden_link' href='#start.term-3.sentence-4'>.</a></div> <div id='start.term-3.sentence-5' class='sentence'>If the destruction of an object with static or thread storage duration
exits via an exception,
the function <span class='texttt'>std&#x200b;::&#x200b;terminate</span> is called (<a href='except.terminate'>[except.terminate]</a>)<a class='hidden_link' href='#start.term-3.sentence-5'>.</a></div></div><div class='para' id='start.term-4'><div class='marginalizedparent'><a class='marginalized' href='#start.term-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5877'>#</a></div><div id='start.term-4.sentence-1' class='sentence'>If a function contains a block-scope object of static or thread storage duration that has been
destroyed and the function is called during the destruction of an object with static or
thread storage duration, the program has undefined behavior if the flow of control
passes through the definition of the previously destroyed block-scope object<a class='hidden_link' href='#start.term-4.sentence-1'>.</a></div> <div id='start.term-4.sentence-2' class='sentence'>Likewise, the
behavior is undefined if the block-scope object is used indirectly (i.e., through a
pointer) after its destruction<a class='hidden_link' href='#start.term-4.sentence-2'>.</a></div></div><div class='para' id='start.term-5'><div class='marginalizedparent'><a class='marginalized' href='#start.term-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5885'>#</a></div><div id='start.term-5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':atexit'></a></span><span class='indexparent'><a class='index' id='lib:atexit'></a></span>If the completion of the initialization of an object with static storage
duration strongly happens before a call to <span class='texttt'>std&#x200b;::&#x200b;atexit</span> (see
<span class='texttt'>&lt;cstdlib&gt;</span>, <a href='support.start.term'>[support.start.term]</a>), the call to the function passed to
<span class='texttt'>std&#x200b;::&#x200b;atexit</span> is sequenced before the call to the destructor for the object<a class='hidden_link' href='#start.term-5.sentence-1'>.</a></div> <div id='start.term-5.sentence-2' class='sentence'>If a
call to <span class='texttt'>std&#x200b;::&#x200b;atexit</span> strongly happens before the completion of the initialization of
an object with static storage duration, the call to the destructor for the
object is sequenced before the call to the function passed to <span class='texttt'>std&#x200b;::&#x200b;atexit</span><a class='hidden_link' href='#start.term-5.sentence-2'>.</a></div> <div id='start.term-5.sentence-3' class='sentence'>If a
call to <span class='texttt'>std&#x200b;::&#x200b;atexit</span> strongly happens before another call to <span class='texttt'>std&#x200b;::&#x200b;atexit</span>, the
call to the function passed to the second <span class='texttt'>std&#x200b;::&#x200b;atexit</span> call is sequenced before
the call to the function passed to the first <span class='texttt'>std&#x200b;::&#x200b;atexit</span> call<a class='hidden_link' href='#start.term-5.sentence-3'>.</a></div></div><div class='para' id='start.term-6'><div class='marginalizedparent'><a class='marginalized' href='#start.term-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5899'>#</a></div><div id='start.term-6.sentence-1' class='sentence'>If there is a use of a standard library object or function not permitted within signal
handlers (<a href='support.runtime'>[support.runtime]</a>) that does not happen before (<a href='#intro.multithread'>[intro.multithread]</a>)
completion of destruction of objects with static storage duration and execution of
<span class='texttt'>std&#x200b;::&#x200b;atexit</span> registered functions (<a href='support.start.term'>[support.start.term]</a>), the program has
undefined behavior<a class='hidden_link' href='#start.term-6.sentence-1'>.</a></div> <div id='start.term-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#start.term-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='start.term-6.sentence-2' class='sentence'>If there is a use of an object with static storage
duration that does not happen before the object's destruction, the program has undefined
behavior<a class='hidden_link' href='#start.term-6.sentence-2'>.</a></div> <div id='start.term-6.sentence-3' class='sentence'>Terminating every thread before a call to <span class='texttt'>std&#x200b;::&#x200b;exit</span> or the exit from
<span class='texttt'>main</span> is sufficient, but not necessary, to satisfy these requirements<a class='hidden_link' href='#start.term-6.sentence-3'>.</a></div> <div id='start.term-6.sentence-4' class='sentence'>These
requirements permit thread managers as static-storage-duration objects<a class='hidden_link' href='#start.term-6.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='start.term-7'><div class='marginalizedparent'><a class='marginalized' href='#start.term-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/basic.tex#L5910'>#</a></div><div id='start.term-7.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':abort'></a></span><span class='indexparent'><a class='index' id='lib:abort'></a></span><span class='indexparent'><a class='index' id=':termination,program__'></a></span>Calling the function <span class='texttt'>std&#x200b;::&#x200b;abort()</span> declared in
<span class='indexparent'><a class='index' id=':<cstdlib>'></a></span><span class='indexparent'><a class='index' id=':<cstdlib>'></a></span><span class='texttt'>&lt;cstdlib&gt;</span> terminates the program without executing any destructors
and without calling
the functions passed to <span class='texttt'>std&#x200b;::&#x200b;atexit()</span> or <span class='texttt'>std&#x200b;::&#x200b;at_&shy;quick_&shy;exit()</span><a class='hidden_link' href='#start.term-7.sentence-1'>.</a></div> </div></div></div></div></div></body></html>