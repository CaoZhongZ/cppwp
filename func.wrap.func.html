<!DOCTYPE html><html lang='en'><head><title>[func.wrap.func]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>23</a> General utilities library <a class='abbr_ref' href='./#utilities'>[utilities]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>23.14</a> Function objects <a class='abbr_ref' href='function.objects#func.wrap.func'>[function.objects]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>23.14.13</a> Polymorphic function wrappers <a class='abbr_ref' href='func.wrap#func'>[func.wrap]</a></h3><h4 ><a class='secnum' style='min-width:118pt'>23.14.13.2</a> Class template <span class='texttt'>function</span> <a class='abbr_ref'>[func.wrap.func]</a></h4><div id='sentence-1' class='sentence'><span class='indexparent'><a class='index' id='lib:function'></a></span>
<pre class='codeblock'>
namespace std {
  template&lt;class&gt; class function; <span class='comment'>// not defined
</span>
  template&lt;class R, class... ArgTypes&gt;
  class function&lt;R(ArgTypes...)&gt; {
  public:
    using result_type = R;

    <span class='comment'>// <a href='func.wrap.func.con'>[func.wrap.func.con]</a>, construct/copy/destroy
</span>    function() noexcept;
    function(nullptr_t) noexcept;
    function(const function&amp;);
    function(function&amp;&amp;);
    template&lt;class F&gt; function(F);

    function&amp; operator=(const function&amp;);
    function&amp; operator=(function&amp;&amp;);
    function&amp; operator=(nullptr_t) noexcept;
    template&lt;class F&gt; function&amp; operator=(F&amp;&amp;);
    template&lt;class F&gt; function&amp; operator=(reference_wrapper&lt;F&gt;) noexcept;

    ~function();

    <span class='comment'>// <a href='func.wrap.func.mod'>[func.wrap.func.mod]</a>, function modifiers
</span>    void swap(function&amp;) noexcept;

    <span class='comment'>// <a href='func.wrap.func.cap'>[func.wrap.func.cap]</a>, function capacity
</span>    explicit operator bool() const noexcept;

    <span class='comment'>// <a href='func.wrap.func.inv'>[func.wrap.func.inv]</a>, function invocation
</span>    R operator()(ArgTypes...) const;

    <span class='comment'>// <a href='func.wrap.func.targ'>[func.wrap.func.targ]</a>, function target access
</span>    const type_info&amp; target_type() const noexcept;
    template&lt;class T&gt;       T* target() noexcept;
    template&lt;class T&gt; const T* target() const noexcept;
  };

  template&lt;class R, class... ArgTypes&gt;
    function(R(*)(ArgTypes...)) -&gt; function&lt;R(ArgTypes...)&gt;;

  template&lt;class F&gt; function(F) -&gt; function&lt;<span class='textit'><span class='texttt'>see below</span></span>&gt;;

  <span class='comment'>// <a href='func.wrap.func.nullptr'>[func.wrap.func.nullptr]</a>, Null pointer comparisons
</span>  template &lt;class R, class... ArgTypes&gt;
    bool operator==(const function&lt;R(ArgTypes...)&gt;&amp;, nullptr_t) noexcept;

  template &lt;class R, class... ArgTypes&gt;
    bool operator==(nullptr_t, const function&lt;R(ArgTypes...)&gt;&amp;) noexcept;

  template &lt;class R, class... ArgTypes&gt;
    bool operator!=(const function&lt;R(ArgTypes...)&gt;&amp;, nullptr_t) noexcept;

  template &lt;class R, class... ArgTypes&gt;
    bool operator!=(nullptr_t, const function&lt;R(ArgTypes...)&gt;&amp;) noexcept;

  <span class='comment'>// <a href='func.wrap.func.alg'>[func.wrap.func.alg]</a>, specialized algorithms
</span>  template &lt;class R, class... ArgTypes&gt;
    void swap(function&lt;R(ArgTypes...)&gt;&amp;, function&lt;R(ArgTypes...)&gt;&amp;) noexcept;
}</pre></div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14329'>#</a></div><div id='1.sentence-1' class='sentence'>The <span class='texttt'>function</span> class template provides polymorphic wrappers that
generalize the notion of a function pointer<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>Wrappers can store, copy,
and call arbitrary <a href='func.def#def:callable_object'>callable objects</a>, given a
<a href='func.def#def:call_signature'>call signature</a>, allowing functions to be first-class objects<a class='hidden_link' href='#1.sentence-2'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14335'>#</a></div><div id='2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':callable_type'></a></span>A <a href='func.def#def:callable_type'>callable type</a> <span class='texttt'>F</span>
is <a class='hidden_link' href='#def:Lvalue-Callable' id='def:Lvalue-Callable'><i >Lvalue-Callable</i></a> for argument
types <span class='texttt'>ArgTypes</span>
and return type <span class='texttt'>R</span>
if the expression
<span class='texttt'><span class='textit'>INVOKE</span>&lt;R&gt;(declval&lt;F&amp;&gt;(), declval&lt;ArgTypes&gt;()...)</span>,
considered as an <a href='expr#def:unevaluated_operand'>unevaluated operand</a>, is
well-formed (<a href='func.require'>[func.require]</a>)<a class='hidden_link' href='#2.sentence-1'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14346'>#</a></div><div id='3.sentence-1' class='sentence'>The <span class='texttt'>function</span> class template is a
<a href='func.def#def:call_wrapper'>call wrapper</a> whose <a href='func.def#def:call_signature'>call signature</a>
is <span class='texttt'>R(ArgTypes...)</span><a class='hidden_link' href='#3.sentence-1'>.</a></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14351'>#</a></div><div id='4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='4.sentence-1' class='sentence'>The types deduced by the deduction guides for <span class='texttt'>function</span>
may change in future versions of this International Standard<a class='hidden_link' href='#4.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div id='con' class='section'><h4 ><a class='secnum' href='#con' style='min-width:133pt'>23.14.13.2.1</a> <span class='texttt'>function</span> construct/copy/destroy <a class='abbr_ref' href='func.wrap.func.con'>[func.wrap.func.con]</a></h4><span class='indexparent'><a class='index' id='lib:function,constructor'></a></span><code class='itemdecl'>function() noexcept;
</code><div class='itemdescr'></div><div class='para' id='con-1'><div class='marginalizedparent'><a class='marginalized' href='#con-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14365'>#</a></div><div id='con-1.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> <span class='texttt'>!*this</span><a class='hidden_link' href='#con-1.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:function,constructor_'></a></span><code class='itemdecl'>function(nullptr_t) noexcept;
</code><div class='itemdescr'></div><div class='para' id='con-2'><div class='marginalizedparent'><a class='marginalized' href='#con-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14374'>#</a></div><div id='con-2.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> <span class='texttt'>!*this</span><a class='hidden_link' href='#con-2.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:function,constructor__'></a></span><code class='itemdecl'>function(const function&amp; f);
</code><div class='itemdescr'></div><div class='para' id='con-3'><div class='marginalizedparent'><a class='marginalized' href='#con-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14384'>#</a></div><div id='con-3.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> <span class='texttt'>!*this</span> if <span class='texttt'>!f</span>; otherwise,
<span class='texttt'>*this</span> targets a copy of <span class='texttt'>f.target()</span><a class='hidden_link' href='#con-3.sentence-1'>.</a></div></div></div><div class='para' id='con-4'><div class='marginalizedparent'><a class='marginalized' href='#con-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14388'>#</a></div><div id='con-4.sentence-1' class='sentence'><span class='textit'>Throws:</span> Shall not throw exceptions if <span class='texttt'>f</span>'s target is
a specialization of <span class='texttt'>reference_&shy;wrapper</span> or
a function pointer<a class='hidden_link' href='#con-4.sentence-1'>.</a></div> <div id='con-4.sentence-2' class='sentence'>Otherwise, may throw <span class='texttt'>bad_&shy;alloc</span>
or any exception thrown by the copy constructor of the stored callable object<a class='hidden_link' href='#con-4.sentence-2'>.</a></div> <div id='con-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#con-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='con-4.sentence-3' class='sentence'>Implementations should avoid the use of
dynamically allocated memory for small callable objects, for example, where
<span class='texttt'>f</span>'s target is an object holding only a pointer or reference
to an object and a member function pointer<a class='hidden_link' href='#con-4.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><span class='indexparent'><a class='index' id='lib:function,constructor___'></a></span><code class='itemdecl'>function(function&amp;&amp; f);
</code><div class='itemdescr'></div><div class='para' id='con-5'><div class='marginalizedparent'><a class='marginalized' href='#con-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14405'>#</a></div><div id='con-5.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> If <span class='texttt'>!f</span>, <span class='texttt'>*this</span> has no target;
otherwise, the target of <span class='texttt'>*this</span> is equivalent to
the target of <span class='texttt'>f</span> before the construction, and
<span class='texttt'>f</span> is in a valid state with an unspecified value<a class='hidden_link' href='#con-5.sentence-1'>.</a></div></div></div><div class='para' id='con-6'><div class='marginalizedparent'><a class='marginalized' href='#con-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14411'>#</a></div><div id='con-6.sentence-1' class='sentence'><span class='textit'>Throws:</span> Shall not throw exceptions if <span class='texttt'>f</span>'s target is
a specialization of <span class='texttt'>reference_&shy;wrapper</span> or
a function pointer<a class='hidden_link' href='#con-6.sentence-1'>.</a></div> <div id='con-6.sentence-2' class='sentence'>Otherwise, may throw <span class='texttt'>bad_&shy;alloc</span> or
any exception thrown by the copy or move constructor
of the stored callable object<a class='hidden_link' href='#con-6.sentence-2'>.</a></div> <div id='con-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#con-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='con-6.sentence-3' class='sentence'>Implementations should avoid the use of
dynamically allocated memory for small callable objects, for example,
where <span class='texttt'>f</span>'s target is an object holding only a pointer or reference
to an object and a member function pointer<a class='hidden_link' href='#con-6.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><span class='indexparent'><a class='index' id='lib:function,constructor____'></a></span><code class='itemdecl'>template&lt;class F&gt; function(F f);
</code><div class='itemdescr'></div><div class='para' id='con-7'><div class='marginalizedparent'><a class='marginalized' href='#con-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14429'>#</a></div><div id='con-7.sentence-1' class='sentence'><span class='textit'>Requires:</span> <span class='texttt'>F</span> shall be <span class='texttt'>CopyConstructible</span><a class='hidden_link' href='#con-7.sentence-1'>.</a></div></div></div><div class='para' id='con-8'><div class='marginalizedparent'><a class='marginalized' href='#con-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14432'>#</a></div><div id='con-8.sentence-1' class='sentence'><span class='textit'>Remarks:</span> This constructor template shall not participate in overload resolution unless
<span class='texttt'>F</span> is <a href='func.wrap.func#def:Lvalue-Callable'>Lvalue-Callable</a> for argument types
<span class='texttt'>ArgTypes...</span> and return type <span class='texttt'>R</span><a class='hidden_link' href='#con-8.sentence-1'>.</a></div></div></div><div class='para' id='con-9'><div class='marginalizedparent'><a class='marginalized' href='#con-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14437'>#</a></div><div id='con-9.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> <span class='texttt'>!*this</span> if any of the following hold:
<ul class='itemize'><li id='con-9.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#con-9.1'>(9.1)</a></div><div id='con-9.1.sentence-1' class='sentence'><span class='texttt'>f</span> is a null function pointer value<a class='hidden_link' href='#con-9.1.sentence-1'>.</a></div></li><li id='con-9.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#con-9.2'>(9.2)</a></div><div id='con-9.2.sentence-1' class='sentence'><span class='texttt'>f</span> is a null member pointer value<a class='hidden_link' href='#con-9.2.sentence-1'>.</a></div></li><li id='con-9.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#con-9.3'>(9.3)</a></div><div id='con-9.3.sentence-1' class='sentence'><span class='texttt'>F</span> is an instance of the <span class='texttt'>function</span> class template, and
  <span class='texttt'>!f</span><a class='hidden_link' href='#con-9.3.sentence-1'>.</a></div></li></ul></div></div></div><div class='para' id='con-10'><div class='marginalizedparent'><a class='marginalized' href='#con-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14446'>#</a></div><div id='con-10.sentence-1' class='sentence'>Otherwise, <span class='texttt'>*this</span> targets a copy of <span class='texttt'>f</span>
initialized with <span class='texttt'>std&#x200b;::&#x200b;move(f)</span><a class='hidden_link' href='#con-10.sentence-1'>.</a></div> <div id='con-10.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#con-10.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='con-10.sentence-2' class='sentence'>Implementations should avoid the use of
dynamically allocated memory for small callable objects, for example,
where <span class='texttt'>f</span> is an object holding only a pointer or
reference to an object and a member function pointer<a class='hidden_link' href='#con-10.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div class='para' id='con-11'><div class='marginalizedparent'><a class='marginalized' href='#con-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14454'>#</a></div><div id='con-11.sentence-1' class='sentence'><span class='textit'>Throws:</span> Shall not throw exceptions when <span class='texttt'>f</span> is a function pointer
or a <span class='texttt'>reference_&shy;wrapper&lt;T&gt;</span> for some <span class='texttt'>T</span><a class='hidden_link' href='#con-11.sentence-1'>.</a></div> <div id='con-11.sentence-2' class='sentence'>Otherwise,
may throw <span class='texttt'>bad_&shy;alloc</span> or any exception thrown by <span class='texttt'>F</span>'s copy
or move constructor<a class='hidden_link' href='#con-11.sentence-2'>.</a></div></div></div><code class='itemdecl'>template&lt;class F&gt; function(F) -&gt; function&lt;<span class='textit'><span class='texttt'>see below</span></span>&gt;;
</code><div class='itemdescr'></div><div class='para' id='con-12'><div class='marginalizedparent'><a class='marginalized' href='#con-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14467'>#</a></div><div id='con-12.sentence-1' class='sentence'><span class='textit'>Remarks:</span> This deduction guide participates in overload resolution only if
<span class='texttt'>&amp;F&#x200b;::&#x200b;operator()</span> is well-formed when treated as an unevaluated operand<a class='hidden_link' href='#con-12.sentence-1'>.</a></div> <div id='con-12.sentence-2' class='sentence'>In that case, if <span class='texttt'>decltype(&amp;F&#x200b;::&#x200b;operator())</span> is of the form
<span class='texttt'>R(G&#x200b;::&#x200b;*)(A...)</span> <span class='textit'>cv</span> <span class='texttt'>&amp;<span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> noexcept<span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span>
for a class type <span class='texttt'>G</span>, then the deduced type is <span class='texttt'>function&lt;R(A...)&gt;</span><a class='hidden_link' href='#con-12.sentence-2'>.</a></div></div></div><div class='para' id='con-13'><div class='marginalizedparent'><a class='marginalized' href='#con-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14474'>#</a></div><div id='con-13.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#con-13.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void f() {
  int i{5};
  function g = [&amp;](double) { return i; }; <span class='comment'>// deduces <span class='tcode_in_codeblock'>function&lt;int(double)&gt;</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><span class='indexparent'><a class='index' id='lib:operator=,function'></a></span><span class='indexparent'><a class='index' id='lib:function,operator='></a></span><code class='itemdecl'>function&amp; operator=(const function&amp; f);
</code><div class='itemdescr'></div><div class='para' id='con-14'><div class='marginalizedparent'><a class='marginalized' href='#con-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14491'>#</a></div><div id='con-14.sentence-1' class='sentence'><span class='textit'>Effects:</span> As if by <span class='texttt'>function(f).swap(*this);</span></div></div></div><div class='para' id='con-15'><div class='marginalizedparent'><a class='marginalized' href='#con-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14494'>#</a></div><div id='con-15.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>*this</span><a class='hidden_link' href='#con-15.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator=,function_'></a></span><span class='indexparent'><a class='index' id='lib:function,operator=_'></a></span><code class='itemdecl'>function&amp; operator=(function&amp;&amp; f);
</code><div class='itemdescr'></div><div class='para' id='con-16'><div class='marginalizedparent'><a class='marginalized' href='#con-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14504'>#</a></div><div id='con-16.sentence-1' class='sentence'><span class='textit'>Effects:</span> Replaces the target of <span class='texttt'>*this</span>
with the target of <span class='texttt'>f</span><a class='hidden_link' href='#con-16.sentence-1'>.</a></div></div></div><div class='para' id='con-17'><div class='marginalizedparent'><a class='marginalized' href='#con-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14508'>#</a></div><div id='con-17.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>*this</span><a class='hidden_link' href='#con-17.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator=,function__'></a></span><span class='indexparent'><a class='index' id='lib:function,operator=__'></a></span><code class='itemdecl'>function&amp; operator=(nullptr_t) noexcept;
</code><div class='itemdescr'></div><div class='para' id='con-18'><div class='marginalizedparent'><a class='marginalized' href='#con-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14518'>#</a></div><div id='con-18.sentence-1' class='sentence'><span class='textit'>Effects:</span> If <span class='texttt'>*this != nullptr</span>, destroys the target of <span class='texttt'>this</span><a class='hidden_link' href='#con-18.sentence-1'>.</a></div></div></div><div class='para' id='con-19'><div class='marginalizedparent'><a class='marginalized' href='#con-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14520'>#</a></div><div id='con-19.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> <span class='texttt'>!(*this)</span><a class='hidden_link' href='#con-19.sentence-1'>.</a></div></div></div><div class='para' id='con-20'><div class='marginalizedparent'><a class='marginalized' href='#con-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14522'>#</a></div><div id='con-20.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>*this</span><a class='hidden_link' href='#con-20.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator=,function___'></a></span><span class='indexparent'><a class='index' id='lib:function,operator=___'></a></span><code class='itemdecl'>template&lt;class F&gt; function&amp; operator=(F&amp;&amp; f);
</code><div class='itemdescr'></div><div class='para' id='con-21'><div class='marginalizedparent'><a class='marginalized' href='#con-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14531'>#</a></div><div id='con-21.sentence-1' class='sentence'><span class='textit'>Effects:</span> As if by: <span class='texttt'>function(std&#x200b;::&#x200b;forward&lt;F&gt;(f)).swap(*this);</span></div></div></div><div class='para' id='con-22'><div class='marginalizedparent'><a class='marginalized' href='#con-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14533'>#</a></div><div id='con-22.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>*this</span><a class='hidden_link' href='#con-22.sentence-1'>.</a></div></div></div><div class='para' id='con-23'><div class='marginalizedparent'><a class='marginalized' href='#con-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14535'>#</a></div><div id='con-23.sentence-1' class='sentence'><span class='textit'>Remarks:</span> This assignment operator shall not participate in overload
resolution unless <span class='texttt'>decay_&shy;t&lt;F&gt;</span> is
<a href='func.wrap.func#def:Lvalue-Callable'>Lvalue-Callable</a> for argument types <span class='texttt'>ArgTypes...</span> and
return type <span class='texttt'>R</span><a class='hidden_link' href='#con-23.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator=,function____'></a></span><span class='indexparent'><a class='index' id='lib:function,operator=____'></a></span><code class='itemdecl'>template&lt;class F&gt; function&amp; operator=(reference_wrapper&lt;F&gt; f) noexcept;
</code><div class='itemdescr'></div><div class='para' id='con-24'><div class='marginalizedparent'><a class='marginalized' href='#con-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14547'>#</a></div><div id='con-24.sentence-1' class='sentence'><span class='textit'>Effects:</span> As if by: <span class='texttt'>function(f).swap(*this);</span></div></div></div><div class='para' id='con-25'><div class='marginalizedparent'><a class='marginalized' href='#con-25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14549'>#</a></div><div id='con-25.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>*this</span><a class='hidden_link' href='#con-25.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:function,destructor'></a></span><code class='itemdecl'>~function();
</code><div class='itemdescr'></div><div class='para' id='con-26'><div class='marginalizedparent'><a class='marginalized' href='#con-26'>26</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14559'>#</a></div><div id='con-26.sentence-1' class='sentence'><span class='textit'>Effects:</span> If <span class='texttt'>*this != nullptr</span>, destroys the target of <span class='texttt'>this</span><a class='hidden_link' href='#con-26.sentence-1'>.</a></div></div></div></div><div id='mod' class='section'><h4 ><a class='secnum' href='#mod' style='min-width:133pt'>23.14.13.2.2</a> <span class='texttt'>function</span> modifiers <a class='abbr_ref' href='func.wrap.func.mod'>[func.wrap.func.mod]</a></h4><span class='indexparent'><a class='index' id='lib:swap,function'></a></span><span class='indexparent'><a class='index' id='lib:function,swap'></a></span><code class='itemdecl'>void swap(function&amp; other) noexcept;
</code><div class='itemdescr'></div><div class='para' id='mod-1'><div class='marginalizedparent'><a class='marginalized' href='#mod-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14570'>#</a></div><div id='mod-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> Interchanges the targets of <span class='texttt'>*this</span> and <span class='texttt'>other</span><a class='hidden_link' href='#mod-1.sentence-1'>.</a></div></div></div></div><div id='cap' class='section'><h4 ><a class='secnum' href='#cap' style='min-width:133pt'>23.14.13.2.3</a> <span class='texttt'>function</span> capacity <a class='abbr_ref' href='func.wrap.func.cap'>[func.wrap.func.cap]</a></h4><div id='cap-sentence-1' class='sentence'><div id='lib:function,operator_bool'><div id='lib:operator_bool,function'>
<code class='itemdecl'>explicit operator bool() const noexcept;
</code>
</div></div></div><div class='itemdescr'></div><div class='para' id='cap-1'><div class='marginalizedparent'><a class='marginalized' href='#cap-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14582'>#</a></div><div id='cap-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>true</span> if <span class='texttt'>*this</span> has a target, otherwise <span class='texttt'>false</span><a class='hidden_link' href='#cap-1.sentence-1'>.</a></div></div></div></div><div id='inv' class='section'><h4 ><a class='secnum' href='#inv' style='min-width:133pt'>23.14.13.2.4</a> <span class='texttt'>function</span> invocation <a class='abbr_ref' href='func.wrap.func.inv'>[func.wrap.func.inv]</a></h4><div id='inv-sentence-1' class='sentence'><div id='lib:function,operator()'><div id='lib:operator(),function'><div id='lib:function,invocation'>
<code class='itemdecl'>R operator()(ArgTypes... args) const;
</code>
</div></div></div></div><div class='itemdescr'></div><div class='para' id='inv-1'><div class='marginalizedparent'><a class='marginalized' href='#inv-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14595'>#</a></div><div id='inv-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'><span class='textit'>INVOKE</span>&lt;R&gt;(f, std&#x200b;::&#x200b;forward&lt;ArgTypes&gt;(args)...)</span> (<a href='func.require'>[func.require]</a>),
where <span class='texttt'>f</span> is the <a href='func.def#def:target_object'>target object</a> of <span class='texttt'>*this</span><a class='hidden_link' href='#inv-1.sentence-1'>.</a></div></div></div><div class='para' id='inv-2'><div class='marginalizedparent'><a class='marginalized' href='#inv-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14599'>#</a></div><div id='inv-2.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
<span class='texttt'>bad_&shy;function_&shy;call</span> if <span class='texttt'>!*this</span>; otherwise, any
exception thrown by the wrapped callable object<a class='hidden_link' href='#inv-2.sentence-1'>.</a></div></div></div></div><div id='targ' class='section'><h4 ><a class='secnum' href='#targ' style='min-width:133pt'>23.14.13.2.5</a> <span class='texttt'>function</span> target access <a class='abbr_ref' href='func.wrap.func.targ'>[func.wrap.func.targ]</a></h4><div id='targ-sentence-1' class='sentence'><div id='lib:function,target_type'><div id='lib:target_type,function'>
<code class='itemdecl'>const type_info&amp; target_type() const noexcept;
</code>
</div></div></div><div class='itemdescr'></div><div class='para' id='targ-1'><div class='marginalizedparent'><a class='marginalized' href='#targ-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14613'>#</a></div><div id='targ-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> If <span class='texttt'>*this</span> has a target of type <span class='texttt'>T</span>,
  <span class='texttt'>typeid(T)</span>; otherwise, <span class='texttt'>typeid(void)</span><a class='hidden_link' href='#targ-1.sentence-1'>.</a></div></div></div><div id='targ-sentence-1' class='sentence'><div id='lib:function,target'><div id='lib:target,function'>
<code class='itemdecl'>template&lt;class T&gt;       T* target() noexcept;
template&lt;class T&gt; const T* target() const noexcept;
</code>
</div></div></div><div class='itemdescr'></div><div class='para' id='targ-2'><div class='marginalizedparent'><a class='marginalized' href='#targ-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14625'>#</a></div><div id='targ-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> If <span class='texttt'>target_&shy;type() == typeid(T)</span>
a pointer to the stored function target; otherwise a null pointer<a class='hidden_link' href='#targ-2.sentence-1'>.</a></div></div></div></div><div id='nullptr' class='section'><h4 ><a class='secnum' href='#nullptr' style='min-width:133pt'>23.14.13.2.6</a> null pointer comparison functions <a class='abbr_ref' href='func.wrap.func.nullptr'>[func.wrap.func.nullptr]</a></h4><span class='indexparent'><a class='index' id='lib:operator==,function'></a></span><span class='indexparent'><a class='index' id='lib:function,operator=='></a></span><code class='itemdecl'>template &lt;class R, class... ArgTypes&gt;
  bool operator==(const function&lt;R(ArgTypes...)&gt;&amp; f, nullptr_t) noexcept;
template &lt;class R, class... ArgTypes&gt;
  bool operator==(nullptr_t, const function&lt;R(ArgTypes...)&gt;&amp; f) noexcept;
</code><div class='itemdescr'></div><div class='para' id='nullptr-1'><div class='marginalizedparent'><a class='marginalized' href='#nullptr-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14640'>#</a></div><div id='nullptr-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>!f</span><a class='hidden_link' href='#nullptr-1.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator!=,function'></a></span><span class='indexparent'><a class='index' id='lib:function,operator!='></a></span><code class='itemdecl'>template &lt;class R, class... ArgTypes&gt;
  bool operator!=(const function&lt;R(ArgTypes...)&gt;&amp; f, nullptr_t) noexcept;
template &lt;class R, class... ArgTypes&gt;
  bool operator!=(nullptr_t, const function&lt;R(ArgTypes...)&gt;&amp; f) noexcept;
</code><div class='itemdescr'></div><div class='para' id='nullptr-2'><div class='marginalizedparent'><a class='marginalized' href='#nullptr-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14652'>#</a></div><div id='nullptr-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>(bool)f</span><a class='hidden_link' href='#nullptr-2.sentence-1'>.</a></div></div></div></div><div id='alg' class='section'><h4 ><a class='secnum' href='#alg' style='min-width:133pt'>23.14.13.2.7</a> specialized algorithms <a class='abbr_ref' href='func.wrap.func.alg'>[func.wrap.func.alg]</a></h4><span class='indexparent'><a class='index' id='lib:swap,function_'></a></span><span class='indexparent'><a class='index' id='lib:function,swap_'></a></span><code class='itemdecl'>template&lt;class R, class... ArgTypes&gt;
  void swap(function&lt;R(ArgTypes...)&gt;&amp; f1, function&lt;R(ArgTypes...)&gt;&amp; f2) noexcept;
</code><div class='itemdescr'></div><div class='para' id='alg-1'><div class='marginalizedparent'><a class='marginalized' href='#alg-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/utilities.tex#L14664'>#</a></div><div id='alg-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> As if by: <span class='texttt'>f1.swap(f2);</span></div></div></div></div></div></body></html>