<!DOCTYPE html><html lang='en'><head><title>[async.assoc.alloc]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>13</a> Asynchronous model <a class='abbr_ref' href='./#async'>[async]</a></h1><div id='async.assoc.alloc'><h2 ><a class='secnum' style='min-width:88pt'>13.5</a> Class template <span class='texttt'>associated_allocator</span> <a class='abbr_ref'>[async.assoc.alloc]</a></h2><p ><span class='indexparent'><a class='index' id='associated_allocator'></a></span></p><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><p >Class template <span class='texttt'>associated_allocator</span> is an associator (<a href='async.reqmts.associator'>[async.reqmts.associator]</a>) for the <span class='texttt'>ProtoAllocator</span> (<a href='async.reqmts.proto.allocator'>[async.reqmts.proto.allocator]</a>) type requirements, with default candidate type <span class='texttt'>allocator&lt;void&gt;</span> and default candidate object <span class='texttt'>allocator&lt;void&gt;()</span>.</p><pre class='codeblock'>
namespace std {
namespace experimental {
namespace net {
inline namespace v1 {

  template&lt;class T, class ProtoAllocator = allocator&lt;void&gt;&gt;
  struct associated_allocator
  {
    using type = <i><span class='texttt'>see below</span></i>;

    static type get(const T&amp; t, const ProtoAllocator&amp; a = ProtoAllocator()) noexcept;
  };

} <span class='comment'>// inline namespace v1
</span>} <span class='comment'>// namespace net
</span>} <span class='comment'>// namespace experimental
</span>} <span class='comment'>// namespace std
</span></pre><p ><span class='indexparent'><a class='index' id='requirements,associated_allocator'></a></span></p></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><p >Specializations of <span class='texttt'>associated_allocator</span> shall satisfy the requirements in Table <a href='#tab:async.assoc.alloc.requirements'>[tab:async.assoc.alloc.requirements]</a>.
In this table, <span class='texttt'>X</span> is a specialization of <span class='texttt'>associated_allocator</span>
for the template parameters <span class='texttt'>T</span> and <span class='texttt'>ProtoAllocator</span>;
<span class='texttt'>t</span> is a (possibly const) value of type <span class='texttt'>T</span>;
and <span class='texttt'>a</span> is an object of type <span class='texttt'>ProtoAllocator</span>.</p><div class='numberedTable' id='tab:async.assoc.alloc.requirements'>Table <a href='#tab:async.assoc.alloc.requirements'>8</a> â€” <span class='texttt'>associated_allocator</span> specialization requirements<br><table ><tr class='rowsep'><td colspan='1' class='center'><b>Expression</b></td><td colspan='1' class='center'><b>Return type</b></td><td colspan='1' class='center'><b>Note</b></td></tr><tr class='capsep'><td class='left'> 
<span class='texttt'>typename X::type</span>  </td><td class='left'>
A type meeting the proto-allocator (<a href='async.reqmts.proto.allocator'>[async.reqmts.proto.allocator]</a>) requirements.  </td><td class='left'>
  </td></tr><tr class='rowsep'><td class='left'> <span class='texttt'>X::get(t)</span>  </td><td class='left'>
<span class='texttt'>X::type</span>  </td><td class='left'>
Shall not exit via an exception. Equivalent to <span class='texttt'>X::get(t, ProtoAllocator())</span>.  </td></tr><tr class='rowsep'><td class='left'> <span class='texttt'>X::get(t, a)</span>  </td><td class='left'>
<span class='texttt'>X::type</span>  </td><td class='left'>
 Shall not exit via an exception.  </td></tr></table></div></div><div id='members'><h3 ><a class='secnum' href='#members' style='min-width:103pt'>13.5.1</a> <span class='texttt'>associated_allocator</span> members <a class='abbr_ref' href='async.assoc.alloc.members'>[async.assoc.alloc.members]</a></h3><p ><code class='itemdecl'>
using type = <i><span class='texttt'>see below</span></i>;
</code></p><div class='itemdescr'></div><div class='para' id='members-1'><div class='marginalizedparent'><a class='marginalized' href='#members-1'>1</a></div><div class='itemdescr'><p ><i>Type:</i> <span class='texttt'>T::allocator_type</span> if the <span class='grammarterm'>qualified-id</span> <span class='texttt'>T::allocator_type</span>
is valid and denotes a type (<span class='CppXref'>temp.deduct</span>).
Otherwise <span class='texttt'>ProtoAllocator</span>.
</p></div></div><p ><code class='itemdecl'>
type get(const T&amp; t, const ProtoAllocator&amp; a = ProtoAllocator()) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='members-2'><div class='marginalizedparent'><a class='marginalized' href='#members-2'>2</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>t.get_allocator()</span> if the <span class='grammarterm'>qualified-id</span> <span class='texttt'>T::allocator_type</span>
is valid and denotes a type (<span class='CppXref'>temp.deduct</span>).
Otherwise <span class='texttt'>a</span>.
</p></div></div></div></div></div></body></html>