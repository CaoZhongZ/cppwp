<!DOCTYPE html><html lang='en'><head><title>[buffer.creation]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>16</a> Buffers <a class='abbr_ref' href='./#buffer'>[buffer]</a></h1><div id='buffer.creation'><h2 ><a class='secnum' style='min-width:88pt'>16.11</a> Buffer creation functions <a class='abbr_ref'>[buffer.creation]</a></h2><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><p >In the functions below, <span class='texttt'>T</span> must be a trivially copyable or standard-layout type (C++Std &sect;<a href='../n4140/basic.types'>[basic.types]</a>).</p></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><p >For the function overloads below that accept an argument of type <span class='texttt'>vector&lt;&gt;</span>, the buffer objects returned are invalidated by any vector operation that also invalidates all references, pointers and iterators referring to the elements in the sequence (C++Std &sect;<a href='../n4140/vector'>[vector]</a>).</p></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><p >For the function overloads below that accept an argument of type <span class='texttt'>basic_string&lt;&gt;</span>, the buffer objects returned are invalidated according to the rules defined for invalidation of references, pointers and iterators referring to elements of the sequence (C++Std &sect;<a href='../n4140/string.require'>[string.require]</a>).</p><p ><span class='indexparent'><a class='index' id='buffer'></a></span><code class='itemdecl'>
mutable_buffer buffer(void* p, size_t n) noexcept;
</code></p></div><div class='itemdescr'></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>mutable_buffer(p, n)</span>.
</p></div></div><p ><code class='itemdecl'>
const_buffer buffer(const void* p, size_t n) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>const_buffer(p, n)</span>.
</p></div></div><p ><code class='itemdecl'>
mutable_buffer buffer(const mutable_buffer&amp; b) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>b</span>.
</p></div></div><p ><code class='itemdecl'>
mutable_buffer buffer(const mutable_buffer&amp; b, size_t n) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>mutable_buffer(b.data(), min(b.size(), n))</span>.
</p></div></div><p ><code class='itemdecl'>
const_buffer buffer(const const_buffer&amp; b) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>b</span>.
</p></div></div><p ><code class='itemdecl'>
const_buffer buffer(const const_buffer&amp; b, size_t n) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>const_buffer(b.data(), min(b.size(), n))</span>.
</p></div></div><p ><code class='itemdecl'>
template&lt;class T, size_t N&gt;
  mutable_buffer buffer(T (&amp;data)[N]) noexcept;
template&lt;class T, size_t N&gt;
  const_buffer buffer(const T (&amp;data)[N]) noexcept;
template&lt;class T, size_t N&gt;
  mutable_buffer buffer(array&lt;T, N&gt;&amp; data) noexcept;
template&lt;class T, size_t N&gt;
  const_buffer buffer(array&lt;const T, N&gt;&amp; data) noexcept;
template&lt;class T, size_t N&gt;
  const_buffer buffer(const array&lt;T, N&gt;&amp; data) noexcept;
template&lt;class T, class Allocator&gt;
  mutable_buffer buffer(vector&lt;T, Allocator&gt;&amp; data) noexcept;
template&lt;class T, class Allocator&gt;
  const_buffer buffer(const vector&lt;T, Allocator&gt;&amp; data) noexcept;
template&lt;class CharT, class Traits, class Allocator&gt;
  mutable_buffer buffer(basic_string&lt;CharT, Traits, Allocator&gt;&amp; data) noexcept;
template&lt;class CharT, class Traits, class Allocator&gt;
  const_buffer buffer(const basic_string&lt;CharT, Traits, Allocator&gt;&amp; data) noexcept;
template&lt;class CharT, class Traits&gt;
  const_buffer buffer(basic_string_view&lt;CharT, Traits&gt; data) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='itemdescr'><p ><i>Returns:</i>
</p><pre class='codeblock'>
buffer(
  begin(data) != end(data) ? std::addressof(*begin(data)) : nullptr,
  (end(data) - begin(data)) * sizeof(*begin(data)));
</pre></div></div><p ><code class='itemdecl'>
template&lt;class T, size_t N&gt;
  mutable_buffer buffer(T (&amp;data)[N], size_t n) noexcept;
template&lt;class T, size_t N&gt;
  const_buffer buffer(const T (&amp;data)[N], size_t n) noexcept;
template&lt;class T, size_t N&gt;
  mutable_buffer buffer(array&lt;T, N&gt;&amp; data, size_t n) noexcept;
template&lt;class T, size_t N&gt;
  const_buffer buffer(array&lt;const T, N&gt;&amp; data, size_t n) noexcept;
template&lt;class T, size_t N&gt;
  const_buffer buffer(const array&lt;T, N&gt;&amp; data, size_t n) noexcept;
template&lt;class T, class Allocator&gt;
  mutable_buffer buffer(vector&lt;T, Allocator&gt;&amp; data, size_t n) noexcept;
template&lt;class T, class Allocator&gt;
  const_buffer buffer(const vector&lt;T, Allocator&gt;&amp; data, size_t n) noexcept;
template&lt;class CharT, class Traits, class Allocator&gt;
  mutable_buffer buffer(basic_string&lt;CharT, Traits, Allocator&gt;&amp; data,
                        size_t n) noexcept;
template&lt;class CharT, class Traits, class Allocator&gt;
  const_buffer buffer(const basic_string&lt;CharT, Traits, Allocator&gt;&amp; data,
                      size_t n) noexcept;
template&lt;class CharT, class Traits&gt;
  const_buffer buffer(basic_string_view&lt;CharT, Traits&gt; data,
                      size_t n) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>buffer(buffer(data), n)</span>.
</p></div></div></div></div></body></html>