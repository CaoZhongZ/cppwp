<!DOCTYPE html><html lang='en'><head><title>[socket.base]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>18</a> Sockets <a class='abbr_ref' href='./#socket'>[socket]</a></h1><div id='socket.base'><h2 ><a class='secnum' style='min-width:88pt'>18.4</a> Class <span class='texttt'>socket_base</span> <a class='abbr_ref'>[socket.base]</a></h2><pre class='codeblock'>
namespace std {
namespace experimental {
namespace net {
inline namespace v1 {

  class socket_base
  {
  public:
    class broadcast;
    class debug;
    class do_not_route;
    class keep_alive;
    class linger;
    class out_of_band_inline;
    class receive_buffer_size;
    class receive_low_watermark;
    class reuse_address;
    class send_buffer_size;
    class send_low_watermark;

    using shutdown_type = <i>T1</i>;
    static constexpr shutdown_type shutdown_receive;
    static constexpr shutdown_type shutdown_send;
    static constexpr shutdown_type shutdown_both;

    using wait_type = <i>T2</i>;
    static constexpr wait_type wait_read;
    static constexpr wait_type wait_write;
    static constexpr wait_type wait_error;

    using message_flags = <i>T3</i>;
    static constexpr message_flags message_peek;
    static constexpr message_flags message_out_of_band;
    static constexpr message_flags message_do_not_route;

    static const int max_listen_connections;

  protected:
    socket_base();
    ~socket_base();
  };

} <span class='comment'>// inline namespace v1
</span>} <span class='comment'>// namespace net
</span>} <span class='comment'>// namespace experimental
</span>} <span class='comment'>// namespace std
</span></pre><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><p ><span class='texttt'>socket_base</span> defines several member types:</p><ul class='itemize'><li id='1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.1'>(1.1)</a></div><p >socket option classes <span class='texttt'>broadcast</span>, <span class='texttt'>debug</span>, <span class='texttt'>do_not_route</span>, <span class='texttt'>keep_alive</span>, <span class='texttt'>linger</span>, <span class='texttt'>out_of_band_inline</span>, <span class='texttt'>receive_buffer_size</span>, <span class='texttt'>receive_low_watermark</span>, <span class='texttt'>reuse_address</span>, <span class='texttt'>send_buffer_size</span>, and <span class='texttt'>send_low_watermark</span>;
</p></li><li id='1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.2'>(1.2)</a></div><p >an enumerated type, <span class='texttt'>shutdown_type</span>, for use with the <span class='texttt'>basic_socket&lt;Protocol&gt;</span> class's <span class='texttt'>shutdown</span> member function.
</p></li><li id='1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.3'>(1.3)</a></div><p >an enumerated type, <span class='texttt'>wait_type</span>, for use with the <span class='texttt'>basic_socket&lt;Protocol&gt;</span> and <span class='texttt'>basic_socket_acceptor&lt;Protocol&gt;</span> classes' <span class='texttt'>wait</span> and <span class='texttt'>async_wait</span> member functions,
</p></li><li id='1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.4'>(1.4)</a></div><p >a bitmask type, <span class='texttt'>message_flags</span>, for use with the <span class='texttt'>basic_stream_socket&lt;Protocol&gt;</span> class's <span class='texttt'>send</span>, <span class='texttt'>async_send</span>, <span class='texttt'>receive</span>, and <span class='texttt'>async_receive</span> member functions, and the <span class='texttt'>basic_datagram_socket&lt;Protocol&gt;</span> class's <span class='texttt'>send</span>, <span class='texttt'>async_send</span>, <span class='texttt'>send_to</span>, <span class='texttt'>async_send_to</span>, <span class='texttt'>receive</span>, <span class='texttt'>async_receive</span>, <span class='texttt'>receive_from</span>, and <span class='texttt'>async_receive_from</span> member functions.
</p></li><li id='1.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.5'>(1.5)</a></div><p >a constant, <span class='texttt'>max_listen_connections</span>, for use with the <span class='texttt'>basic_socket_acceptor&lt;Protocol&gt;</span> class's <span class='texttt'>listen</span> member function.
</p></li></ul><div class='numberedTable' id='tab:socket.base.requirements'>Table <a href='#tab:socket.base.requirements'>33</a> â€” <span class='texttt'>socket_base</span> constants<br><table ><tr class='rowsep'><td colspan='1' class='center'><b>Constant Name</b></td><td colspan='1' class='center'><b>POSIX macro</b></td><td colspan='1' class='center'><b>Definition or notes</b></td></tr><tr class='capsep'><td class='left'> 
<span class='texttt'>shutdown_receive</span>  </td><td class='left'>
<span class='texttt'>SHUT_RD</span>  </td><td class='left'>
 Disables further receive operations.  </td></tr><tr class='rowsep'><td class='left'> <span class='texttt'>shutdown_send</span>  </td><td class='left'>
<span class='texttt'>SHUT_WR</span>  </td><td class='left'>
 Disables further send operations.  </td></tr><tr class='rowsep'><td class='left'> <span class='texttt'>shutdown_both</span>  </td><td class='left'>
<span class='texttt'>SHUT_RDWR</span>  </td><td class='left'>
 Disables further send and receive operations.  </td></tr><tr class='rowsep'><td class='left'> <span class='texttt'>wait_read</span>  </td><td class='left'>
  </td><td class='left'>
Wait until the socket is ready-to-read. For a given socket, when a <span class='texttt'>wait</span> or <span class='texttt'>async_wait</span> operation using <span class='texttt'>wait_read</span> completes successfully, a subsequent call to the socket's <span class='texttt'>receive</span> or <span class='texttt'>receive_from</span> functions may complete without blocking. Similarly, for a given acceptor, when a <span class='texttt'>wait</span> or <span class='texttt'>async_wait</span> operation using <span class='texttt'>wait_read</span> completes successfully, a subsequent call to the acceptor's <span class='texttt'>accept</span> function may complete without blocking.  </td></tr><tr class='rowsep'><td class='left'> <span class='texttt'>wait_write</span>  </td><td class='left'>
  </td><td class='left'>
Wait until the socket is ready-to-write. For a given socket, when a <span class='texttt'>wait</span> or <span class='texttt'>async_wait</span> operation using <span class='texttt'>wait_write</span> completes successfully, a subsequent call to the socket's <span class='texttt'>send</span> or <span class='texttt'>send_to</span> functions may complete without blocking.  </td></tr><tr class='rowsep'><td class='left'> <span class='texttt'>wait_error</span>  </td><td class='left'>
  </td><td class='left'>
Wait until the socket has a pending error condition. For a given socket, when a <span class='texttt'>wait</span> or <span class='texttt'>async_wait</span> operation using <span class='texttt'>wait_error</span> completes successfully, a subsequent call to one of the socket's synchronous operations may complete without blocking. The nature of the pending error condition determines which.  </td></tr><tr class='rowsep'><td class='left'> <span class='texttt'>message_peek</span>  </td><td class='left'>
<span class='texttt'>MSG_PEEK</span>  </td><td class='left'>
 Leave received data in queue.  </td></tr><tr class='rowsep'><td class='left'> <span class='texttt'>message_out_of_band</span>  </td><td class='left'>
<span class='texttt'>MSG_OOB</span>  </td><td class='left'>
 Out-of-band data.  </td></tr><tr class='rowsep'><td class='left'> <span class='texttt'>message_do_not_route</span>  </td><td class='left'>
<span class='texttt'>MSG_DONTROUTE</span>  </td><td class='left'>
 Send without using routing tables.  </td></tr><tr class='rowsep'><td class='left'> <span class='texttt'>max_listen_connections</span>  </td><td class='left'>
<span class='texttt'>SOMAXCONN</span>  </td><td class='left'>
 The <span class='indexparent'><a class='index' id='maximum_length_of_the_queue_of_pending_incoming_connections'></a></span>implementation-defined limit on the length of the queue of pending incoming connections.  </td></tr></table></div><p ><span class='indexparent'><a class='index' id='socket_options'></a></span></p></div></div></div></body></html>