<!DOCTYPE html><html lang='en'><head><title>[socket.acceptor.cons]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>18</a> Sockets <a class='abbr_ref' href='./#socket'>[socket]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>18.9</a> Class template <span class='texttt'>basic_socket_acceptor</span> <a class='abbr_ref' href='socket.acceptor#cons'>[socket.acceptor]</a></h2><div id='socket.acceptor.cons'><h3 ><a class='secnum' style='min-width:103pt'>18.9.1</a> <span class='texttt'>basic_socket_acceptor</span> constructors <a class='abbr_ref'>[socket.acceptor.cons]</a></h3><p ><code class='itemdecl'>
explicit basic_socket_acceptor(io_context&amp; ctx);
</code></p><div class='itemdescr'></div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='itemdescr'><p ><i>Postconditions:</i>
</p><ul class='itemize'><li id='1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.1'>(1.1)</a></div><p ><span class='texttt'>get_executor() == ctx.get_executor()</span>.
</p></li><li id='1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.2'>(1.2)</a></div><p ><span class='texttt'>is_open() == false</span>.
</p></li></ul></div></div><p ><code class='itemdecl'>
basic_socket_acceptor(io_context&amp; ctx, const protocol_type&amp; protocol);
</code></p><div class='itemdescr'></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='itemdescr'><p ><i>Effects:</i> Opens this acceptor as if by calling <span class='texttt'>open(protocol)</span>.</p></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='itemdescr'><p ><i>Postconditions:</i>
</p><ul class='itemize'><li id='3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.1'>(3.1)</a></div><p ><span class='texttt'>get_executor() == ctx.get_executor()</span>.
</p></li><li id='3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.2'>(3.2)</a></div><p ><span class='texttt'>is_open() == true</span>.
</p></li><li id='3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.3'>(3.3)</a></div><p ><span class='texttt'>non_blocking() == false</span>.
</p></li><li id='3.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.4'>(3.4)</a></div><p ><span class='texttt'>enable_connection_aborted() == false</span>.
</p></li><li id='3.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.5'>(3.5)</a></div><p ><span class='texttt'>protocol_ == protocol</span>.
</p></li></ul></div></div><p ><code class='itemdecl'>
basic_socket_acceptor(io_context&amp; ctx, const endpoint_type&amp; endpoint,
                      bool reuse_addr = true);
</code></p><div class='itemdescr'></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='itemdescr'><p ><i>Effects:</i> Opens and binds this acceptor as if by calling:
</p><pre class='codeblock'>
open(endpoint.protocol());
if (reuse_addr)
  set_option(reuse_address(true));
bind(endpoint);
listen();
</pre></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='itemdescr'><p ><i>Postconditions:</i>
</p><ul class='itemize'><li id='5.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#5.1'>(5.1)</a></div><p ><span class='texttt'>get_executor() == ctx.get_executor()</span>.
</p></li><li id='5.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#5.2'>(5.2)</a></div><p ><span class='texttt'>is_open() == true</span>.
</p></li><li id='5.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#5.3'>(5.3)</a></div><p ><span class='texttt'>non_blocking() == false</span>.
</p></li><li id='5.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#5.4'>(5.4)</a></div><p ><span class='texttt'>enable_connection_aborted() == false</span>.
</p></li><li id='5.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#5.5'>(5.5)</a></div><p ><span class='texttt'>protocol_ == endpoint.protocol()</span>.
</p></li></ul></div></div><p ><code class='itemdecl'>
basic_socket_acceptor(io_context&amp; ctx, const protocol_type&amp; protocol,
                      const native_handle_type&amp; native_acceptor);
</code></p><div class='itemdescr'></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>native_acceptor</span> is a native handle to an open acceptor.</p></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='itemdescr'><p ><i>Effects:</i> Assigns the existing native acceptor into this acceptor as if by calling <span class='texttt'>assign(protocol, native_acceptor)</span>.</p></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='itemdescr'><p ><i>Postconditions:</i>
</p><ul class='itemize'><li id='8.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#8.1'>(8.1)</a></div><p ><span class='texttt'>get_executor() == ctx.get_executor()</span>.
</p></li><li id='8.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#8.2'>(8.2)</a></div><p ><span class='texttt'>is_open() == true</span>.
</p></li><li id='8.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#8.3'>(8.3)</a></div><p ><span class='texttt'>non_blocking() == false</span>.
</p></li><li id='8.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#8.4'>(8.4)</a></div><p ><span class='texttt'>enable_connection_aborted() == false</span>.
</p></li><li id='8.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#8.5'>(8.5)</a></div><p ><span class='texttt'>protocol_ == protocol</span>.
</p></li></ul></div></div><p ><code class='itemdecl'>
basic_socket_acceptor(basic_socket_acceptor&amp;&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='itemdescr'><p ><i>Effects:</i> Move constructs an object of class <span class='texttt'>basic_socket_acceptor&lt;AcceptableProtocol&gt;</span> that refers to the state originally represented by <span class='texttt'>rhs</span>.</p></div></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='itemdescr'><p ><i>Postconditions:</i>
</p><ul class='itemize'><li id='10.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#10.1'>(10.1)</a></div><p ><span class='texttt'>get_executor() == rhs.get_executor()</span>.
</p></li><li id='10.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#10.2'>(10.2)</a></div><p ><span class='texttt'>is_open()</span> returns the same value as <span class='texttt'>rhs.is_open()</span> prior to the constructor invocation.
</p></li><li id='10.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#10.3'>(10.3)</a></div><p ><span class='texttt'>non_blocking()</span> returns the same value as <span class='texttt'>rhs.non_blocking()</span> prior to the constructor invocation.
</p></li><li id='10.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#10.4'>(10.4)</a></div><p ><span class='texttt'>enable_connection_aborted()</span> returns the same value as <span class='texttt'>rhs.enable_connection_aborted()</span> prior to the constructor invocation.
</p></li><li id='10.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#10.5'>(10.5)</a></div><p ><span class='texttt'>protocol_</span> is equal to the prior value of <span class='texttt'>rhs.protocol_</span>.
</p></li><li id='10.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#10.6'>(10.6)</a></div><p ><span class='texttt'>rhs.is_open() == false</span>.
</p></li></ul></div></div><p ><code class='itemdecl'>
template&lt;class OtherProtocol&gt;
  basic_socket_acceptor(basic_socket_acceptor&lt;OtherProtocol&gt;&amp;&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>OtherProtocol</span> is implicitly convertible to <span class='texttt'>Protocol</span>.</p></div></div><div class='para' id='12'><div class='marginalizedparent'><a class='marginalized' href='#12'>12</a></div><div class='itemdescr'><p ><i>Effects:</i> Move constructs an object of class <span class='texttt'>basic_socket_acceptor&lt;AcceptableProtocol&gt;</span> that refers to the state originally represented by <span class='texttt'>rhs</span>.</p></div></div><div class='para' id='13'><div class='marginalizedparent'><a class='marginalized' href='#13'>13</a></div><div class='itemdescr'><p ><i>Postconditions:</i>
</p><ul class='itemize'><li id='13.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#13.1'>(13.1)</a></div><p ><span class='texttt'>get_executor() == rhs.get_executor()</span>.
</p></li><li id='13.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#13.2'>(13.2)</a></div><p ><span class='texttt'>is_open()</span> returns the same value as <span class='texttt'>rhs.is_open()</span> prior to the constructor invocation.
</p></li><li id='13.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#13.3'>(13.3)</a></div><p ><span class='texttt'>non_blocking()</span> returns the same value as <span class='texttt'>rhs.non_blocking()</span> prior to the constructor invocation.
</p></li><li id='13.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#13.4'>(13.4)</a></div><p ><span class='texttt'>enable_connection_aborted()</span> returns the same value as <span class='texttt'>rhs.enable_connection_aborted()</span> prior to the constructor invocation.
</p></li><li id='13.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#13.5'>(13.5)</a></div><p ><span class='texttt'>native_handle()</span> returns the prior value of <span class='texttt'>rhs.native_handle()</span>.
</p></li><li id='13.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#13.6'>(13.6)</a></div><p ><span class='texttt'>protocol_</span> is the result of converting the prior value of <span class='texttt'>rhs.protocol_</span>.
</p></li><li id='13.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#13.7'>(13.7)</a></div><p ><span class='texttt'>rhs.is_open() == false</span>.
</p></li></ul></div></div><div class='para' id='14'><div class='marginalizedparent'><a class='marginalized' href='#14'>14</a></div><div class='itemdescr'><p ><i>Remarks:</i> This constructor shall not participate in overload resolution unless <span class='texttt'>OtherProtocol</span> is implicitly convertible to <span class='texttt'>Protocol</span>.
</p></div></div></div></div></body></html>