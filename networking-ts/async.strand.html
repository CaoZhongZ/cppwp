<!DOCTYPE html><html lang='en'><head><title>[async.strand]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>13</a> Asynchronous model <a class='abbr_ref' href='./#async'>[async]</a></h1><div id='async.strand'><h2 ><a class='secnum' style='min-width:88pt'>13.25</a> Class template <span class='texttt'>strand</span> <a class='abbr_ref'>[async.strand]</a></h2><p ><span class='indexparent'><a class='index' id='strand'></a></span></p><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><p >The class template <span class='texttt'>strand</span> is a wrapper around an object of type <span class='texttt'>Executor</span> satisfying the Executor requirements (<a href='async.reqmts.executor'>[async.reqmts.executor]</a>).</p><pre class='codeblock'>
namespace std {
namespace experimental {
namespace net {
inline namespace v1 {

  template&lt;class Executor&gt;
  class strand
  {
  public:
    <span class='comment'>// types:
</span>
    using inner_executor_type = Executor;

    <span class='comment'>// <a href='async.strand.cons'>[async.strand.cons]</a>, construct / copy / destroy:
</span>
    strand();
    explicit strand(Executor ex);
    template&lt;class ProtoAllocator&gt;
      strand(allocator_arg_t, const ProtoAllocator&amp; alloc, Executor ex);
    strand(const strand&amp; other) noexcept;
    strand(strand&amp;&amp; other) noexcept;
    template&lt;class OtherExecutor&gt; strand(const strand&lt;OtherExecutor&gt;&amp; other) noexcept;
    template&lt;class OtherExecutor&gt; strand(strand&lt;OtherExecutor&gt;&amp;&amp; other) noexcept;

    strand&amp; operator=(const strand&amp; other) noexcept;
    strand&amp; operator=(strand&amp;&amp; other) noexcept;
    template&lt;class OtherExecutor&gt; strand&amp; operator=(const strand&lt;OtherExecutor&gt;&amp; other) noexcept;
    template&lt;class OtherExecutor&gt; strand&amp; operator=(strand&lt;OtherExecutor&gt;&amp;&amp; other) noexcept;

    ~strand();

    <span class='comment'>// <a href='async.strand.ops'>[async.strand.ops]</a>, strand operations:
</span>
    inner_executor_type get_inner_executor() const noexcept;

    bool running_in_this_thread() const noexcept;

    execution_context&amp; context() const noexcept;

    void on_work_started() const noexcept;
    void on_work_finished() const noexcept;

    template&lt;class Func, class ProtoAllocator&gt;
      void dispatch(Func&amp;&amp; f, const ProtoAllocator&amp; a) const;
    template&lt;class Func, class ProtoAllocator&gt;
      void post(Func&amp;&amp; f, const ProtoAllocator&amp; a) const;
    template&lt;class Func, class ProtoAllocator&gt;
      void defer(Func&amp;&amp; f, const ProtoAllocator&amp; a) const;

  private:
    Executor inner_ex_; <span class='comment'>// <i>exposition only</i>
</span>  };

  bool operator==(const strand&lt;Executor&gt;&amp; a, const strand&lt;Executor&gt;&amp; b);
  bool operator!=(const strand&lt;Executor&gt;&amp; a, const strand&lt;Executor&gt;&amp; b);

} <span class='comment'>// inline namespace v1
</span>} <span class='comment'>// namespace net
</span>} <span class='comment'>// namespace experimental
</span>} <span class='comment'>// namespace std
</span></pre></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><p ><span class='texttt'>strand&lt;Executor&gt;</span> satisfies the <span class='texttt'>Executor</span> (<a href='async.reqmts.executor'>[async.reqmts.executor]</a>) requirements.</p></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><p >A strand provides guarantees of ordering and non-concurrency. Given:</p><ul class='itemize'><li id='3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.1'>(3.1)</a></div><p >strand objects <span class='texttt'>s1</span> and <span class='texttt'>s2</span> such that <span class='texttt'>s1 == s2</span></p></li><li id='3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.2'>(3.2)</a></div><p >a function object <span class='texttt'>f1</span> added to the strand <span class='texttt'>s1</span> using <span class='texttt'>post</span> or <span class='texttt'>defer</span>, or using <span class='texttt'>dispatch</span> when <span class='texttt'>s1.running_in_this_thread()</span> is <span class='texttt'>false</span></p></li><li id='3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.3'>(3.3)</a></div><p >a function object <span class='texttt'>f2</span> added to the strand <span class='texttt'>s2</span> using <span class='texttt'>post</span> or <span class='texttt'>defer</span>, or using <span class='texttt'>dispatch</span> when <span class='texttt'>s2.running_in_this_thread()</span> is <span class='texttt'>false</span>
</p></li></ul></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><p >then the implementation invokes <span class='texttt'>f1</span> and <span class='texttt'>f2</span> such that:</p><ul class='itemize'><li id='4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#4.1'>(4.1)</a></div><p >the invocation of <span class='texttt'>f1</span> is not concurrent with the invocation of <span class='texttt'>f2</span></p></li><li id='4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#4.2'>(4.2)</a></div><p >the invocation of <span class='texttt'>f1</span> synchronizes with the invocation of <span class='texttt'>f2</span>.
</p></li></ul></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><p >Furthermore, if the addition of <span class='texttt'>f1</span> happens before the addition of <span class='texttt'>f2</span>, then the invocation of <span class='texttt'>f1</span> happens before the invocation of <span class='texttt'>f2</span>.</p></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><p >All member functions, except for the assignment operators and the destructor, do not introduce data races on <span class='texttt'>*this</span>, including its ordered, non-concurrent state. Additionally, constructors and assignment operators do not introduce data races on lvalue arguments.</p></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><p >If any function <span class='texttt'>f</span> executed by the strand throws an exception, the subsequent strand state is as if <span class='texttt'>f</span> had exited without throwing an exception.</p></div><div id='cons'><h3 ><a class='secnum' href='#cons' style='min-width:103pt'>13.25.1</a> <span class='texttt'>strand</span> constructors <a class='abbr_ref' href='async.strand.cons'>[async.strand.cons]</a></h3><p ><span class='indexparent'><a class='index' id='strand,constructor'></a></span><code class='itemdecl'>
strand();
</code></p><div class='itemdescr'></div><div class='para' id='cons-1'><div class='marginalizedparent'><a class='marginalized' href='#cons-1'>1</a></div><div class='itemdescr'><p ><i>Effects:</i> Constructs an object of class <span class='texttt'>strand&lt;Executor&gt;</span> that represents a unique ordered, non-concurrent state. Initializes <span class='texttt'>inner_ex_</span> as <span class='texttt'>inner_ex_()</span>.</p></div></div><div class='para' id='cons-2'><div class='marginalizedparent'><a class='marginalized' href='#cons-2'>2</a></div><div class='itemdescr'><p ><i>Remarks:</i> This overload shall not participate in overload resolution unless <span class='texttt'>Executor</span> satisfies the <span class='texttt'>DefaultConstructible</span> requirements (C++Std &sect;<a href='../n4140/defaultconstructible'>[defaultconstructible]</a>).
</p></div></div><p ><code class='itemdecl'>
explicit strand(Executor ex);
</code></p><div class='itemdescr'></div><div class='para' id='cons-3'><div class='marginalizedparent'><a class='marginalized' href='#cons-3'>3</a></div><div class='itemdescr'><p ><i>Effects:</i> Constructs an object of class <span class='texttt'>strand&lt;Executor&gt;</span> that represents a unique ordered, non-concurrent state. Initializes <span class='texttt'>inner_ex_</span> as <span class='texttt'>inner_ex_(ex)</span>.
</p></div></div><p ><code class='itemdecl'>
template&lt;class ProtoAllocator&gt;
  strand(allocator_arg_t, const ProtoAllocator&amp; a, Executor ex);
</code></p><div class='itemdescr'></div><div class='para' id='cons-4'><div class='marginalizedparent'><a class='marginalized' href='#cons-4'>4</a></div><div class='itemdescr'><p ><i>Effects:</i> Constructs an object of class <span class='texttt'>strand&lt;Executor&gt;</span> that represents a unique ordered, non-concurrent state. Initializes <span class='texttt'>inner_ex_</span> as <span class='texttt'>inner_ex_(ex)</span>. A copy of the allocator argument <span class='texttt'>a</span> is used to allocate memory, if necessary, for the internal data structures of the constructed strand object.
</p></div></div><p ><code class='itemdecl'>
strand(const strand&amp; other) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='cons-5'><div class='marginalizedparent'><a class='marginalized' href='#cons-5'>5</a></div><div class='itemdescr'><p ><i>Effects:</i> Initializes <span class='texttt'>inner_ex_</span> as <span class='texttt'>inner_ex_(other.inner_ex_)</span>.</p></div></div><div class='para' id='cons-6'><div class='marginalizedparent'><a class='marginalized' href='#cons-6'>6</a></div><div class='itemdescr'><p ><i>Postconditions:</i>
</p><ul class='itemize'><li id='cons-6.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#cons-6.1'>(6.1)</a></div><p ><span class='texttt'>*this == other</span>
</p></li><li id='cons-6.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#cons-6.2'>(6.2)</a></div><p ><span class='texttt'>get_inner_executor() == other.get_inner_executor()</span>
</p></li></ul></div></div><p ><code class='itemdecl'>
strand(strand&amp;&amp; other) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='cons-7'><div class='marginalizedparent'><a class='marginalized' href='#cons-7'>7</a></div><div class='itemdescr'><p ><i>Effects:</i> Initializes <span class='texttt'>inner_ex_</span> as <span class='texttt'>inner_ex_(std::move(other.inner_ex_))</span>.</p></div></div><div class='para' id='cons-8'><div class='marginalizedparent'><a class='marginalized' href='#cons-8'>8</a></div><div class='itemdescr'><p ><i>Postconditions:</i>
</p><ul class='itemize'><li id='cons-8.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#cons-8.1'>(8.1)</a></div><p ><span class='texttt'>*this</span> is equal to the prior value of <span class='texttt'>other</span>
</p></li><li id='cons-8.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#cons-8.2'>(8.2)</a></div><p ><span class='texttt'>get_inner_executor() == other.get_inner_executor()</span>
</p></li></ul></div></div><p ><code class='itemdecl'>
template&lt;class OtherExecutor&gt; strand(const strand&lt;OtherExecutor&gt;&amp; other) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='cons-9'><div class='marginalizedparent'><a class='marginalized' href='#cons-9'>9</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>OtherExecutor</span> is convertible to <span class='texttt'>Executor</span>.</p></div></div><div class='para' id='cons-10'><div class='marginalizedparent'><a class='marginalized' href='#cons-10'>10</a></div><div class='itemdescr'><p ><i>Effects:</i> Initializes <span class='texttt'>inner_ex_</span> as <span class='texttt'>inner_ex_(other.inner_ex_)</span>.</p></div></div><div class='para' id='cons-11'><div class='marginalizedparent'><a class='marginalized' href='#cons-11'>11</a></div><div class='itemdescr'><p ><i>Postconditions:</i> <span class='texttt'>*this == other</span>.
</p></div></div><p ><code class='itemdecl'>
template&lt;class OtherExecutor&gt; strand(strand&lt;OtherExecutor&gt;&amp;&amp; other) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='cons-12'><div class='marginalizedparent'><a class='marginalized' href='#cons-12'>12</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>OtherExecutor</span> is convertible to <span class='texttt'>Executor</span>.</p></div></div><div class='para' id='cons-13'><div class='marginalizedparent'><a class='marginalized' href='#cons-13'>13</a></div><div class='itemdescr'><p ><i>Effects:</i> Initializes <span class='texttt'>inner_ex_</span> as <span class='texttt'>inner_ex_(std::move(other.inner_ex_))</span>.</p></div></div><div class='para' id='cons-14'><div class='marginalizedparent'><a class='marginalized' href='#cons-14'>14</a></div><div class='itemdescr'><p ><i>Postconditions:</i> <span class='texttt'>*this</span> is equal to the prior value of <span class='texttt'>other</span>.
</p></div></div></div><div id='assign'><h3 ><a class='secnum' href='#assign' style='min-width:103pt'>13.25.2</a> <span class='texttt'>strand</span> assignment <a class='abbr_ref' href='async.strand.assign'>[async.strand.assign]</a></h3><p ><span class='indexparent'><a class='index' id='operator=,strand'></a></span><span class='indexparent'><a class='index' id='strand,operator='></a></span><code class='itemdecl'>
strand&amp; operator=(const strand&amp; other) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='assign-1'><div class='marginalizedparent'><a class='marginalized' href='#assign-1'>1</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>Executor</span> is <span class='texttt'>CopyAssignable</span> (C++Std &sect;<a href='../n4140/copyassignable'>[copyassignable]</a>).</p></div></div><div class='para' id='assign-2'><div class='marginalizedparent'><a class='marginalized' href='#assign-2'>2</a></div><div class='itemdescr'><p ><i>Postconditions:</i>
</p><ul class='itemize'><li id='assign-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#assign-2.1'>(2.1)</a></div><p ><span class='texttt'>*this == other</span>
</p></li><li id='assign-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#assign-2.2'>(2.2)</a></div><p ><span class='texttt'>get_inner_executor() == other.get_inner_executor()</span>
</p></li></ul></div></div><div class='para' id='assign-3'><div class='marginalizedparent'><a class='marginalized' href='#assign-3'>3</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><code class='itemdecl'>
strand&amp; operator=(strand&amp;&amp; other) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='assign-4'><div class='marginalizedparent'><a class='marginalized' href='#assign-4'>4</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>Executor</span> is <span class='texttt'>MoveAssignable</span> (C++Std &sect;<a href='../n4140/moveassignable'>[moveassignable]</a>).</p></div></div><div class='para' id='assign-5'><div class='marginalizedparent'><a class='marginalized' href='#assign-5'>5</a></div><div class='itemdescr'><p ><i>Postconditions:</i>
</p><ul class='itemize'><li id='assign-5.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#assign-5.1'>(5.1)</a></div><p ><span class='texttt'>*this</span> is equal to the prior value of <span class='texttt'>other</span>
</p></li><li id='assign-5.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#assign-5.2'>(5.2)</a></div><p ><span class='texttt'>get_inner_executor() == other.get_inner_executor()</span>
</p></li></ul></div></div><div class='para' id='assign-6'><div class='marginalizedparent'><a class='marginalized' href='#assign-6'>6</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><code class='itemdecl'>
template&lt;class OtherExecutor&gt; strand&amp; operator=(const strand&lt;OtherExecutor&gt;&amp; other) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='assign-7'><div class='marginalizedparent'><a class='marginalized' href='#assign-7'>7</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>OtherExecutor</span> is convertible to <span class='texttt'>Executor</span>. <span class='texttt'>Executor</span> is <span class='texttt'>CopyAssignable</span> (C++Std &sect;<a href='../n4140/copyassignable'>[copyassignable]</a>).</p></div></div><div class='para' id='assign-8'><div class='marginalizedparent'><a class='marginalized' href='#assign-8'>8</a></div><div class='itemdescr'><p ><i>Effects:</i> Assigns <span class='texttt'>other.inner_ex_</span> to <span class='texttt'>inner_ex_</span>.</p></div></div><div class='para' id='assign-9'><div class='marginalizedparent'><a class='marginalized' href='#assign-9'>9</a></div><div class='itemdescr'><p ><i>Postconditions:</i> <span class='texttt'>*this == other</span>.</p></div></div><div class='para' id='assign-10'><div class='marginalizedparent'><a class='marginalized' href='#assign-10'>10</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><code class='itemdecl'>
template&lt;class OtherExecutor&gt; strand&amp; operator=(strand&lt;OtherExecutor&gt;&amp;&amp; other) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='assign-11'><div class='marginalizedparent'><a class='marginalized' href='#assign-11'>11</a></div><div class='itemdescr'><p ><i>Requires:</i> <span class='texttt'>OtherExecutor</span> is convertible to <span class='texttt'>Executor</span>. <span class='texttt'>Executor</span> is <span class='texttt'>MoveAssignable</span> (C++Std &sect;<a href='../n4140/moveassignable'>[moveassignable]</a>).</p></div></div><div class='para' id='assign-12'><div class='marginalizedparent'><a class='marginalized' href='#assign-12'>12</a></div><div class='itemdescr'><p ><i>Effects:</i> Assigns <span class='texttt'>std::move(other.inner_ex_)</span> to <span class='texttt'>inner_ex_</span>.</p></div></div><div class='para' id='assign-13'><div class='marginalizedparent'><a class='marginalized' href='#assign-13'>13</a></div><div class='itemdescr'><p ><i>Postconditions:</i> <span class='texttt'>*this</span> is equal to the prior value of <span class='texttt'>other</span>.</p></div></div><div class='para' id='assign-14'><div class='marginalizedparent'><a class='marginalized' href='#assign-14'>14</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div></div><div id='dtor'><h3 ><a class='secnum' href='#dtor' style='min-width:103pt'>13.25.3</a> <span class='texttt'>strand</span> destructor <a class='abbr_ref' href='async.strand.dtor'>[async.strand.dtor]</a></h3><p ><span class='indexparent'><a class='index' id='strand,destructor'></a></span><code class='itemdecl'>
~strand();
</code></p><div class='itemdescr'></div><div class='para' id='dtor-1'><div class='marginalizedparent'><a class='marginalized' href='#dtor-1'>1</a></div><div class='itemdescr'><p ><i>Effects:</i> Destroys an object of class <span class='texttt'>strand&lt;Executor&gt;</span>. After this destructor completes, objects that were added to the strand but have not yet been executed will be executed in a way that meets the guarantees of ordering and non-concurrency.
</p></div></div></div><div id='ops'><h3 ><a class='secnum' href='#ops' style='min-width:103pt'>13.25.4</a> <span class='texttt'>strand</span> operations <a class='abbr_ref' href='async.strand.ops'>[async.strand.ops]</a></h3><p ><span class='indexparent'><a class='index' id='get_inner_executor,strand'></a></span><span class='indexparent'><a class='index' id='strand,get_inner_executor'></a></span><code class='itemdecl'>
inner_executor_type get_inner_executor() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='ops-1'><div class='marginalizedparent'><a class='marginalized' href='#ops-1'>1</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>inner_ex_</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='running_in_this_thread,strand'></a></span><span class='indexparent'><a class='index' id='strand,running_in_this_thread'></a></span><code class='itemdecl'>
bool running_in_this_thread() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='ops-2'><div class='marginalizedparent'><a class='marginalized' href='#ops-2'>2</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>true</span> if the current thread of execution is running a function that was submitted to the strand, or to any other strand object <span class='texttt'>s</span> such that <span class='texttt'>s == *this</span>, using <span class='texttt'>dispatch</span>, <span class='texttt'>post</span> or <span class='texttt'>defer</span>; otherwise <span class='texttt'>false</span>. [&nbsp;<i>Note:</i> That is, the current thread of execution's call chain includes a function that was submitted to the strand. <i>&nbsp;—&nbsp;end note</i>&nbsp;]
</p></div></div><p ><span class='indexparent'><a class='index' id='context,strand'></a></span><span class='indexparent'><a class='index' id='strand,context'></a></span><code class='itemdecl'>
execution_context&amp; context() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='ops-3'><div class='marginalizedparent'><a class='marginalized' href='#ops-3'>3</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>inner_ex_.context()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='on_work_started,strand'></a></span><span class='indexparent'><a class='index' id='strand,on_work_started'></a></span><code class='itemdecl'>
void on_work_started() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='ops-4'><div class='marginalizedparent'><a class='marginalized' href='#ops-4'>4</a></div><div class='itemdescr'><p ><i>Effects:</i> Calls <span class='texttt'>inner_ex_.on_work_started()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='on_work_finished,strand'></a></span><span class='indexparent'><a class='index' id='strand,on_work_finished'></a></span><code class='itemdecl'>
void on_work_finished() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='ops-5'><div class='marginalizedparent'><a class='marginalized' href='#ops-5'>5</a></div><div class='itemdescr'><p ><i>Effects:</i> Calls <span class='texttt'>inner_ex_.on_work_finished()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='dispatch,strand'></a></span><span class='indexparent'><a class='index' id='strand,dispatch'></a></span><code class='itemdecl'>
template&lt;class Func, class ProtoAllocator&gt;
  void dispatch(Func&amp;&amp; f, const ProtoAllocator&amp; a) const;
</code></p><div class='itemdescr'></div><div class='para' id='ops-6'><div class='marginalizedparent'><a class='marginalized' href='#ops-6'>6</a></div><div class='itemdescr'><p ><i>Effects:</i> If <span class='texttt'>running_in_this_thread()</span> is <span class='texttt'>true</span>, calls <span class='texttt'><i>DECAY_COPY</i>(forward&lt;Func&gt;(f))()</span> (C++Std &sect;<a href='../n4140/thread.decaycopy'>[thread.decaycopy]</a>). [&nbsp;<i>Note:</i> If <span class='texttt'>f</span> exits via an exception, the exception propagates to the caller of <span class='texttt'>dispatch()</span>. <i>&nbsp;—&nbsp;end note</i>&nbsp;] Otherwise, requests invocation of <span class='texttt'>f</span>, as if by forwarding the function object <span class='texttt'>f</span> and allocator <span class='texttt'>a</span> to the executor <span class='texttt'>inner_ex_</span>, such that the guarantees of ordering and non-concurrency are met.
</p></div></div><p ><span class='indexparent'><a class='index' id='post,strand'></a></span><span class='indexparent'><a class='index' id='strand,post'></a></span><code class='itemdecl'>
template&lt;class Func, class ProtoAllocator&gt;
  void post(Func&amp;&amp; f, const ProtoAllocator&amp; a) const;
</code></p><div class='itemdescr'></div><div class='para' id='ops-7'><div class='marginalizedparent'><a class='marginalized' href='#ops-7'>7</a></div><div class='itemdescr'><p ><i>Effects:</i> Requests invocation of <span class='texttt'>f</span>, as if by forwarding the function object <span class='texttt'>f</span> and allocator <span class='texttt'>a</span> to the executor <span class='texttt'>inner_ex_</span>, such that the guarantees of ordering and non-concurrency are met.
</p></div></div><p ><span class='indexparent'><a class='index' id='defer,strand'></a></span><span class='indexparent'><a class='index' id='strand,defer'></a></span><code class='itemdecl'>
template&lt;class Func, class ProtoAllocator&gt;
  void defer(Func&amp;&amp; f, const ProtoAllocator&amp; a) const;
</code></p><div class='itemdescr'></div><div class='para' id='ops-8'><div class='marginalizedparent'><a class='marginalized' href='#ops-8'>8</a></div><div class='itemdescr'><p ><i>Effects:</i> Requests invocation of <span class='texttt'>f</span>, as if by forwarding the function object <span class='texttt'>f</span> and allocator <span class='texttt'>a</span> to the executor <span class='texttt'>inner_ex_</span>, such that the guarantees of ordering and non-concurrency are met.
</p></div></div></div><div id='comparisons'><h3 ><a class='secnum' href='#comparisons' style='min-width:103pt'>13.25.5</a> <span class='texttt'>strand</span> comparisons <a class='abbr_ref' href='async.strand.comparisons'>[async.strand.comparisons]</a></h3><p ><span class='indexparent'><a class='index' id='operator==,strand'></a></span><span class='indexparent'><a class='index' id='strand,operator=='></a></span><code class='itemdecl'>
bool operator==(const strand&lt;Executor&gt;&amp; a, const strand&lt;Executor&gt;&amp; b);
</code></p><div class='itemdescr'></div><div class='para' id='comparisons-1'><div class='marginalizedparent'><a class='marginalized' href='#comparisons-1'>1</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>true</span>, if the strand objects share the same ordered, non-concurrent state; otherwise <span class='texttt'>false</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator!=,strand'></a></span><span class='indexparent'><a class='index' id='strand,operator!='></a></span><code class='itemdecl'>
bool operator!=(const strand&lt;Executor&gt;&amp; a, const strand&lt;Executor&gt;&amp; b);
</code></p><div class='itemdescr'></div><div class='para' id='comparisons-2'><div class='marginalizedparent'><a class='marginalized' href='#comparisons-2'>2</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>!(a == b)</span>.
</p></div></div></div></div></div></body></html>