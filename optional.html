<!DOCTYPE html><html lang='en'><head><title>[optional]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>19</a> General utilities library <a class='abbr_ref' href='./#utilities'>[utilities]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>19.6</a> Optional objects <a class='abbr_ref'>[optional]</a></h2><div id='general' class='section'><h3 ><a class='secnum' href='#general' style='min-width:103pt'>19.6.1</a> In general <a class='abbr_ref' href='optional.general'>[optional.general]</a></h3><div class='para' id='general-1'><div class='marginalizedparent'><a class='marginalized' href='#general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2106'>#</a></div><div id='general-1.sentence-1' class='sentence'>This subclause describes class template <span class='texttt'>optional</span> that represents
optional objects<a class='hidden_link' href='#general-1.sentence-1'>.</a></div> <div id='general-1.sentence-2' class='sentence'>An <a class='hidden_link' href='#def:optional_object' id='def:optional_object'><i >optional object</i></a> is an
object that contains the storage for another object and manages the lifetime of
this contained object, if any<a class='hidden_link' href='#general-1.sentence-2'>.</a></div> <div id='general-1.sentence-3' class='sentence'>The contained object may be initialized after
the optional object has been initialized, and may be destroyed before the
optional object has been destroyed<a class='hidden_link' href='#general-1.sentence-3'>.</a></div> <div id='general-1.sentence-4' class='sentence'>The initialization state of the contained
object is tracked by the optional object<a class='hidden_link' href='#general-1.sentence-4'>.</a></div></div></div><div id='syn' class='section'><h3 ><a class='secnum' href='#syn' style='min-width:103pt'>19.6.2</a> Header <span class='texttt'>&lt;optional&gt;</span> synopsis <a class='abbr_ref' href='optional.syn'>[optional.syn]</a></h3><span class='indexparent'><a class='index' id=':<optional>'></a></span><span class='indexparent'><a class='index' id=':<optional>'></a></span><pre class='codeblock'>
namespace std {
  <span class='comment'>// <a href='#optional'>[optional.optional]</a>, class template <span class='tcode_in_codeblock'>optional</span>
</span>  template&lt;class T&gt;
    class optional;

  <span class='comment'>// <a href='#nullopt'>[optional.nullopt]</a>, no-value state indicator
</span>  struct nullopt_t{<span class='textit'><span class='texttt'>see below</span></span>};
  inline constexpr nullopt_t nullopt(<span class='textit'><span class='texttt'>unspecified</span></span>);

  <span class='comment'>// <a href='#bad.access'>[optional.bad.access]</a>, class <span class='tcode_in_codeblock'>bad_&shy;optional_&shy;access</span>
</span>  class bad_optional_access;

  <span class='comment'>// <a href='#relops'>[optional.relops]</a>, relational operators
</span>  template&lt;class T, class U&gt;
    constexpr bool operator==(const optional&lt;T&gt;&amp;, const optional&lt;U&gt;&amp;);
  template&lt;class T, class U&gt;
    constexpr bool operator!=(const optional&lt;T&gt;&amp;, const optional&lt;U&gt;&amp;);
  template&lt;class T, class U&gt;
    constexpr bool operator&lt;(const optional&lt;T&gt;&amp;, const optional&lt;U&gt;&amp;);
  template&lt;class T, class U&gt;
    constexpr bool operator&gt;(const optional&lt;T&gt;&amp;, const optional&lt;U&gt;&amp;);
  template&lt;class T, class U&gt;
    constexpr bool operator&lt;=(const optional&lt;T&gt;&amp;, const optional&lt;U&gt;&amp;);
  template&lt;class T, class U&gt;
    constexpr bool operator&gt;=(const optional&lt;T&gt;&amp;, const optional&lt;U&gt;&amp;);

  <span class='comment'>// <a href='#nullops'>[optional.nullops]</a>, comparison with <span class='tcode_in_codeblock'>nullopt</span>
</span>  template&lt;class T&gt; constexpr bool operator==(const optional&lt;T&gt;&amp;, nullopt_t) noexcept;
  template&lt;class T&gt; constexpr bool operator==(nullopt_t, const optional&lt;T&gt;&amp;) noexcept;
  template&lt;class T&gt; constexpr bool operator!=(const optional&lt;T&gt;&amp;, nullopt_t) noexcept;
  template&lt;class T&gt; constexpr bool operator!=(nullopt_t, const optional&lt;T&gt;&amp;) noexcept;
  template&lt;class T&gt; constexpr bool operator&lt;(const optional&lt;T&gt;&amp;, nullopt_t) noexcept;
  template&lt;class T&gt; constexpr bool operator&lt;(nullopt_t, const optional&lt;T&gt;&amp;) noexcept;
  template&lt;class T&gt; constexpr bool operator&gt;(const optional&lt;T&gt;&amp;, nullopt_t) noexcept;
  template&lt;class T&gt; constexpr bool operator&gt;(nullopt_t, const optional&lt;T&gt;&amp;) noexcept;
  template&lt;class T&gt; constexpr bool operator&lt;=(const optional&lt;T&gt;&amp;, nullopt_t) noexcept;
  template&lt;class T&gt; constexpr bool operator&lt;=(nullopt_t, const optional&lt;T&gt;&amp;) noexcept;
  template&lt;class T&gt; constexpr bool operator&gt;=(const optional&lt;T&gt;&amp;, nullopt_t) noexcept;
  template&lt;class T&gt; constexpr bool operator&gt;=(nullopt_t, const optional&lt;T&gt;&amp;) noexcept;

  <span class='comment'>// <a href='#comp_with_t'>[optional.comp_with_t]</a>, comparison with <span class='tcode_in_codeblock'>T</span>
</span>  template&lt;class T, class U&gt; constexpr bool operator==(const optional&lt;T&gt;&amp;, const U&amp;);
  template&lt;class T, class U&gt; constexpr bool operator==(const T&amp;, const optional&lt;U&gt;&amp;);
  template&lt;class T, class U&gt; constexpr bool operator!=(const optional&lt;T&gt;&amp;, const U&amp;);
  template&lt;class T, class U&gt; constexpr bool operator!=(const T&amp;, const optional&lt;U&gt;&amp;);
  template&lt;class T, class U&gt; constexpr bool operator&lt;(const optional&lt;T&gt;&amp;, const U&amp;);
  template&lt;class T, class U&gt; constexpr bool operator&lt;(const T&amp;, const optional&lt;U&gt;&amp;);
  template&lt;class T, class U&gt; constexpr bool operator&gt;(const optional&lt;T&gt;&amp;, const U&amp;);
  template&lt;class T, class U&gt; constexpr bool operator&gt;(const T&amp;, const optional&lt;U&gt;&amp;);
  template&lt;class T, class U&gt; constexpr bool operator&lt;=(const optional&lt;T&gt;&amp;, const U&amp;);
  template&lt;class T, class U&gt; constexpr bool operator&lt;=(const T&amp;, const optional&lt;U&gt;&amp;);
  template&lt;class T, class U&gt; constexpr bool operator&gt;=(const optional&lt;T&gt;&amp;, const U&amp;);
  template&lt;class T, class U&gt; constexpr bool operator&gt;=(const T&amp;, const optional&lt;U&gt;&amp;);

  <span class='comment'>// <a href='#specalg'>[optional.specalg]</a>, specialized algorithms
</span>  template&lt;class T&gt;
    void swap(optional&lt;T&gt;&amp;, optional&lt;T&gt;&amp;) noexcept(<span class='textit'><span class='texttt'>see below</span></span>);

  template&lt;class T&gt;
    constexpr optional&lt;<span class='textit'><span class='texttt'>see below</span></span>&gt; make_optional(T&amp;&amp;);
  template&lt;class T, class... Args&gt;
    constexpr optional&lt;T&gt; make_optional(Args&amp;&amp;... args);
  template&lt;class T, class U, class... Args&gt;
    constexpr optional&lt;T&gt; make_optional(initializer_list&lt;U&gt; il, Args&amp;&amp;... args);

  <span class='comment'>// <a href='#hash'>[optional.hash]</a>, hash support
</span>  template&lt;class T&gt; struct hash;
  template&lt;class T&gt; struct hash&lt;optional&lt;T&gt;&gt;;
}</pre></div><div id='optional' class='section'><h3 ><a class='secnum' href='#optional' style='min-width:103pt'>19.6.3</a> Class template <span class='texttt'>optional</span> <a class='abbr_ref' href='optional.optional'>[optional.optional]</a></h3><span class='indexparent'><a class='index' id='lib:optional'></a></span><span class='indexparent'><a class='index' id='lib:value_type,optional'></a></span><span class='indexparent'><a class='index' id='lib:optional,value_type'></a></span><pre class='codeblock'>
namespace std {
  template&lt;class T&gt;
  class optional {
  public:
    using value_type = T;

    <span class='comment'>// <a href='#ctor'>[optional.ctor]</a>, constructors
</span>    constexpr optional() noexcept;
    constexpr optional(nullopt_t) noexcept;
    constexpr optional(const optional&amp;);
    constexpr optional(optional&amp;&amp;) noexcept(<span class='textit'><span class='texttt'>see below</span></span>);
    template&lt;class... Args&gt;
      constexpr explicit optional(in_place_t, Args&amp;&amp;...);
    template&lt;class U, class... Args&gt;
      constexpr explicit optional(in_place_t, initializer_list&lt;U&gt;, Args&amp;&amp;...);
    template&lt;class U = T&gt;
      explicit(<span class='textit'><span class='texttt'>see below</span></span>) constexpr optional(U&amp;&amp;);
    template&lt;class U&gt;
      explicit(<span class='textit'><span class='texttt'>see below</span></span>) optional(const optional&lt;U&gt;&amp;);
    template&lt;class U&gt;
      explicit(<span class='textit'><span class='texttt'>see below</span></span>) optional(optional&lt;U&gt;&amp;&amp;);

    <span class='comment'>// <a href='#dtor'>[optional.dtor]</a>, destructor
</span>    ~optional();

    <span class='comment'>// <a href='#assign'>[optional.assign]</a>, assignment
</span>    optional&amp; operator=(nullopt_t) noexcept;
    optional&amp; operator=(const optional&amp;);
    optional&amp; operator=(optional&amp;&amp;) noexcept(<span class='textit'><span class='texttt'>see below</span></span>);
    template&lt;class U = T&gt; optional&amp; operator=(U&amp;&amp;);
    template&lt;class U&gt; optional&amp; operator=(const optional&lt;U&gt;&amp;);
    template&lt;class U&gt; optional&amp; operator=(optional&lt;U&gt;&amp;&amp;);
    template&lt;class... Args&gt; T&amp; emplace(Args&amp;&amp;...);
    template&lt;class U, class... Args&gt; T&amp; emplace(initializer_list&lt;U&gt;, Args&amp;&amp;...);

    <span class='comment'>// <a href='#swap'>[optional.swap]</a>, swap
</span>    void swap(optional&amp;) noexcept(<span class='textit'><span class='texttt'>see below</span></span>);

    <span class='comment'>// <a href='#observe'>[optional.observe]</a>, observers
</span>    constexpr const T* operator-&gt;() const;
    constexpr T* operator-&gt;();
    constexpr const T&amp; operator*() const&amp;;
    constexpr T&amp; operator*() &amp;;
    constexpr T&amp;&amp; operator*() &amp;&amp;;
    constexpr const T&amp;&amp; operator*() const&amp;&amp;;
    constexpr explicit operator bool() const noexcept;
    constexpr bool has_value() const noexcept;
    constexpr const T&amp; value() const&amp;;
    constexpr T&amp; value() &amp;;
    constexpr T&amp;&amp; value() &amp;&amp;;
    constexpr const T&amp;&amp; value() const&amp;&amp;;
    template&lt;class U&gt; constexpr T value_or(U&amp;&amp;) const&amp;;
    template&lt;class U&gt; constexpr T value_or(U&amp;&amp;) &amp;&amp;;

    <span class='comment'>// <a href='#mod'>[optional.mod]</a>, modifiers
</span>    void reset() noexcept;

  private:
    T *val;         <span class='comment'>// <span class='textit'>exposition only</span>
</span>  };

  template&lt;class T&gt;
    optional(T) -&gt; optional&lt;T&gt;;
}</pre><div class='para' id='optional-1'><div class='marginalizedparent'><a class='marginalized' href='#optional-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2262'>#</a></div><div id='optional-1.sentence-1' class='sentence'>Any instance of <span class='texttt'>optional&lt;T&gt;</span> at any given time either contains a value or does not contain a value<a class='hidden_link' href='#optional-1.sentence-1'>.</a></div> <div id='optional-1.sentence-2' class='sentence'>When an instance of <span class='texttt'>optional&lt;T&gt;</span> <a class='hidden_link' href='#def:contains_a_value,optional' id='def:contains_a_value,optional'><i >contains a value</i></a>,
it means that an object of type <span class='texttt'>T</span>, referred to as the optional object's <a class='hidden_link' href='#def:contained_value,optional' id='def:contained_value,optional'><i >contained value</i></a>,
is allocated within the storage of the optional object<a class='hidden_link' href='#optional-1.sentence-2'>.</a></div> <div id='optional-1.sentence-3' class='sentence'>Implementations are not permitted to use additional storage, such as dynamic memory, to allocate its contained value<a class='hidden_link' href='#optional-1.sentence-3'>.</a></div> <div id='optional-1.sentence-4' class='sentence'>The contained value shall be allocated in a region of the <span class='texttt'>optional&lt;T&gt;</span> storage suitably aligned for the type <span class='texttt'>T</span><a class='hidden_link' href='#optional-1.sentence-4'>.</a></div> <div id='optional-1.sentence-5' class='sentence'>When an object of type <span class='texttt'>optional&lt;T&gt;</span> is contextually converted to <span class='texttt'>bool</span>,
the conversion returns <span class='texttt'>true</span> if the object contains a value;
otherwise the conversion returns <span class='texttt'>false</span><a class='hidden_link' href='#optional-1.sentence-5'>.</a></div></div><div class='para' id='optional-2'><div class='marginalizedparent'><a class='marginalized' href='#optional-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2273'>#</a></div><div id='optional-2.sentence-1' class='sentence'>Member <span class='texttt'>val</span> is provided for exposition only<a class='hidden_link' href='#optional-2.sentence-1'>.</a></div> <div id='optional-2.sentence-2' class='sentence'>When an <span class='texttt'>optional&lt;T&gt;</span> object contains a value, <span class='texttt'>val</span> points to the contained value<a class='hidden_link' href='#optional-2.sentence-2'>.</a></div></div><div class='para' id='optional-3'><div class='marginalizedparent'><a class='marginalized' href='#optional-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2276'>#</a></div><div id='optional-3.sentence-1' class='sentence'><span class='texttt'>T</span> shall be an object type
other than <span class='mathit'>cv</span> <span class='texttt'>in_&shy;place_&shy;t</span> or <span class='mathit'>cv</span> <span class='texttt'>nullopt_&shy;t</span>
and shall satisfy the <span class='textit'>Cpp17Destructible</span> requirements (Table <a href='utility.arg.requirements#tab:destructible'>29</a>)<a class='hidden_link' href='#optional-3.sentence-1'>.</a></div></div><div id='ctor' class='section'><h4 ><a class='secnum' href='#ctor' style='min-width:118pt'>19.6.3.1</a> Constructors <a class='abbr_ref' href='optional.ctor'>[optional.ctor]</a></h4><span class='indexparent'><a class='index' id='lib:optional,constructor'></a></span><div class='itemdecl' id='ctor-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#ctor-itemdecl:1'>🔗</a></div><code class='itemdeclcode'>constexpr optional() noexcept;
constexpr optional(nullopt_t) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#ctor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2290'>#</a></div><div id='ctor-1.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>*this</span> does not contain a value<a class='hidden_link' href='#ctor-1.sentence-1'>.</a></div></div></div><div class='para' id='ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#ctor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2294'>#</a></div><div id='ctor-2.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
No contained value is initialized<a class='hidden_link' href='#ctor-2.sentence-1'>.</a></div> <div id='ctor-2.sentence-2' class='sentence'>For every object type <span class='texttt'>T</span> these constructors shall be
<a href='dcl.constexpr#def:specifier,constexpr,constructor'>constexpr constructors</a><a class='hidden_link' href='#ctor-2.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:optional,constructor_'></a></span><div class='itemdecl' id='ctor-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#ctor-itemdecl:2'>🔗</a></div><code class='itemdeclcode'>constexpr optional(const optional&amp; rhs);
</code></div><div class='itemdescr'></div><div class='para' id='ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#ctor-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2307'>#</a></div><div id='ctor-3.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
If <span class='texttt'>rhs</span> contains a value, initializes the contained value as if
direct-non-list-initializing an object of type <span class='texttt'>T</span> with the expression <span class='texttt'>*rhs</span><a class='hidden_link' href='#ctor-3.sentence-1'>.</a></div></div></div><div class='para' id='ctor-4'><div class='marginalizedparent'><a class='marginalized' href='#ctor-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2312'>#</a></div><div id='ctor-4.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>bool(rhs) == bool(*this)</span><a class='hidden_link' href='#ctor-4.sentence-1'>.</a></div></div></div><div class='para' id='ctor-5'><div class='marginalizedparent'><a class='marginalized' href='#ctor-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2316'>#</a></div><div id='ctor-5.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exception thrown by the selected constructor of <span class='texttt'>T</span><a class='hidden_link' href='#ctor-5.sentence-1'>.</a></div></div></div><div class='para' id='ctor-6'><div class='marginalizedparent'><a class='marginalized' href='#ctor-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2320'>#</a></div><div id='ctor-6.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This constructor shall be defined as deleted unless
<span class='texttt'>is_&shy;copy_&shy;constructible_&shy;v&lt;T&gt;</span> is <span class='texttt'>true</span><a class='hidden_link' href='#ctor-6.sentence-1'>.</a></div> <div id='ctor-6.sentence-2' class='sentence'>If <span class='texttt'>is_&shy;trivially_&shy;copy_&shy;constructible_&shy;v&lt;T&gt;</span> is <span class='texttt'>true</span>,
this constructor shall be a <span class='texttt'>constexpr</span> constructor<a class='hidden_link' href='#ctor-6.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:optional,constructor__'></a></span><div class='itemdecl' id='ctor-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#ctor-itemdecl:3'>🔗</a></div><code class='itemdeclcode'>constexpr optional(optional&amp;&amp; rhs) noexcept(<span class='textit'><span class='texttt'>see below</span></span>);
</code></div><div class='itemdescr'></div><div class='para' id='ctor-7'><div class='marginalizedparent'><a class='marginalized' href='#ctor-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2334'>#</a></div><div id='ctor-7.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
If <span class='texttt'>rhs</span> contains a value, initializes the contained value as if
direct-non-list-initializing an object of type <span class='texttt'>T</span> with the expression <span class='texttt'>std&#x200b;::&#x200b;move(*rhs)</span><a class='hidden_link' href='#ctor-7.sentence-1'>.</a></div> <div id='ctor-7.sentence-2' class='sentence'><span class='texttt'>bool(rhs)</span> is unchanged<a class='hidden_link' href='#ctor-7.sentence-2'>.</a></div></div></div><div class='para' id='ctor-8'><div class='marginalizedparent'><a class='marginalized' href='#ctor-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2340'>#</a></div><div id='ctor-8.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>bool(rhs) == bool(*this)</span><a class='hidden_link' href='#ctor-8.sentence-1'>.</a></div></div></div><div class='para' id='ctor-9'><div class='marginalizedparent'><a class='marginalized' href='#ctor-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2344'>#</a></div><div id='ctor-9.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exception thrown by the selected constructor of <span class='texttt'>T</span><a class='hidden_link' href='#ctor-9.sentence-1'>.</a></div></div></div><div class='para' id='ctor-10'><div class='marginalizedparent'><a class='marginalized' href='#ctor-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2348'>#</a></div><div id='ctor-10.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
The expression inside <span class='texttt'>noexcept</span> is equivalent to
<span class='texttt'>is_&shy;nothrow_&shy;move_&shy;constructible_&shy;v&lt;T&gt;</span><a class='hidden_link' href='#ctor-10.sentence-1'>.</a></div> <div id='ctor-10.sentence-2' class='sentence'>This constructor shall not participate in overload resolution
unless <span class='texttt'>is_&shy;move_&shy;constructible_&shy;v&lt;T&gt;</span> is <span class='texttt'>true</span><a class='hidden_link' href='#ctor-10.sentence-2'>.</a></div> <div id='ctor-10.sentence-3' class='sentence'>If <span class='texttt'>is_&shy;trivially_&shy;move_&shy;constructible_&shy;v&lt;T&gt;</span> is <span class='texttt'>true</span>,
this constructor shall be a <span class='texttt'>constexpr</span> constructor<a class='hidden_link' href='#ctor-10.sentence-3'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:optional,constructor___'></a></span><div class='itemdecl' id='ctor-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#ctor-itemdecl:4'>🔗</a></div><code class='itemdeclcode'>template&lt;class... Args&gt; constexpr explicit optional(in_place_t, Args&amp;&amp;... args);
</code></div><div class='itemdescr'></div><div class='para' id='ctor-11'><div class='marginalizedparent'><a class='marginalized' href='#ctor-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2364'>#</a></div><div id='ctor-11.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Initializes the contained value as if direct-non-list-initializing an object of type <span class='texttt'>T</span> with the arguments <span class='texttt'>std&#x200b;::&#x200b;forward&lt;Args&gt;(args)...</span><a class='hidden_link' href='#ctor-11.sentence-1'>.</a></div></div></div><div class='para' id='ctor-12'><div class='marginalizedparent'><a class='marginalized' href='#ctor-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2368'>#</a></div><div id='ctor-12.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>*this</span> contains a value<a class='hidden_link' href='#ctor-12.sentence-1'>.</a></div></div></div><div class='para' id='ctor-13'><div class='marginalizedparent'><a class='marginalized' href='#ctor-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2372'>#</a></div><div id='ctor-13.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exception thrown by the selected constructor of <span class='texttt'>T</span><a class='hidden_link' href='#ctor-13.sentence-1'>.</a></div></div></div><div class='para' id='ctor-14'><div class='marginalizedparent'><a class='marginalized' href='#ctor-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2376'>#</a></div><div id='ctor-14.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
If <span class='texttt'>T</span>'s constructor selected for the initialization is a constexpr constructor, this constructor shall be a constexpr constructor<a class='hidden_link' href='#ctor-14.sentence-1'>.</a></div> <div id='ctor-14.sentence-2' class='sentence'>This constructor shall not participate in overload resolution
unless <span class='texttt'>is_&shy;constructible_&shy;v&lt;T, Args...&gt;</span> is <span class='texttt'>true</span><a class='hidden_link' href='#ctor-14.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:optional,constructor____'></a></span><div class='itemdecl' id='ctor-itemdecl:5'><div class='marginalizedparent'><a class='itemDeclLink' href='#ctor-itemdecl:5'>🔗</a></div><code class='itemdeclcode'>template&lt;class U, class... Args&gt;
  constexpr explicit optional(in_place_t, initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
</code></div><div class='itemdescr'></div><div class='para' id='ctor-15'><div class='marginalizedparent'><a class='marginalized' href='#ctor-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2390'>#</a></div><div id='ctor-15.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Initializes the contained value as if direct-non-list-initializing an object of type <span class='texttt'>T</span> with the arguments <span class='texttt'>il, std&#x200b;::&#x200b;forward&lt;Args&gt;(args)...</span><a class='hidden_link' href='#ctor-15.sentence-1'>.</a></div></div></div><div class='para' id='ctor-16'><div class='marginalizedparent'><a class='marginalized' href='#ctor-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2394'>#</a></div><div id='ctor-16.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>*this</span> contains a value<a class='hidden_link' href='#ctor-16.sentence-1'>.</a></div></div></div><div class='para' id='ctor-17'><div class='marginalizedparent'><a class='marginalized' href='#ctor-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2398'>#</a></div><div id='ctor-17.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exception thrown by the selected constructor of <span class='texttt'>T</span><a class='hidden_link' href='#ctor-17.sentence-1'>.</a></div></div></div><div class='para' id='ctor-18'><div class='marginalizedparent'><a class='marginalized' href='#ctor-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2402'>#</a></div><div id='ctor-18.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This constructor shall not participate in overload resolution unless <span class='texttt'>is_&shy;constructible_&shy;v&lt;T, initializer_&shy;list&lt;U&gt;&amp;, Args&amp;&amp;...&gt;</span> is <span class='texttt'>true</span><a class='hidden_link' href='#ctor-18.sentence-1'>.</a></div> <div id='ctor-18.sentence-2' class='sentence'>If <span class='texttt'>T</span>'s constructor selected for the initialization is a constexpr constructor, this constructor shall be a constexpr constructor<a class='hidden_link' href='#ctor-18.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:optional,constructor_____'></a></span><div class='itemdecl' id='ctor-itemdecl:6'><div class='marginalizedparent'><a class='itemDeclLink' href='#ctor-itemdecl:6'>🔗</a></div><code class='itemdeclcode'>template&lt;class U = T&gt; explicit(<span class='textit'><span class='texttt'>see below</span></span>) constexpr optional(U&amp;&amp; v);
</code></div><div class='itemdescr'></div><div class='para' id='ctor-19'><div class='marginalizedparent'><a class='marginalized' href='#ctor-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2414'>#</a></div><div id='ctor-19.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Initializes the contained value as if direct-non-list-initializing
an object of type <span class='texttt'>T</span> with the expression <span class='texttt'>std&#x200b;::&#x200b;forward&lt;U&gt;(v)</span><a class='hidden_link' href='#ctor-19.sentence-1'>.</a></div></div></div><div class='para' id='ctor-20'><div class='marginalizedparent'><a class='marginalized' href='#ctor-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2419'>#</a></div><div id='ctor-20.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>*this</span> contains a value<a class='hidden_link' href='#ctor-20.sentence-1'>.</a></div></div></div><div class='para' id='ctor-21'><div class='marginalizedparent'><a class='marginalized' href='#ctor-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2423'>#</a></div><div id='ctor-21.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exception thrown by the selected constructor of <span class='texttt'>T</span><a class='hidden_link' href='#ctor-21.sentence-1'>.</a></div></div></div><div class='para' id='ctor-22'><div class='marginalizedparent'><a class='marginalized' href='#ctor-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2427'>#</a></div><div id='ctor-22.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
If <span class='texttt'>T</span>'s selected constructor is a constexpr constructor,
this constructor shall be a constexpr constructor<a class='hidden_link' href='#ctor-22.sentence-1'>.</a></div> <div id='ctor-22.sentence-2' class='sentence'>This constructor shall not participate in overload resolution unless
<span class='texttt'>is_&shy;constructible_&shy;v&lt;T, U&amp;&amp;&gt;</span> is <span class='texttt'>true</span>,
<span class='texttt'>is_&shy;same_&shy;v&lt;remove_&shy;cvref_&shy;t&lt;U&gt;, in_&shy;place_&shy;t&gt;</span> is <span class='texttt'>false</span>, and
<span class='texttt'>is_&shy;same_&shy;v&lt;remove_&shy;cvref_&shy;t&lt;U&gt;, optional&gt;</span> is <span class='texttt'>false</span><a class='hidden_link' href='#ctor-22.sentence-2'>.</a></div> <div id='ctor-22.sentence-3' class='sentence'>The expression inside <span class='texttt'>explicit</span> is equivalent to:
<pre class='codeblock'>
!is_convertible_v&lt;U, T&gt;</pre></div></div></div><span class='indexparent'><a class='index' id='lib:optional,constructor______'></a></span><div class='itemdecl' id='ctor-itemdecl:7'><div class='marginalizedparent'><a class='itemDeclLink' href='#ctor-itemdecl:7'>🔗</a></div><code class='itemdeclcode'>template&lt;class U&gt; explicit(<span class='textit'><span class='texttt'>see below</span></span>) optional(const optional&lt;U&gt;&amp; rhs);
</code></div><div class='itemdescr'></div><div class='para' id='ctor-23'><div class='marginalizedparent'><a class='marginalized' href='#ctor-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2447'>#</a></div><div id='ctor-23.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
If <span class='texttt'>rhs</span> contains a value,
initializes the contained value as if direct-non-list-initializing
an object of type <span class='texttt'>T</span> with the expression <span class='texttt'>*rhs</span><a class='hidden_link' href='#ctor-23.sentence-1'>.</a></div></div></div><div class='para' id='ctor-24'><div class='marginalizedparent'><a class='marginalized' href='#ctor-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2453'>#</a></div><div id='ctor-24.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>bool(rhs)</span> == <span class='texttt'>bool(*this)</span><a class='hidden_link' href='#ctor-24.sentence-1'>.</a></div></div></div><div class='para' id='ctor-25'><div class='marginalizedparent'><a class='marginalized' href='#ctor-25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2457'>#</a></div><div id='ctor-25.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exception thrown by the selected constructor of <span class='texttt'>T</span><a class='hidden_link' href='#ctor-25.sentence-1'>.</a></div></div></div><div class='para' id='ctor-26'><div class='marginalizedparent'><a class='marginalized' href='#ctor-26'>26</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2461'>#</a></div><div id='ctor-26.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This constructor shall not participate in overload resolution unless
<ul class='itemize'><li id='ctor-26.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-26.1'>(26.1)</a></div><div id='ctor-26.1.sentence-1' class='sentence'><span class='texttt'>is_&shy;constructible_&shy;v&lt;T, const U&amp;&gt;</span> is <span class='texttt'>true</span>,</div></li><li id='ctor-26.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-26.2'>(26.2)</a></div><div id='ctor-26.2.sentence-1' class='sentence'><span class='texttt'>is_&shy;constructible_&shy;v&lt;T, optional&lt;U&gt;&amp;&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='ctor-26.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-26.3'>(26.3)</a></div><div id='ctor-26.3.sentence-1' class='sentence'><span class='texttt'>is_&shy;constructible_&shy;v&lt;T, optional&lt;U&gt;&amp;&amp;&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='ctor-26.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-26.4'>(26.4)</a></div><div id='ctor-26.4.sentence-1' class='sentence'><span class='texttt'>is_&shy;constructible_&shy;v&lt;T, const optional&lt;U&gt;&amp;&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='ctor-26.5'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-26.5'>(26.5)</a></div><div id='ctor-26.5.sentence-1' class='sentence'><span class='texttt'>is_&shy;constructible_&shy;v&lt;T, const optional&lt;U&gt;&amp;&amp;&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='ctor-26.6'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-26.6'>(26.6)</a></div><div id='ctor-26.6.sentence-1' class='sentence'><span class='texttt'>is_&shy;convertible_&shy;v&lt;optional&lt;U&gt;&amp;, T&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='ctor-26.7'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-26.7'>(26.7)</a></div><div id='ctor-26.7.sentence-1' class='sentence'><span class='texttt'>is_&shy;convertible_&shy;v&lt;optional&lt;U&gt;&amp;&amp;, T&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='ctor-26.8'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-26.8'>(26.8)</a></div><div id='ctor-26.8.sentence-1' class='sentence'><span class='texttt'>is_&shy;convertible_&shy;v&lt;const optional&lt;U&gt;&amp;, T&gt;</span> is <span class='texttt'>false</span>, and</div></li><li id='ctor-26.9'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-26.9'>(26.9)</a></div><div id='ctor-26.9.sentence-1' class='sentence'><span class='texttt'>is_&shy;convertible_&shy;v&lt;const optional&lt;U&gt;&amp;&amp;, T&gt;</span> is <span class='texttt'>false</span><a class='hidden_link' href='#ctor-26.9.sentence-1'>.</a></div></li></ul></div> <div id='ctor-26.sentence-2' class='sentence'>
The expression inside <span class='texttt'>explicit</span> is equivalent to:
<pre class='codeblock'>
!is_convertible_v&lt;const U&amp;, T&gt;</pre></div></div></div><span class='indexparent'><a class='index' id='lib:optional,constructor_______'></a></span><div class='itemdecl' id='ctor-itemdecl:8'><div class='marginalizedparent'><a class='itemDeclLink' href='#ctor-itemdecl:8'>🔗</a></div><code class='itemdeclcode'>template&lt;class U&gt; explicit(<span class='textit'><span class='texttt'>see below</span></span>) optional(optional&lt;U&gt;&amp;&amp; rhs);
</code></div><div class='itemdescr'></div><div class='para' id='ctor-27'><div class='marginalizedparent'><a class='marginalized' href='#ctor-27'>27</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2487'>#</a></div><div id='ctor-27.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
If <span class='texttt'>rhs</span> contains a value,
initializes the contained value as if direct-non-list-initializing
an object of type <span class='texttt'>T</span> with the expression <span class='texttt'>std&#x200b;::&#x200b;move(*rhs)</span><a class='hidden_link' href='#ctor-27.sentence-1'>.</a></div> <div id='ctor-27.sentence-2' class='sentence'><span class='texttt'>bool(rhs)</span> is unchanged<a class='hidden_link' href='#ctor-27.sentence-2'>.</a></div></div></div><div class='para' id='ctor-28'><div class='marginalizedparent'><a class='marginalized' href='#ctor-28'>28</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2494'>#</a></div><div id='ctor-28.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>bool(rhs)</span> == <span class='texttt'>bool(*this)</span><a class='hidden_link' href='#ctor-28.sentence-1'>.</a></div></div></div><div class='para' id='ctor-29'><div class='marginalizedparent'><a class='marginalized' href='#ctor-29'>29</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2498'>#</a></div><div id='ctor-29.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exception thrown by the selected constructor of <span class='texttt'>T</span><a class='hidden_link' href='#ctor-29.sentence-1'>.</a></div></div></div><div class='para' id='ctor-30'><div class='marginalizedparent'><a class='marginalized' href='#ctor-30'>30</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2502'>#</a></div><div id='ctor-30.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This constructor shall not participate in overload resolution unless
<ul class='itemize'><li id='ctor-30.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-30.1'>(30.1)</a></div><div id='ctor-30.1.sentence-1' class='sentence'><span class='texttt'>is_&shy;constructible_&shy;v&lt;T, U&amp;&amp;&gt;</span> is true,</div></li><li id='ctor-30.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-30.2'>(30.2)</a></div><div id='ctor-30.2.sentence-1' class='sentence'><span class='texttt'>is_&shy;constructible_&shy;v&lt;T, optional&lt;U&gt;&amp;&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='ctor-30.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-30.3'>(30.3)</a></div><div id='ctor-30.3.sentence-1' class='sentence'><span class='texttt'>is_&shy;constructible_&shy;v&lt;T, optional&lt;U&gt;&amp;&amp;&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='ctor-30.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-30.4'>(30.4)</a></div><div id='ctor-30.4.sentence-1' class='sentence'><span class='texttt'>is_&shy;constructible_&shy;v&lt;T, const optional&lt;U&gt;&amp;&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='ctor-30.5'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-30.5'>(30.5)</a></div><div id='ctor-30.5.sentence-1' class='sentence'><span class='texttt'>is_&shy;constructible_&shy;v&lt;T, const optional&lt;U&gt;&amp;&amp;&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='ctor-30.6'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-30.6'>(30.6)</a></div><div id='ctor-30.6.sentence-1' class='sentence'><span class='texttt'>is_&shy;convertible_&shy;v&lt;optional&lt;U&gt;&amp;, T&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='ctor-30.7'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-30.7'>(30.7)</a></div><div id='ctor-30.7.sentence-1' class='sentence'><span class='texttt'>is_&shy;convertible_&shy;v&lt;optional&lt;U&gt;&amp;&amp;, T&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='ctor-30.8'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-30.8'>(30.8)</a></div><div id='ctor-30.8.sentence-1' class='sentence'><span class='texttt'>is_&shy;convertible_&shy;v&lt;const optional&lt;U&gt;&amp;, T&gt;</span> is <span class='texttt'>false</span>, and</div></li><li id='ctor-30.9'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-30.9'>(30.9)</a></div><div id='ctor-30.9.sentence-1' class='sentence'><span class='texttt'>is_&shy;convertible_&shy;v&lt;const optional&lt;U&gt;&amp;&amp;, T&gt;</span> is <span class='texttt'>false</span><a class='hidden_link' href='#ctor-30.9.sentence-1'>.</a></div></li></ul></div> <div id='ctor-30.sentence-2' class='sentence'>
The expression inside <span class='texttt'>explicit</span> is equivalent to:
<pre class='codeblock'>
!is_convertible_v&lt;U, T&gt;</pre></div></div></div></div><div id='dtor' class='section'><h4 ><a class='secnum' href='#dtor' style='min-width:118pt'>19.6.3.2</a> Destructor <a class='abbr_ref' href='optional.dtor'>[optional.dtor]</a></h4><span class='indexparent'><a class='index' id='lib:optional,destructor'></a></span><div class='itemdecl' id='dtor-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#dtor-itemdecl:1'>🔗</a></div><code class='itemdeclcode'>~optional();
</code></div><div class='itemdescr'></div><div class='para' id='dtor-1'><div class='marginalizedparent'><a class='marginalized' href='#dtor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2530'>#</a></div><div id='dtor-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
If <span class='texttt'>is_&shy;trivially_&shy;destructible_&shy;v&lt;T&gt; != true</span> and <span class='texttt'>*this</span> contains a value, calls
<pre class='codeblock'>
val-&gt;T::~T()</pre></div></div></div><div class='para' id='dtor-2'><div class='marginalizedparent'><a class='marginalized' href='#dtor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2537'>#</a></div><div id='dtor-2.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
If <span class='texttt'>is_&shy;trivially_&shy;destructible_&shy;v&lt;T&gt;</span> is <span class='texttt'>true</span>, then this destructor is trivial<a class='hidden_link' href='#dtor-2.sentence-1'>.</a></div></div></div></div><div id='assign' class='section'><h4 ><a class='secnum' href='#assign' style='min-width:118pt'>19.6.3.3</a> Assignment <a class='abbr_ref' href='optional.assign'>[optional.assign]</a></h4><span class='indexparent'><a class='index' id='lib:operator=,optional'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator='></a></span><div class='itemdecl' id='assign-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#assign-itemdecl:1'>🔗</a></div><code class='itemdeclcode'>optional&lt;T&gt;&amp; operator=(nullopt_t) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='assign-1'><div class='marginalizedparent'><a class='marginalized' href='#assign-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2550'>#</a></div><div id='assign-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
If <span class='texttt'>*this</span> contains a value, calls <span class='texttt'>val-&gt;T&#x200b;::&#x200b;~T()</span> to destroy the contained value; otherwise no effect<a class='hidden_link' href='#assign-1.sentence-1'>.</a></div></div></div><div class='para' id='assign-2'><div class='marginalizedparent'><a class='marginalized' href='#assign-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2554'>#</a></div><div id='assign-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>*this</span><a class='hidden_link' href='#assign-2.sentence-1'>.</a></div></div></div><div class='para' id='assign-3'><div class='marginalizedparent'><a class='marginalized' href='#assign-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2558'>#</a></div><div id='assign-3.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>*this</span> does not contain a value<a class='hidden_link' href='#assign-3.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator=,optional_'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator=_'></a></span><div class='itemdecl' id='assign-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#assign-itemdecl:2'>🔗</a></div><code class='itemdeclcode'>optional&lt;T&gt;&amp; operator=(const optional&amp; rhs);
</code></div><div class='itemdescr'></div><div class='para' id='assign-4'><div class='marginalizedparent'><a class='marginalized' href='#assign-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2569'>#</a></div><div id='assign-4.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
See Table <a href='#tab:optional.assign.copy'>39</a><a class='hidden_link' href='#assign-4.sentence-1'>.</a></div><div class='numberedTable' id='tab:optional.assign.copy'>Table <a href='#tab:optional.assign.copy'>39</a> — <span class='texttt'>optional&#x200b;::&#x200b;operator=(const optional&amp;)</span> effects<br><table ><tr class='rowsep'><td class='justify'></td><td colspan='1' class='border center'><div id='assign-4.sentence-2' class='sentence'><b><span class='texttt'>*this</span> contains a value</b></div></td><td colspan='1' class='border center'><div id='assign-4.sentence-3' class='sentence'><b><span class='texttt'>*this</span> does not contain a value</b></div></td></tr><tr class='rowsep'><td class='justify'><div id='assign-4.sentence-4' class='sentence'><b><span class='texttt'>rhs</span> contains a value</b></div></td><td class='border justify'><div id='assign-4.sentence-5' class='sentence'>assigns <span class='texttt'>*rhs</span> to the contained value</div></td><td class='border justify'><div id='assign-4.sentence-6' class='sentence'>initializes the contained value as if direct-non-list-initializing an object of type <span class='texttt'>T</span> with <span class='texttt'>*rhs</span></div></td></tr><tr class='rowsep'><td class='justify'><div id='assign-4.sentence-7' class='sentence'><b><span class='texttt'>rhs</span> does not contain a value</b></div></td><td class='border justify'><div id='assign-4.sentence-8' class='sentence'>destroys the contained value by calling <span class='texttt'>val-&gt;T&#x200b;::&#x200b;~T()</span></div></td><td class='border justify'><div id='assign-4.sentence-9' class='sentence'>no effect</div></td></tr></table></div></div></div><div class='para' id='assign-5'><div class='marginalizedparent'><a class='marginalized' href='#assign-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2586'>#</a></div><div id='assign-5.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>*this</span><a class='hidden_link' href='#assign-5.sentence-1'>.</a></div></div></div><div class='para' id='assign-6'><div class='marginalizedparent'><a class='marginalized' href='#assign-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2590'>#</a></div><div id='assign-6.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>bool(rhs) == bool(*this)</span><a class='hidden_link' href='#assign-6.sentence-1'>.</a></div></div></div><div class='para' id='assign-7'><div class='marginalizedparent'><a class='marginalized' href='#assign-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2594'>#</a></div><div id='assign-7.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
If any exception is thrown, the result of the expression <span class='texttt'>bool(*this)</span> remains unchanged<a class='hidden_link' href='#assign-7.sentence-1'>.</a></div> <div id='assign-7.sentence-2' class='sentence'>If an exception is thrown during the call to <span class='texttt'>T</span>'s copy constructor, no effect<a class='hidden_link' href='#assign-7.sentence-2'>.</a></div> <div id='assign-7.sentence-3' class='sentence'>If an exception is thrown during the call to <span class='texttt'>T</span>'s copy assignment,
the state of its contained value is as defined by the exception safety guarantee of <span class='texttt'>T</span>'s copy assignment<a class='hidden_link' href='#assign-7.sentence-3'>.</a></div> <div id='assign-7.sentence-4' class='sentence'>This operator shall be defined as deleted unless
<span class='texttt'>is_&shy;copy_&shy;constructible_&shy;v&lt;T&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_&shy;copy_&shy;assignable_&shy;v&lt;T&gt;</span> is <span class='texttt'>true</span><a class='hidden_link' href='#assign-7.sentence-4'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator=,optional__'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator=__'></a></span><div class='itemdecl' id='assign-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#assign-itemdecl:3'>🔗</a></div><code class='itemdeclcode'>optional&lt;T&gt;&amp; operator=(optional&amp;&amp; rhs) noexcept(<span class='textit'><span class='texttt'>see below</span></span>);
</code></div><div class='itemdescr'></div><div class='para' id='assign-8'><div class='marginalizedparent'><a class='marginalized' href='#assign-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2611'>#</a></div><div id='assign-8.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
See Table <a href='#tab:optional.assign.move'>40</a><a class='hidden_link' href='#assign-8.sentence-1'>.</a></div> <div id='assign-8.sentence-2' class='sentence'>The result of the expression <span class='texttt'>bool(rhs)</span> remains unchanged<a class='hidden_link' href='#assign-8.sentence-2'>.</a></div><div class='numberedTable' id='tab:optional.assign.move'>Table <a href='#tab:optional.assign.move'>40</a> — <span class='texttt'>optional&#x200b;::&#x200b;operator=(optional&amp;&amp;)</span> effects<br><table ><tr class='rowsep'><td class='justify'></td><td colspan='1' class='border center'><div id='assign-8.sentence-3' class='sentence'><b><span class='texttt'>*this</span> contains a value</b></div></td><td colspan='1' class='border center'><div id='assign-8.sentence-4' class='sentence'><b><span class='texttt'>*this</span> does not contain a value</b></div></td></tr><tr class='rowsep'><td class='justify'><div id='assign-8.sentence-5' class='sentence'><b><span class='texttt'>rhs</span> contains a value</b></div></td><td class='border justify'><div id='assign-8.sentence-6' class='sentence'>assigns <span class='texttt'>std&#x200b;::&#x200b;move(*rhs)</span> to the contained value</div></td><td class='border justify'><div id='assign-8.sentence-7' class='sentence'>initializes the contained value as if direct-non-list-initializing an object of type <span class='texttt'>T</span> with <span class='texttt'>std&#x200b;::&#x200b;move(*rhs)</span></div></td></tr><tr class='rowsep'><td class='justify'><div id='assign-8.sentence-8' class='sentence'><b><span class='texttt'>rhs</span> does not contain a value</b></div></td><td class='border justify'><div id='assign-8.sentence-9' class='sentence'>destroys the contained value by calling <span class='texttt'>val-&gt;T&#x200b;::&#x200b;~T()</span></div></td><td class='border justify'><div id='assign-8.sentence-10' class='sentence'>no effect</div></td></tr></table></div></div></div><div class='para' id='assign-9'><div class='marginalizedparent'><a class='marginalized' href='#assign-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2629'>#</a></div><div id='assign-9.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>*this</span><a class='hidden_link' href='#assign-9.sentence-1'>.</a></div></div></div><div class='para' id='assign-10'><div class='marginalizedparent'><a class='marginalized' href='#assign-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2633'>#</a></div><div id='assign-10.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>bool(rhs) == bool(*this)</span><a class='hidden_link' href='#assign-10.sentence-1'>.</a></div></div></div><div class='para' id='assign-11'><div class='marginalizedparent'><a class='marginalized' href='#assign-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2637'>#</a></div><div id='assign-11.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
The expression inside <span class='texttt'>noexcept</span> is equivalent to:
<pre class='codeblock'>
is_nothrow_move_assignable_v&lt;T&gt; &amp;&amp; is_nothrow_move_constructible_v&lt;T&gt;</pre></div></div></div><div class='para' id='assign-12'><div class='marginalizedparent'><a class='marginalized' href='#assign-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2644'>#</a></div><div id='assign-12.sentence-1' class='sentence'>If any exception is thrown, the result of the expression <span class='texttt'>bool(*this)</span> remains unchanged<a class='hidden_link' href='#assign-12.sentence-1'>.</a></div> <div id='assign-12.sentence-2' class='sentence'>If an exception is thrown during the call to <span class='texttt'>T</span>'s move constructor,
the state of <span class='texttt'>*rhs.val</span> is determined by the exception safety guarantee of <span class='texttt'>T</span>'s move constructor<a class='hidden_link' href='#assign-12.sentence-2'>.</a></div> <div id='assign-12.sentence-3' class='sentence'>If an exception is thrown during the call to <span class='texttt'>T</span>'s move assignment,
the state of <span class='texttt'>*val</span> and <span class='texttt'>*rhs.val</span> is determined by the exception safety guarantee of <span class='texttt'>T</span>'s move assignment<a class='hidden_link' href='#assign-12.sentence-3'>.</a></div> <div id='assign-12.sentence-4' class='sentence'>This operator shall not participate in overload resolution unless
<span class='texttt'>is_&shy;move_&shy;constructible_&shy;v&lt;T&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_&shy;move_&shy;assignable_&shy;v&lt;T&gt;</span> is <span class='texttt'>true</span><a class='hidden_link' href='#assign-12.sentence-4'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator=,optional___'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator=___'></a></span><div class='itemdecl' id='assign-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#assign-itemdecl:4'>🔗</a></div><code class='itemdeclcode'>template&lt;class U = T&gt; optional&lt;T&gt;&amp; operator=(U&amp;&amp; v);
</code></div><div class='itemdescr'></div><div class='para' id='assign-13'><div class='marginalizedparent'><a class='marginalized' href='#assign-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2661'>#</a></div><div id='assign-13.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
If <span class='texttt'>*this</span> contains a value, assigns <span class='texttt'>std&#x200b;::&#x200b;forward&lt;U&gt;(v)</span> to the contained value; otherwise initializes the contained value as if direct-non-list-initializing object of type <span class='texttt'>T</span> with <span class='texttt'>std&#x200b;::&#x200b;forward&lt;U&gt;(v)</span><a class='hidden_link' href='#assign-13.sentence-1'>.</a></div></div></div><div class='para' id='assign-14'><div class='marginalizedparent'><a class='marginalized' href='#assign-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2665'>#</a></div><div id='assign-14.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>*this</span><a class='hidden_link' href='#assign-14.sentence-1'>.</a></div></div></div><div class='para' id='assign-15'><div class='marginalizedparent'><a class='marginalized' href='#assign-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2669'>#</a></div><div id='assign-15.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>*this</span> contains a value<a class='hidden_link' href='#assign-15.sentence-1'>.</a></div></div></div><div class='para' id='assign-16'><div class='marginalizedparent'><a class='marginalized' href='#assign-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2673'>#</a></div><div id='assign-16.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
If any exception is thrown, the result of the expression <span class='texttt'>bool(*this)</span> remains unchanged<a class='hidden_link' href='#assign-16.sentence-1'>.</a></div> <div id='assign-16.sentence-2' class='sentence'>If an exception is thrown during the call to <span class='texttt'>T</span>'s constructor, the state of <span class='texttt'>v</span> is determined by the exception safety guarantee of <span class='texttt'>T</span>'s constructor<a class='hidden_link' href='#assign-16.sentence-2'>.</a></div> <div id='assign-16.sentence-3' class='sentence'>If an exception is thrown during the call to <span class='texttt'>T</span>'s assignment, the state of <span class='texttt'>*val</span> and <span class='texttt'>v</span> is determined by the exception safety guarantee of <span class='texttt'>T</span>'s assignment<a class='hidden_link' href='#assign-16.sentence-3'>.</a></div> <div id='assign-16.sentence-4' class='sentence'>This function shall not participate in overload resolution unless
<span class='texttt'>is_&shy;same_&shy;v&lt;remove_&shy;cvref_&shy;t&lt;U&gt;, optional&gt;</span> is <span class='texttt'>false</span>,
<span class='texttt'>conjunction_&shy;v&lt;is_&shy;scalar&lt;T&gt;, is_&shy;same&lt;T, decay_&shy;t&lt;U&gt;&gt;&gt;</span> is <span class='texttt'>false</span>,
<span class='texttt'>is_&shy;constructible_&shy;v&lt;T, U&gt;</span> is <span class='texttt'>true</span>, and
<span class='texttt'>is_&shy;assignable_&shy;v&lt;T&amp;, U&gt;</span> is <span class='texttt'>true</span><a class='hidden_link' href='#assign-16.sentence-4'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator=,optional____'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator=____'></a></span><div class='itemdecl' id='assign-itemdecl:5'><div class='marginalizedparent'><a class='itemDeclLink' href='#assign-itemdecl:5'>🔗</a></div><code class='itemdeclcode'>template&lt;class U&gt; optional&lt;T&gt;&amp; operator=(const optional&lt;U&gt;&amp; rhs);
</code></div><div class='itemdescr'></div><div class='para' id='assign-17'><div class='marginalizedparent'><a class='marginalized' href='#assign-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2689'>#</a></div><div id='assign-17.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
See Table <a href='#tab:optional.assign.copy.templ'>41</a><a class='hidden_link' href='#assign-17.sentence-1'>.</a></div><div class='numberedTable' id='tab:optional.assign.copy.templ'>Table <a href='#tab:optional.assign.copy.templ'>41</a> — <span class='texttt'>optional&#x200b;::&#x200b;operator=(const optional&lt;U&gt;&amp;)</span> effects<br><table ><tr class='rowsep'><td class='justify'></td><td colspan='1' class='border center'><div id='assign-17.sentence-2' class='sentence'><b><span class='texttt'>*this</span> contains a value</b></div></td><td colspan='1' class='border center'><div id='assign-17.sentence-3' class='sentence'><b><span class='texttt'>*this</span> does not contain a value</b></div></td></tr><tr class='rowsep'><td class='justify'><div id='assign-17.sentence-4' class='sentence'><b><span class='texttt'>rhs</span> contains a value</b></div></td><td class='border justify'><div id='assign-17.sentence-5' class='sentence'>assigns <span class='texttt'>*rhs</span> to the contained value</div></td><td class='border justify'><div id='assign-17.sentence-6' class='sentence'>initializes the contained value as if direct-non-list-initializing
an object of type <span class='texttt'>T</span> with <span class='texttt'>*rhs</span></div></td></tr><tr class='rowsep'><td class='justify'><div id='assign-17.sentence-7' class='sentence'><b><span class='texttt'>rhs</span> does not contain a value</b></div></td><td class='border justify'><div id='assign-17.sentence-8' class='sentence'>destroys the contained value by calling <span class='texttt'>val-&gt;T&#x200b;::&#x200b;~T()</span></div></td><td class='border justify'><div id='assign-17.sentence-9' class='sentence'>no effect</div></td></tr></table></div></div></div><div class='para' id='assign-18'><div class='marginalizedparent'><a class='marginalized' href='#assign-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2707'>#</a></div><div id='assign-18.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>*this</span><a class='hidden_link' href='#assign-18.sentence-1'>.</a></div></div></div><div class='para' id='assign-19'><div class='marginalizedparent'><a class='marginalized' href='#assign-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2711'>#</a></div><div id='assign-19.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>bool(rhs) == bool(*this)</span><a class='hidden_link' href='#assign-19.sentence-1'>.</a></div></div></div><div class='para' id='assign-20'><div class='marginalizedparent'><a class='marginalized' href='#assign-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2715'>#</a></div><div id='assign-20.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
If any exception is thrown,
the result of the expression <span class='texttt'>bool(*this)</span> remains unchanged<a class='hidden_link' href='#assign-20.sentence-1'>.</a></div> <div id='assign-20.sentence-2' class='sentence'>If an exception is thrown during the call to <span class='texttt'>T</span>'s constructor,
the state of <span class='texttt'>*rhs.val</span> is determined by
the exception safety guarantee of <span class='texttt'>T</span>'s constructor<a class='hidden_link' href='#assign-20.sentence-2'>.</a></div> <div id='assign-20.sentence-3' class='sentence'>If an exception is thrown during the call to <span class='texttt'>T</span>'s assignment,
the state of <span class='texttt'>*val</span> and <span class='texttt'>*rhs.val</span> is determined by
the exception safety guarantee of <span class='texttt'>T</span>'s assignment<a class='hidden_link' href='#assign-20.sentence-3'>.</a></div> <div id='assign-20.sentence-4' class='sentence'>This function shall not participate in overload resolution unless
<ul class='itemize'><li id='assign-20.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-20.1'>(20.1)</a></div><div id='assign-20.1.sentence-1' class='sentence'><span class='texttt'>is_&shy;constructible_&shy;v&lt;T, const U&amp;&gt;</span> is <span class='texttt'>true</span>,</div></li><li id='assign-20.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-20.2'>(20.2)</a></div><div id='assign-20.2.sentence-1' class='sentence'><span class='texttt'>is_&shy;assignable_&shy;v&lt;T&amp;, const U&amp;&gt;</span> is <span class='texttt'>true</span>,</div></li><li id='assign-20.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-20.3'>(20.3)</a></div><div id='assign-20.3.sentence-1' class='sentence'><span class='texttt'>is_&shy;constructible_&shy;v&lt;T, optional&lt;U&gt;&amp;&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='assign-20.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-20.4'>(20.4)</a></div><div id='assign-20.4.sentence-1' class='sentence'><span class='texttt'>is_&shy;constructible_&shy;v&lt;T, optional&lt;U&gt;&amp;&amp;&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='assign-20.5'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-20.5'>(20.5)</a></div><div id='assign-20.5.sentence-1' class='sentence'><span class='texttt'>is_&shy;constructible_&shy;v&lt;T, const optional&lt;U&gt;&amp;&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='assign-20.6'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-20.6'>(20.6)</a></div><div id='assign-20.6.sentence-1' class='sentence'><span class='texttt'>is_&shy;constructible_&shy;v&lt;T, const optional&lt;U&gt;&amp;&amp;&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='assign-20.7'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-20.7'>(20.7)</a></div><div id='assign-20.7.sentence-1' class='sentence'><span class='texttt'>is_&shy;convertible_&shy;v&lt;optional&lt;U&gt;&amp;, T&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='assign-20.8'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-20.8'>(20.8)</a></div><div id='assign-20.8.sentence-1' class='sentence'><span class='texttt'>is_&shy;convertible_&shy;v&lt;optional&lt;U&gt;&amp;&amp;, T&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='assign-20.9'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-20.9'>(20.9)</a></div><div id='assign-20.9.sentence-1' class='sentence'><span class='texttt'>is_&shy;convertible_&shy;v&lt;const optional&lt;U&gt;&amp;, T&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='assign-20.10'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-20.10'>(20.10)</a></div><div id='assign-20.10.sentence-1' class='sentence'><span class='texttt'>is_&shy;convertible_&shy;v&lt;const optional&lt;U&gt;&amp;&amp;, T&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='assign-20.11'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-20.11'>(20.11)</a></div><div id='assign-20.11.sentence-1' class='sentence'><span class='texttt'>is_&shy;assignable_&shy;v&lt;T&amp;, optional&lt;U&gt;&amp;&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='assign-20.12'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-20.12'>(20.12)</a></div><div id='assign-20.12.sentence-1' class='sentence'><span class='texttt'>is_&shy;assignable_&shy;v&lt;T&amp;, optional&lt;U&gt;&amp;&amp;&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='assign-20.13'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-20.13'>(20.13)</a></div><div id='assign-20.13.sentence-1' class='sentence'><span class='texttt'>is_&shy;assignable_&shy;v&lt;T&amp;, const optional&lt;U&gt;&amp;&gt;</span> is <span class='texttt'>false</span>, and</div></li><li id='assign-20.14'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-20.14'>(20.14)</a></div><div id='assign-20.14.sentence-1' class='sentence'><span class='texttt'>is_&shy;assignable_&shy;v&lt;T&amp;, const optional&lt;U&gt;&amp;&amp;&gt;</span> is <span class='texttt'>false</span><a class='hidden_link' href='#assign-20.14.sentence-1'>.</a></div></li></ul></div></div></div><span class='indexparent'><a class='index' id='lib:operator=,optional_____'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator=_____'></a></span><div class='itemdecl' id='assign-itemdecl:6'><div class='marginalizedparent'><a class='itemDeclLink' href='#assign-itemdecl:6'>🔗</a></div><code class='itemdeclcode'>template&lt;class U&gt; optional&lt;T&gt;&amp; operator=(optional&lt;U&gt;&amp;&amp; rhs);
</code></div><div class='itemdescr'></div><div class='para' id='assign-21'><div class='marginalizedparent'><a class='marginalized' href='#assign-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2750'>#</a></div><div id='assign-21.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
See Table <a href='#tab:optional.assign.move.templ'>42</a><a class='hidden_link' href='#assign-21.sentence-1'>.</a></div> <div id='assign-21.sentence-2' class='sentence'>The result of the expression <span class='texttt'>bool(rhs)</span> remains unchanged<a class='hidden_link' href='#assign-21.sentence-2'>.</a></div><div class='numberedTable' id='tab:optional.assign.move.templ'>Table <a href='#tab:optional.assign.move.templ'>42</a> — <span class='texttt'>optional&#x200b;::&#x200b;operator=(optional&lt;U&gt;&amp;&amp;)</span> effects<br><table ><tr class='rowsep'><td class='justify'></td><td colspan='1' class='border center'><div id='assign-21.sentence-3' class='sentence'><b><span class='texttt'>*this</span> contains a value</b></div></td><td colspan='1' class='border center'><div id='assign-21.sentence-4' class='sentence'><b><span class='texttt'>*this</span> does not contain a value</b></div></td></tr><tr class='rowsep'><td class='justify'><div id='assign-21.sentence-5' class='sentence'><b><span class='texttt'>rhs</span> contains a value</b></div></td><td class='border justify'><div id='assign-21.sentence-6' class='sentence'>assigns <span class='texttt'>std&#x200b;::&#x200b;move(*rhs)</span> to the contained value</div></td><td class='border justify'><div id='assign-21.sentence-7' class='sentence'>initializes the contained value as if direct-non-list-initializing
an object of type <span class='texttt'>T</span> with <span class='texttt'>std&#x200b;::&#x200b;move(*rhs)</span></div></td></tr><tr class='rowsep'><td class='justify'><div id='assign-21.sentence-8' class='sentence'><b><span class='texttt'>rhs</span> does not contain a value</b></div></td><td class='border justify'><div id='assign-21.sentence-9' class='sentence'>destroys the contained value by calling <span class='texttt'>val-&gt;T&#x200b;::&#x200b;~T()</span></div></td><td class='border justify'><div id='assign-21.sentence-10' class='sentence'>no effect</div></td></tr></table></div></div></div><div class='para' id='assign-22'><div class='marginalizedparent'><a class='marginalized' href='#assign-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2769'>#</a></div><div id='assign-22.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>*this</span><a class='hidden_link' href='#assign-22.sentence-1'>.</a></div></div></div><div class='para' id='assign-23'><div class='marginalizedparent'><a class='marginalized' href='#assign-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2773'>#</a></div><div id='assign-23.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>bool(rhs) == bool(*this)</span><a class='hidden_link' href='#assign-23.sentence-1'>.</a></div></div></div><div class='para' id='assign-24'><div class='marginalizedparent'><a class='marginalized' href='#assign-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2777'>#</a></div><div id='assign-24.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
If any exception is thrown,
the result of the expression <span class='texttt'>bool(*this)</span> remains unchanged<a class='hidden_link' href='#assign-24.sentence-1'>.</a></div> <div id='assign-24.sentence-2' class='sentence'>If an exception is thrown during the call to <span class='texttt'>T</span>'s constructor,
the state of <span class='texttt'>*rhs.val</span> is determined by
the exception safety guarantee of <span class='texttt'>T</span>'s constructor<a class='hidden_link' href='#assign-24.sentence-2'>.</a></div> <div id='assign-24.sentence-3' class='sentence'>If an exception is thrown during the call to <span class='texttt'>T</span>'s assignment,
the state of <span class='texttt'>*val</span> and <span class='texttt'>*rhs.val</span> is determined by
the exception safety guarantee of <span class='texttt'>T</span>'s assignment<a class='hidden_link' href='#assign-24.sentence-3'>.</a></div> <div id='assign-24.sentence-4' class='sentence'>This function shall not participate in overload resolution unless
<ul class='itemize'><li id='assign-24.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.1'>(24.1)</a></div><div id='assign-24.1.sentence-1' class='sentence'><span class='texttt'>is_&shy;constructible_&shy;v&lt;T, U&gt;</span> is <span class='texttt'>true</span>,</div></li><li id='assign-24.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.2'>(24.2)</a></div><div id='assign-24.2.sentence-1' class='sentence'><span class='texttt'>is_&shy;assignable_&shy;v&lt;T&amp;, U&gt;</span> is <span class='texttt'>true</span>,</div></li><li id='assign-24.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.3'>(24.3)</a></div><div id='assign-24.3.sentence-1' class='sentence'><span class='texttt'>is_&shy;constructible_&shy;v&lt;T, optional&lt;U&gt;&amp;&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='assign-24.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.4'>(24.4)</a></div><div id='assign-24.4.sentence-1' class='sentence'><span class='texttt'>is_&shy;constructible_&shy;v&lt;T, optional&lt;U&gt;&amp;&amp;&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='assign-24.5'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.5'>(24.5)</a></div><div id='assign-24.5.sentence-1' class='sentence'><span class='texttt'>is_&shy;constructible_&shy;v&lt;T, const optional&lt;U&gt;&amp;&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='assign-24.6'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.6'>(24.6)</a></div><div id='assign-24.6.sentence-1' class='sentence'><span class='texttt'>is_&shy;constructible_&shy;v&lt;T, const optional&lt;U&gt;&amp;&amp;&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='assign-24.7'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.7'>(24.7)</a></div><div id='assign-24.7.sentence-1' class='sentence'><span class='texttt'>is_&shy;convertible_&shy;v&lt;optional&lt;U&gt;&amp;, T&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='assign-24.8'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.8'>(24.8)</a></div><div id='assign-24.8.sentence-1' class='sentence'><span class='texttt'>is_&shy;convertible_&shy;v&lt;optional&lt;U&gt;&amp;&amp;, T&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='assign-24.9'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.9'>(24.9)</a></div><div id='assign-24.9.sentence-1' class='sentence'><span class='texttt'>is_&shy;convertible_&shy;v&lt;const optional&lt;U&gt;&amp;, T&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='assign-24.10'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.10'>(24.10)</a></div><div id='assign-24.10.sentence-1' class='sentence'><span class='texttt'>is_&shy;convertible_&shy;v&lt;const optional&lt;U&gt;&amp;&amp;, T&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='assign-24.11'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.11'>(24.11)</a></div><div id='assign-24.11.sentence-1' class='sentence'><span class='texttt'>is_&shy;assignable_&shy;v&lt;T&amp;, optional&lt;U&gt;&amp;&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='assign-24.12'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.12'>(24.12)</a></div><div id='assign-24.12.sentence-1' class='sentence'><span class='texttt'>is_&shy;assignable_&shy;v&lt;T&amp;, optional&lt;U&gt;&amp;&amp;&gt;</span> is <span class='texttt'>false</span>,</div></li><li id='assign-24.13'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.13'>(24.13)</a></div><div id='assign-24.13.sentence-1' class='sentence'><span class='texttt'>is_&shy;assignable_&shy;v&lt;T&amp;, const optional&lt;U&gt;&amp;&gt;</span> is <span class='texttt'>false</span>, and</div></li><li id='assign-24.14'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.14'>(24.14)</a></div><div id='assign-24.14.sentence-1' class='sentence'><span class='texttt'>is_&shy;assignable_&shy;v&lt;T&amp;, const optional&lt;U&gt;&amp;&amp;&gt;</span> is <span class='texttt'>false</span><a class='hidden_link' href='#assign-24.14.sentence-1'>.</a></div></li></ul></div></div></div><span class='indexparent'><a class='index' id='lib:emplace,optional'></a></span><span class='indexparent'><a class='index' id='lib:optional,emplace'></a></span><div class='itemdecl' id='assign-itemdecl:7'><div class='marginalizedparent'><a class='itemDeclLink' href='#assign-itemdecl:7'>🔗</a></div><code class='itemdeclcode'>template&lt;class... Args&gt; T&amp; emplace(Args&amp;&amp;... args);
</code></div><div class='itemdescr'></div><div class='para' id='assign-25'><div class='marginalizedparent'><a class='marginalized' href='#assign-25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2812'>#</a></div><div id='assign-25.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
<span class='texttt'>is_&shy;constructible_&shy;v&lt;T, Args&amp;&amp;...&gt;</span> is <span class='texttt'>true</span><a class='hidden_link' href='#assign-25.sentence-1'>.</a></div></div></div><div class='para' id='assign-26'><div class='marginalizedparent'><a class='marginalized' href='#assign-26'>26</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2816'>#</a></div><div id='assign-26.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Calls <span class='texttt'>*this = nullopt</span><a class='hidden_link' href='#assign-26.sentence-1'>.</a></div> <div id='assign-26.sentence-2' class='sentence'>Then initializes the contained value as if direct-non-list-initializing an object of type <span class='texttt'>T</span> with the arguments <span class='texttt'>std&#x200b;::&#x200b;forward&lt;Args&gt;(args)...</span><a class='hidden_link' href='#assign-26.sentence-2'>.</a></div></div></div><div class='para' id='assign-27'><div class='marginalizedparent'><a class='marginalized' href='#assign-27'>27</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2820'>#</a></div><div id='assign-27.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>*this</span> contains a value<a class='hidden_link' href='#assign-27.sentence-1'>.</a></div></div></div><div class='para' id='assign-28'><div class='marginalizedparent'><a class='marginalized' href='#assign-28'>28</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2824'>#</a></div><div id='assign-28.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
A reference to the new contained value<a class='hidden_link' href='#assign-28.sentence-1'>.</a></div></div></div><div class='para' id='assign-29'><div class='marginalizedparent'><a class='marginalized' href='#assign-29'>29</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2828'>#</a></div><div id='assign-29.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exception thrown by the selected constructor of <span class='texttt'>T</span><a class='hidden_link' href='#assign-29.sentence-1'>.</a></div></div></div><div class='para' id='assign-30'><div class='marginalizedparent'><a class='marginalized' href='#assign-30'>30</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2832'>#</a></div><div id='assign-30.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
If an exception is thrown during the call to <span class='texttt'>T</span>'s constructor, <span class='texttt'>*this</span> does not contain a value, and the previous <span class='texttt'>*val</span> (if any) has been destroyed<a class='hidden_link' href='#assign-30.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:emplace,optional_'></a></span><span class='indexparent'><a class='index' id='lib:optional,emplace_'></a></span><div class='itemdecl' id='assign-itemdecl:8'><div class='marginalizedparent'><a class='itemDeclLink' href='#assign-itemdecl:8'>🔗</a></div><code class='itemdeclcode'>template&lt;class U, class... Args&gt; T&amp; emplace(initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
</code></div><div class='itemdescr'></div><div class='para' id='assign-31'><div class='marginalizedparent'><a class='marginalized' href='#assign-31'>31</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2843'>#</a></div><div id='assign-31.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Calls <span class='texttt'>*this = nullopt</span><a class='hidden_link' href='#assign-31.sentence-1'>.</a></div> <div id='assign-31.sentence-2' class='sentence'>Then initializes the contained value as if direct-non-list-initializing an object of type <span class='texttt'>T</span> with the arguments <span class='texttt'>il, std&#x200b;::&#x200b;forward&lt;Args&gt;(args)...</span><a class='hidden_link' href='#assign-31.sentence-2'>.</a></div></div></div><div class='para' id='assign-32'><div class='marginalizedparent'><a class='marginalized' href='#assign-32'>32</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2847'>#</a></div><div id='assign-32.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>*this</span> contains a value<a class='hidden_link' href='#assign-32.sentence-1'>.</a></div></div></div><div class='para' id='assign-33'><div class='marginalizedparent'><a class='marginalized' href='#assign-33'>33</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2851'>#</a></div><div id='assign-33.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
A reference to the new contained value<a class='hidden_link' href='#assign-33.sentence-1'>.</a></div></div></div><div class='para' id='assign-34'><div class='marginalizedparent'><a class='marginalized' href='#assign-34'>34</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2855'>#</a></div><div id='assign-34.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exception thrown by the selected constructor of <span class='texttt'>T</span><a class='hidden_link' href='#assign-34.sentence-1'>.</a></div></div></div><div class='para' id='assign-35'><div class='marginalizedparent'><a class='marginalized' href='#assign-35'>35</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2859'>#</a></div><div id='assign-35.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
If an exception is thrown during the call to <span class='texttt'>T</span>'s constructor, <span class='texttt'>*this</span> does not contain a value, and the previous <span class='texttt'>*val</span> (if any) has been destroyed<a class='hidden_link' href='#assign-35.sentence-1'>.</a></div> <div id='assign-35.sentence-2' class='sentence'>This function shall not participate in overload resolution unless <span class='texttt'>is_&shy;constructible_&shy;v&lt;T, initializer_&shy;list&lt;U&gt;&amp;, Args&amp;&amp;...&gt;</span> is <span class='texttt'>true</span><a class='hidden_link' href='#assign-35.sentence-2'>.</a></div></div></div></div><div id='swap' class='section'><h4 ><a class='secnum' href='#swap' style='min-width:118pt'>19.6.3.4</a> Swap <a class='abbr_ref' href='optional.swap'>[optional.swap]</a></h4><span class='indexparent'><a class='index' id='lib:swap,optional'></a></span><span class='indexparent'><a class='index' id='lib:optional,swap'></a></span><div class='itemdecl' id='swap-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#swap-itemdecl:1'>🔗</a></div><code class='itemdeclcode'>void swap(optional&amp; rhs) noexcept(<span class='textit'><span class='texttt'>see below</span></span>);
</code></div><div class='itemdescr'></div><div class='para' id='swap-1'><div class='marginalizedparent'><a class='marginalized' href='#swap-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2873'>#</a></div><div id='swap-1.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
Lvalues of type <span class='texttt'>T</span> shall be swappable and <span class='texttt'>is_&shy;move_&shy;constructible_&shy;v&lt;T&gt;</span> is <span class='texttt'>true</span><a class='hidden_link' href='#swap-1.sentence-1'>.</a></div></div></div><div class='para' id='swap-2'><div class='marginalizedparent'><a class='marginalized' href='#swap-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2877'>#</a></div><div id='swap-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
See Table <a href='#tab:optional.swap'>43</a><a class='hidden_link' href='#swap-2.sentence-1'>.</a></div><div class='numberedTable' id='tab:optional.swap'>Table <a href='#tab:optional.swap'>43</a> — <span class='texttt'>optional&#x200b;::&#x200b;swap(optional&amp;)</span> effects<br><table ><tr class='rowsep'><td class='justify'></td><td colspan='1' class='border center'><div id='swap-2.sentence-2' class='sentence'><b><span class='texttt'>*this</span> contains a value</b></div></td><td colspan='1' class='border center'><div id='swap-2.sentence-3' class='sentence'><b><span class='texttt'>*this</span> does not contain a value</b></div></td></tr><tr class='rowsep'><td class='justify'><div id='swap-2.sentence-4' class='sentence'><b><span class='texttt'>rhs</span> contains a value</b></div></td><td class='border justify'><div id='swap-2.sentence-5' class='sentence'>calls <span class='texttt'>swap(*(*this), *rhs)</span></div></td><td class='border justify'><div id='swap-2.sentence-6' class='sentence'>initializes the contained value of <span class='texttt'>*this</span> as if
direct-non-list-initializing an object of type <span class='texttt'>T</span> with the expression <span class='texttt'>std&#x200b;::&#x200b;move(*rhs)</span>,
followed by <span class='texttt'>rhs.val-&gt;T&#x200b;::&#x200b;~T()</span>;
postcondition is that <span class='texttt'>*this</span> contains a value and <span class='texttt'>rhs</span> does not contain a value</div></td></tr><tr class='rowsep'><td class='justify'><div id='swap-2.sentence-7' class='sentence'><b><span class='texttt'>rhs</span> does not contain a value</b></div></td><td class='border justify'><div id='swap-2.sentence-8' class='sentence'>initializes the contained value of <span class='texttt'>rhs</span> as if
direct-non-list-initializing an object of type <span class='texttt'>T</span> with the expression <span class='texttt'>std&#x200b;::&#x200b;move(*(*this))</span>,
followed by <span class='texttt'>val-&gt;T&#x200b;::&#x200b;~T()</span>;
postcondition is that <span class='texttt'>*this</span> does not contain a value and <span class='texttt'>rhs</span> contains a value</div></td><td class='border justify'><div id='swap-2.sentence-9' class='sentence'>no effect</div></td></tr></table></div></div></div><div class='para' id='swap-3'><div class='marginalizedparent'><a class='marginalized' href='#swap-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2900'>#</a></div><div id='swap-3.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exceptions thrown by the operations in the relevant part of Table <a href='#tab:optional.swap'>43</a><a class='hidden_link' href='#swap-3.sentence-1'>.</a></div></div></div><div class='para' id='swap-4'><div class='marginalizedparent'><a class='marginalized' href='#swap-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2904'>#</a></div><div id='swap-4.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
The expression inside <span class='texttt'>noexcept</span> is equivalent to:
<pre class='codeblock'>
is_nothrow_move_constructible_v&lt;T&gt; &amp;&amp; is_nothrow_swappable_v&lt;T&gt;</pre>
If any exception is thrown, the results of the expressions <span class='texttt'>bool(*this)</span> and <span class='texttt'>bool(rhs)</span> remain unchanged<a class='hidden_link' href='#swap-4.sentence-1'>.</a></div> <div id='swap-4.sentence-2' class='sentence'>If an exception is thrown during the call to function <span class='texttt'>swap</span>,
the state of <span class='texttt'>*val</span> and <span class='texttt'>*rhs.val</span> is determined by the exception safety guarantee of <span class='texttt'>swap</span> for lvalues of <span class='texttt'>T</span><a class='hidden_link' href='#swap-4.sentence-2'>.</a></div> <div id='swap-4.sentence-3' class='sentence'>If an exception is thrown during the call to <span class='texttt'>T</span>'s move constructor,
the state of <span class='texttt'>*val</span> and <span class='texttt'>*rhs.val</span> is determined by the exception safety guarantee of <span class='texttt'>T</span>'s move constructor<a class='hidden_link' href='#swap-4.sentence-3'>.</a></div></div></div></div><div id='observe' class='section'><h4 ><a class='secnum' href='#observe' style='min-width:118pt'>19.6.3.5</a> Observers <a class='abbr_ref' href='optional.observe'>[optional.observe]</a></h4><span class='indexparent'><a class='index' id='lib:operator->,optional'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator->'></a></span><div class='itemdecl' id='observe-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#observe-itemdecl:1'>🔗</a></div><code class='itemdeclcode'>constexpr const T* operator-&gt;() const;
constexpr T* operator-&gt;();
</code></div><div class='itemdescr'></div><div class='para' id='observe-1'><div class='marginalizedparent'><a class='marginalized' href='#observe-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2926'>#</a></div><div id='observe-1.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
<span class='texttt'>*this</span> contains a value<a class='hidden_link' href='#observe-1.sentence-1'>.</a></div></div></div><div class='para' id='observe-2'><div class='marginalizedparent'><a class='marginalized' href='#observe-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2930'>#</a></div><div id='observe-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>val</span><a class='hidden_link' href='#observe-2.sentence-1'>.</a></div></div></div><div class='para' id='observe-3'><div class='marginalizedparent'><a class='marginalized' href='#observe-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2934'>#</a></div><div id='observe-3.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Nothing<a class='hidden_link' href='#observe-3.sentence-1'>.</a></div></div></div><div class='para' id='observe-4'><div class='marginalizedparent'><a class='marginalized' href='#observe-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2938'>#</a></div><div id='observe-4.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
These functions shall be constexpr functions<a class='hidden_link' href='#observe-4.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator*,optional'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator*'></a></span><div class='itemdecl' id='observe-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#observe-itemdecl:2'>🔗</a></div><code class='itemdeclcode'>constexpr const T&amp; operator*() const&amp;;
constexpr T&amp; operator*() &amp;;
</code></div><div class='itemdescr'></div><div class='para' id='observe-5'><div class='marginalizedparent'><a class='marginalized' href='#observe-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2950'>#</a></div><div id='observe-5.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
<span class='texttt'>*this</span> contains a value<a class='hidden_link' href='#observe-5.sentence-1'>.</a></div></div></div><div class='para' id='observe-6'><div class='marginalizedparent'><a class='marginalized' href='#observe-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2954'>#</a></div><div id='observe-6.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>*val</span><a class='hidden_link' href='#observe-6.sentence-1'>.</a></div></div></div><div class='para' id='observe-7'><div class='marginalizedparent'><a class='marginalized' href='#observe-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2958'>#</a></div><div id='observe-7.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Nothing<a class='hidden_link' href='#observe-7.sentence-1'>.</a></div></div></div><div class='para' id='observe-8'><div class='marginalizedparent'><a class='marginalized' href='#observe-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2962'>#</a></div><div id='observe-8.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
These functions shall be constexpr functions<a class='hidden_link' href='#observe-8.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator*,optional_'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator*_'></a></span><div class='itemdecl' id='observe-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#observe-itemdecl:3'>🔗</a></div><code class='itemdeclcode'>constexpr T&amp;&amp; operator*() &amp;&amp;;
constexpr const T&amp;&amp; operator*() const&amp;&amp;;
</code></div><div class='itemdescr'></div><div class='para' id='observe-9'><div class='marginalizedparent'><a class='marginalized' href='#observe-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2974'>#</a></div><div id='observe-9.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
<span class='texttt'>*this</span> contains a value<a class='hidden_link' href='#observe-9.sentence-1'>.</a></div></div></div><div class='para' id='observe-10'><div class='marginalizedparent'><a class='marginalized' href='#observe-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2978'>#</a></div><div id='observe-10.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to: <span class='texttt'>return std&#x200b;::&#x200b;move(*val);</span></div></div></div><span class='indexparent'><a class='index' id='lib:operator_bool,optional'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator_bool'></a></span><div class='itemdecl' id='observe-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#observe-itemdecl:4'>🔗</a></div><code class='itemdeclcode'>constexpr explicit operator bool() const noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='observe-11'><div class='marginalizedparent'><a class='marginalized' href='#observe-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2989'>#</a></div><div id='observe-11.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>true</span> if and only if <span class='texttt'>*this</span> contains a value<a class='hidden_link' href='#observe-11.sentence-1'>.</a></div></div></div><div class='para' id='observe-12'><div class='marginalizedparent'><a class='marginalized' href='#observe-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L2993'>#</a></div><div id='observe-12.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall be a constexpr function<a class='hidden_link' href='#observe-12.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:has_value,optional'></a></span><span class='indexparent'><a class='index' id='lib:optional,has_value'></a></span><div class='itemdecl' id='observe-itemdecl:5'><div class='marginalizedparent'><a class='itemDeclLink' href='#observe-itemdecl:5'>🔗</a></div><code class='itemdeclcode'>constexpr bool has_value() const noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='observe-13'><div class='marginalizedparent'><a class='marginalized' href='#observe-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3004'>#</a></div><div id='observe-13.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>true</span> if and only if <span class='texttt'>*this</span> contains a value<a class='hidden_link' href='#observe-13.sentence-1'>.</a></div></div></div><div class='para' id='observe-14'><div class='marginalizedparent'><a class='marginalized' href='#observe-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3007'>#</a></div><div id='observe-14.sentence-1' class='sentence'><span class='textit'>Remarks:</span> This function shall be a constexpr function<a class='hidden_link' href='#observe-14.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:value,optional'></a></span><span class='indexparent'><a class='index' id='lib:optional,value'></a></span><div class='itemdecl' id='observe-itemdecl:6'><div class='marginalizedparent'><a class='itemDeclLink' href='#observe-itemdecl:6'>🔗</a></div><code class='itemdeclcode'>constexpr const T&amp; value() const&amp;;
constexpr T&amp; value() &amp;;
</code></div><div class='itemdescr'></div><div class='para' id='observe-15'><div class='marginalizedparent'><a class='marginalized' href='#observe-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3018'>#</a></div><div id='observe-15.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to:
<pre class='codeblock'>
return bool(*this) ? *val : throw bad_optional_access();</pre></div></div></div><span class='indexparent'><a class='index' id='lib:value,optional_'></a></span><span class='indexparent'><a class='index' id='lib:optional,value_'></a></span><div class='itemdecl' id='observe-itemdecl:7'><div class='marginalizedparent'><a class='itemDeclLink' href='#observe-itemdecl:7'>🔗</a></div><code class='itemdeclcode'>constexpr T&amp;&amp; value() &amp;&amp;;
constexpr const T&amp;&amp; value() const&amp;&amp;;
</code></div><div class='itemdescr'></div><div class='para' id='observe-16'><div class='marginalizedparent'><a class='marginalized' href='#observe-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3034'>#</a></div><div id='observe-16.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to:
<pre class='codeblock'>
return bool(*this) ? std::move(*val) : throw bad_optional_access();</pre></div></div></div><span class='indexparent'><a class='index' id='lib:value_or,optional'></a></span><span class='indexparent'><a class='index' id='lib:optional,value_or'></a></span><div class='itemdecl' id='observe-itemdecl:8'><div class='marginalizedparent'><a class='itemDeclLink' href='#observe-itemdecl:8'>🔗</a></div><code class='itemdeclcode'>template&lt;class U&gt; constexpr T value_or(U&amp;&amp; v) const&amp;;
</code></div><div class='itemdescr'></div><div class='para' id='observe-17'><div class='marginalizedparent'><a class='marginalized' href='#observe-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3048'>#</a></div><div id='observe-17.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to:
<pre class='codeblock'>
return bool(*this) ? **this : static_cast&lt;T&gt;(std::forward&lt;U&gt;(v));</pre></div></div></div><div class='para' id='observe-18'><div class='marginalizedparent'><a class='marginalized' href='#observe-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3055'>#</a></div><div id='observe-18.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
If <span class='texttt'>is_&shy;copy_&shy;constructible_&shy;v&lt;T&gt; &amp;&amp; is_&shy;convertible_&shy;v&lt;U&amp;&amp;, T&gt;</span> is <span class='texttt'>false</span>,
the program is ill-formed<a class='hidden_link' href='#observe-18.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:value_or,optional_'></a></span><span class='indexparent'><a class='index' id='lib:optional,value_or_'></a></span><div class='itemdecl' id='observe-itemdecl:9'><div class='marginalizedparent'><a class='itemDeclLink' href='#observe-itemdecl:9'>🔗</a></div><code class='itemdeclcode'>template&lt;class U&gt; constexpr T value_or(U&amp;&amp; v) &amp;&amp;;
</code></div><div class='itemdescr'></div><div class='para' id='observe-19'><div class='marginalizedparent'><a class='marginalized' href='#observe-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3067'>#</a></div><div id='observe-19.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to:
<pre class='codeblock'>
return bool(*this) ? std::move(**this) : static_cast&lt;T&gt;(std::forward&lt;U&gt;(v));</pre></div></div></div><div class='para' id='observe-20'><div class='marginalizedparent'><a class='marginalized' href='#observe-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3074'>#</a></div><div id='observe-20.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
If <span class='texttt'>is_&shy;move_&shy;constructible_&shy;v&lt;T&gt; &amp;&amp; is_&shy;convertible_&shy;v&lt;U&amp;&amp;, T&gt;</span> is <span class='texttt'>false</span>,
the program is ill-formed<a class='hidden_link' href='#observe-20.sentence-1'>.</a></div></div></div></div><div id='mod' class='section'><h4 ><a class='secnum' href='#mod' style='min-width:118pt'>19.6.3.6</a> Modifiers <a class='abbr_ref' href='optional.mod'>[optional.mod]</a></h4><span class='indexparent'><a class='index' id='lib:reset,optional'></a></span><span class='indexparent'><a class='index' id='lib:optional,reset'></a></span><div class='itemdecl' id='mod-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#mod-itemdecl:1'>🔗</a></div><code class='itemdeclcode'>void reset() noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='mod-1'><div class='marginalizedparent'><a class='marginalized' href='#mod-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3088'>#</a></div><div id='mod-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
If <span class='texttt'>*this</span> contains a value, calls <span class='texttt'>val-&gt;T&#x200b;::&#x200b;~T()</span> to destroy the contained value;
otherwise no effect<a class='hidden_link' href='#mod-1.sentence-1'>.</a></div></div></div><div class='para' id='mod-2'><div class='marginalizedparent'><a class='marginalized' href='#mod-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3093'>#</a></div><div id='mod-2.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>*this</span> does not contain a value<a class='hidden_link' href='#mod-2.sentence-1'>.</a></div></div></div></div></div><div id='nullopt' class='section'><h3 ><a class='secnum' href='#nullopt' style='min-width:103pt'>19.6.4</a> No-value state indicator <a class='abbr_ref' href='optional.nullopt'>[optional.nullopt]</a></h3><span class='indexparent'><a class='index' id='lib:nullopt_t'></a></span><span class='indexparent'><a class='index' id='lib:nullopt'></a></span><div class='itemdecl' id='nullopt-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#nullopt-itemdecl:1'>🔗</a></div><code class='itemdeclcode'>struct nullopt_t{<span class='textit'><span class='texttt'>see below</span></span>};
inline constexpr nullopt_t nullopt(<span class='textit'><span class='texttt'>unspecified</span></span>);
</code></div><div class='para' id='nullopt-1'><div class='marginalizedparent'><a class='marginalized' href='#nullopt-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3107'>#</a></div><div id='nullopt-1.sentence-1' class='sentence'>The struct <span class='texttt'>nullopt_&shy;t</span> is an empty class type used as a unique type to indicate the state of not containing a value for <span class='texttt'>optional</span> objects<a class='hidden_link' href='#nullopt-1.sentence-1'>.</a></div> <div id='nullopt-1.sentence-2' class='sentence'>In particular, <span class='texttt'>optional&lt;T&gt;</span> has a constructor with <span class='texttt'>nullopt_&shy;t</span> as a single argument;
this indicates that an optional object not containing a value shall be constructed<a class='hidden_link' href='#nullopt-1.sentence-2'>.</a></div></div><div class='para' id='nullopt-2'><div class='marginalizedparent'><a class='marginalized' href='#nullopt-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3112'>#</a></div><div id='nullopt-2.sentence-1' class='sentence'>Type <span class='texttt'>nullopt_&shy;t</span> shall not have a default constructor or an initializer-list constructor, and shall not be an aggregate<a class='hidden_link' href='#nullopt-2.sentence-1'>.</a></div></div></div><div id='bad.access' class='section'><h3 ><a class='secnum' href='#bad.access' style='min-width:103pt'>19.6.5</a> Class <span class='texttt'>bad_&shy;optional_&shy;access</span> <a class='abbr_ref' href='optional.bad.access'>[optional.bad.access]</a></h3><pre class='codeblock'>
class bad_optional_access : public exception {
public:
  bad_optional_access();
};</pre><div class='para' id='bad.access-1'><div class='marginalizedparent'><a class='marginalized' href='#bad.access-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3124'>#</a></div><div id='bad.access-1.sentence-1' class='sentence'>The class <span class='texttt'>bad_&shy;optional_&shy;access</span> defines the type of objects thrown as exceptions to report the situation where an attempt is made to access the value of an optional object that does not contain a value<a class='hidden_link' href='#bad.access-1.sentence-1'>.</a></div> <span class='indexparent'><a class='index' id='lib:bad_optional_access,constructor'></a></span><span class='indexparent'><a class='index' id='lib:what,bad_optional_access'></a></span><span class='indexparent'><a class='index' id='lib:bad_optional_access,what'></a></span></div><div class='itemdecl' id='bad.access-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#bad.access-itemdecl:1'>🔗</a></div><code class='itemdeclcode'>bad_optional_access();
</code></div><div class='itemdescr'></div><div class='para' id='bad.access-2'><div class='marginalizedparent'><a class='marginalized' href='#bad.access-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3134'>#</a></div><div id='bad.access-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Constructs an object of class <span class='texttt'>bad_&shy;optional_&shy;access</span><a class='hidden_link' href='#bad.access-2.sentence-1'>.</a></div></div></div><div class='para' id='bad.access-3'><div class='marginalizedparent'><a class='marginalized' href='#bad.access-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3138'>#</a></div><div id='bad.access-3.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>what()</span> returns an
<span class='indexparent'><a class='index' id=':return_value_of_bad_optional_access::what'></a></span>implementation-defined
<span class='textsc'>ntbs</span><a class='hidden_link' href='#bad.access-3.sentence-1'>.</a></div></div></div></div><div id='relops' class='section'><h3 ><a class='secnum' href='#relops' style='min-width:103pt'>19.6.6</a> Relational operators <a class='abbr_ref' href='optional.relops'>[optional.relops]</a></h3><span class='indexparent'><a class='index' id='lib:operator==,optional'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator=='></a></span><div class='itemdecl' id='relops-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#relops-itemdecl:1'>🔗</a></div><code class='itemdeclcode'>template&lt;class T, class U&gt; constexpr bool operator==(const optional&lt;T&gt;&amp; x, const optional&lt;U&gt;&amp; y);
</code></div><div class='itemdescr'></div><div class='para' id='relops-1'><div class='marginalizedparent'><a class='marginalized' href='#relops-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3153'>#</a></div><div id='relops-1.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
The expression <span class='texttt'>*x == *y</span> shall be well-formed and
its result shall be convertible to <span class='texttt'>bool</span><a class='hidden_link' href='#relops-1.sentence-1'>.</a></div> <div id='relops-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#relops-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='relops-1.sentence-2' class='sentence'><span class='texttt'>T</span> need not be <span class='textit'>Cpp17EqualityComparable</span><a class='hidden_link' href='#relops-1.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div class='para' id='relops-2'><div class='marginalizedparent'><a class='marginalized' href='#relops-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3159'>#</a></div><div id='relops-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
If <span class='texttt'>bool(x) != bool(y)</span>, <span class='texttt'>false</span>; otherwise if <span class='texttt'>bool(x) == false</span>, <span class='texttt'>true</span>; otherwise <span class='texttt'>*x == *y</span><a class='hidden_link' href='#relops-2.sentence-1'>.</a></div></div></div><div class='para' id='relops-3'><div class='marginalizedparent'><a class='marginalized' href='#relops-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3163'>#</a></div><div id='relops-3.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
Specializations of this function template
for which <span class='texttt'>*x == *y</span> is a core constant expression
shall be constexpr functions<a class='hidden_link' href='#relops-3.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator!=,optional'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator!='></a></span><div class='itemdecl' id='relops-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#relops-itemdecl:2'>🔗</a></div><code class='itemdeclcode'>template&lt;class T, class U&gt; constexpr bool operator!=(const optional&lt;T&gt;&amp; x, const optional&lt;U&gt;&amp; y);
</code></div><div class='itemdescr'></div><div class='para' id='relops-4'><div class='marginalizedparent'><a class='marginalized' href='#relops-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3176'>#</a></div><div id='relops-4.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
The expression <span class='texttt'>*x != *y</span> shall be well-formed and
its result shall be convertible to <span class='texttt'>bool</span><a class='hidden_link' href='#relops-4.sentence-1'>.</a></div></div></div><div class='para' id='relops-5'><div class='marginalizedparent'><a class='marginalized' href='#relops-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3181'>#</a></div><div id='relops-5.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
If <span class='texttt'>bool(x) != bool(y)</span>, <span class='texttt'>true</span>;
otherwise, if <span class='texttt'>bool(x) == false</span>, <span class='texttt'>false</span>;
otherwise <span class='texttt'>*x != *y</span><a class='hidden_link' href='#relops-5.sentence-1'>.</a></div></div></div><div class='para' id='relops-6'><div class='marginalizedparent'><a class='marginalized' href='#relops-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3187'>#</a></div><div id='relops-6.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
Specializations of this function template
for which <span class='texttt'>*x != *y</span> is a core constant expression
shall be constexpr functions<a class='hidden_link' href='#relops-6.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator<,optional'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator<'></a></span><div class='itemdecl' id='relops-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#relops-itemdecl:3'>🔗</a></div><code class='itemdeclcode'>template&lt;class T, class U&gt; constexpr bool operator&lt;(const optional&lt;T&gt;&amp; x, const optional&lt;U&gt;&amp; y);
</code></div><div class='itemdescr'></div><div class='para' id='relops-7'><div class='marginalizedparent'><a class='marginalized' href='#relops-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3200'>#</a></div><div id='relops-7.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
<span class='texttt'>*x &lt; *y</span> shall be well-formed
and its result shall be convertible to <span class='texttt'>bool</span><a class='hidden_link' href='#relops-7.sentence-1'>.</a></div></div></div><div class='para' id='relops-8'><div class='marginalizedparent'><a class='marginalized' href='#relops-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3205'>#</a></div><div id='relops-8.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
If <span class='texttt'>!y</span>, <span class='texttt'>false</span>;
otherwise, if <span class='texttt'>!x</span>, <span class='texttt'>true</span>;
otherwise <span class='texttt'>*x &lt; *y</span><a class='hidden_link' href='#relops-8.sentence-1'>.</a></div></div></div><div class='para' id='relops-9'><div class='marginalizedparent'><a class='marginalized' href='#relops-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3211'>#</a></div><div id='relops-9.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
Specializations of this function template
for which <span class='texttt'>*x &lt; *y</span> is a core constant expression
shall be constexpr functions<a class='hidden_link' href='#relops-9.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator>,optional'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator>'></a></span><div class='itemdecl' id='relops-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#relops-itemdecl:4'>🔗</a></div><code class='itemdeclcode'>template&lt;class T, class U&gt; constexpr bool operator&gt;(const optional&lt;T&gt;&amp; x, const optional&lt;U&gt;&amp; y);
</code></div><div class='itemdescr'></div><div class='para' id='relops-10'><div class='marginalizedparent'><a class='marginalized' href='#relops-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3224'>#</a></div><div id='relops-10.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
The expression <span class='texttt'>*x &gt; *y</span> shall be well-formed and
its result shall be convertible to <span class='texttt'>bool</span><a class='hidden_link' href='#relops-10.sentence-1'>.</a></div></div></div><div class='para' id='relops-11'><div class='marginalizedparent'><a class='marginalized' href='#relops-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3229'>#</a></div><div id='relops-11.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
If <span class='texttt'>!x</span>, <span class='texttt'>false</span>;
otherwise, if <span class='texttt'>!y</span>, <span class='texttt'>true</span>;
otherwise <span class='texttt'>*x &gt; *y</span><a class='hidden_link' href='#relops-11.sentence-1'>.</a></div></div></div><div class='para' id='relops-12'><div class='marginalizedparent'><a class='marginalized' href='#relops-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3235'>#</a></div><div id='relops-12.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
Specializations of this function template
for which <span class='texttt'>*x &gt; *y</span> is a core constant expression
shall be constexpr functions<a class='hidden_link' href='#relops-12.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator<=,optional'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator<='></a></span><div class='itemdecl' id='relops-itemdecl:5'><div class='marginalizedparent'><a class='itemDeclLink' href='#relops-itemdecl:5'>🔗</a></div><code class='itemdeclcode'>template&lt;class T, class U&gt; constexpr bool operator&lt;=(const optional&lt;T&gt;&amp; x, const optional&lt;U&gt;&amp; y);
</code></div><div class='itemdescr'></div><div class='para' id='relops-13'><div class='marginalizedparent'><a class='marginalized' href='#relops-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3248'>#</a></div><div id='relops-13.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
The expression <span class='texttt'>*x &lt;= *y</span> shall be well-formed and
its result shall be convertible to <span class='texttt'>bool</span><a class='hidden_link' href='#relops-13.sentence-1'>.</a></div></div></div><div class='para' id='relops-14'><div class='marginalizedparent'><a class='marginalized' href='#relops-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3253'>#</a></div><div id='relops-14.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
If <span class='texttt'>!x</span>, <span class='texttt'>true</span>;
otherwise, if <span class='texttt'>!y</span>, <span class='texttt'>false</span>;
otherwise <span class='texttt'>*x &lt;= *y</span><a class='hidden_link' href='#relops-14.sentence-1'>.</a></div></div></div><div class='para' id='relops-15'><div class='marginalizedparent'><a class='marginalized' href='#relops-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3259'>#</a></div><div id='relops-15.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
Specializations of this function template
for which <span class='texttt'>*x &lt;= *y</span> is a core constant expression
shall be constexpr functions<a class='hidden_link' href='#relops-15.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator>=,optional'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator>='></a></span><div class='itemdecl' id='relops-itemdecl:6'><div class='marginalizedparent'><a class='itemDeclLink' href='#relops-itemdecl:6'>🔗</a></div><code class='itemdeclcode'>template&lt;class T, class U&gt; constexpr bool operator&gt;=(const optional&lt;T&gt;&amp; x, const optional&lt;U&gt;&amp; y);
</code></div><div class='itemdescr'></div><div class='para' id='relops-16'><div class='marginalizedparent'><a class='marginalized' href='#relops-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3272'>#</a></div><div id='relops-16.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
The expression <span class='texttt'>*x &gt;= *y</span> shall be well-formed and
its result shall be convertible to <span class='texttt'>bool</span><a class='hidden_link' href='#relops-16.sentence-1'>.</a></div></div></div><div class='para' id='relops-17'><div class='marginalizedparent'><a class='marginalized' href='#relops-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3277'>#</a></div><div id='relops-17.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
If <span class='texttt'>!y</span>, <span class='texttt'>true</span>;
otherwise, if <span class='texttt'>!x</span>, <span class='texttt'>false</span>;
otherwise <span class='texttt'>*x &gt;= *y</span><a class='hidden_link' href='#relops-17.sentence-1'>.</a></div></div></div><div class='para' id='relops-18'><div class='marginalizedparent'><a class='marginalized' href='#relops-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3283'>#</a></div><div id='relops-18.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
Specializations of this function template
for which <span class='texttt'>*x &gt;= *y</span> is a core constant expression
shall be constexpr functions<a class='hidden_link' href='#relops-18.sentence-1'>.</a></div></div></div></div><div id='nullops' class='section'><h3 ><a class='secnum' href='#nullops' style='min-width:103pt'>19.6.7</a> Comparison with <span class='texttt'>nullopt</span> <a class='abbr_ref' href='optional.nullops'>[optional.nullops]</a></h3><span class='indexparent'><a class='index' id='lib:operator==,optional_'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator==_'></a></span><div class='itemdecl' id='nullops-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#nullops-itemdecl:1'>🔗</a></div><code class='itemdeclcode'>template&lt;class T&gt; constexpr bool operator==(const optional&lt;T&gt;&amp; x, nullopt_t) noexcept;
template&lt;class T&gt; constexpr bool operator==(nullopt_t, const optional&lt;T&gt;&amp; x) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='nullops-1'><div class='marginalizedparent'><a class='marginalized' href='#nullops-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3299'>#</a></div><div id='nullops-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>!x</span><a class='hidden_link' href='#nullops-1.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator!=,optional_'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator!=_'></a></span><div class='itemdecl' id='nullops-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#nullops-itemdecl:2'>🔗</a></div><code class='itemdeclcode'>template&lt;class T&gt; constexpr bool operator!=(const optional&lt;T&gt;&amp; x, nullopt_t) noexcept;
template&lt;class T&gt; constexpr bool operator!=(nullopt_t, const optional&lt;T&gt;&amp; x) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='nullops-2'><div class='marginalizedparent'><a class='marginalized' href='#nullops-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3311'>#</a></div><div id='nullops-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>bool(x)</span><a class='hidden_link' href='#nullops-2.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator<,optional_'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator<_'></a></span><div class='itemdecl' id='nullops-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#nullops-itemdecl:3'>🔗</a></div><code class='itemdeclcode'>template&lt;class T&gt; constexpr bool operator&lt;(const optional&lt;T&gt;&amp; x, nullopt_t) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='nullops-3'><div class='marginalizedparent'><a class='marginalized' href='#nullops-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3322'>#</a></div><div id='nullops-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>false</span><a class='hidden_link' href='#nullops-3.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator<,optional__'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator<__'></a></span><div class='itemdecl' id='nullops-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#nullops-itemdecl:4'>🔗</a></div><code class='itemdeclcode'>template&lt;class T&gt; constexpr bool operator&lt;(nullopt_t, const optional&lt;T&gt;&amp; x) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='nullops-4'><div class='marginalizedparent'><a class='marginalized' href='#nullops-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3333'>#</a></div><div id='nullops-4.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>bool(x)</span><a class='hidden_link' href='#nullops-4.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator>,optional_'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator>_'></a></span><div class='itemdecl' id='nullops-itemdecl:5'><div class='marginalizedparent'><a class='itemDeclLink' href='#nullops-itemdecl:5'>🔗</a></div><code class='itemdeclcode'>template&lt;class T&gt; constexpr bool operator&gt;(const optional&lt;T&gt;&amp; x, nullopt_t) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='nullops-5'><div class='marginalizedparent'><a class='marginalized' href='#nullops-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3344'>#</a></div><div id='nullops-5.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>bool(x)</span><a class='hidden_link' href='#nullops-5.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator>,optional__'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator>__'></a></span><div class='itemdecl' id='nullops-itemdecl:6'><div class='marginalizedparent'><a class='itemDeclLink' href='#nullops-itemdecl:6'>🔗</a></div><code class='itemdeclcode'>template&lt;class T&gt; constexpr bool operator&gt;(nullopt_t, const optional&lt;T&gt;&amp; x) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='nullops-6'><div class='marginalizedparent'><a class='marginalized' href='#nullops-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3355'>#</a></div><div id='nullops-6.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>false</span><a class='hidden_link' href='#nullops-6.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator<=,optional_'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator<=_'></a></span><div class='itemdecl' id='nullops-itemdecl:7'><div class='marginalizedparent'><a class='itemDeclLink' href='#nullops-itemdecl:7'>🔗</a></div><code class='itemdeclcode'>template&lt;class T&gt; constexpr bool operator&lt;=(const optional&lt;T&gt;&amp; x, nullopt_t) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='nullops-7'><div class='marginalizedparent'><a class='marginalized' href='#nullops-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3366'>#</a></div><div id='nullops-7.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>!x</span><a class='hidden_link' href='#nullops-7.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator<=,optional__'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator<=__'></a></span><div class='itemdecl' id='nullops-itemdecl:8'><div class='marginalizedparent'><a class='itemDeclLink' href='#nullops-itemdecl:8'>🔗</a></div><code class='itemdeclcode'>template&lt;class T&gt; constexpr bool operator&lt;=(nullopt_t, const optional&lt;T&gt;&amp; x) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='nullops-8'><div class='marginalizedparent'><a class='marginalized' href='#nullops-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3377'>#</a></div><div id='nullops-8.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>true</span><a class='hidden_link' href='#nullops-8.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator>=,optional_'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator>=_'></a></span><div class='itemdecl' id='nullops-itemdecl:9'><div class='marginalizedparent'><a class='itemDeclLink' href='#nullops-itemdecl:9'>🔗</a></div><code class='itemdeclcode'>template&lt;class T&gt; constexpr bool operator&gt;=(const optional&lt;T&gt;&amp; x, nullopt_t) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='nullops-9'><div class='marginalizedparent'><a class='marginalized' href='#nullops-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3388'>#</a></div><div id='nullops-9.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>true</span><a class='hidden_link' href='#nullops-9.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator>=,optional__'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator>=__'></a></span><div class='itemdecl' id='nullops-itemdecl:10'><div class='marginalizedparent'><a class='itemDeclLink' href='#nullops-itemdecl:10'>🔗</a></div><code class='itemdeclcode'>template&lt;class T&gt; constexpr bool operator&gt;=(nullopt_t, const optional&lt;T&gt;&amp; x) noexcept;
</code></div><div class='itemdescr'></div><div class='para' id='nullops-10'><div class='marginalizedparent'><a class='marginalized' href='#nullops-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3399'>#</a></div><div id='nullops-10.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>!x</span><a class='hidden_link' href='#nullops-10.sentence-1'>.</a></div></div></div></div><div id='comp_with_t' class='section'><h3 ><a class='secnum' href='#comp_with_t' style='min-width:103pt'>19.6.8</a> Comparison with <span class='texttt'>T</span> <a class='abbr_ref' href='optional.comp_with_t'>[optional.comp_with_t]</a></h3><span class='indexparent'><a class='index' id='lib:operator==,optional__'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator==__'></a></span><div class='itemdecl' id='comp_with_t-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#comp_with_t-itemdecl:1'>🔗</a></div><code class='itemdeclcode'>template&lt;class T, class U&gt; constexpr bool operator==(const optional&lt;T&gt;&amp; x, const U&amp; v);
</code></div><div class='itemdescr'></div><div class='para' id='comp_with_t-1'><div class='marginalizedparent'><a class='marginalized' href='#comp_with_t-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3412'>#</a></div><div id='comp_with_t-1.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
The expression <span class='texttt'>*x == v</span> shall be well-formed and
its result shall be convertible to <span class='texttt'>bool</span><a class='hidden_link' href='#comp_with_t-1.sentence-1'>.</a></div> <div id='comp_with_t-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#comp_with_t-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='comp_with_t-1.sentence-2' class='sentence'><span class='texttt'>T</span> need not be <span class='textit'>Cpp17EqualityComparable</span><a class='hidden_link' href='#comp_with_t-1.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div class='para' id='comp_with_t-2'><div class='marginalizedparent'><a class='marginalized' href='#comp_with_t-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3420'>#</a></div><div id='comp_with_t-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to: <span class='texttt'>return bool(x) ?&nbsp;*x == v :&nbsp;false;</span></div></div></div><span class='indexparent'><a class='index' id='lib:operator==,optional___'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator==___'></a></span><div class='itemdecl' id='comp_with_t-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#comp_with_t-itemdecl:2'>🔗</a></div><code class='itemdeclcode'>template&lt;class T, class U&gt; constexpr bool operator==(const T&amp; v, const optional&lt;U&gt;&amp; x);
</code></div><div class='itemdescr'></div><div class='para' id='comp_with_t-3'><div class='marginalizedparent'><a class='marginalized' href='#comp_with_t-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3431'>#</a></div><div id='comp_with_t-3.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
The expression <span class='texttt'>v == *x</span> shall be well-formed and
its result shall be convertible to <span class='texttt'>bool</span><a class='hidden_link' href='#comp_with_t-3.sentence-1'>.</a></div></div></div><div class='para' id='comp_with_t-4'><div class='marginalizedparent'><a class='marginalized' href='#comp_with_t-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3436'>#</a></div><div id='comp_with_t-4.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to: <span class='texttt'>return bool(x) ?&nbsp;v == *x :&nbsp;false;</span></div></div></div><span class='indexparent'><a class='index' id='lib:operator!=,optional__'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator!=__'></a></span><div class='itemdecl' id='comp_with_t-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#comp_with_t-itemdecl:3'>🔗</a></div><code class='itemdeclcode'>template&lt;class T, class U&gt; constexpr bool operator!=(const optional&lt;T&gt;&amp; x, const U&amp; v);
</code></div><div class='itemdescr'></div><div class='para' id='comp_with_t-5'><div class='marginalizedparent'><a class='marginalized' href='#comp_with_t-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3447'>#</a></div><div id='comp_with_t-5.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
The expression <span class='texttt'>*x != v</span> shall be well-formed and
its result shall be convertible to <span class='texttt'>bool</span><a class='hidden_link' href='#comp_with_t-5.sentence-1'>.</a></div></div></div><div class='para' id='comp_with_t-6'><div class='marginalizedparent'><a class='marginalized' href='#comp_with_t-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3452'>#</a></div><div id='comp_with_t-6.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to: <span class='texttt'>return bool(x) ?&nbsp;*x != v :&nbsp;true;</span></div></div></div><span class='indexparent'><a class='index' id='lib:operator!=,optional___'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator!=___'></a></span><div class='itemdecl' id='comp_with_t-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#comp_with_t-itemdecl:4'>🔗</a></div><code class='itemdeclcode'>template&lt;class T, class U&gt; constexpr bool operator!=(const T&amp; v, const optional&lt;U&gt;&amp; x);
</code></div><div class='itemdescr'></div><div class='para' id='comp_with_t-7'><div class='marginalizedparent'><a class='marginalized' href='#comp_with_t-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3463'>#</a></div><div id='comp_with_t-7.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
The expression <span class='texttt'>v != *x</span> shall be well-formed and
its result shall be convertible to <span class='texttt'>bool</span><a class='hidden_link' href='#comp_with_t-7.sentence-1'>.</a></div></div></div><div class='para' id='comp_with_t-8'><div class='marginalizedparent'><a class='marginalized' href='#comp_with_t-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3468'>#</a></div><div id='comp_with_t-8.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to: <span class='texttt'>return bool(x) ?&nbsp;v != *x :&nbsp;true;</span></div></div></div><span class='indexparent'><a class='index' id='lib:operator<,optional___'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator<___'></a></span><div class='itemdecl' id='comp_with_t-itemdecl:5'><div class='marginalizedparent'><a class='itemDeclLink' href='#comp_with_t-itemdecl:5'>🔗</a></div><code class='itemdeclcode'>template&lt;class T, class U&gt; constexpr bool operator&lt;(const optional&lt;T&gt;&amp; x, const U&amp; v);
</code></div><div class='itemdescr'></div><div class='para' id='comp_with_t-9'><div class='marginalizedparent'><a class='marginalized' href='#comp_with_t-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3479'>#</a></div><div id='comp_with_t-9.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
The expression <span class='texttt'>*x &lt; v</span> shall be well-formed and
its result shall be convertible to <span class='texttt'>bool</span><a class='hidden_link' href='#comp_with_t-9.sentence-1'>.</a></div></div></div><div class='para' id='comp_with_t-10'><div class='marginalizedparent'><a class='marginalized' href='#comp_with_t-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3484'>#</a></div><div id='comp_with_t-10.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to: <span class='texttt'>return bool(x) ?&nbsp;*x &lt; v :&nbsp;true;</span></div></div></div><span class='indexparent'><a class='index' id='lib:operator<,optional____'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator<____'></a></span><div class='itemdecl' id='comp_with_t-itemdecl:6'><div class='marginalizedparent'><a class='itemDeclLink' href='#comp_with_t-itemdecl:6'>🔗</a></div><code class='itemdeclcode'>template&lt;class T, class U&gt; constexpr bool operator&lt;(const T&amp; v, const optional&lt;U&gt;&amp; x);
</code></div><div class='itemdescr'></div><div class='para' id='comp_with_t-11'><div class='marginalizedparent'><a class='marginalized' href='#comp_with_t-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3495'>#</a></div><div id='comp_with_t-11.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
The expression <span class='texttt'>v &lt; *x</span> shall be well-formed and
its result shall be convertible to <span class='texttt'>bool</span><a class='hidden_link' href='#comp_with_t-11.sentence-1'>.</a></div></div></div><div class='para' id='comp_with_t-12'><div class='marginalizedparent'><a class='marginalized' href='#comp_with_t-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3500'>#</a></div><div id='comp_with_t-12.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to: <span class='texttt'>return bool(x) ?&nbsp;v &lt; *x :&nbsp;false;</span></div></div></div><span class='indexparent'><a class='index' id='lib:operator>,optional___'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator>___'></a></span><div class='itemdecl' id='comp_with_t-itemdecl:7'><div class='marginalizedparent'><a class='itemDeclLink' href='#comp_with_t-itemdecl:7'>🔗</a></div><code class='itemdeclcode'>template&lt;class T, class U&gt; constexpr bool operator&gt;(const optional&lt;T&gt;&amp; x, const U&amp; v);
</code></div><div class='itemdescr'></div><div class='para' id='comp_with_t-13'><div class='marginalizedparent'><a class='marginalized' href='#comp_with_t-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3511'>#</a></div><div id='comp_with_t-13.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
The expression <span class='texttt'>*x &gt; v</span> shall be well-formed and
its result shall be convertible to <span class='texttt'>bool</span><a class='hidden_link' href='#comp_with_t-13.sentence-1'>.</a></div></div></div><div class='para' id='comp_with_t-14'><div class='marginalizedparent'><a class='marginalized' href='#comp_with_t-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3516'>#</a></div><div id='comp_with_t-14.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to: <span class='texttt'>return bool(x) ?&nbsp;*x &gt; v :&nbsp;false;</span></div></div></div><span class='indexparent'><a class='index' id='lib:operator>,optional____'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator>____'></a></span><div class='itemdecl' id='comp_with_t-itemdecl:8'><div class='marginalizedparent'><a class='itemDeclLink' href='#comp_with_t-itemdecl:8'>🔗</a></div><code class='itemdeclcode'>template&lt;class T, class U&gt; constexpr bool operator&gt;(const T&amp; v, const optional&lt;U&gt;&amp; x);
</code></div><div class='itemdescr'></div><div class='para' id='comp_with_t-15'><div class='marginalizedparent'><a class='marginalized' href='#comp_with_t-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3527'>#</a></div><div id='comp_with_t-15.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
The expression <span class='texttt'>v &gt; *x</span> shall be well-formed and
its result shall be convertible to <span class='texttt'>bool</span><a class='hidden_link' href='#comp_with_t-15.sentence-1'>.</a></div></div></div><div class='para' id='comp_with_t-16'><div class='marginalizedparent'><a class='marginalized' href='#comp_with_t-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3532'>#</a></div><div id='comp_with_t-16.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to: <span class='texttt'>return bool(x) ?&nbsp;v &gt; *x :&nbsp;true;</span></div></div></div><span class='indexparent'><a class='index' id='lib:operator<=,optional___'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator<=___'></a></span><div class='itemdecl' id='comp_with_t-itemdecl:9'><div class='marginalizedparent'><a class='itemDeclLink' href='#comp_with_t-itemdecl:9'>🔗</a></div><code class='itemdeclcode'>template&lt;class T, class U&gt; constexpr bool operator&lt;=(const optional&lt;T&gt;&amp; x, const U&amp; v);
</code></div><div class='itemdescr'></div><div class='para' id='comp_with_t-17'><div class='marginalizedparent'><a class='marginalized' href='#comp_with_t-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3543'>#</a></div><div id='comp_with_t-17.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
The expression <span class='texttt'>*x &lt;= v</span> shall be well-formed and
its result shall be convertible to <span class='texttt'>bool</span><a class='hidden_link' href='#comp_with_t-17.sentence-1'>.</a></div></div></div><div class='para' id='comp_with_t-18'><div class='marginalizedparent'><a class='marginalized' href='#comp_with_t-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3548'>#</a></div><div id='comp_with_t-18.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to: <span class='texttt'>return bool(x) ?&nbsp;*x &lt;= v :&nbsp;true;</span></div></div></div><span class='indexparent'><a class='index' id='lib:operator<=,optional____'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator<=____'></a></span><div class='itemdecl' id='comp_with_t-itemdecl:10'><div class='marginalizedparent'><a class='itemDeclLink' href='#comp_with_t-itemdecl:10'>🔗</a></div><code class='itemdeclcode'>template&lt;class T, class U&gt; constexpr bool operator&lt;=(const T&amp; v, const optional&lt;U&gt;&amp; x);
</code></div><div class='itemdescr'></div><div class='para' id='comp_with_t-19'><div class='marginalizedparent'><a class='marginalized' href='#comp_with_t-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3559'>#</a></div><div id='comp_with_t-19.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
The expression <span class='texttt'>v &lt;= *x</span> shall be well-formed and
its result shall be convertible to <span class='texttt'>bool</span><a class='hidden_link' href='#comp_with_t-19.sentence-1'>.</a></div></div></div><div class='para' id='comp_with_t-20'><div class='marginalizedparent'><a class='marginalized' href='#comp_with_t-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3564'>#</a></div><div id='comp_with_t-20.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to: <span class='texttt'>return bool(x) ?&nbsp;v &lt;= *x :&nbsp;false;</span></div></div></div><span class='indexparent'><a class='index' id='lib:operator>=,optional___'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator>=___'></a></span><div class='itemdecl' id='comp_with_t-itemdecl:11'><div class='marginalizedparent'><a class='itemDeclLink' href='#comp_with_t-itemdecl:11'>🔗</a></div><code class='itemdeclcode'>template&lt;class T, class U&gt; constexpr bool operator&gt;=(const optional&lt;T&gt;&amp; x, const U&amp; v);
</code></div><div class='itemdescr'></div><div class='para' id='comp_with_t-21'><div class='marginalizedparent'><a class='marginalized' href='#comp_with_t-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3575'>#</a></div><div id='comp_with_t-21.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
The expression <span class='texttt'>*x &gt;= v</span> shall be well-formed and
its result shall be convertible to <span class='texttt'>bool</span><a class='hidden_link' href='#comp_with_t-21.sentence-1'>.</a></div></div></div><div class='para' id='comp_with_t-22'><div class='marginalizedparent'><a class='marginalized' href='#comp_with_t-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3580'>#</a></div><div id='comp_with_t-22.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to: <span class='texttt'>return bool(x) ?&nbsp;*x &gt;= v :&nbsp;false;</span></div></div></div><span class='indexparent'><a class='index' id='lib:operator>=,optional____'></a></span><span class='indexparent'><a class='index' id='lib:optional,operator>=____'></a></span><div class='itemdecl' id='comp_with_t-itemdecl:12'><div class='marginalizedparent'><a class='itemDeclLink' href='#comp_with_t-itemdecl:12'>🔗</a></div><code class='itemdeclcode'>template&lt;class T, class U&gt; constexpr bool operator&gt;=(const T&amp; v, const optional&lt;U&gt;&amp; x);
</code></div><div class='itemdescr'></div><div class='para' id='comp_with_t-23'><div class='marginalizedparent'><a class='marginalized' href='#comp_with_t-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3591'>#</a></div><div id='comp_with_t-23.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
The expression <span class='texttt'>v &gt;= *x</span> shall be well-formed and
its result shall be convertible to <span class='texttt'>bool</span><a class='hidden_link' href='#comp_with_t-23.sentence-1'>.</a></div></div></div><div class='para' id='comp_with_t-24'><div class='marginalizedparent'><a class='marginalized' href='#comp_with_t-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3596'>#</a></div><div id='comp_with_t-24.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to: <span class='texttt'>return bool(x) ?&nbsp;v &gt;= *x :&nbsp;true;</span></div></div></div></div><div id='specalg' class='section'><h3 ><a class='secnum' href='#specalg' style='min-width:103pt'>19.6.9</a> Specialized algorithms <a class='abbr_ref' href='optional.specalg'>[optional.specalg]</a></h3><span class='indexparent'><a class='index' id='lib:swap,optional_'></a></span><div class='itemdecl' id='specalg-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#specalg-itemdecl:1'>🔗</a></div><code class='itemdeclcode'>template&lt;class T&gt; void swap(optional&lt;T&gt;&amp; x, optional&lt;T&gt;&amp; y) noexcept(noexcept(x.swap(y)));
</code></div><div class='itemdescr'></div><div class='para' id='specalg-1'><div class='marginalizedparent'><a class='marginalized' href='#specalg-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3610'>#</a></div><div id='specalg-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Calls <span class='texttt'>x.swap(y)</span><a class='hidden_link' href='#specalg-1.sentence-1'>.</a></div></div></div><div class='para' id='specalg-2'><div class='marginalizedparent'><a class='marginalized' href='#specalg-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3614'>#</a></div><div id='specalg-2.sentence-1' class='sentence'><span class='textit'>Remarks:</span> This function shall not participate in overload resolution
unless <span class='texttt'>is_&shy;move_&shy;constructible_&shy;v&lt;T&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_&shy;swappable_&shy;v&lt;T&gt;</span> is <span class='texttt'>true</span><a class='hidden_link' href='#specalg-2.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:make_optional'></a></span><div class='itemdecl' id='specalg-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#specalg-itemdecl:2'>🔗</a></div><code class='itemdeclcode'>template&lt;class T&gt; constexpr optional&lt;decay_t&lt;T&gt;&gt; make_optional(T&amp;&amp; v);
</code></div><div class='itemdescr'></div><div class='para' id='specalg-3'><div class='marginalizedparent'><a class='marginalized' href='#specalg-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3626'>#</a></div><div id='specalg-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>optional&lt;decay_&shy;t&lt;T&gt;&gt;(std&#x200b;::&#x200b;forward&lt;T&gt;(v))</span><a class='hidden_link' href='#specalg-3.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:make_optional_'></a></span><div class='itemdecl' id='specalg-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#specalg-itemdecl:3'>🔗</a></div><code class='itemdeclcode'>template&lt;class T, class...Args&gt;
  constexpr optional&lt;T&gt; make_optional(Args&amp;&amp;... args);
</code></div><div class='itemdescr'></div><div class='para' id='specalg-4'><div class='marginalizedparent'><a class='marginalized' href='#specalg-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3638'>#</a></div><div id='specalg-4.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to: <span class='texttt'>return optional&lt;T&gt;(in_&shy;place, std&#x200b;::&#x200b;forward&lt;Args&gt;(args)...);</span></div></div></div><span class='indexparent'><a class='index' id='lib:make_optional__'></a></span><div class='itemdecl' id='specalg-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#specalg-itemdecl:4'>🔗</a></div><code class='itemdeclcode'>template&lt;class T, class U, class... Args&gt;
  constexpr optional&lt;T&gt; make_optional(initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
</code></div><div class='itemdescr'></div><div class='para' id='specalg-5'><div class='marginalizedparent'><a class='marginalized' href='#specalg-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3649'>#</a></div><div id='specalg-5.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to: <span class='texttt'>return optional&lt;T&gt;(in_&shy;place, il, std&#x200b;::&#x200b;forward&lt;Args&gt;(args)...);</span></div></div></div></div><div id='hash' class='section'><h3 ><a class='secnum' href='#hash' style='min-width:103pt'>19.6.10</a> Hash support <a class='abbr_ref' href='optional.hash'>[optional.hash]</a></h3><span class='indexparent'><a class='index' id='lib:hash,optional'></a></span><div class='itemdecl' id='hash-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#hash-itemdecl:1'>🔗</a></div><code class='itemdeclcode'>template&lt;class T&gt; struct hash&lt;optional&lt;T&gt;&gt;;
</code></div><div class='itemdescr'></div><div class='para' id='hash-1'><div class='marginalizedparent'><a class='marginalized' href='#hash-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/72f1bb19b4700cf4c6478b84a517150a43a91dd2/source/utilities.tex#L3661'>#</a></div><div id='hash-1.sentence-1' class='sentence'>The specialization <span class='texttt'>hash&lt;optional&lt;T&gt;&gt;</span> is enabled (<a href='unord.hash'>[unord.hash]</a>)
if and only if <span class='texttt'>hash&lt;remove_&shy;const_&shy;t&lt;T&gt;&gt;</span> is enabled<a class='hidden_link' href='#hash-1.sentence-1'>.</a></div> <div id='hash-1.sentence-2' class='sentence'>When enabled, for an object <span class='texttt'>o</span> of type <span class='texttt'>optional&lt;T&gt;</span>,
if <span class='texttt'>bool(o) == true</span>, then <span class='texttt'>hash&lt;optional&lt;T&gt;&gt;()(o)</span>
shall evaluate to the same value as <span class='texttt'>hash&lt;remove_&shy;const_&shy;t&lt;T&gt;&gt;()(*o)</span>;
otherwise it evaluates to an unspecified value<a class='hidden_link' href='#hash-1.sentence-2'>.</a></div> <div id='hash-1.sentence-3' class='sentence'>The member functions are not guaranteed to be <span class='texttt'>noexcept</span><a class='hidden_link' href='#hash-1.sentence-3'>.</a></div></div></div></div></div></body></html>