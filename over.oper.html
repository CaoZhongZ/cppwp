<!DOCTYPE html><html lang='en'><head><title>[over.oper]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>12</a> Overloading <a class='abbr_ref' href='./#over'>[over]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>12.6</a> Overloaded operators <a class='abbr_ref'>[over.oper]</a></h2><span class='indexparent'><a class='index' id=':overloading,operator'></a></span><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3310'>#</a></div><div id='1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':operator,overloaded'></a></span>A function declaration having one of the following
<i ><a href='#nt:operator-function-id'>operator-function-id</a></i><span class='textit'>s</span>
as its name declares an
<a class='hidden_link' href='#def:function,operator' id='def:function,operator'><i >operator function</i></a><a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>A function template declaration having one of the
following <i ><a href='#nt:operator-function-id'>operator-function-id</a></i><span class='textit'>s</span> as its name
declares an <a class='hidden_link' href='#def:function,operator,template' id='def:function,operator,template'><i >operator function template</i></a><a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>A specialization
of an operator function template is also an operator function<a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'>An operator function is said to
<a class='hidden_link' href='#def:operator,implementation' id='def:operator,implementation'><i >implement</i></a>
the operator named in its
<i ><a href='#nt:operator-function-id'>operator-function-id</a></i><a class='hidden_link' href='#1.sentence-4'>.</a></div><pre class='bnf'><a class='nontermdef' href='#nt:operator-function-id' id='nt:operator-function-id'>operator-function-id:</a>
&#9;<span class='texttt'><i ><a href='#nt:operator'>operator</a></i></span><span class='indexparent'><a class='index' id=':operator'></a></span> <i ><a href='#nt:operator'>operator</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:operator' id='nt:operator'>operator:</a> <span class='textnormal'>one of</span>
&#9;<span class='terminal'><span class='keyword'>new</span>      <span class='keyword'>delete</span>   <span class='keyword'>new</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span>    <span class='keyword'>delete</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span> co_await <span class='parenthesis'>(</span><span class='rlap'><span style='white-space:nowrap'>&thinsp;</span><span class='parenthesis'>)</span></span>        <span class='squarebracket'>[</span><span class='rlap'><span style='white-space:nowrap'>&thinsp;</span><span class='squarebracket'>]</span></span>        <span class='operator'>-</span><span class='anglebracket'>&gt;</span>       <span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span></span>
&#9;<span class='terminal'><span class='operator'>~</span>        <span class='operator'>!</span>        <span class='operator'>+</span>        <span class='operator'>-</span>        <span class='operator'>*</span>        <span class='operator'>/</span>        <span class='operator'>%</span>        <span class='operator'>^</span>        <span class='operator'>&amp;</span></span>
&#9;<span class='terminal'><span class='operator'>|</span>        <span class='operator'>=</span>        <span class='operator'>+</span><span class='operator'>=</span>       <span class='operator'>-</span><span class='operator'>=</span>       <span class='operator'>*</span><span class='operator'>=</span>       <span class='operator'>/</span><span class='operator'>=</span>       <span class='operator'>%</span><span class='operator'>=</span>       <span class='operator'>^</span><span class='operator'>=</span>       <span class='operator'>&amp;</span><span class='operator'>=</span></span>
&#9;<span class='terminal'><span class='operator'>|</span><span class='operator'>=</span>       <span class='operator'>=</span><span class='operator'>=</span>       <span class='operator'>!</span><span class='operator'>=</span>       <span class='anglebracket'>&lt;</span>        <span class='anglebracket'>&gt;</span>        <span class='anglebracket'>&lt;</span><span class='operator'>=</span>       <span class='anglebracket'>&gt;</span><span class='operator'>=</span>       <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span>      <span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>
&#9;<span class='terminal'><span class='operator'>|</span><span class='operator'>|</span>       <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span>       <span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>       <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span>      <span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>=</span>      <span class='operator'>+</span><span class='operator'>+</span>       <span class='operator'>-</span><span class='operator'>-</span>       ,</span>
</pre>
<div id='1.note-1' class='note'>[&nbsp;<a class='note_link' href='#1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='1.sentence-5' class='sentence'>The operators
<span class='texttt'><span class='keyword'>new</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span>,
<span class='texttt'><span class='keyword'>delete</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span>,
<span class='texttt'><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
and
<span class='texttt'><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span>
are formed from more than one token<a class='hidden_link' href='#1.sentence-5'>.</a></div> <div id='1.sentence-6' class='sentence'>The latter two operators are <a href='expr.call'>function call</a>
and <a href='expr.sub'>subscripting</a><a class='hidden_link' href='#1.sentence-6'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> 
<span class='indexparent'><a class='index' id=':operator,subscripting'></a></span><span class='indexparent'><a class='index' id=':operator,function_call'></a></span></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3354'>#</a></div><div id='2.sentence-1' class='sentence'>Both the unary and binary forms of
<pre class='ncsimplebnf'><span class='terminal'><span class='operator'>+</span>      <span class='operator'>-</span>      <span class='operator'>*</span>      <span class='operator'>&amp;</span></span>
</pre>
can be overloaded<a class='hidden_link' href='#2.sentence-1'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3361'>#</a></div><div id='3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':restriction,operator_overloading'></a></span>The following operators cannot be overloaded:
<pre class='ncsimplebnf'><span class='terminal'><span class='operator'>.</span>      <span class='operator'>.</span><span class='operator'>*</span>     <span class='operator'>::</span>     <span class='operator'>?</span><span class='operator'>:</span></span>
</pre>
nor can the preprocessing symbols
<span class='texttt'><span class='preprocessordirective'>#</span></span>
and
<span class='texttt'><span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span></span> (<a href='cpp'>[cpp]</a>)<a class='hidden_link' href='#3.sentence-1'>.</a></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3372'>#</a></div><div id='4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':call,operator_function'></a></span>Operator functions are usually not called directly; instead they are invoked
to evaluate the operators they implement (<a href='#over.unary'>[over.unary]</a> – <a href='#over.inc'>[over.inc]</a>)<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>They can be explicitly called, however, using the
<i ><a href='#nt:operator-function-id'>operator-function-id</a></i>
as the name of the function in the function call syntax (<a href='expr.call'>[expr.call]</a>)<a class='hidden_link' href='#4.sentence-2'>.</a></div> <div id='4.example-1' class='example'>[&nbsp;<a class='example_link' href='#4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
complex z <span class='operator'>=</span> a<span class='operator'>.</span><span class='keyword'>operator</span><span class='operator'>+</span><span class='parenthesis'>(</span>b<span class='parenthesis'>)</span>;     <span class='comment'>// <span class='tcode_in_codeblock'>complex z = a+b;</span></span>
<span class='keyword'>void</span><span class='operator'>*</span> p <span class='operator'>=</span> <span class='keyword'>operator</span> <span class='keyword'>new</span><span class='parenthesis'>(</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span><span class='operator'>*</span>n<span class='parenthesis'>)</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3386'>#</a></div><div id='5.sentence-1' class='sentence'>The allocation and deallocation functions,
<span class='texttt'><span class='keyword'>operator</span></span>
<span class='texttt'><span class='keyword'>new</span></span>,
<span class='texttt'><span class='keyword'>operator</span></span>
<span class='texttt'><span class='keyword'>new</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span>,
<span class='texttt'><span class='keyword'>operator</span></span>
<span class='texttt'><span class='keyword'>delete</span></span>
and
<span class='texttt'><span class='keyword'>operator</span></span>
<span class='texttt'>delete&#x200b;<span class='squarebracket'>[</span><span class='squarebracket'>]</span></span>,
are described completely in <a href='basic.stc.dynamic'>[basic.stc.dynamic]</a><a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>The attributes and restrictions
found in the rest of this subclause do not apply to them unless explicitly
stated in <a href='basic.stc.dynamic'>[basic.stc.dynamic]</a><a class='hidden_link' href='#5.sentence-2'>.</a></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3402'>#</a></div><div id='6.sentence-1' class='sentence'>The <span class='texttt'>co_&shy;await</span> operator is described completely in <a href='expr.await'>[expr.await]</a><a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'>The attributes and restrictions
found in the rest of this subclause do not apply to it unless explicitly
stated in <a href='expr.await'>[expr.await]</a><a class='hidden_link' href='#6.sentence-2'>.</a></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3408'>#</a></div><div id='7.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':restriction,overloading'></a></span>An operator function
shall either be a non-static member function or be a non-member function that
has at least one parameter whose type is a class, a reference to a class, an
enumeration, or a reference to an enumeration<a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='7.sentence-2' class='sentence'>It is not possible to change the precedence, grouping, or number of operands
of operators<a class='hidden_link' href='#7.sentence-2'>.</a></div> <div id='7.sentence-3' class='sentence'>The meaning of the operators
<span class='texttt'><span class='operator'>=</span></span>,
(unary)
<span class='texttt'><span class='operator'>&amp;</span></span>,
and
<span class='texttt'>,</span>
(comma), predefined for each type, can be changed for specific
class and enumeration types by
defining operator functions that implement these operators<a class='hidden_link' href='#7.sentence-3'>.</a></div> <div id='7.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':overloaded_operator,inheritance_of'></a></span>Operator functions are inherited in the same manner as other base class
functions<a class='hidden_link' href='#7.sentence-4'>.</a></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3429'>#</a></div><div id='8.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':operator'></a></span>The identities among certain predefined operators applied to basic types
(for example,
<span class='texttt'><span class='operator'>+</span><span class='operator'>+</span>a</span> <span class='math'>&equiv;</span>
<span class='texttt'>a<span class='operator'>+</span><span class='operator'>=</span><span class='literal'>1</span></span>)
need not hold for operator functions<a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.sentence-2' class='sentence'>Some predefined operators, such as
<span class='texttt'><span class='operator'>+</span><span class='operator'>=</span></span>,
require an operand to be an lvalue when applied to basic types;
this is not required by operator functions<a class='hidden_link' href='#8.sentence-2'>.</a></div></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3441'>#</a></div><div id='9.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':argument,overloaded_operator_and_default'></a></span>An operator function cannot have <a href='dcl.fct.default'>default arguments</a>,
except where explicitly stated below<a class='hidden_link' href='#9.sentence-1'>.</a></div> <div id='9.sentence-2' class='sentence'>Operator
functions cannot have more or fewer parameters than the
number required for the corresponding operator, as
described in the rest of this subclause<a class='hidden_link' href='#9.sentence-2'>.</a></div></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3450'>#</a></div><div id='10.sentence-1' class='sentence'>Operators not mentioned explicitly in subclauses <a href='#over.ass'>[over.ass]</a> through <a href='#over.inc'>[over.inc]</a>
act as ordinary unary and binary
operators obeying the rules of <a href='#over.unary'>[over.unary]</a> or <a href='#over.binary'>[over.binary]</a><a class='hidden_link' href='#10.sentence-1'>.</a></div> </div><div id='over.unary' class='section'><h3 ><a class='secnum' href='#over.unary' style='min-width:103pt'>12.6.1</a> Unary operators <a class='abbr_ref' href='over.unary'>[over.unary]</a></h3><span class='indexparent'><a class='index' id=':unary_operator,overloaded'></a></span><span class='indexparent'><a class='index' id=':overloading,unary_operator'></a></span><div class='para' id='over.unary-1'><div class='marginalizedparent'><a class='marginalized' href='#over.unary-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3461'>#</a></div><div id='over.unary-1.sentence-1' class='sentence'>A prefix unary operator shall be implemented by a
non-static member function (<a href='class.mfct'>[class.mfct]</a>) with no parameters or a
non-member function with one parameter<a class='hidden_link' href='#over.unary-1.sentence-1'>.</a></div> <div id='over.unary-1.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':unary_operator,interpretation_of'></a></span>Thus, for any prefix unary operator
<span class='texttt'>@</span>,
<span class='texttt'>@x</span>
can be interpreted as either
<span class='texttt'>x<span class='operator'>.</span>operator@<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
or
<span class='texttt'><span class='keyword'>operator</span>@<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span></span><a class='hidden_link' href='#over.unary-1.sentence-2'>.</a></div> <div id='over.unary-1.sentence-3' class='sentence'>If both forms of the operator function have been declared,
the rules in <a href='over.match.oper'>[over.match.oper]</a> determine which, if any, interpretation is
used<a class='hidden_link' href='#over.unary-1.sentence-3'>.</a></div> <div id='over.unary-1.sentence-4' class='sentence'>See <a href='#over.inc'>[over.inc]</a> for an explanation of the postfix unary operators
<span class='texttt'><span class='operator'>+</span><span class='operator'>+</span></span>
and
<span class='texttt'><span class='operator'>-</span>-</span><a class='hidden_link' href='#over.unary-1.sentence-4'>.</a></div></div><div class='para' id='over.unary-2'><div class='marginalizedparent'><a class='marginalized' href='#over.unary-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3481'>#</a></div><div id='over.unary-2.sentence-1' class='sentence'>The unary and binary forms of the same operator are considered to have
the same name<a class='hidden_link' href='#over.unary-2.sentence-1'>.</a></div> <div id='over.unary-2.note-1' class='note'>[&nbsp;<a class='note_link' href='#over.unary-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='over.unary-2.sentence-2' class='sentence'>Consequently, a unary operator can hide a binary
operator from an enclosing scope, and vice versa<a class='hidden_link' href='#over.unary-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div></div><div id='over.binary' class='section'><h3 ><a class='secnum' href='#over.binary' style='min-width:103pt'>12.6.2</a> Binary operators <a class='abbr_ref' href='over.binary'>[over.binary]</a></h3><span class='indexparent'><a class='index' id=':binary_operator,overloaded'></a></span><span class='indexparent'><a class='index' id=':overloading,binary_operator'></a></span><div class='para' id='over.binary-1'><div class='marginalizedparent'><a class='marginalized' href='#over.binary-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3493'>#</a></div><div id='over.binary-1.sentence-1' class='sentence'>A binary operator shall be implemented either by a non-static member
function (<a href='class.mfct'>[class.mfct]</a>)
with one parameter or by a non-member function with two parameters<a class='hidden_link' href='#over.binary-1.sentence-1'>.</a></div> <div id='over.binary-1.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':binary_operator,interpretation_of'></a></span>Thus, for any binary operator
<span class='texttt'>@</span>,
<span class='texttt'>x@y</span>
can be interpreted as either
<span class='texttt'>x<span class='operator'>.</span>operator@<span class='parenthesis'>(</span>y<span class='parenthesis'>)</span></span>
or
<span class='texttt'><span class='keyword'>operator</span>@<span class='parenthesis'>(</span>x,y<span class='parenthesis'>)</span></span><a class='hidden_link' href='#over.binary-1.sentence-2'>.</a></div> <div id='over.binary-1.sentence-3' class='sentence'>If both forms of the operator function have been declared,
the rules in <a href='over.match.oper'>[over.match.oper]</a> determine which, if any, interpretation is
used<a class='hidden_link' href='#over.binary-1.sentence-3'>.</a></div></div><div class='para' id='over.binary-2'><div class='marginalizedparent'><a class='marginalized' href='#over.binary-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3509'>#</a></div><div id='over.binary-2.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:operator_function,equality' id='def:operator_function,equality'><i >equality operator function</i></a> is an operator function
for an equality operator (<a href='expr.eq'>[expr.eq]</a>)<a class='hidden_link' href='#over.binary-2.sentence-1'>.</a></div> <div id='over.binary-2.sentence-2' class='sentence'>A <a class='hidden_link' href='#def:operator_function,relational' id='def:operator_function,relational'><i >relational operator function</i></a> is an operator function
for a relational operator (<a href='expr.rel'>[expr.rel]</a>)<a class='hidden_link' href='#over.binary-2.sentence-2'>.</a></div> <div id='over.binary-2.sentence-3' class='sentence'>A <a class='hidden_link' href='#def:operator_function,three-way_comparison' id='def:operator_function,three-way_comparison'><i >three-way comparison operator function</i></a> is an operator function
for the three-way comparison operator (<a href='expr.spaceship'>[expr.spaceship]</a>)<a class='hidden_link' href='#over.binary-2.sentence-3'>.</a></div> <div id='over.binary-2.sentence-4' class='sentence'>A <a class='hidden_link' href='#def:operator_function,comparison' id='def:operator_function,comparison'><i >comparison operator function</i></a> is
an equality operator function,
a relational operator function, or
a three-way comparison operator function<a class='hidden_link' href='#over.binary-2.sentence-4'>.</a></div></div></div><div id='over.ass' class='section'><h3 ><a class='secnum' href='#over.ass' style='min-width:103pt'>12.6.3</a> Assignment <a class='abbr_ref' href='over.ass'>[over.ass]</a></h3><span class='indexparent'><a class='index' id=':assignment_operator,overloaded'></a></span><span class='indexparent'><a class='index' id=':overloading,assignment_operator'></a></span><div class='para' id='over.ass-1'><div class='marginalizedparent'><a class='marginalized' href='#over.ass-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3525'>#</a></div><div id='over.ass-1.sentence-1' class='sentence'>An assignment operator shall be implemented by a
non-static member function with
exactly one parameter<a class='hidden_link' href='#over.ass-1.sentence-1'>.</a></div> <div id='over.ass-1.sentence-2' class='sentence'>Because a copy assignment operator
<span class='texttt'><span class='keyword'>operator</span><span class='operator'>=</span></span>
is implicitly declared for a class
if not declared by the user (<a href='class.copy.assign'>[class.copy.assign]</a>),
a base class assignment operator is always hidden by the copy assignment
operator of the derived class<a class='hidden_link' href='#over.ass-1.sentence-2'>.</a></div></div><div class='para' id='over.ass-2'><div class='marginalizedparent'><a class='marginalized' href='#over.ass-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3536'>#</a></div><div id='over.ass-2.sentence-1' class='sentence'>Any assignment operator, even the copy and move assignment operators, can be virtual<a class='hidden_link' href='#over.ass-2.sentence-1'>.</a></div> <div id='over.ass-2.note-1' class='note'>[&nbsp;<a class='note_link' href='#over.ass-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='over.ass-2.sentence-2' class='sentence'>For a derived class
<span class='texttt'>D</span>
with a base class
<span class='texttt'>B</span>
for which a virtual copy/move assignment has been declared,
the copy/move assignment operator in
<span class='texttt'>D</span>
does not override
<span class='texttt'>B</span>'s
virtual copy/move assignment operator<a class='hidden_link' href='#over.ass-2.sentence-2'>.</a></div> <div id='over.ass-2.example-1' class='example'>[&nbsp;<a class='example_link' href='#over.ass-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>int</span> <span class='keyword'>operator</span><span class='operator'>=</span> <span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='keyword'>virtual</span> B<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span> <span class='parenthesis'>(</span><span class='keyword'>const</span> B<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='operator'>:</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>int</span> <span class='keyword'>operator</span><span class='operator'>=</span> <span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='keyword'>virtual</span> D<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span> <span class='parenthesis'>(</span><span class='keyword'>const</span> B<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

D dobj1;
D dobj2;
B<span class='operator'>*</span> bptr <span class='operator'>=</span> <span class='operator'>&amp;</span>dobj1;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  bptr<span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='literal'>99</span><span class='parenthesis'>)</span>;          <span class='comment'>// calls <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;operator=(int)</span></span>
  <span class='operator'>*</span>bptr <span class='operator'>=</span> <span class='literal'>99</span>;                   <span class='comment'>// ditto</span>
  bptr<span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>dobj2<span class='parenthesis'>)</span>;       <span class='comment'>// calls <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;operator=(const B&amp;)</span></span>
  <span class='operator'>*</span>bptr <span class='operator'>=</span> dobj2;                <span class='comment'>// ditto</span>
  dobj1 <span class='operator'>=</span> dobj2;                <span class='comment'>// calls implicitly-declared <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;operator=(const D&amp;)</span></span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  —&nbsp;<i>end note</i></div>&nbsp;]</div> </div></div><div id='over.call' class='section'><h3 ><a class='secnum' href='#over.call' style='min-width:103pt'>12.6.4</a> Function call <a class='abbr_ref' href='over.call'>[over.call]</a></h3><span class='indexparent'><a class='index' id=':function_call_operator,overloaded'></a></span><span class='indexparent'><a class='index' id=':overloading,function_call_operator'></a></span><div class='para' id='over.call-1'><div class='marginalizedparent'><a class='marginalized' href='#over.call-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3578'>#</a></div><div id='over.call-1.sentence-1' class='sentence'><span class='texttt'><span class='keyword'>operator</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
shall be a non-static member function with an arbitrary number of
parameters<a class='hidden_link' href='#over.call-1.sentence-1'>.</a></div> <div id='over.call-1.sentence-2' class='sentence'>It can have default arguments<a class='hidden_link' href='#over.call-1.sentence-2'>.</a></div> <div id='over.call-1.sentence-3' class='sentence'>It implements the function call syntax
<pre class='ncsimplebnf'><i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> <span class='terminal'><span class='parenthesis'>(</span></span> <i ><a href='expr.post#nt:expression-list'>expression-list</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>)</span></span>
</pre>
where the
<i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i>
evaluates to a class object and the possibly empty
<i ><a href='expr.post#nt:expression-list'>expression-list</a></i>
matches the parameter list of an
<span class='texttt'><span class='keyword'>operator</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
member function of the class<a class='hidden_link' href='#over.call-1.sentence-3'>.</a></div> <div id='over.call-1.sentence-4' class='sentence'>Thus, a call
<span class='texttt'>x<span class='parenthesis'>(</span>arg1,<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span>
is interpreted as
<span class='texttt'>x<span class='operator'>.</span>operator<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span>arg1, <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span>
for a class object
<span class='texttt'>x</span>
of type
<span class='texttt'>T</span>
if
<span class='texttt'>T<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span>T1,</span>
<span class='texttt'>T2,</span>
<span class='texttt'>T3<span class='parenthesis'>)</span></span>
exists and if the operator is selected as the best match function by
the overload resolution mechanism (<a href='over.match.best'>[over.match.best]</a>)<a class='hidden_link' href='#over.call-1.sentence-4'>.</a></div></div></div><div id='over.sub' class='section'><h3 ><a class='secnum' href='#over.sub' style='min-width:103pt'>12.6.5</a> Subscripting <a class='abbr_ref' href='over.sub'>[over.sub]</a></h3><span class='indexparent'><a class='index' id=':subscripting_operator,overloaded'></a></span><span class='indexparent'><a class='index' id=':overloading,subscripting_operator'></a></span><div class='para' id='over.sub-1'><div class='marginalizedparent'><a class='marginalized' href='#over.sub-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3613'>#</a></div><div id='over.sub-1.sentence-1' class='sentence'><span class='texttt'><span class='keyword'>operator</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span>
shall be a non-static member function with exactly one parameter<a class='hidden_link' href='#over.sub-1.sentence-1'>.</a></div> <div id='over.sub-1.sentence-2' class='sentence'>It implements the subscripting syntax
<pre class='ncsimplebnf'><i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> <span class='terminal'><span class='squarebracket'>[</span></span> <i ><a href='dcl.init#nt:expr-or-braced-init-list'>expr-or-braced-init-list</a></i> <span class='terminal'><span class='squarebracket'>]</span></span>
</pre></div><div id='over.sub-1.sentence-3' class='sentence'>Thus, a subscripting expression
<span class='texttt'>x<span class='squarebracket'>[</span>y<span class='squarebracket'>]</span></span>
is interpreted as
<span class='texttt'>x<span class='operator'>.</span><span class='keyword'>operator</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span>y<span class='parenthesis'>)</span></span>
for a class object
<span class='texttt'>x</span>
of type
<span class='texttt'>T</span>
if
<span class='texttt'>T<span class='operator'>&#x200b;::&#x200b;</span>operator<span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span>T1<span class='parenthesis'>)</span></span>
exists and if the operator is selected as the best match function by
the overload resolution mechanism (<a href='over.match.best'>[over.match.best]</a>)<a class='hidden_link' href='#over.sub-1.sentence-3'>.</a></div> <div id='over.sub-1.example-1' class='example'>[&nbsp;<a class='example_link' href='#over.sub-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  Z <span class='keyword'>operator</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span>std<span class='operator'>::</span>initializer_list<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
X x;
x<span class='squarebracket'>[</span><span class='curlybracket'>{</span><span class='literal'>1</span>,<span class='literal'>2</span>,<span class='literal'>3</span><span class='curlybracket'>}</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='literal'>7</span>;                 <span class='comment'>// OK: meaning <span class='tcode_in_codeblock'>x.operator[]({1,2,3})</span></span>
<span class='keyword'>int</span> a<span class='squarebracket'>[</span><span class='literal'>10</span><span class='squarebracket'>]</span>;
a<span class='squarebracket'>[</span><span class='curlybracket'>{</span><span class='literal'>1</span>,<span class='literal'>2</span>,<span class='literal'>3</span><span class='curlybracket'>}</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='literal'>7</span>;                 <span class='comment'>// error: built-in subscript operator</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div></div><div id='over.ref' class='section'><h3 ><a class='secnum' href='#over.ref' style='min-width:103pt'>12.6.6</a> Class member access <a class='abbr_ref' href='over.ref'>[over.ref]</a></h3><span class='indexparent'><a class='index' id=':member_access_operator,overloaded'></a></span><span class='indexparent'><a class='index' id=':overloading,member_access_operator'></a></span><div class='para' id='over.ref-1'><div class='marginalizedparent'><a class='marginalized' href='#over.ref-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3649'>#</a></div><div id='over.ref-1.sentence-1' class='sentence'><span class='texttt'><span class='keyword'>operator</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>
shall be a non-static member function taking no parameters<a class='hidden_link' href='#over.ref-1.sentence-1'>.</a></div> <div id='over.ref-1.sentence-2' class='sentence'>It implements the class member access syntax that
uses <span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#over.ref-1.sentence-2'>.</a></div><pre class='ncsimplebnf'><i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> <span class='terminal'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span> <span class='texttt'><span class='keyword'>template</span></span><span class='indexparent'><a class='index' id=':template'></a></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i>
</pre><div id='over.ref-1.sentence-3' class='sentence'>An expression
<span class='texttt'>x<span class='operator'>-</span><span class='anglebracket'>&gt;</span>m</span>
is interpreted as
<span class='texttt'><span class='parenthesis'>(</span>x<span class='operator'>.</span><span class='keyword'>operator</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>m</span>
for a class object
<span class='texttt'>x</span>
of type
<span class='texttt'>T</span>
if
<span class='texttt'>T<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
exists and if the operator is selected as the best match function by
the overload resolution mechanism (<a href='over.match'>[over.match]</a>)<a class='hidden_link' href='#over.ref-1.sentence-3'>.</a></div></div></div><div id='over.inc' class='section'><h3 ><a class='secnum' href='#over.inc' style='min-width:103pt'>12.6.7</a> Increment and decrement <a class='abbr_ref' href='over.inc'>[over.inc]</a></h3><span class='indexparent'><a class='index' id=':prefix_++_and_--,overloading'></a></span><span class='indexparent'><a class='index' id=':postfix_++_and_--,overloading'></a></span><div class='para' id='over.inc-1'><div class='marginalizedparent'><a class='marginalized' href='#over.inc-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3678'>#</a></div><div id='over.inc-1.sentence-1' class='sentence'>The user-defined function called
<span class='texttt'><span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span></span>
implements the prefix and postfix
<span class='texttt'><span class='operator'>+</span><span class='operator'>+</span></span>
operator<a class='hidden_link' href='#over.inc-1.sentence-1'>.</a></div> <div id='over.inc-1.sentence-2' class='sentence'>If this function is a non-static member function with no parameters, or a non-member
function with one parameter,
it defines the prefix increment operator
<span class='texttt'><span class='operator'>+</span><span class='operator'>+</span></span>
for objects of that type<a class='hidden_link' href='#over.inc-1.sentence-2'>.</a></div> <div id='over.inc-1.sentence-3' class='sentence'>If the function is a non-static member function with one parameter (which shall be of type
<span class='texttt'><span class='keyword'>int</span></span>)
or a non-member function with two parameters (the second of which shall be of type
<span class='texttt'><span class='keyword'>int</span></span>),
it defines the postfix increment operator
<span class='texttt'><span class='operator'>+</span><span class='operator'>+</span></span>
for objects of that type<a class='hidden_link' href='#over.inc-1.sentence-3'>.</a></div> <div id='over.inc-1.sentence-4' class='sentence'>When the postfix increment is called as a result of using the
<span class='texttt'><span class='operator'>+</span><span class='operator'>+</span></span>
operator, the
<span class='texttt'><span class='keyword'>int</span></span>
argument will have value zero<a class='hidden_link' href='#over.inc-1.sentence-4'>.</a><a class='footnotenum' href='#footnote-128' id='footnoteref-128'>128</a></div> <div id='over.inc-1.example-1' class='example'>[&nbsp;<a class='example_link' href='#over.inc-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  X<span class='operator'>&amp;</span>   <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;            <span class='comment'>// prefix <span class='tcode_in_codeblock'>++a</span></span>
  X    <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;         <span class='comment'>// postfix <span class='tcode_in_codeblock'>a++</span></span>
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> Y <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
Y<span class='operator'>&amp;</span>   <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span>Y<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;            <span class='comment'>// prefix <span class='tcode_in_codeblock'>++b</span></span>
Y    <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span>Y<span class='operator'>&amp;</span>, <span class='keyword'>int</span><span class='parenthesis'>)</span>;       <span class='comment'>// postfix <span class='tcode_in_codeblock'>b++</span></span>

<span class='keyword'>void</span> f<span class='parenthesis'>(</span>X a, Y b<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='operator'>+</span><span class='operator'>+</span>a;                          <span class='comment'>// <span class='tcode_in_codeblock'>a.operator++();</span></span>
  a<span class='operator'>+</span><span class='operator'>+</span>;                          <span class='comment'>// <span class='tcode_in_codeblock'>a.operator++(0);</span></span>
  <span class='operator'>+</span><span class='operator'>+</span>b;                          <span class='comment'>// <span class='tcode_in_codeblock'>operator++(b);</span></span>
  b<span class='operator'>+</span><span class='operator'>+</span>;                          <span class='comment'>// <span class='tcode_in_codeblock'>operator++(b, 0);</span></span>

  a<span class='operator'>.</span><span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;               <span class='comment'>// explicit call: like <span class='tcode_in_codeblock'>++a;</span></span>
  a<span class='operator'>.</span><span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span>;              <span class='comment'>// explicit call: like <span class='tcode_in_codeblock'>a++;</span></span>
  <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span>b<span class='parenthesis'>)</span>;                <span class='comment'>// explicit call: like <span class='tcode_in_codeblock'>++b;</span></span>
  <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span>b, <span class='literal'>0</span><span class='parenthesis'>)</span>;             <span class='comment'>// explicit call: like <span class='tcode_in_codeblock'>b++;</span></span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='over.inc-2'><div class='marginalizedparent'><a class='marginalized' href='#over.inc-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3734'>#</a></div><div id='over.inc-2.sentence-1' class='sentence'>The prefix and postfix decrement operators
<span class='texttt'><span class='operator'>-</span>-</span>
are handled analogously<a class='hidden_link' href='#over.inc-2.sentence-1'>.</a></div></div><div class='footnote' id='footnote-128'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-128'>128)</a></div><div id='footnote-128.sentence-1' class='sentence'>Calling
<span class='texttt'><span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span></span>
explicitly, as in expressions like
<span class='texttt'>a<span class='operator'>.</span><span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='literal'>2</span><span class='parenthesis'>)</span></span>,
has no special properties:
The argument to
<span class='texttt'><span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span></span>
is
<span class='texttt'><span class='literal'>2</span></span><a class='hidden_link' href='#footnote-128.sentence-1'>.</a></div> <a href='#footnoteref-128'>⮥</a></div></div><div id='over.literal' class='section'><h3 ><a class='secnum' href='#over.literal' style='min-width:103pt'>12.6.8</a> User-defined literals <a class='abbr_ref' href='over.literal'>[over.literal]</a></h3><span class='indexparent'><a class='index' id=':user-defined_literal,overloaded'></a></span><span class='indexparent'><a class='index' id=':overloading,user-defined_literal'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:literal-operator-id' id='nt:literal-operator-id'>literal-operator-id:</a>
&#9;<span class='texttt'><i ><a href='#nt:operator'>operator</a></i></span><span class='indexparent'><a class='index' id=':operator_'></a></span> <i ><a href='lex.string#nt:string-literal'>string-literal</a></i> <i ><a href='lex.name#nt:identifier'>identifier</a></i>
&#9;<span class='texttt'><i ><a href='#nt:operator'>operator</a></i></span><span class='indexparent'><a class='index' id=':operator__'></a></span> <i ><a href='lex.ext#nt:user-defined-string-literal'>user-defined-string-literal</a></i>
</pre><div class='para' id='over.literal-1'><div class='marginalizedparent'><a class='marginalized' href='#over.literal-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3749'>#</a></div><div id='over.literal-1.sentence-1' class='sentence'>The <i ><a href='lex.string#nt:string-literal'>string-literal</a></i> or <i ><a href='lex.ext#nt:user-defined-string-literal'>user-defined-string-literal</a></i>
in a <i ><a href='#nt:literal-operator-id'>literal-operator-id</a></i> shall have no
<i ><a href='lex.ccon#nt:encoding-prefix'>encoding-prefix</a></i> and shall contain no characters other than the
implicit terminating <span class='texttt'><span class='literal'>'\0'</span></span><a class='hidden_link' href='#over.literal-1.sentence-1'>.</a></div> <div id='over.literal-1.sentence-2' class='sentence'>The <i ><a href='lex.ext#nt:ud-suffix'>ud-suffix</a></i> of the <i ><a href='lex.ext#nt:user-defined-string-literal'>user-defined-string-literal</a></i> or
the <i ><a href='lex.name#nt:identifier'>identifier</a></i> in a <i ><a href='#nt:literal-operator-id'>literal-operator-id</a></i> is called a
<a class='hidden_link' href='#def:literal,suffix_identifier' id='def:literal,suffix_identifier'><i >literal suffix identifier</i></a><a class='hidden_link' href='#over.literal-1.sentence-2'>.</a></div> <div id='over.literal-1.sentence-3' class='sentence'>Some literal suffix identifiers are reserved for future standardization;
see <a href='usrlit.suffix'>[usrlit.suffix]</a><a class='hidden_link' href='#over.literal-1.sentence-3'>.</a></div> <div id='over.literal-1.sentence-4' class='sentence'>A declaration whose <i ><a href='#nt:literal-operator-id'>literal-operator-id</a></i> uses
such a literal suffix identifier is ill-formed, no diagnostic required<a class='hidden_link' href='#over.literal-1.sentence-4'>.</a></div></div><div class='para' id='over.literal-2'><div class='marginalizedparent'><a class='marginalized' href='#over.literal-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3761'>#</a></div><div id='over.literal-2.sentence-1' class='sentence'>A declaration whose <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> is a
<i ><a href='#nt:literal-operator-id'>literal-operator-id</a></i> shall be a declaration of a namespace-scope
function or function template (it could be a <a href='class.friend'>friend
function</a>), an explicit instantiation or specialization of a
function template, or a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i><a class='hidden_link' href='#over.literal-2.sentence-1'>.</a></div> <div id='over.literal-2.sentence-2' class='sentence'>A function declared with a <i ><a href='#nt:literal-operator-id'>literal-operator-id</a></i> is a <a class='hidden_link' href='#def:literal,operator' id='def:literal,operator'><i >literal
operator</i></a><a class='hidden_link' href='#over.literal-2.sentence-2'>.</a></div> <div id='over.literal-2.sentence-3' class='sentence'>A function template declared with a <i ><a href='#nt:literal-operator-id'>literal-operator-id</a></i>
is a <a class='hidden_link' href='#def:literal,operator,template' id='def:literal,operator,template'><i >literal operator template</i></a><a class='hidden_link' href='#over.literal-2.sentence-3'>.</a></div></div><div class='para' id='over.literal-3'><div class='marginalizedparent'><a class='marginalized' href='#over.literal-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3771'>#</a></div><div id='over.literal-3.sentence-1' class='sentence'>The declaration of a literal operator shall have a
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> equivalent to one of the following:</div><pre class='codeblock'>
<span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span>
<span class='keyword'>unsigned</span> <span class='keyword'>long</span> <span class='keyword'>long</span> <span class='keyword'>int</span>
<span class='keyword'>long</span> <span class='keyword'>double</span>
<span class='keyword'>char</span>
<span class='keyword'>wchar_t</span>
<span class='keyword'>char8_t</span>
<span class='keyword'>char16_t</span>
<span class='keyword'>char32_t</span>
<span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t
<span class='keyword'>const</span> <span class='keyword'>wchar_t</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t
<span class='keyword'>const</span> <span class='keyword'>char8_t</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t
<span class='keyword'>const</span> <span class='keyword'>char16_t</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t
<span class='keyword'>const</span> <span class='keyword'>char32_t</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t
</pre><div id='over.literal-3.sentence-2' class='sentence'>If a parameter has a <a href='dcl.fct.default'>default argument</a>, the program is
ill-formed<a class='hidden_link' href='#over.literal-3.sentence-2'>.</a></div></div><div class='para' id='over.literal-4'><div class='marginalizedparent'><a class='marginalized' href='#over.literal-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3794'>#</a></div><div id='over.literal-4.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:literal,operator,raw' id='def:literal,operator,raw'><i >raw literal operator</i></a> is a literal operator with a single parameter
whose type is <span class='texttt'><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span></span><a class='hidden_link' href='#over.literal-4.sentence-1'>.</a></div></div><div class='para' id='over.literal-5'><div class='marginalizedparent'><a class='marginalized' href='#over.literal-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3798'>#</a></div><div id='over.literal-5.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:literal,operator,template_numeric' id='def:literal,operator,template_numeric'><i >numeric literal operator template</i></a>
is a literal operator template whose <i ><a href='temp.pre#nt:template-parameter-list'>template-parameter-list</a></i>
has a single <i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i>
that is a non-type template parameter pack (<a href='temp.variadic'>[temp.variadic]</a>)
with element type <span class='texttt'><span class='keyword'>char</span></span><a class='hidden_link' href='#over.literal-5.sentence-1'>.</a></div> <div id='over.literal-5.sentence-2' class='sentence'>A <a class='hidden_link' href='#def:literal,operator,template_string' id='def:literal,operator,template_string'><i >string literal operator template</i></a>
is a literal operator template whose <i ><a href='temp.pre#nt:template-parameter-list'>template-parameter-list</a></i>
comprises
a single non-type <i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i> of class type<a class='hidden_link' href='#over.literal-5.sentence-2'>.</a></div> <div id='over.literal-5.sentence-3' class='sentence'>The declaration of a literal operator template
shall have an empty <i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>
and shall declare either a numeric literal operator template
or a string literal operator template<a class='hidden_link' href='#over.literal-5.sentence-3'>.</a></div></div><div class='para' id='over.literal-6'><div class='marginalizedparent'><a class='marginalized' href='#over.literal-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3813'>#</a></div><div id='over.literal-6.sentence-1' class='sentence'>Literal operators and literal operator templates shall not have C language linkage<a class='hidden_link' href='#over.literal-6.sentence-1'>.</a></div></div><div class='para' id='over.literal-7'><div class='marginalizedparent'><a class='marginalized' href='#over.literal-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3816'>#</a></div><div id='over.literal-7.note-1' class='note'>[&nbsp;<a class='note_link' href='#over.literal-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='over.literal-7.sentence-1' class='sentence'>Literal operators and literal operator templates are usually invoked
implicitly through <a href='lex.ext'>user-defined literals</a><a class='hidden_link' href='#over.literal-7.sentence-1'>.</a></div> <div id='over.literal-7.sentence-2' class='sentence'>However, except for
the constraints described above, they are ordinary namespace-scope functions and
function templates<a class='hidden_link' href='#over.literal-7.sentence-2'>.</a></div> <div id='over.literal-7.sentence-3' class='sentence'>In particular, they are looked up like ordinary functions
and function templates and they follow the same overload resolution rules<a class='hidden_link' href='#over.literal-7.sentence-3'>.</a></div> <div id='over.literal-7.sentence-4' class='sentence'>Also,
they can be declared <span class='texttt'><span class='keyword'>inline</span></span> or <span class='texttt'><span class='keyword'>constexpr</span></span>,
they may have internal, module, or external linkage,
they can be called explicitly, their addresses can be
taken, etc<a class='hidden_link' href='#over.literal-7.sentence-4'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='over.literal-8'><div class='marginalizedparent'><a class='marginalized' href='#over.literal-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b421913edbb17ba66c1dc57caf5264a19cbb7668/source/overloading.tex#L3829'>#</a></div><div id='over.literal-8.example-1' class='example'>[&nbsp;<a class='example_link' href='#over.literal-8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='literal'>""</span> _km<span class='parenthesis'>(</span><span class='keyword'>long</span> <span class='keyword'>double</span><span class='parenthesis'>)</span>;                  <span class='comment'>// OK</span>
string <span class='keyword'>operator</span> <span class='literal'>""</span> _i18n<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t<span class='parenthesis'>)</span>; <span class='comment'>// OK</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> <span class='keyword'>double</span> <span class='keyword'>operator</span> <span class='literal'>""</span> _\u03C0<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;    <span class='comment'>// OK: UCN for lowercase pi</span>
<span class='keyword'>float</span> <span class='keyword'>operator</span> <span class='literal'>""_e</span><span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span><span class='parenthesis'>)</span>;                   <span class='comment'>// OK</span>
<span class='keyword'>float</span> <span class='keyword'>operator</span> <span class='literal'>""E</span><span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span><span class='parenthesis'>)</span>;                    <span class='comment'>// error: reserved literal suffix (<a href='usrlit.suffix'>[usrlit.suffix]</a>, <a href='lex.ext'>[lex.ext]</a>)</span>
<span class='keyword'>double</span> <span class='keyword'>operator</span><span class='literal'>""_Bq</span><span class='parenthesis'>(</span><span class='keyword'>long</span> <span class='keyword'>double</span><span class='parenthesis'>)</span>;                  <span class='comment'>// OK: does not use the reserved identifier <span class='tcode_in_codeblock'>_&shy;Bq</span> (<a href='lex.name'>[lex.name]</a>)</span>
<span class='keyword'>double</span> <span class='keyword'>operator</span><span class='literal'>""</span> _Bq<span class='parenthesis'>(</span><span class='keyword'>long</span> <span class='keyword'>double</span><span class='parenthesis'>)</span>;                 <span class='comment'>// uses the reserved identifier <span class='tcode_in_codeblock'>_&shy;Bq</span> (<a href='lex.name'>[lex.name]</a>)</span>
<span class='keyword'>float</span> <span class='keyword'>operator</span> <span class='literal'>" "</span> B<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span><span class='parenthesis'>)</span>;                  <span class='comment'>// error: non-empty <span class='grammarterm'>string-literal</span></span>
string <span class='keyword'>operator</span> <span class='literal'>""</span> <span class='literal'>5X</span><span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t<span class='parenthesis'>)</span>;    <span class='comment'>// error: invalid literal suffix identifier</span>
<span class='keyword'>double</span> <span class='keyword'>operator</span> <span class='literal'>""</span> _miles<span class='parenthesis'>(</span><span class='keyword'>double</span><span class='parenthesis'>)</span>;                  <span class='comment'>// error: invalid <span class='grammarterm'>parameter-declaration-clause</span></span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> <span class='keyword'>operator</span> <span class='literal'>""</span> _j<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span><span class='parenthesis'>)</span>; <span class='comment'>// error: invalid <span class='grammarterm'>parameter-declaration-clause</span></span>
<span class='keyword'>extern</span> <span class='literal'>"C"</span> <span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='literal'>""</span> _m<span class='parenthesis'>(</span><span class='keyword'>long</span> <span class='keyword'>double</span><span class='parenthesis'>)</span>;        <span class='comment'>// error: C language linkage</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  </div></div></div></body></html>