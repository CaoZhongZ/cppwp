<!DOCTYPE html><html lang='en'><head><title>[cpp.include]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>19</a> Preprocessing directives <a class='abbr_ref' href='./#cpp'>[cpp]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>19.2</a> Source file inclusion <a class='abbr_ref'>[cpp.include]</a></h2><span class='indexparent'><a class='index' id=':preprocessing_directive,header_inclusion'></a></span>
<span class='indexparent'><a class='index' id=':preprocessing_directive,source-file_inclusion'></a></span>
<span class='indexparent'><a class='index' id=':#include'></a></span><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/6d886642cd163af40ae8c5ec4f98f44acfe405f6/source/preprocessor.tex#L444'>#</a></div><div id='1.sentence-1' class='sentence'>A
<span class='texttt'>#include</span>
directive shall identify a header or source file
that can be processed by the implementation<a class='hidden_link' href='#1.sentence-1'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/6d886642cd163af40ae8c5ec4f98f44acfe405f6/source/preprocessor.tex#L450'>#</a></div><div id='2.sentence-1' class='sentence'>A preprocessing directive of the form</div><pre class='ncsimplebnf'><span class='terminal'># include &lt;</span> <i ><a href='lex.header#nt:h-char-sequence'>h-char-sequence</a></i> <span class='terminal'>&gt;</span> <i ><a href='cpp#nt:new-line'>new-line</a></i>
</pre><div id='2.sentence-2' class='sentence'>searches a sequence of
<span class='indexparent'><a class='index' id=':sequence_of_places_searched_for_a_header'></a></span>implementation-defined
places
for a header identified uniquely by the specified sequence
between the
<span class='texttt'>&lt;</span>
and
<span class='texttt'>&gt;</span>
delimiters,
and causes the replacement of that
directive by the entire contents of the header<a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.sentence-3' class='sentence'>How the places are specified
or the header identified
is <span class='indexparent'><a class='index' id=':search_locations_for_<>_header'></a></span>implementation-defined<a class='hidden_link' href='#2.sentence-3'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/6d886642cd163af40ae8c5ec4f98f44acfe405f6/source/preprocessor.tex#L472'>#</a></div><div id='3.sentence-1' class='sentence'>A preprocessing directive of the form
<pre class='ncsimplebnf'><span class='terminal'># include "</span> <i ><a href='lex.header#nt:q-char-sequence'>q-char-sequence</a></i> <span class='terminal'>"</span> <i ><a href='cpp#nt:new-line'>new-line</a></i>
</pre>
causes the replacement of that
directive by the entire contents of the
source file identified by the specified sequence between the
<span class='texttt'>"</span>
delimiters<a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>The named source file is searched for in an
<span class='indexparent'><a class='index' id=':manner_of_search_for_included_source_file'></a></span>implementation-defined
manner<a class='hidden_link' href='#3.sentence-2'>.</a></div> <div id='3.sentence-3' class='sentence'>If this search is not supported,
or if the search fails,
the directive is reprocessed as if it read
<pre class='ncsimplebnf'><span class='terminal'># include &lt;</span> <i ><a href='lex.header#nt:h-char-sequence'>h-char-sequence</a></i> <span class='terminal'>&gt;</span> <i ><a href='cpp#nt:new-line'>new-line</a></i>
</pre>
with the identical contained sequence (including
<span class='texttt'>&gt;</span>
characters, if any) from the original directive<a class='hidden_link' href='#3.sentence-3'>.</a></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/6d886642cd163af40ae8c5ec4f98f44acfe405f6/source/preprocessor.tex#L495'>#</a></div><div id='4.sentence-1' class='sentence'>A preprocessing directive of the form</div><pre class='ncsimplebnf'><span class='terminal'># include</span> <i ><a href='cpp#nt:pp-tokens'>pp-tokens</a></i> <i ><a href='cpp#nt:new-line'>new-line</a></i>
</pre><div id='4.sentence-2' class='sentence'>(that does not match one of the two previous forms) is permitted<a class='hidden_link' href='#4.sentence-2'>.</a></div> <div id='4.sentence-3' class='sentence'>The preprocessing tokens after
<span class='texttt'>include</span>
in the directive are processed just as in normal text
(i.e., each identifier currently defined as a macro name is replaced by its
replacement list of preprocessing tokens).
If the directive resulting after all replacements does not match
one of the two previous forms, the behavior is
undefined.<a class='footnotenum' href='#footnote-150'>150</a>
The method by which a sequence of preprocessing tokens between a
<span class='texttt'>&lt;</span>
and a
<span class='texttt'>&gt;</span>
preprocessing token pair or a pair of
<span class='texttt'>"</span>
characters is combined into a single header name
preprocessing token is <span class='indexparent'><a class='index' id=':search_locations_for_""_header'></a></span>implementation-defined<a class='hidden_link' href='#4.sentence-3'>.</a></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/6d886642cd163af40ae8c5ec4f98f44acfe405f6/source/preprocessor.tex#L524'>#</a></div><div id='5.sentence-1' class='sentence'>The implementation shall provide unique mappings for
sequences consisting of one or more
<i ><a href='lex.name#nt:nondigit'>nondigit</a></i><span class='textit'>s</span> or <i ><a href='lex.name#nt:digit'>digit</a></i><span class='textit'>s</span>
followed by a period
(<span class='texttt'>.</span>)
and a single
<i ><a href='lex.name#nt:nondigit'>nondigit</a></i><a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>The first character shall not be a <i ><a href='lex.name#nt:digit'>digit</a></i><a class='hidden_link' href='#5.sentence-2'>.</a></div> <div id='5.sentence-3' class='sentence'>The implementation may ignore distinctions of alphabetical case<a class='hidden_link' href='#5.sentence-3'>.</a></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/6d886642cd163af40ae8c5ec4f98f44acfe405f6/source/preprocessor.tex#L535'>#</a></div><div id='6.sentence-1' class='sentence'>A
<span class='texttt'>#include</span>
preprocessing directive may appear
in a source file that has been read because of a
<span class='texttt'>#include</span>
directive in another file,
up to an <span class='indexparent'><a class='index' id=':nesting_limit_for_#include_directives'></a></span>implementation-defined nesting limit<a class='hidden_link' href='#6.sentence-1'>.</a></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/6d886642cd163af40ae8c5ec4f98f44acfe405f6/source/preprocessor.tex#L544'>#</a></div><div id='7.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='7.sentence-1' class='sentence'>Although an implementation may provide a mechanism for making arbitrary
source files available to the <span class='texttt'>&lt; &gt;</span> search, in general
programmers should use the <span class='texttt'>&lt; &gt;</span> form for headers provided
with the implementation, and the <span class='texttt'>" "</span> form for sources
outside the control of the implementation<a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='7.sentence-2' class='sentence'>For instance:</div><pre class='codeblock'>
#include &lt;stdio.h&gt;
#include &lt;unistd.h&gt;
#include "usefullib.h"
#include "myprog.h"</pre> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/6d886642cd163af40ae8c5ec4f98f44acfe405f6/source/preprocessor.tex#L561'>#</a></div><div id='8.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='8.sentence-1' class='sentence'>This illustrates macro-replaced
<span class='texttt'>#include</span>
directives:</div><pre class='codeblock'>
#if VERSION == 1
    #define INCFILE  "vers1.h"
#elif VERSION == 2
    #define INCFILE  "vers2.h"  <span class='comment'>// and so on
</span>#else
    #define INCFILE  "versN.h"
#endif
#include INCFILE</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='footnote' id='footnote-150'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-150'>150)</a></div><div id='footnote-150.sentence-1' class='sentence'>Note that adjacent string literals are not concatenated into
a single string literal
(see the translation phases in <a href='lex.phases'>[lex.phases]</a>);
thus, an expansion that results in two string literals is an
invalid directive<a class='hidden_link' href='#footnote-150.sentence-1'>.</a></div></div></div></body></html>