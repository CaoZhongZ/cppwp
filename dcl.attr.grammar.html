<!DOCTYPE html><html lang='en'><head><title>[dcl.attr.grammar]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>7</a> Declarations <a class='abbr_ref' href='./#dcl.dcl'>[dcl.dcl]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>7.6</a> Attributes <a class='abbr_ref' href='dcl.attr#grammar'>[dcl.attr]</a></h2><div id='dcl.attr.grammar'><h3 ><a class='secnum' style='min-width:103pt'>7.6.1</a> Attribute syntax and semantics <a class='abbr_ref'>[dcl.attr.grammar]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><p ><span class='indexparent'><a class='index' id='attribute!syntax and semantics'></a></span>Attributes specify additional information for various source constructs
such as types, variables, names, blocks, or translation units.</p><pre class='bnf'><a id='attribute-specifier-seq'>attribute-specifier-seq:</a>
  <i ><a href='dcl.attr.grammar#attribute-specifier-seq'>attribute-specifier-seq</a></i><span class='math'><sub ><span class='mathit'>opt</span></sub></span> <i ><a href='dcl.attr.grammar#attribute-specifier'>attribute-specifier</a></i></pre><pre class='bnf'><a id='attribute-specifier'>attribute-specifier:</a>
  <span class='terminal'>[</span> <span class='terminal'>[</span> <i ><a href='dcl.attr.grammar#attribute-using-prefix'>attribute-using-prefix</a></i><span class='math'><sub ><span class='mathit'>opt</span></sub></span> <i ><a href='dcl.attr.grammar#attribute-list'>attribute-list</a></i> <span class='terminal'>]</span> <span class='terminal'>]</span>
  <i ><a href='dcl.attr.grammar#alignment-specifier'>alignment-specifier</a></i></pre><pre class='bnf'><a id='alignment-specifier'>alignment-specifier:</a>
  <span class='terminal'>alignas (</span> <i ><a href='dcl.name#type-id'>type-id</a></i> <span class='terminal'>...</span><span class='math'><sub ><span class='mathit'>opt</span></sub></span> <span class='terminal'>)</span>
  <span class='terminal'>alignas (</span> <i ><a href='expr.const#constant-expression'>constant-expression</a></i> <span class='terminal'>...</span><span class='math'><sub ><span class='mathit'>opt</span></sub></span> <span class='terminal'>)</span></pre><pre class='bnf'><a id='attribute-using-prefix'>attribute-using-prefix:</a>
  <span class='terminal'>using</span> <i ><a href='dcl.attr.grammar#attribute-namespace'>attribute-namespace</a></i> <span class='terminal'>:</span></pre><pre class='bnf'><a id='attribute-list'>attribute-list:</a>
  <i ><a href='dcl.attr.grammar#attribute'>attribute</a></i><span class='math'><sub ><span class='mathit'>opt</span></sub></span>
  <i ><a href='dcl.attr.grammar#attribute-list'>attribute-list</a></i> <span class='terminal'>,</span> <i ><a href='dcl.attr.grammar#attribute'>attribute</a></i><span class='math'><sub ><span class='mathit'>opt</span></sub></span>
  <i ><a href='dcl.attr.grammar#attribute'>attribute</a></i> <span class='terminal'>...</span>
  <i ><a href='dcl.attr.grammar#attribute-list'>attribute-list</a></i> <span class='terminal'>,</span> <i ><a href='dcl.attr.grammar#attribute'>attribute</a></i> <span class='terminal'>...</span></pre><pre class='bnf'><a id='attribute'>attribute:</a>
    <i ><a href='dcl.attr.grammar#attribute-token'>attribute-token</a></i> <i ><a href='dcl.attr.grammar#attribute-argument-clause'>attribute-argument-clause</a></i><span class='math'><sub ><span class='mathit'>opt</span></sub></span></pre><pre class='bnf'><a id='attribute-token'>attribute-token:</a>
    <i ><a href='lex.name#identifier'>identifier</a></i>
    <i ><a href='dcl.attr.grammar#attribute-scoped-token'>attribute-scoped-token</a></i></pre><pre class='bnf'><a id='attribute-scoped-token'>attribute-scoped-token:</a>
    <i ><a href='dcl.attr.grammar#attribute-namespace'>attribute-namespace</a></i> <span class='terminal'>::</span> <i ><a href='lex.name#identifier'>identifier</a></i></pre><pre class='bnf'><a id='attribute-namespace'>attribute-namespace:</a>
    <i ><a href='lex.name#identifier'>identifier</a></i></pre><pre class='bnf'><a id='attribute-argument-clause'>attribute-argument-clause:</a>
    <span class='terminal'>(</span> <i ><a href='dcl.attr.grammar#balanced-token-seq'>balanced-token-seq</a></i><span class='math'><sub ><span class='mathit'>opt</span></sub></span> <span class='terminal'>)</span></pre><pre class='bnf'><a id='balanced-token-seq'>balanced-token-seq:</a>
    <i ><a href='dcl.attr.grammar#balanced-token'>balanced-token</a></i>
    <i ><a href='dcl.attr.grammar#balanced-token-seq'>balanced-token-seq</a></i> <i ><a href='dcl.attr.grammar#balanced-token'>balanced-token</a></i></pre><pre class='bnf'><a id='balanced-token'>balanced-token:</a>
    <span class='terminal'>(</span> <i ><a href='dcl.attr.grammar#balanced-token-seq'>balanced-token-seq</a></i><span class='math'><sub ><span class='mathit'>opt</span></sub></span> <span class='terminal'>)</span>
    <span class='terminal'>[</span> <i ><a href='dcl.attr.grammar#balanced-token-seq'>balanced-token-seq</a></i><span class='math'><sub ><span class='mathit'>opt</span></sub></span> <span class='terminal'>]</span>
    <span class='terminal'>{</span> <i ><a href='dcl.attr.grammar#balanced-token-seq'>balanced-token-seq</a></i><span class='math'><sub ><span class='mathit'>opt</span></sub></span> <span class='terminal'>}</span>
    <span class='textnormal'>any <span class='grammarterm'>token</span> other than a parenthesis, a bracket, or a brace</span></pre></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><p >If an <i ><a href='dcl.attr.grammar#attribute-specifier'>attribute-specifier</a></i>
contains an <i ><a href='dcl.attr.grammar#attribute-using-prefix'>attribute-using-prefix</a></i>,
the <i ><a href='dcl.attr.grammar#attribute-list'>attribute-list</a></i> following that <i ><a href='dcl.attr.grammar#attribute-using-prefix'>attribute-using-prefix</a></i>
shall not contain an <i ><a href='dcl.attr.grammar#attribute-scoped-token'>attribute-scoped-token</a></i>
and every <i ><a href='dcl.attr.grammar#attribute-token'>attribute-token</a></i> in that <i ><a href='dcl.attr.grammar#attribute-list'>attribute-list</a></i>
is treated as if
its <i ><a href='lex.name#identifier'>identifier</a></i> were prefixed with <span class='texttt'>N::</span>,
where <span class='texttt'>N</span> is the <i ><a href='dcl.attr.grammar#attribute-namespace'>attribute-namespace</a></i>
specified in the <i ><a href='dcl.attr.grammar#attribute-using-prefix'>attribute-using-prefix</a></i>.
[&nbsp;<i>Note:</i><span class='space'></span>
This rule imposes no constraints on how
an <i ><a href='dcl.attr.grammar#attribute-using-prefix'>attribute-using-prefix</a></i>
affects the tokens in an <i ><a href='dcl.attr.grammar#attribute-argument-clause'>attribute-argument-clause</a></i>.
<i>&nbsp;—&nbsp;end note</i>&nbsp;]
[&nbsp;<i>Example:</i><span class='space'></span>
</p><pre class='codeblock'>
[[using CC: opt(1), debug]]        <span class='comment'>// same as <span class='texttt'>[[CC::opt(1), CC::debug]]</span>
</span>  void f() {}
[[using CC: opt(1)]] [[CC::debug]] <span class='comment'>// same as <span class='texttt'>[[CC::opt(1)]] [[CC::debug]]</span>
</span>  void g() {}
[[using CC: CC::opt(1)]]           <span class='comment'>// error: cannot combine <span class='texttt'>using</span> and scoped attribute token
</span>  void h() {}
</pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;]</p></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><p >[&nbsp;<i>Note:</i><span class='space'></span> For each individual attribute, the form of the
<i ><a href='dcl.attr.grammar#balanced-token-seq'>balanced-token-seq</a></i> will be specified. <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><p >In an <i ><a href='dcl.attr.grammar#attribute-list'>attribute-list</a></i>, an ellipsis may appear only if that
<i ><a href='dcl.attr.grammar#attribute'>attribute</a></i>'s specification permits it. An <i ><a href='dcl.attr.grammar#attribute'>attribute</a></i> followed
by an ellipsis is a pack expansion (<a href='temp.variadic'>[temp.variadic]</a>).
An <i ><a href='dcl.attr.grammar#attribute-specifier'>attribute-specifier</a></i> that contains no <i ><a href='dcl.attr.grammar#attribute'>attributes</a></i> has no
effect. The order in which the <span class='grammarterm'>attribute-tokens</span> appear in an
<i ><a href='dcl.attr.grammar#attribute-list'>attribute-list</a></i> is not significant. If a
keyword (<a href='lex.key'>[lex.key]</a>)
or an alternative token (<a href='lex.digraph'>[lex.digraph]</a>) that satisfies the syntactic requirements
of an <i ><a href='lex.name#identifier'>identifier</a></i> (<a href='lex.name'>[lex.name]</a>) is
contained in
an <i ><a href='dcl.attr.grammar#attribute-token'>attribute-token</a></i>, it is considered an identifier. No name
lookup (<a href='basic.lookup'>[basic.lookup]</a>) is performed on any of the identifiers contained in an
<i ><a href='dcl.attr.grammar#attribute-token'>attribute-token</a></i>. The <i ><a href='dcl.attr.grammar#attribute-token'>attribute-token</a></i> determines additional
requirements on the <i ><a href='dcl.attr.grammar#attribute-argument-clause'>attribute-argument-clause</a></i> (if any).</p></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><p >Each <i ><a href='dcl.attr.grammar#attribute-specifier-seq'>attribute-specifier-seq</a></i> is said to <a id='appertain'><i>appertain</i></a> to some entity or
statement, identified by the syntactic context where it appears
(Clause <a href='stmt.stmt'>[stmt.stmt]</a>, Clause <a href='dcl.dcl'>[dcl.dcl]</a>,
Clause <a href='dcl.decl'>[dcl.decl]</a>). If an <i ><a href='dcl.attr.grammar#attribute-specifier-seq'>attribute-specifier-seq</a></i> that appertains to some
entity or statement contains an <i ><a href='dcl.attr.grammar#attribute'>attribute</a></i> that
is not allowed to apply to that
entity or statement, the program is ill-formed. If an <i ><a href='dcl.attr.grammar#attribute-specifier-seq'>attribute-specifier-seq</a></i>
appertains to a friend declaration (<a href='class.friend'>[class.friend]</a>), that declaration shall be a
definition. No <i ><a href='dcl.attr.grammar#attribute-specifier-seq'>attribute-specifier-seq</a></i> shall appertain to an explicit
instantiation (<a href='temp.explicit'>[temp.explicit]</a>).</p></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><p >For an <i ><a href='dcl.attr.grammar#attribute-token'>attribute-token</a></i>
(including an <i ><a href='dcl.attr.grammar#attribute-scoped-token'>attribute-scoped-token</a></i>)
not specified in this International Standard, the
behavior is <span class='indexparent'><a class='index' id='behavior of non-standard attributes'></a></span>implementation-defined.
Any <i ><a href='dcl.attr.grammar#attribute-token'>attribute-token</a></i> that is not recognized by the implementation
is ignored.
[&nbsp;<i>Note:</i><span class='space'></span>
Each implementation should choose a distinctive name for the
<i ><a href='dcl.attr.grammar#attribute-namespace'>attribute-namespace</a></i> in an <i ><a href='dcl.attr.grammar#attribute-scoped-token'>attribute-scoped-token</a></i>.
<i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><p >Two consecutive left square bracket tokens shall appear only
when introducing an <i ><a href='dcl.attr.grammar#attribute-specifier'>attribute-specifier</a></i> or
within the <i ><a href='dcl.attr.grammar#balanced-token-seq'>balanced-token-seq</a></i> of
an <i ><a href='dcl.attr.grammar#attribute-argument-clause'>attribute-argument-clause</a></i>.
[&nbsp;<i>Note:</i><span class='space'></span> If two consecutive left square brackets appear
where an <i ><a href='dcl.attr.grammar#attribute-specifier'>attribute-specifier</a></i> is not allowed, the program is ill-formed even
if the brackets match an alternative grammar production. <i>&nbsp;—&nbsp;end note</i>&nbsp;] [&nbsp;<i>Example:</i><span class='space'></span>
</p><pre class='codeblock'>
int p[10];
void f() {
  int x = 42, y[5];
  int(p[[x] { return x; }()]);  <span class='comment'>// error: invalid attribute on a nested
</span>                                <span class='comment'>// <span class='grammarterm'>declarator-id</span> and not a function-style cast of
</span>                                <span class='comment'>// an element of <span class='texttt'>p</span>.
</span>  y[[] { return 2; }()] = 2;    <span class='comment'>// error even though attributes are not allowed
</span>                                <span class='comment'>// in this context.
</span>  int i [[vendor::attr([[]])]]; <span class='comment'>// well-formed implementation-defined attribute.
</span>}
</pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;]</p></div></div></div></body></html>