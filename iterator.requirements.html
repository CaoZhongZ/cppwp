<!DOCTYPE html><html lang='en'><head><title>[iterator.requirements]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>28</a> Iterators library <a class='abbr_ref' href='./#iterators'>[iterators]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>28.2</a> Iterator requirements <a class='abbr_ref'>[iterator.requirements]</a></h2><div id='general' class='section'><h3 ><a class='secnum' href='#general' style='min-width:103pt'>28.2.1</a> In general <a class='abbr_ref' href='iterator.requirements.general'>[iterator.requirements.general]</a></h3><div class='para' id='general-1'><div class='marginalizedparent'><a class='marginalized' href='#general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L33'>#</a></div><div id='general-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':requirements,iterator'></a></span>Iterators are a generalization of pointers that allow a C++ program to work with different data structures
(containers) in a uniform manner<a class='hidden_link' href='#general-1.sentence-1'>.</a></div> <div id='general-1.sentence-2' class='sentence'>To be able to construct template algorithms that work correctly and
efficiently on different types of data structures, the library formalizes not just the interfaces but also the
semantics and complexity assumptions of iterators<a class='hidden_link' href='#general-1.sentence-2'>.</a></div> <div id='general-1.sentence-3' class='sentence'>An input iterator
<span class='texttt'>i</span>
supports the expression
<span class='texttt'>*i</span>,
resulting in a value of some object type
<span class='texttt'>T</span>,
called the
<a class='hidden_link' href='#def:value_type' id='def:value_type'><i>value type</i></a>
of the iterator<a class='hidden_link' href='#general-1.sentence-3'>.</a></div> <div id='general-1.sentence-4' class='sentence'>An output iterator <span class='texttt'>i</span> has a non-empty set of types that are
<a class='hidden_link' href='#def:writable' id='def:writable'><i >writable</i></a> to the iterator;
for each such type <span class='texttt'>T</span>, the expression <span class='texttt'>*i = o</span>
is valid where <span class='texttt'>o</span> is a value of type <span class='texttt'>T</span><a class='hidden_link' href='#general-1.sentence-4'>.</a></div> <div id='general-1.sentence-5' class='sentence'>An iterator
<span class='texttt'>i</span>
for which the expression
<span class='texttt'>(*i).m</span>
is well-defined supports the expression
<span class='texttt'>i-&gt;m</span>
with the same semantics as
<span class='texttt'>(*i).m</span><a class='hidden_link' href='#general-1.sentence-5'>.</a></div> <div id='general-1.sentence-6' class='sentence'>For every iterator type
<span class='texttt'>X</span>
for which
equality is defined, there is a corresponding signed integer type called the
<a class='hidden_link' href='#def:difference_type' id='def:difference_type'><i>difference type</i></a>
of the iterator<a class='hidden_link' href='#general-1.sentence-6'>.</a></div></div><div class='para' id='general-2'><div class='marginalizedparent'><a class='marginalized' href='#general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L68'>#</a></div><div id='general-2.sentence-1' class='sentence'>Since iterators are an abstraction of pointers, their semantics is
a generalization of most of the semantics of pointers in C++<a class='hidden_link' href='#general-2.sentence-1'>.</a></div> <div id='general-2.sentence-2' class='sentence'>This ensures that every
function template
that takes iterators
works as well with regular pointers<a class='hidden_link' href='#general-2.sentence-2'>.</a></div> <div id='general-2.sentence-3' class='sentence'>This document defines
five categories of iterators, according to the operations
defined on them:
<a class='hidden_link' href='#def:input_iterators' id='def:input_iterators'><i>input iterators</i></a>,
<a class='hidden_link' href='#def:output_iterators' id='def:output_iterators'><i>output iterators</i></a>,
<a class='hidden_link' href='#def:forward_iterators' id='def:forward_iterators'><i>forward iterators</i></a>,
<a class='hidden_link' href='#def:bidirectional_iterators' id='def:bidirectional_iterators'><i>bidirectional iterators</i></a>
and
<a class='hidden_link' href='#def:random_access_iterators' id='def:random_access_iterators'><i>random access iterators</i></a>,
as shown in Table <a href='#tab:iterators.relations'>91</a><a class='hidden_link' href='#general-2.sentence-3'>.</a></div><div class='numberedTable' id='tab:iterators.relations'>Table <a href='#tab:iterators.relations'>91</a> — Relations among iterator categories<br><table ><tr class='rowsep'><td class='left'><div id='general-2.sentence-4' class='sentence'><b>Random Access</b></div></td><td class='left'><div id='general-2.sentence-5' class='sentence'><span class='math'>→</span> <b>Bidirectional</b></div></td><td class='left'><div id='general-2.sentence-6' class='sentence'><span class='math'>→</span> <b>Forward</b></div></td><td class='left'><div id='general-2.sentence-7' class='sentence'><span class='math'>→</span> <b>Input</b></div></td></tr><tr ><td class='left'></td><td class='left'></td><td class='left'></td><td class='left'><div id='general-2.sentence-8' class='sentence'><span class='math'>→</span> <b>Output</b></div></td></tr></table></div></div><div class='para' id='general-3'><div class='marginalizedparent'><a class='marginalized' href='#general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L94'>#</a></div><div id='general-3.sentence-1' class='sentence'>Forward iterators satisfy all the requirements of input
iterators and can be used whenever
an input iterator is specified;
Bidirectional iterators also satisfy all the requirements of
forward iterators and can be used whenever a forward iterator is specified;
Random access iterators also satisfy all the requirements of bidirectional
iterators and can be used whenever a bidirectional iterator is specified<a class='hidden_link' href='#general-3.sentence-1'>.</a></div></div><div class='para' id='general-4'><div class='marginalizedparent'><a class='marginalized' href='#general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L103'>#</a></div><div id='general-4.sentence-1' class='sentence'>Iterators that further satisfy the requirements of output iterators are
called <a class='hidden_link' href='#def:mutable_iterator' id='def:mutable_iterator'><i >mutable iterators</i></a><a class='hidden_link' href='#general-4.sentence-1'>.</a></div> <div id='general-4.sentence-2' class='sentence'>Nonmutable iterators are referred to
as <a class='hidden_link' href='#def:constant_iterator' id='def:constant_iterator'><i >constant iterators</i></a><a class='hidden_link' href='#general-4.sentence-2'>.</a></div></div><div class='para' id='general-5'><div class='marginalizedparent'><a class='marginalized' href='#general-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L108'>#</a></div><div id='general-5.sentence-1' class='sentence'>In addition to the requirements in this subclause,
the nested <i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i><span class='textit'>s</span> specified in <a href='iterator.traits'>[iterator.traits]</a>
shall be provided for the iterator type<a class='hidden_link' href='#general-5.sentence-1'>.</a></div> <div id='general-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#general-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='general-5.sentence-2' class='sentence'>Either the iterator type must provide the <i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i><span class='textit'>s</span> directly
(in which case <span class='texttt'>iterator_&shy;traits</span> pick them up automatically), or
an <span class='texttt'>iterator_&shy;traits</span> specialization must provide them<a class='hidden_link' href='#general-5.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='general-6'><div class='marginalizedparent'><a class='marginalized' href='#general-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L116'>#</a></div><div id='general-6.sentence-1' class='sentence'>Iterators that further satisfy the requirement that,
for integral values <span class='texttt'>n</span> and
dereferenceable iterator values <span class='texttt'>a</span> and <span class='texttt'>(a + n)</span>,
<span class='texttt'>*(a + n)</span> is equivalent to <span class='texttt'>*(addressof(*a) + n)</span>,
are called <a class='hidden_link' href='#def:contiguous_iterators' id='def:contiguous_iterators'><i >contiguous iterators</i></a><a class='hidden_link' href='#general-6.sentence-1'>.</a></div> <div id='general-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#general-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='general-6.sentence-2' class='sentence'>For example, the type “pointer to <span class='texttt'>int</span>” is a contiguous iterator,
but <span class='texttt'>reverse_&shy;iterator&lt;int *&gt;</span> is not<a class='hidden_link' href='#general-6.sentence-2'>.</a></div> <div id='general-6.sentence-3' class='sentence'>For a valid iterator range <span class='math'>[</span><span class='texttt'>a</span><span class="mjx-chtml"><span class="mjx-math" aria-label="comma"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span></span></span></span><span class='texttt'>b</span><span class='math'>)</span> with dereferenceable <span class='texttt'>a</span>,
the corresponding range denoted by pointers is
<span class='math'>[</span><span class='texttt'>addressof(*a)</span><span class="mjx-chtml"><span class="mjx-math" aria-label="comma"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span></span></span></span><span class='texttt'>addressof(*a) + (b - a)</span><span class='math'>)</span>;
<span class='texttt'>b</span> might not be dereferenceable<a class='hidden_link' href='#general-6.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='general-7'><div class='marginalizedparent'><a class='marginalized' href='#general-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L131'>#</a></div><div id='general-7.sentence-1' class='sentence'>Just as a regular pointer to an array guarantees that there is a pointer value pointing past the last element
of the array, so for any iterator type there is an iterator value that points past the last element of a
corresponding sequence<a class='hidden_link' href='#general-7.sentence-1'>.</a></div> <div id='general-7.sentence-2' class='sentence'>These values are called
<a class='hidden_link' href='#def:past-the-end' id='def:past-the-end'><i>past-the-end</i></a>
values<a class='hidden_link' href='#general-7.sentence-2'>.</a></div> <div id='general-7.sentence-3' class='sentence'>Values of an iterator
<span class='texttt'>i</span>
for which the expression
<span class='texttt'>*i</span>
is defined are called
<a class='hidden_link' href='#def:dereferenceable' id='def:dereferenceable'><i>dereferenceable</i></a><a class='hidden_link' href='#general-7.sentence-3'>.</a></div> <div id='general-7.sentence-4' class='sentence'>The library never assumes that past-the-end values are dereferenceable<a class='hidden_link' href='#general-7.sentence-4'>.</a></div> <div id='general-7.sentence-5' class='sentence'>Iterators can also have singular values that are not associated with any
sequence<a class='hidden_link' href='#general-7.sentence-5'>.</a></div> <div id='general-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#general-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='general-7.sentence-9' class='sentence'>After the declaration of an uninitialized pointer
<span class='texttt'>x</span>
(as with
<span class='texttt'>int* x;</span>),
<span class='texttt'>x</span>
must always be assumed to have a singular value of a pointer<a class='hidden_link' href='#general-7.sentence-9'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='general-7.sentence-6' class='sentence'>
Results of most expressions are undefined for singular values;
the only exceptions are destroying an iterator that holds a singular value,
the assignment of a non-singular value to
an iterator that holds a singular value, and, for iterators that satisfy the
<span class='textit'>Cpp17DefaultConstructible</span> requirements, using a value-initialized iterator
as the source of a copy or move operation<a class='hidden_link' href='#general-7.sentence-6'>.</a></div> <div id='general-7.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#general-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='general-7.sentence-10' class='sentence'>This guarantee is not
offered for default-initialization, although the distinction only matters for types
with trivial default constructors such as pointers or aggregates holding pointers<a class='hidden_link' href='#general-7.sentence-10'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='general-7.sentence-7' class='sentence'>
In these cases the singular
value is overwritten the same way as any other value<a class='hidden_link' href='#general-7.sentence-7'>.</a></div> <div id='general-7.sentence-8' class='sentence'>Dereferenceable
values are always non-singular<a class='hidden_link' href='#general-7.sentence-8'>.</a></div></div><div class='para' id='general-8'><div class='marginalizedparent'><a class='marginalized' href='#general-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L169'>#</a></div><div id='general-8.sentence-1' class='sentence'>An iterator
<span class='texttt'>j</span>
is called
<a class='hidden_link' href='#def:reachable' id='def:reachable'><i>reachable</i></a>
from an iterator
<span class='texttt'>i</span>
if and only if there is a finite sequence of applications of
the expression
<span class='texttt'>++i</span>
that makes
<span class='texttt'>i == j</span><a class='hidden_link' href='#general-8.sentence-1'>.</a></div> <div id='general-8.sentence-2' class='sentence'>If
<span class='texttt'>j</span>
is reachable from
<span class='texttt'>i</span>,
they refer to elements of the same sequence<a class='hidden_link' href='#general-8.sentence-2'>.</a></div></div><div class='para' id='general-9'><div class='marginalizedparent'><a class='marginalized' href='#general-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L187'>#</a></div><div id='general-9.sentence-1' class='sentence'>Most of the library's algorithmic templates that operate on data structures have interfaces that use ranges<a class='hidden_link' href='#general-9.sentence-1'>.</a></div> <div id='general-9.sentence-2' class='sentence'>A
<a class='hidden_link' href='#def:range' id='def:range'><i>range</i></a>
is a pair of iterators that designate the beginning and end of the computation<a class='hidden_link' href='#general-9.sentence-2'>.</a></div> <div id='general-9.sentence-3' class='sentence'>A range <span class='texttt'>[i, i)</span>
is an empty range;
in general, a range <span class='texttt'>[i, j)</span>
refers to the elements in the data structure starting with the element
pointed to by
<span class='texttt'>i</span>
and up to but not including the element pointed to by
<span class='texttt'>j</span><a class='hidden_link' href='#general-9.sentence-3'>.</a></div> <div id='general-9.sentence-4' class='sentence'>Range <span class='texttt'>[i, j)</span>
is valid if and only if
<span class='texttt'>j</span>
is reachable from
<span class='texttt'>i</span><a class='hidden_link' href='#general-9.sentence-4'>.</a></div> <div id='general-9.sentence-5' class='sentence'>The result of the application of functions in the library to invalid ranges is
undefined<a class='hidden_link' href='#general-9.sentence-5'>.</a></div></div><div class='para' id='general-10'><div class='marginalizedparent'><a class='marginalized' href='#general-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L208'>#</a></div><div id='general-10.sentence-1' class='sentence'>All the categories of iterators require only those functions that are realizable for a given category in
constant time (amortized)<a class='hidden_link' href='#general-10.sentence-1'>.</a></div> <div id='general-10.sentence-2' class='sentence'>Therefore, requirement tables for the iterators do not have a complexity column<a class='hidden_link' href='#general-10.sentence-2'>.</a></div></div><div class='para' id='general-11'><div class='marginalizedparent'><a class='marginalized' href='#general-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L213'>#</a></div><div id='general-11.sentence-1' class='sentence'>Destruction of an iterator may invalidate pointers and references
previously obtained from that iterator<a class='hidden_link' href='#general-11.sentence-1'>.</a></div></div><div class='para' id='general-12'><div class='marginalizedparent'><a class='marginalized' href='#general-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L217'>#</a></div><div id='general-12.sentence-1' class='sentence'>An
<a class='hidden_link' href='#def:invalid' id='def:invalid'><i>invalid</i></a>
iterator is an iterator that may be singular<a class='hidden_link' href='#general-12.sentence-1'>.</a><a class='footnotenum' href='#footnote-263'>263</a></div></div><div class='para' id='general-13'><div class='marginalizedparent'><a class='marginalized' href='#general-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L225'>#</a></div><div id='general-13.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':iterator,constexpr'></a></span>Iterators are called <a class='hidden_link' href='#def:constexpr_iterators' id='def:constexpr_iterators'><i >constexpr iterators</i></a>
if all operations provided to satisfy iterator category operations
are constexpr functions, except for
<ul class='itemize'><li id='general-13.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#general-13.1'>(13.1)</a></div><div id='general-13.1.sentence-1' class='sentence'>a pseudo-destructor call (<a href='expr.pseudo'>[expr.pseudo]</a>), and</div></li><li id='general-13.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#general-13.2'>(13.2)</a></div><div id='general-13.2.sentence-1' class='sentence'>the construction of an iterator with a singular value<a class='hidden_link' href='#general-13.2.sentence-1'>.</a></div></li></ul></div> <div id='general-13.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#general-13.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='general-13.sentence-2' class='sentence'>For example, the types “pointer to <span class='texttt'>int</span>” and
<span class='texttt'>reverse_&shy;iterator&lt;int*&gt;</span> are constexpr iterators<a class='hidden_link' href='#general-13.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='general-14'><div class='marginalizedparent'><a class='marginalized' href='#general-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L239'>#</a></div><div id='general-14.sentence-1' class='sentence'>In the following sections,
<span class='texttt'>a</span>
and
<span class='texttt'>b</span>
denote values of type
<span class='texttt'>X</span> or <span class='texttt'>const X</span>,
<span class='texttt'>difference_&shy;type</span> and <span class='texttt'>reference</span> refer to the
types <span class='texttt'>iterator_&shy;traits&lt;X&gt;&#x200b;::&#x200b;difference_&shy;type</span> and
<span class='texttt'>iterator_&shy;traits&lt;X&gt;&#x200b;::&#x200b;reference</span>, respectively,
<span class='texttt'>n</span>
denotes a value of
<span class='texttt'>difference_&shy;type</span>,
<span class='texttt'>u</span>,
<span class='texttt'>tmp</span>,
and
<span class='texttt'>m</span>
denote identifiers,
<span class='texttt'>r</span>
denotes a value of
<span class='texttt'>X&amp;</span>,
<span class='texttt'>t</span>
denotes a value of value type
<span class='texttt'>T</span>,
<span class='texttt'>o</span>
denotes a value of some type that is writable to the output iterator<a class='hidden_link' href='#general-14.sentence-1'>.</a></div> <div id='general-14.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#general-14.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='general-14.sentence-2' class='sentence'>For an iterator type <span class='texttt'>X</span> there must be an instantiation
of <a href='iterator.traits'><span class='texttt'>iterator_&shy;traits&lt;X&gt;</span></a><a class='hidden_link' href='#general-14.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='footnote' id='footnote-263'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-263'>263)</a></div><div id='footnote-263.sentence-1' class='sentence'>This definition applies to pointers, since pointers are iterators<a class='hidden_link' href='#footnote-263.sentence-1'>.</a></div> <div id='footnote-263.sentence-2' class='sentence'>The effect of dereferencing an iterator that has been invalidated
is undefined<a class='hidden_link' href='#footnote-263.sentence-2'>.</a></div></div></div><div id='iterator.iterators' class='section'><h3 ><a class='secnum' href='#iterator.iterators' style='min-width:103pt'>28.2.2</a> <span class='textit'>Cpp17Iterator</span> <a class='abbr_ref' href='iterator.iterators'>[iterator.iterators]</a></h3><div class='para' id='iterator.iterators-1'><div class='marginalizedparent'><a class='marginalized' href='#iterator.iterators-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L270'>#</a></div><div id='iterator.iterators-1.sentence-1' class='sentence'>The <span class='textit'>Cpp17Iterator</span> requirements form the basis of the iterator
taxonomy; every iterator satisfies the <span class='textit'>Cpp17Iterator</span> requirements<a class='hidden_link' href='#iterator.iterators-1.sentence-1'>.</a></div> <div id='iterator.iterators-1.sentence-2' class='sentence'>This
set of requirements specifies operations for dereferencing and incrementing
an iterator<a class='hidden_link' href='#iterator.iterators-1.sentence-2'>.</a></div> <div id='iterator.iterators-1.sentence-3' class='sentence'>Most algorithms will require additional operations to
<a href='#input.iterators'>read</a> or <a href='#output.iterators'>write</a> values, or
to provide a richer set of iterator movements (<a href='#forward.iterators'>[forward.iterators]</a>,
<a href='#bidirectional.iterators'>[bidirectional.iterators]</a>, <a href='#random.access.iterators'>[random.access.iterators]</a>)<a class='hidden_link' href='#iterator.iterators-1.sentence-3'>.</a></div></div><div class='para' id='iterator.iterators-2'><div class='marginalizedparent'><a class='marginalized' href='#iterator.iterators-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L279'>#</a></div><div id='iterator.iterators-2.sentence-1' class='sentence'>A type <span class='texttt'>X</span> satisfies the <span class='textit'>Cpp17Iterator</span> requirements if:</div><div id='iterator.iterators-2.sentence-2' class='sentence'><ul class='itemize'><li id='iterator.iterators-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#iterator.iterators-2.1'>(2.1)</a></div><div id='iterator.iterators-2.1.sentence-1' class='sentence'><span class='texttt'>X</span> satisfies the <span class='textit'>Cpp17CopyConstructible</span>, <span class='textit'>Cpp17CopyAssignable</span>, and
<span class='textit'>Cpp17Destructible</span> requirements (<a href='utility.arg.requirements'>[utility.arg.requirements]</a>) and lvalues
of type <span class='texttt'>X</span> are swappable (<a href='swappable.requirements'>[swappable.requirements]</a>), and</div></li><li id='iterator.iterators-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#iterator.iterators-2.2'>(2.2)</a></div><div id='iterator.iterators-2.2.sentence-1' class='sentence'>the expressions in Table <a href='#tab:iterator.requirements'>92</a> are valid and have
the indicated semantics<a class='hidden_link' href='#iterator.iterators-2.2.sentence-1'>.</a></div></li></ul></div><div class='numberedTable' id='tab:iterator.requirements'>Table <a href='#tab:iterator.requirements'>92</a> — <span class='textit'>Cpp17Iterator</span> requirements<br><table ><tr class='rowsep'><td colspan='1' class='center'><div id='iterator.iterators-2.sentence-3' class='sentence'><b>Expression</b></div></td><td colspan='1' class='center'><div id='iterator.iterators-2.sentence-4' class='sentence'><b>Return type</b></div></td><td colspan='1' class='center'><div id='iterator.iterators-2.sentence-5' class='sentence'><b>Operational</b></div></td><td colspan='1' class='center'><div id='iterator.iterators-2.sentence-6' class='sentence'><b>Assertion/note</b></div></td></tr><tr ><td class='left'></td><td class='left'></td><td colspan='1' class='center'><div id='iterator.iterators-2.sentence-7' class='sentence'><b>semantics</b></div></td><td colspan='1' class='center'><div id='iterator.iterators-2.sentence-8' class='sentence'><b>pre-/post-condition</b></div></td></tr><tr class='capsep'><td class='left'><div style='height:0.6em;display:block'></div><div id='iterator.iterators-2.sentence-9' class='sentence'><span class='texttt'>*r</span></div></td><td class='left'><div id='iterator.iterators-2.sentence-10' class='sentence'>unspecified</div></td><td class='left'></td><td class='left'><div id='iterator.iterators-2.sentence-11' class='sentence'><span class='textit'>Requires:</span> <span class='texttt'>r</span> is dereferenceable<a class='hidden_link' href='#iterator.iterators-2.sentence-11'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='iterator.iterators-2.sentence-12' class='sentence'><span class='texttt'>++r</span></div></td><td class='left'><div id='iterator.iterators-2.sentence-13' class='sentence'><span class='texttt'>X&amp;</span></div></td><td class='left'></td><td class='left'></td></tr></table></div></div></div><div id='input.iterators' class='section'><h3 ><a class='secnum' href='#input.iterators' style='min-width:103pt'>28.2.3</a> Input iterators <a class='abbr_ref' href='input.iterators'>[input.iterators]</a></h3><div class='para' id='input.iterators-1'><div class='marginalizedparent'><a class='marginalized' href='#input.iterators-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L318'>#</a></div><div id='input.iterators-1.sentence-1' class='sentence'>A class or pointer type
<span class='texttt'>X</span>
satisfies the requirements of an input iterator for the value type
<span class='texttt'>T</span>
if
<span class='texttt'>X</span> satisfies the <span class='textit'>Cpp17Iterator</span> (<a href='#iterator.iterators'>[iterator.iterators]</a>) and
<span class='textit'>Cpp17EqualityComparable</span> (Table <a href='utility.arg.requirements#tab:equalitycomparable'>22</a>) requirements and
the expressions in Table <a href='#tab:iterator.input.requirements'>93</a> are valid and have
the indicated semantics<a class='hidden_link' href='#input.iterators-1.sentence-1'>.</a></div></div><div class='para' id='input.iterators-2'><div class='marginalizedparent'><a class='marginalized' href='#input.iterators-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L329'>#</a></div><div id='input.iterators-2.sentence-1' class='sentence'>In Table <a href='#tab:iterator.input.requirements'>93</a>, the term
<a class='hidden_link' href='#def:the_domain_of_==' id='def:the_domain_of_=='><i>the domain of <span class='texttt'>==</span></i></a>
is used in the ordinary mathematical sense to denote
the set of values over which
<span class='texttt'>==</span> is (required to be) defined<a class='hidden_link' href='#input.iterators-2.sentence-1'>.</a></div> <div id='input.iterators-2.sentence-2' class='sentence'>This set can change over time<a class='hidden_link' href='#input.iterators-2.sentence-2'>.</a></div> <div id='input.iterators-2.sentence-3' class='sentence'>Each algorithm places additional requirements on the domain of
<span class='texttt'>==</span> for the iterator values it uses<a class='hidden_link' href='#input.iterators-2.sentence-3'>.</a></div> <div id='input.iterators-2.sentence-4' class='sentence'>These requirements can be inferred from the uses that algorithm
makes of <span class='texttt'>==</span> and <span class='texttt'>!=</span><a class='hidden_link' href='#input.iterators-2.sentence-4'>.</a></div> <div id='input.iterators-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#input.iterators-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='input.iterators-2.sentence-5' class='sentence'>The call <span class='texttt'>find(a,b,x)</span>
is defined only if the value of <span class='texttt'>a</span>
has the property <span class='textit'>p</span>
defined as follows:
<span class='texttt'>b</span> has property <span class='textit'>p</span>
and a value <span class='texttt'>i</span>
has property <span class='textit'>p</span>
if
(<span class='texttt'>*i==x</span>)
or if
(<span class='texttt'>*i!=x</span>
and
<span class='texttt'>++i</span>
has property
<span class='textit'>p</span>)<a class='hidden_link' href='#input.iterators-2.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> <div class='numberedTable' id='tab:iterator.input.requirements'>Table <a href='#tab:iterator.input.requirements'>93</a> — <span class='textit'>Cpp17InputIterator</span> requirements (in addition to <span class='textit'>Cpp17Iterator</span>)<br><table ><tr class='rowsep'><td colspan='1' class='center'><div id='input.iterators-2.sentence-6' class='sentence'><b>Expression</b></div></td><td colspan='1' class='center'><div id='input.iterators-2.sentence-7' class='sentence'><b>Return type</b></div></td><td colspan='1' class='center'><div id='input.iterators-2.sentence-8' class='sentence'><b>Operational</b></div></td><td colspan='1' class='center'><div id='input.iterators-2.sentence-9' class='sentence'><b>Assertion/note</b></div></td></tr><tr ><td class='left'></td><td class='left'></td><td colspan='1' class='center'><div id='input.iterators-2.sentence-10' class='sentence'><b>semantics</b></div></td><td colspan='1' class='center'><div id='input.iterators-2.sentence-11' class='sentence'><b>pre-/post-condition</b></div></td></tr><tr class='capsep'><td class='left'><div id='input.iterators-2.sentence-12' class='sentence'>
<span class='texttt'>a != b</span></div></td><td class='left'><div id='input.iterators-2.sentence-13' class='sentence'>contextually convertible to <span class='texttt'>bool</span></div></td><td class='left'><div id='input.iterators-2.sentence-14' class='sentence'><span class='texttt'>!(a == b)</span></div></td><td class='left'><div id='input.iterators-2.sentence-15' class='sentence'><span class='textit'>Requires:</span> <span class='texttt'>(a, b)</span> is in the domain of <span class='texttt'>==</span><a class='hidden_link' href='#input.iterators-2.sentence-15'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='input.iterators-2.sentence-16' class='sentence'><span class='texttt'>*a</span></div></td><td class='left'><div id='input.iterators-2.sentence-17' class='sentence'><span class='texttt'>reference</span>, convertible to <span class='texttt'>T</span></div></td><td class='left'></td><td class='left'><div id='input.iterators-2.sentence-18' class='sentence'><span class='textit'>Requires:</span> <span class='texttt'>a</span> is dereferenceable<a class='hidden_link' href='#input.iterators-2.sentence-18'>.</a></div> <div id='input.iterators-2.sentence-19' class='sentence'><br/>
 The expression<br/><span class='texttt'>(void)*a, *a</span> is equivalent to <span class='texttt'>*a</span><a class='hidden_link' href='#input.iterators-2.sentence-19'>.</a></div> <div id='input.iterators-2.sentence-20' class='sentence'><br/>
 If <span class='texttt'>a == b</span> and <span class='texttt'>(a, b)</span> is in the domain of <span class='texttt'>==</span>
 then <span class='texttt'>*a</span> is equivalent to <span class='texttt'>*b</span><a class='hidden_link' href='#input.iterators-2.sentence-20'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='input.iterators-2.sentence-21' class='sentence'><span class='texttt'>a-&gt;m</span></div></td><td class='left'></td><td class='left'><div id='input.iterators-2.sentence-22' class='sentence'><span class='texttt'>(*a).m</span></div></td><td class='left'><div id='input.iterators-2.sentence-23' class='sentence'><span class='textit'>Requires:</span> <span class='texttt'>a</span> is dereferenceable<a class='hidden_link' href='#input.iterators-2.sentence-23'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='input.iterators-2.sentence-24' class='sentence'><span class='texttt'>++r</span></div></td><td class='left'><div id='input.iterators-2.sentence-25' class='sentence'><span class='texttt'>X&amp;</span></div></td><td class='left'></td><td class='left'><div id='input.iterators-2.sentence-26' class='sentence'><span class='textit'>Requires:</span> <span class='texttt'>r</span> is dereferenceable<a class='hidden_link' href='#input.iterators-2.sentence-26'>.</a></div> <div id='input.iterators-2.sentence-27' class='sentence'><br/>
 <span class='textit'>Ensures:</span> <span class='texttt'>r</span> is dereferenceable or <span class='texttt'>r</span> is past-the-end;<br/>
 any copies of the previous value of <span class='texttt'>r</span> are no longer
 required to be dereferenceable nor to be in the domain of <span class='texttt'>==</span><a class='hidden_link' href='#input.iterators-2.sentence-27'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='input.iterators-2.sentence-28' class='sentence'><span class='texttt'>(void)r++</span></div></td><td class='left'></td><td class='left'></td><td class='left'><div id='input.iterators-2.sentence-29' class='sentence'>equivalent to <span class='texttt'>(void)++r</span></div></td></tr><tr class='rowsep'><td class='left'><div id='input.iterators-2.sentence-30' class='sentence'><span class='texttt'>*r++</span></div></td><td class='left'><div id='input.iterators-2.sentence-31' class='sentence'>convertible to <span class='texttt'>T</span></div></td><td class='left'><div id='input.iterators-2.sentence-32' class='sentence'><span class='texttt'>{ T tmp = *r;</span><br/>
 <span class='texttt'>++r;</span><br/>
 <span class='texttt'>return tmp; }</span></div></td><td class='left'></td></tr></table></div></div><div class='para' id='input.iterators-3'><div class='marginalizedparent'><a class='marginalized' href='#input.iterators-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L406'>#</a></div><div id='input.iterators-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#input.iterators-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='input.iterators-3.sentence-1' class='sentence'>For input iterators,
<span class='texttt'>a == b</span>
does not imply
<span class='texttt'>++a == ++b</span><a class='hidden_link' href='#input.iterators-3.sentence-1'>.</a></div> <div id='input.iterators-3.sentence-2' class='sentence'>(Equality does not guarantee the substitution property or referential transparency<a class='hidden_link' href='#input.iterators-3.sentence-2'>.</a>)</div> <div id='input.iterators-3.sentence-3' class='sentence'>Algorithms on input iterators should never attempt to pass through the same iterator twice<a class='hidden_link' href='#input.iterators-3.sentence-3'>.</a></div> <div id='input.iterators-3.sentence-4' class='sentence'>They should be
<a class='hidden_link' href='#def:single_pass' id='def:single_pass'><i>single pass</i></a>
algorithms<a class='hidden_link' href='#input.iterators-3.sentence-4'>.</a></div> <div id='input.iterators-3.sentence-5' class='sentence'>Value type <span class='texttt'>T</span> is not required to be a <span class='textit'>Cpp17CopyAssignable</span> type (Table <a href='utility.arg.requirements#tab:copyassignable'>28</a>)<a class='hidden_link' href='#input.iterators-3.sentence-5'>.</a></div> <div id='input.iterators-3.sentence-6' class='sentence'>These algorithms can be used with istreams as the source of the input data through the
<span class='texttt'>istream_&shy;iterator</span>
class template<a class='hidden_link' href='#input.iterators-3.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='output.iterators' class='section'><h3 ><a class='secnum' href='#output.iterators' style='min-width:103pt'>28.2.4</a> Output iterators <a class='abbr_ref' href='output.iterators'>[output.iterators]</a></h3><div class='para' id='output.iterators-1'><div class='marginalizedparent'><a class='marginalized' href='#output.iterators-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L425'>#</a></div><div id='output.iterators-1.sentence-1' class='sentence'>A class or pointer type
<span class='texttt'>X</span>
satisfies the requirements of an output iterator
if <span class='texttt'>X</span> satisfies the <span class='textit'>Cpp17Iterator</span> requirements (<a href='#iterator.iterators'>[iterator.iterators]</a>)
and the expressions in Table <a href='#tab:iterator.output.requirements'>94</a>
are valid and have the indicated semantics<a class='hidden_link' href='#output.iterators-1.sentence-1'>.</a></div><div class='numberedTable' id='tab:iterator.output.requirements'>Table <a href='#tab:iterator.output.requirements'>94</a> — <span class='textit'>Cpp17OutputIterator</span> requirements (in addition to <span class='textit'>Cpp17Iterator</span>)<br><table ><tr class='rowsep'><td colspan='1' class='center'><div id='output.iterators-1.sentence-2' class='sentence'><b>Expression</b></div></td><td colspan='1' class='center'><div id='output.iterators-1.sentence-3' class='sentence'><b>Return type</b></div></td><td colspan='1' class='center'><div id='output.iterators-1.sentence-4' class='sentence'><b>Operational</b></div></td><td colspan='1' class='center'><div id='output.iterators-1.sentence-5' class='sentence'><b>Assertion/note</b></div></td></tr><tr ><td class='left'></td><td class='left'></td><td colspan='1' class='center'><div id='output.iterators-1.sentence-6' class='sentence'><b>semantics</b></div></td><td colspan='1' class='center'><div id='output.iterators-1.sentence-7' class='sentence'><b>pre-/post-condition</b></div></td></tr><tr class='capsep'><td class='left'><div id='output.iterators-1.sentence-8' class='sentence'>
<span class='texttt'>*r = o</span></div></td><td class='left'><div id='output.iterators-1.sentence-9' class='sentence'>result is not used</div></td><td class='left'></td><td class='left'><div id='output.iterators-1.sentence-10' class='sentence'><span class='textit'>Remarks:</span> &nbsp;After this operation <span class='texttt'>r</span> is not required to be dereferenceable<a class='hidden_link' href='#output.iterators-1.sentence-10'>.</a></div> <div id='output.iterators-1.sentence-11' class='sentence'><br/>
 <span class='textit'>Ensures:</span> <span class='texttt'>r</span> is incrementable<a class='hidden_link' href='#output.iterators-1.sentence-11'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='output.iterators-1.sentence-12' class='sentence'><span class='texttt'>++r</span></div></td><td class='left'><div id='output.iterators-1.sentence-13' class='sentence'><span class='texttt'>X&amp;</span></div></td><td class='left'></td><td class='left'><div id='output.iterators-1.sentence-14' class='sentence'><span class='texttt'>&amp;r == &amp;++r</span><a class='hidden_link' href='#output.iterators-1.sentence-14'>.</a></div> <div id='output.iterators-1.sentence-15' class='sentence'><br/>
 <span class='textit'>Remarks:</span> &nbsp;After this operation <span class='texttt'>r</span> is not required to be dereferenceable<a class='hidden_link' href='#output.iterators-1.sentence-15'>.</a></div> <div id='output.iterators-1.sentence-16' class='sentence'><br/>
 <span class='textit'>Ensures:</span> <span class='texttt'>r</span> is incrementable<a class='hidden_link' href='#output.iterators-1.sentence-16'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='output.iterators-1.sentence-17' class='sentence'><span class='texttt'>r++</span></div></td><td class='left'><div id='output.iterators-1.sentence-18' class='sentence'>convertible to <span class='texttt'>const X&amp;</span></div></td><td class='left'><div id='output.iterators-1.sentence-19' class='sentence'><span class='texttt'>{ X tmp = r;</span><br/>
 <span class='texttt'>  ++r;</span><br/>
 <span class='texttt'>  return tmp; }</span></div></td><td class='left'><div id='output.iterators-1.sentence-20' class='sentence'><span class='textit'>Remarks:</span> &nbsp;After this operation <span class='texttt'>r</span> is not required to be dereferenceable<a class='hidden_link' href='#output.iterators-1.sentence-20'>.</a></div> <div id='output.iterators-1.sentence-21' class='sentence'><br/>
 <span class='textit'>Ensures:</span> <span class='texttt'>r</span> is incrementable<a class='hidden_link' href='#output.iterators-1.sentence-21'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='output.iterators-1.sentence-22' class='sentence'><span class='texttt'>*r++ = o</span></div></td><td class='left'><div id='output.iterators-1.sentence-23' class='sentence'>result is not used</div></td><td class='left'></td><td class='left'><div id='output.iterators-1.sentence-24' class='sentence'><span class='textit'>Remarks:</span> &nbsp;After this operation <span class='texttt'>r</span> is not required to be dereferenceable<a class='hidden_link' href='#output.iterators-1.sentence-24'>.</a></div> <div id='output.iterators-1.sentence-25' class='sentence'><br/>
 <span class='textit'>Ensures:</span> <span class='texttt'>r</span> is incrementable<a class='hidden_link' href='#output.iterators-1.sentence-25'>.</a></div></td></tr></table></div></div><div class='para' id='output.iterators-2'><div class='marginalizedparent'><a class='marginalized' href='#output.iterators-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L472'>#</a></div><div id='output.iterators-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#output.iterators-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='output.iterators-2.sentence-1' class='sentence'>The only valid use of an
<span class='texttt'>operator*</span>
is on the left side of the assignment statement<a class='hidden_link' href='#output.iterators-2.sentence-1'>.</a></div> <div id='output.iterators-2.sentence-2' class='sentence'><span class='textit'>Assignment through the same value of the iterator happens only once.</span>
Algorithms on output iterators should never attempt to pass through the same iterator twice<a class='hidden_link' href='#output.iterators-2.sentence-2'>.</a></div> <div id='output.iterators-2.sentence-3' class='sentence'>They should be
<a class='hidden_link' href='#def:single_pass' id='def:single_pass'><i>single pass</i></a>
algorithms<a class='hidden_link' href='#output.iterators-2.sentence-3'>.</a></div> <div id='output.iterators-2.sentence-4' class='sentence'>Equality and inequality might not be defined<a class='hidden_link' href='#output.iterators-2.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='forward.iterators' class='section'><h3 ><a class='secnum' href='#forward.iterators' style='min-width:103pt'>28.2.5</a> Forward iterators <a class='abbr_ref' href='forward.iterators'>[forward.iterators]</a></h3><div class='para' id='forward.iterators-1'><div class='marginalizedparent'><a class='marginalized' href='#forward.iterators-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L487'>#</a></div><div id='forward.iterators-1.sentence-1' class='sentence'>A class or pointer type
<span class='texttt'>X</span>
satisfies the requirements of a forward iterator if</div><div id='forward.iterators-1.sentence-2' class='sentence'><ul class='itemize'><li id='forward.iterators-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#forward.iterators-1.1'>(1.1)</a></div><div id='forward.iterators-1.1.sentence-1' class='sentence'><span class='texttt'>X</span> satisfies the <span class='textit'>Cpp17InputIterator</span> requirements (<a href='#input.iterators'>[input.iterators]</a>),</div></li><li id='forward.iterators-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#forward.iterators-1.2'>(1.2)</a></div><div id='forward.iterators-1.2.sentence-1' class='sentence'><span class='texttt'>X</span> satisfies the <span class='textit'>Cpp17DefaultConstructible</span>
requirements (<a href='utility.arg.requirements'>[utility.arg.requirements]</a>),</div></li><li id='forward.iterators-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#forward.iterators-1.3'>(1.3)</a></div><div id='forward.iterators-1.3.sentence-1' class='sentence'>if <span class='texttt'>X</span> is a mutable iterator, <span class='texttt'>reference</span> is a reference to <span class='texttt'>T</span>;
if <span class='texttt'>X</span> is a constant iterator, <span class='texttt'>reference</span> is a reference to <span class='texttt'>const T</span>,</div></li><li id='forward.iterators-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#forward.iterators-1.4'>(1.4)</a></div><div id='forward.iterators-1.4.sentence-1' class='sentence'>the expressions in Table <a href='#tab:iterator.forward.requirements'>95</a>
are valid and have the indicated semantics, and</div></li><li id='forward.iterators-1.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#forward.iterators-1.5'>(1.5)</a></div><div id='forward.iterators-1.5.sentence-1' class='sentence'>objects of type <span class='texttt'>X</span> offer the multi-pass guarantee, described below<a class='hidden_link' href='#forward.iterators-1.5.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='forward.iterators-2'><div class='marginalizedparent'><a class='marginalized' href='#forward.iterators-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L507'>#</a></div><div id='forward.iterators-2.sentence-1' class='sentence'>The domain of <span class='texttt'>==</span> for forward iterators is that of iterators over the same
underlying sequence<a class='hidden_link' href='#forward.iterators-2.sentence-1'>.</a></div> <div id='forward.iterators-2.sentence-2' class='sentence'>However, value-initialized iterators may be compared and
shall compare equal to other value-initialized iterators of the same type<a class='hidden_link' href='#forward.iterators-2.sentence-2'>.</a></div> <div id='forward.iterators-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#forward.iterators-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='forward.iterators-2.sentence-3' class='sentence'>Value-initialized iterators behave as if they refer past the end of
the same empty sequence<a class='hidden_link' href='#forward.iterators-2.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='forward.iterators-3'><div class='marginalizedparent'><a class='marginalized' href='#forward.iterators-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L514'>#</a></div><div id='forward.iterators-3.sentence-1' class='sentence'>Two dereferenceable iterators <span class='texttt'>a</span> and <span class='texttt'>b</span> of type <span class='texttt'>X</span> offer the
<a class='hidden_link' href='#def:multi-pass_guarantee' id='def:multi-pass_guarantee'><i >multi-pass guarantee</i></a> if:</div><div id='forward.iterators-3.sentence-2' class='sentence'><ul class='itemize'><li id='forward.iterators-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#forward.iterators-3.1'>(3.1)</a></div><div id='forward.iterators-3.1.sentence-1' class='sentence'><span class='texttt'>a == b</span> implies <span class='texttt'>++a == ++b</span> and</div></li><li id='forward.iterators-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#forward.iterators-3.2'>(3.2)</a></div><div id='forward.iterators-3.2.sentence-1' class='sentence'><span class='texttt'>X</span> is a pointer type or the expression
<span class='texttt'>(void)++X(a), *a</span> is equivalent to the expression <span class='texttt'>*a</span><a class='hidden_link' href='#forward.iterators-3.2.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='forward.iterators-4'><div class='marginalizedparent'><a class='marginalized' href='#forward.iterators-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L524'>#</a></div><div id='forward.iterators-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#forward.iterators-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='forward.iterators-4.sentence-1' class='sentence'>The requirement that
<span class='texttt'>a == b</span>
implies
<span class='texttt'>++a == ++b</span>
(which is not true for input and output iterators)
and the removal of the restrictions on the number of the assignments through
a mutable iterator
(which applies to output iterators)
allows the use of multi-pass one-directional algorithms with forward iterators<a class='hidden_link' href='#forward.iterators-4.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> <div class='numberedTable' id='tab:iterator.forward.requirements'>Table <a href='#tab:iterator.forward.requirements'>95</a> — <span class='textit'>Cpp17ForwardIterator</span> requirements (in addition to <span class='textit'>Cpp17InputIterator</span>)<br><table ><tr class='rowsep'><td colspan='1' class='center'><div id='forward.iterators-4.sentence-2' class='sentence'><b>Expression</b></div></td><td colspan='1' class='center'><div id='forward.iterators-4.sentence-3' class='sentence'><b>Return type</b></div></td><td colspan='1' class='center'><div id='forward.iterators-4.sentence-4' class='sentence'><b>Operational</b></div></td><td colspan='1' class='center'><div id='forward.iterators-4.sentence-5' class='sentence'><b>Assertion/note</b></div></td></tr><tr ><td class='left'></td><td class='left'></td><td colspan='1' class='center'><div id='forward.iterators-4.sentence-6' class='sentence'><b>semantics</b></div></td><td colspan='1' class='center'><div id='forward.iterators-4.sentence-7' class='sentence'><b>pre-/post-condition</b></div></td></tr><tr class='capsep'><td class='left'><div id='forward.iterators-4.sentence-8' class='sentence'>
<span class='texttt'>r++</span></div></td><td class='left'><div id='forward.iterators-4.sentence-9' class='sentence'>convertible to <span class='texttt'>const X&amp;</span></div></td><td class='left'><div id='forward.iterators-4.sentence-10' class='sentence'><span class='texttt'>{ X tmp = r;</span><br/>
 <span class='texttt'>  ++r;</span><br/>
 <span class='texttt'>  return tmp; }</span></div></td><td class='left'></td></tr><tr class='rowsep'><td class='left'><div id='forward.iterators-4.sentence-11' class='sentence'><span class='texttt'>*r++</span></div></td><td class='left'><div id='forward.iterators-4.sentence-12' class='sentence'><span class='texttt'>reference</span></div></td><td class='left'></td><td class='left'></td></tr></table></div></div><div class='para' id='forward.iterators-5'><div class='marginalizedparent'><a class='marginalized' href='#forward.iterators-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L559'>#</a></div><div id='forward.iterators-5.sentence-1' class='sentence'>If <span class='texttt'>a</span> and <span class='texttt'>b</span> are equal, then either <span class='texttt'>a</span> and <span class='texttt'>b</span>
are both dereferenceable
or else neither is dereferenceable<a class='hidden_link' href='#forward.iterators-5.sentence-1'>.</a></div></div><div class='para' id='forward.iterators-6'><div class='marginalizedparent'><a class='marginalized' href='#forward.iterators-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L564'>#</a></div><div id='forward.iterators-6.sentence-1' class='sentence'>If <span class='texttt'>a</span> and <span class='texttt'>b</span> are both dereferenceable, then <span class='texttt'>a == b</span>
if and only if
<span class='texttt'>*a</span> and <span class='texttt'>*b</span> are bound to the same object<a class='hidden_link' href='#forward.iterators-6.sentence-1'>.</a></div></div></div><div id='bidirectional.iterators' class='section'><h3 ><a class='secnum' href='#bidirectional.iterators' style='min-width:103pt'>28.2.6</a> Bidirectional iterators <a class='abbr_ref' href='bidirectional.iterators'>[bidirectional.iterators]</a></h3><div class='para' id='bidirectional.iterators-1'><div class='marginalizedparent'><a class='marginalized' href='#bidirectional.iterators-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L571'>#</a></div><div id='bidirectional.iterators-1.sentence-1' class='sentence'>A class or pointer type
<span class='texttt'>X</span>
satisfies the requirements of a bidirectional iterator if,
in addition to satisfying the <span class='textit'>Cpp17ForwardIterator</span> requirements,
the following expressions are valid as shown in Table <a href='#tab:iterator.bidirectional.requirements'>96</a><a class='hidden_link' href='#bidirectional.iterators-1.sentence-1'>.</a></div><div class='numberedTable' id='tab:iterator.bidirectional.requirements'>Table <a href='#tab:iterator.bidirectional.requirements'>96</a> — <span class='textit'>Cpp17BidirectionalIterator</span> requirements (in addition to <span class='textit'>Cpp17ForwardIterator</span>)<br><table ><tr class='rowsep'><td colspan='1' class='center'><div id='bidirectional.iterators-1.sentence-2' class='sentence'><b>Expression</b></div></td><td colspan='1' class='center'><div id='bidirectional.iterators-1.sentence-3' class='sentence'><b>Return type</b></div></td><td colspan='1' class='center'><div id='bidirectional.iterators-1.sentence-4' class='sentence'><b>Operational</b></div></td><td colspan='1' class='center'><div id='bidirectional.iterators-1.sentence-5' class='sentence'><b>Assertion/note</b></div></td></tr><tr ><td class='left'></td><td class='left'></td><td colspan='1' class='center'><div id='bidirectional.iterators-1.sentence-6' class='sentence'><b>semantics</b></div></td><td colspan='1' class='center'><div id='bidirectional.iterators-1.sentence-7' class='sentence'><b>pre-/post-condition</b></div></td></tr><tr class='capsep'><td class='left'><div id='bidirectional.iterators-1.sentence-8' class='sentence'>
<span class='texttt'>--r</span></div></td><td class='left'><div id='bidirectional.iterators-1.sentence-9' class='sentence'><span class='texttt'>X&amp;</span></div></td><td class='left'></td><td class='left'><div id='bidirectional.iterators-1.sentence-10' class='sentence'><span class='textit'>Requires:</span> there exists <span class='texttt'>s</span> such that <span class='texttt'>r == ++s</span><a class='hidden_link' href='#bidirectional.iterators-1.sentence-10'>.</a></div> <div id='bidirectional.iterators-1.sentence-11' class='sentence'><br/>
 <span class='textit'>Ensures:</span> <span class='texttt'>r</span> is dereferenceable<a class='hidden_link' href='#bidirectional.iterators-1.sentence-11'>.</a></div> <div id='bidirectional.iterators-1.sentence-12' class='sentence'><br/>
 <span class='texttt'>--(++r) == r</span><a class='hidden_link' href='#bidirectional.iterators-1.sentence-12'>.</a></div> <div id='bidirectional.iterators-1.sentence-13' class='sentence'><br/>
 <span class='texttt'>--r == --s</span> implies <span class='texttt'>r == s</span><a class='hidden_link' href='#bidirectional.iterators-1.sentence-13'>.</a></div> <div id='bidirectional.iterators-1.sentence-14' class='sentence'><br/>
 <span class='texttt'>&amp;r == &amp;--r</span><a class='hidden_link' href='#bidirectional.iterators-1.sentence-14'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='bidirectional.iterators-1.sentence-15' class='sentence'><span class='texttt'>r--</span></div></td><td class='left'><div id='bidirectional.iterators-1.sentence-16' class='sentence'>convertible to <span class='texttt'>const X&amp;</span></div></td><td class='left'><div id='bidirectional.iterators-1.sentence-17' class='sentence'><span class='texttt'>{ X tmp = r;</span><br/>
 <span class='texttt'>  --r;</span><br/>
 <span class='texttt'>  return tmp; }</span></div></td><td class='left'></td></tr><tr class='rowsep'><td class='left'><div id='bidirectional.iterators-1.sentence-18' class='sentence'><span class='texttt'>*r--</span></div></td><td class='left'><div id='bidirectional.iterators-1.sentence-19' class='sentence'><span class='texttt'>reference</span></div></td><td class='left'></td><td class='left'></td></tr></table></div></div><div class='para' id='bidirectional.iterators-2'><div class='marginalizedparent'><a class='marginalized' href='#bidirectional.iterators-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L609'>#</a></div><div id='bidirectional.iterators-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#bidirectional.iterators-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='bidirectional.iterators-2.sentence-1' class='sentence'>Bidirectional iterators allow algorithms to move iterators backward as well as forward<a class='hidden_link' href='#bidirectional.iterators-2.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='random.access.iterators' class='section'><h3 ><a class='secnum' href='#random.access.iterators' style='min-width:103pt'>28.2.7</a> Random access iterators <a class='abbr_ref' href='random.access.iterators'>[random.access.iterators]</a></h3><div class='para' id='random.access.iterators-1'><div class='marginalizedparent'><a class='marginalized' href='#random.access.iterators-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b25c662399e7ebd126ee6771126aa29fed407e/source/iterators.tex#L616'>#</a></div><div id='random.access.iterators-1.sentence-1' class='sentence'>A class or pointer type
<span class='texttt'>X</span>
satisfies the requirements of a random access iterator if,
in addition to satisfying the <span class='textit'>Cpp17BidirectionalIterator</span> requirements,
the following expressions are valid as shown in Table <a href='#tab:iterator.random.access.requirements'>97</a><a class='hidden_link' href='#random.access.iterators-1.sentence-1'>.</a></div><div class='numberedTable' id='tab:iterator.random.access.requirements'>Table <a href='#tab:iterator.random.access.requirements'>97</a> — <span class='textit'>Cpp17RandomAccessIterator</span> requirements (in addition to <span class='textit'>Cpp17BidirectionalIterator</span>)<br><table ><tr class='rowsep'><td colspan='1' class='center'><div id='random.access.iterators-1.sentence-2' class='sentence'><b>Expression</b></div></td><td colspan='1' class='center'><div id='random.access.iterators-1.sentence-3' class='sentence'><b>Return type</b></div></td><td colspan='1' class='center'><div id='random.access.iterators-1.sentence-4' class='sentence'><b>Operational</b></div></td><td colspan='1' class='center'><div id='random.access.iterators-1.sentence-5' class='sentence'><b>Assertion/note</b></div></td></tr><tr ><td class='left'></td><td class='left'></td><td colspan='1' class='center'><div id='random.access.iterators-1.sentence-6' class='sentence'><b>semantics</b></div></td><td colspan='1' class='center'><div id='random.access.iterators-1.sentence-7' class='sentence'><b>pre-/post-condition</b></div></td></tr><tr class='capsep'><td class='left'><div id='random.access.iterators-1.sentence-8' class='sentence'>
<span class='texttt'>r += n</span></div></td><td class='left'><div id='random.access.iterators-1.sentence-9' class='sentence'><span class='texttt'>X&amp;</span></div></td><td class='left'><div id='random.access.iterators-1.sentence-10' class='sentence'><span class='texttt'>{ difference_&shy;type m = n;</span><br/>
 <span class='texttt'>  if (m &gt;= 0)</span><br/>
 <span class='texttt'>    while (m--)</span><br/>
 <span class='texttt'>      ++r;</span><br/>
 <span class='texttt'>  else</span><br/>
 <span class='texttt'>    while (m++)</span><br/>
 <span class='texttt'>      --r;</span><br/>
 <span class='texttt'>  return r; }</span></div></td><td class='left'></td></tr><tr class='rowsep'><td class='left'><div id='random.access.iterators-1.sentence-11' class='sentence'><span class='texttt'>a + n</span><br/>
<span class='texttt'>n + a</span></div></td><td class='left'><div id='random.access.iterators-1.sentence-12' class='sentence'><span class='texttt'>X</span></div></td><td class='left'><div id='random.access.iterators-1.sentence-13' class='sentence'><span class='texttt'>{ X tmp = a;</span><br/>
 <span class='texttt'>  return tmp += n; }</span></div></td><td class='left'><div id='random.access.iterators-1.sentence-14' class='sentence'><span class='texttt'>a + n == n + a</span><a class='hidden_link' href='#random.access.iterators-1.sentence-14'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='random.access.iterators-1.sentence-15' class='sentence'><span class='texttt'>r -= n</span></div></td><td class='left'><div id='random.access.iterators-1.sentence-16' class='sentence'><span class='texttt'>X&amp;</span></div></td><td class='left'><div id='random.access.iterators-1.sentence-17' class='sentence'><span class='texttt'>return r += -n;</span></div></td><td class='left'><div id='random.access.iterators-1.sentence-18' class='sentence'><span class='textit'>Requires:</span> the absolute value of <span class='texttt'>n</span> is in the range of
 representable values of <span class='texttt'>difference_&shy;type</span><a class='hidden_link' href='#random.access.iterators-1.sentence-18'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='random.access.iterators-1.sentence-19' class='sentence'><span class='texttt'>a - n</span></div></td><td class='left'><div id='random.access.iterators-1.sentence-20' class='sentence'><span class='texttt'>X</span></div></td><td class='left'><div id='random.access.iterators-1.sentence-21' class='sentence'><span class='texttt'>{ X tmp = a;</span><br/>
 <span class='texttt'>  return tmp -= n; }</span></div></td><td class='left'></td></tr><tr class='rowsep'><td class='left'><div id='random.access.iterators-1.sentence-22' class='sentence'><span class='texttt'>b - a</span></div></td><td class='left'><div id='random.access.iterators-1.sentence-23' class='sentence'><span class='texttt'>difference_&shy;type</span></div></td><td class='left'><div id='random.access.iterators-1.sentence-24' class='sentence'><span class='texttt'>return n</span></div></td><td class='left'><div id='random.access.iterators-1.sentence-25' class='sentence'><span class='textit'>Requires:</span> there exists a value <span class='texttt'>n</span> of type <span class='texttt'>difference_&shy;type</span> such that <span class='texttt'>a + n == b</span><a class='hidden_link' href='#random.access.iterators-1.sentence-25'>.</a></div> <div id='random.access.iterators-1.sentence-26' class='sentence'><br/>
 <span class='texttt'>b == a + (b - a)</span><a class='hidden_link' href='#random.access.iterators-1.sentence-26'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='random.access.iterators-1.sentence-27' class='sentence'><span class='texttt'>a[n]</span></div></td><td class='left'><div id='random.access.iterators-1.sentence-28' class='sentence'>convertible to <span class='texttt'>reference</span></div></td><td class='left'><div id='random.access.iterators-1.sentence-29' class='sentence'><span class='texttt'>*(a + n)</span></div></td><td class='left'></td></tr><tr class='rowsep'><td class='left'><div id='random.access.iterators-1.sentence-30' class='sentence'><span class='texttt'>a &lt; b</span></div></td><td class='left'><div id='random.access.iterators-1.sentence-31' class='sentence'>contextually
 convertible to <span class='texttt'>bool</span></div></td><td class='left'><div id='random.access.iterators-1.sentence-32' class='sentence'><span class='texttt'>b - a &gt; 0</span></div></td><td class='left'><div id='random.access.iterators-1.sentence-33' class='sentence'><span class='texttt'>&lt;</span> is a total ordering relation</div></td></tr><tr class='rowsep'><td class='left'><div id='random.access.iterators-1.sentence-34' class='sentence'><span class='texttt'>a &gt; b</span></div></td><td class='left'><div id='random.access.iterators-1.sentence-35' class='sentence'>contextually
 convertible to <span class='texttt'>bool</span></div></td><td class='left'><div id='random.access.iterators-1.sentence-36' class='sentence'><span class='texttt'>b &lt; a</span></div></td><td class='left'><div id='random.access.iterators-1.sentence-37' class='sentence'><span class='texttt'>&gt;</span> is a total ordering relation opposite to <span class='texttt'>&lt;</span><a class='hidden_link' href='#random.access.iterators-1.sentence-37'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='random.access.iterators-1.sentence-38' class='sentence'><span class='texttt'>a &gt;= b</span></div></td><td class='left'><div id='random.access.iterators-1.sentence-39' class='sentence'>contextually
 convertible to <span class='texttt'>bool</span></div></td><td class='left'><div id='random.access.iterators-1.sentence-40' class='sentence'><span class='texttt'>!(a &lt; b)</span></div></td><td class='left'></td></tr><tr class='rowsep'><td class='left'><div id='random.access.iterators-1.sentence-41' class='sentence'><span class='texttt'>a &lt;= b</span></div></td><td class='left'><div id='random.access.iterators-1.sentence-42' class='sentence'>contextually
 convertible to <span class='texttt'>bool</span><a class='hidden_link' href='#random.access.iterators-1.sentence-42'>.</a></div></td><td class='left'><div id='random.access.iterators-1.sentence-43' class='sentence'><span class='texttt'>!(a &gt; b)</span></div></td><td class='left'></td></tr></table></div></div></div></div></body></html>