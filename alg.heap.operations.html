<!DOCTYPE html><html lang='en'><head><title>[alg.heap.operations]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>25</a> Algorithms library <a class='abbr_ref' href='./#algorithms'>[algorithms]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>25.7</a> Sorting and related operations <a class='abbr_ref' href='alg.sorting#alg.heap.operations'>[alg.sorting]</a></h2><div id='alg.heap.operations'><h3 ><a class='secnum' style='min-width:103pt'>25.7.6</a> Heap operations <a class='abbr_ref'>[alg.heap.operations]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><p >A
<i>heap</i>
is a particular organization of elements in a range between two random access iterators
<span class='texttt'>[a, b)</span> such that:</p><ul class='itemize'><li id='1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.1'>(1.1)</a></div><p >With <span class='texttt'><span class='math'><span class='mathalpha'>N</span></span> = b - a</span>, for all <span class='math'><span class='mathalpha'>i</span></span>, <span class='math'>0 &lt; <span class='mathalpha'>i</span> &lt; <span class='mathalpha'>N</span></span>,
<span class='texttt'>comp(a[<img src='math/5438507513414005738.png' class='mathinlineimg' alt='$\left \lfloor{\frac{i - 1}{2}}\right \rfloor$'/>], a[<span class='math'><span class='mathalpha'>i</span></span>])</span>
is <span class='texttt'>false</span>.
</p></li><li id='1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.2'>(1.2)</a></div><p ><span class='texttt'>*a</span>
may be removed by
<span class='texttt'>pop_heap()</span>,
or a new element added by
<span class='texttt'>push_heap()</span>,
in
<span class='math'><span class='mathcal'>O</span>(<span class="mathrm">log</span>(<span class='mathalpha'>N</span>))</span>
time.
</p></li></ul></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><p >These properties make heaps useful as priority queues.</p></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><p ><span class='texttt'>make_heap()</span>
converts a range into a heap and
<span class='texttt'>sort_heap()</span>
turns a heap into a sorted sequence.</p></div><div id='push.heap'><h4 ><a class='secnum' href='#push.heap' style='min-width:118pt'>25.7.6.1</a> <span class='texttt'>push_heap</span> <a class='abbr_ref' href='push.heap'>[push.heap]</a></h4><p ><span class='indexparent'><a class='index' id='push_heap'></a></span><code class='itemdecl'>
template&lt;class RandomAccessIterator&gt;
  void push_heap(RandomAccessIterator first, RandomAccessIterator last);

template&lt;class RandomAccessIterator, class Compare&gt;
  void push_heap(RandomAccessIterator first, RandomAccessIterator last,
                 Compare comp);
</code></p><div class='itemdescr'></div><div class='para' id='push.heap-1'><div class='marginalizedparent'><a class='marginalized' href='#push.heap-1'>1</a></div><div class='itemdescr'><p ><i>Requires:</i>
The range
<span class='texttt'>[first, last - 1)</span>
shall be a valid heap.
The type of <span class='texttt'>*first</span> shall satisfy
the <span class='texttt'>MoveConstructible</span> requirements
(Table <a href='utility.arg.requirements#tab:moveconstructible'>[tab:moveconstructible]</a>) and the
<span class='texttt'>MoveAssignable</span> requirements
(Table <a href='utility.arg.requirements#tab:moveassignable'>[tab:moveassignable]</a>).</p></div></div><div class='para' id='push.heap-2'><div class='marginalizedparent'><a class='marginalized' href='#push.heap-2'>2</a></div><div class='itemdescr'><p ><i>Effects:</i>
Places the value in the location
<span class='texttt'>last - 1</span>
into the resulting heap
<span class='texttt'>[first, last)</span>.</p></div></div><div class='para' id='push.heap-3'><div class='marginalizedparent'><a class='marginalized' href='#push.heap-3'>3</a></div><div class='itemdescr'><p ><i>Complexity:</i>
At most
<span class='math'><span class="mathrm">log</span>(<span class='texttt'>last - first</span>)</span>
comparisons.
</p></div></div></div><div id='pop.heap'><h4 ><a class='secnum' href='#pop.heap' style='min-width:118pt'>25.7.6.2</a> <span class='texttt'>pop_heap</span> <a class='abbr_ref' href='pop.heap'>[pop.heap]</a></h4><p ><span class='indexparent'><a class='index' id='pop_heap'></a></span><code class='itemdecl'>
template&lt;class RandomAccessIterator&gt;
  void pop_heap(RandomAccessIterator first, RandomAccessIterator last);

template&lt;class RandomAccessIterator, class Compare&gt;
  void pop_heap(RandomAccessIterator first, RandomAccessIterator last,
                Compare comp);
</code></p><div class='itemdescr'></div><div class='para' id='pop.heap-1'><div class='marginalizedparent'><a class='marginalized' href='#pop.heap-1'>1</a></div><div class='itemdescr'><p ><i>Requires:</i>
The range
<span class='texttt'>[first, last)</span>
shall be a valid non-empty heap.
<span class='texttt'>RandomAccessIterator</span> shall satisfy the requirements of
<span class='texttt'>ValueSwappable</span> (<a href='swappable.requirements'>[swappable.requirements]</a>). The type
of <span class='texttt'>*first</span> shall satisfy the requirements of
<span class='texttt'>MoveConstructible</span> (Table <a href='utility.arg.requirements#tab:moveconstructible'>[tab:moveconstructible]</a>) and of
<span class='texttt'>MoveAssignable</span> (Table <a href='utility.arg.requirements#tab:moveassignable'>[tab:moveassignable]</a>).</p></div></div><div class='para' id='pop.heap-2'><div class='marginalizedparent'><a class='marginalized' href='#pop.heap-2'>2</a></div><div class='itemdescr'><p ><i>Effects:</i>
Swaps the value in the location <span class='texttt'>first</span>
with the value in the location
<span class='texttt'>last - 1</span>
and makes
<span class='texttt'>[first, last - 1)</span>
into a heap.</p></div></div><div class='para' id='pop.heap-3'><div class='marginalizedparent'><a class='marginalized' href='#pop.heap-3'>3</a></div><div class='itemdescr'><p ><i>Complexity:</i>
At most
<span class='math'>2 <span class="mathrm">log</span>(<span class='texttt'>last - first</span>)</span>
comparisons.
</p></div></div></div><div id='make.heap'><h4 ><a class='secnum' href='#make.heap' style='min-width:118pt'>25.7.6.3</a> <span class='texttt'>make_heap</span> <a class='abbr_ref' href='make.heap'>[make.heap]</a></h4><p ><span class='indexparent'><a class='index' id='make_heap'></a></span><code class='itemdecl'>
template&lt;class RandomAccessIterator&gt;
  void make_heap(RandomAccessIterator first, RandomAccessIterator last);

template&lt;class RandomAccessIterator, class Compare&gt;
  void make_heap(RandomAccessIterator first, RandomAccessIterator last,
                 Compare comp);
</code></p><div class='itemdescr'></div><div class='para' id='make.heap-1'><div class='marginalizedparent'><a class='marginalized' href='#make.heap-1'>1</a></div><div class='itemdescr'><p ><i>Requires:</i> The type of <span class='texttt'>*first</span> shall satisfy
the <span class='texttt'>MoveConstructible</span> requirements
(Table <a href='utility.arg.requirements#tab:moveconstructible'>[tab:moveconstructible]</a>) and the
<span class='texttt'>MoveAssignable</span> requirements
(Table <a href='utility.arg.requirements#tab:moveassignable'>[tab:moveassignable]</a>).</p></div></div><div class='para' id='make.heap-2'><div class='marginalizedparent'><a class='marginalized' href='#make.heap-2'>2</a></div><div class='itemdescr'><p ><i>Effects:</i>
Constructs a heap out of the range
<span class='texttt'>[first, last)</span>.</p></div></div><div class='para' id='make.heap-3'><div class='marginalizedparent'><a class='marginalized' href='#make.heap-3'>3</a></div><div class='itemdescr'><p ><i>Complexity:</i>
At most
<span class='math'>3(<span class='texttt'>last - first</span>)</span>
comparisons.
</p></div></div></div><div id='sort.heap'><h4 ><a class='secnum' href='#sort.heap' style='min-width:118pt'>25.7.6.4</a> <span class='texttt'>sort_heap</span> <a class='abbr_ref' href='sort.heap'>[sort.heap]</a></h4><p ><span class='indexparent'><a class='index' id='sort_heap'></a></span><code class='itemdecl'>
template&lt;class RandomAccessIterator&gt;
  void sort_heap(RandomAccessIterator first, RandomAccessIterator last);

template&lt;class RandomAccessIterator, class Compare&gt;
  void sort_heap(RandomAccessIterator first, RandomAccessIterator last,
                 Compare comp);
</code></p><div class='itemdescr'></div><div class='para' id='sort.heap-1'><div class='marginalizedparent'><a class='marginalized' href='#sort.heap-1'>1</a></div><div class='itemdescr'><p ><i>Requires:</i> The range <span class='texttt'>[first, last)</span> shall be a valid heap.
<span class='texttt'>RandomAccessIterator</span> shall satisfy the requirements of
<span class='texttt'>ValueSwappable</span> (<a href='swappable.requirements'>[swappable.requirements]</a>). The type
of <span class='texttt'>*first</span> shall satisfy the requirements of
<span class='texttt'>MoveConstructible</span> (Table <a href='utility.arg.requirements#tab:moveconstructible'>[tab:moveconstructible]</a>) and of
<span class='texttt'>MoveAssignable</span> (Table <a href='utility.arg.requirements#tab:moveassignable'>[tab:moveassignable]</a>).</p></div></div><div class='para' id='sort.heap-2'><div class='marginalizedparent'><a class='marginalized' href='#sort.heap-2'>2</a></div><div class='itemdescr'><p ><i>Effects:</i>
Sorts elements in the heap
<span class='texttt'>[first, last)</span>.</p></div></div><div class='para' id='sort.heap-3'><div class='marginalizedparent'><a class='marginalized' href='#sort.heap-3'>3</a></div><div class='itemdescr'><p ><i>Complexity:</i>
At most <span class='math'><span class='mathalpha'>N</span> <span class="mathrm">log</span>(<span class='mathalpha'>N</span>)</span>
comparisons, where
<span class='math'><span class='mathalpha'>N</span> = <span class='texttt'>last - first</span></span>.
</p></div></div></div><div id='is.heap'><h4 ><a class='secnum' href='#is.heap' style='min-width:118pt'>25.7.6.5</a> <span class='texttt'>is_heap</span> <a class='abbr_ref' href='is.heap'>[is.heap]</a></h4><p ><span class='indexparent'><a class='index' id='is_heap'></a></span><code class='itemdecl'>
template&lt;class RandomAccessIterator&gt;
  bool is_heap(RandomAccessIterator first, RandomAccessIterator last);
</code></p><div class='itemdescr'></div><div class='para' id='is.heap-1'><div class='marginalizedparent'><a class='marginalized' href='#is.heap-1'>1</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>is_heap_until(first, last) == last</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='is_heap'></a></span><code class='itemdecl'>
template&lt;class ExecutionPolicy, class RandomAccessIterator&gt;
  bool is_heap(ExecutionPolicy&amp;&amp; exec,
               RandomAccessIterator first, RandomAccessIterator last);
</code></p><div class='itemdescr'></div><div class='para' id='is.heap-2'><div class='marginalizedparent'><a class='marginalized' href='#is.heap-2'>2</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>is_heap_until(std::forward&lt;ExecutionPolicy&gt;(exec), first, last) == last</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='is_heap'></a></span><code class='itemdecl'>
template&lt;class RandomAccessIterator, class Compare&gt;
  bool is_heap(RandomAccessIterator first, RandomAccessIterator last, Compare comp);
</code></p><div class='itemdescr'></div><div class='para' id='is.heap-3'><div class='marginalizedparent'><a class='marginalized' href='#is.heap-3'>3</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>is_heap_until(first, last, comp) == last</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='is_heap'></a></span><code class='itemdecl'>
template&lt;class ExecutionPolicy, class RandomAccessIterator, class Compare&gt;
  bool is_heap(ExecutionPolicy&amp;&amp; exec,
               RandomAccessIterator first, RandomAccessIterator last, Compare comp);
</code></p><div class='itemdescr'></div><div class='para' id='is.heap-4'><div class='marginalizedparent'><a class='marginalized' href='#is.heap-4'>4</a></div><div class='itemdescr'><p ><i>Returns:</i>
</p><pre class='codeblock'>
is_heap_until(std::forward&lt;ExecutionPolicy&gt;(exec), first, last, comp) == last
</pre></div></div><p ><span class='indexparent'><a class='index' id='is_heap_until'></a></span><code class='itemdecl'>
template&lt;class RandomAccessIterator&gt;
  RandomAccessIterator is_heap_until(RandomAccessIterator first, RandomAccessIterator last);
template&lt;class ExecutionPolicy, class RandomAccessIterator&gt;
  RandomAccessIterator is_heap_until(ExecutionPolicy&amp;&amp; exec,
                                     RandomAccessIterator first, RandomAccessIterator last);

template&lt;class RandomAccessIterator, class Compare&gt;
  RandomAccessIterator is_heap_until(RandomAccessIterator first, RandomAccessIterator last,
                                     Compare comp);
template&lt;class ExecutionPolicy, class RandomAccessIterator, class Compare&gt;
  RandomAccessIterator is_heap_until(ExecutionPolicy&amp;&amp; exec,
                                     RandomAccessIterator first, RandomAccessIterator last,
                                     Compare comp);
</code></p><div class='itemdescr'></div><div class='para' id='is.heap-5'><div class='marginalizedparent'><a class='marginalized' href='#is.heap-5'>5</a></div><div class='itemdescr'><p ><i>Returns:</i> If <span class='texttt'>(last - first) &lt; 2</span>, returns
<span class='texttt'>last</span>. Otherwise, returns
the last iterator <span class='texttt'>i</span> in <span class='texttt'>[first, last]</span> for which the
range <span class='texttt'>[first, i)</span> is a heap.</p></div></div><div class='para' id='is.heap-6'><div class='marginalizedparent'><a class='marginalized' href='#is.heap-6'>6</a></div><div class='itemdescr'><p ><i>Complexity:</i> Linear.
</p></div></div></div></div></div></body></html>