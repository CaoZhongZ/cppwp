<!DOCTYPE html><html lang='en'><head><title>[dcl.init.string]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>8</a> Declarators <a class='abbr_ref' href='./#dcl.decl'>[dcl.decl]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>8.6</a> Initializers <a class='abbr_ref' href='dcl.init#string'>[dcl.init]</a></h2><div id='dcl.init.string'><h3 ><a class='secnum' style='min-width:103pt'>8.6.2</a> Character arrays <a class='abbr_ref'>[dcl.init.string]</a></h3><p ><span class='indexparent'><a class='index' id='initialization,character_array'></a></span></p><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/declarators.tex#L3354'>#</a></div><p >An array of narrow character type (<a href='basic.fundamental'>[basic.fundamental]</a>),
<span class='texttt'>char16_t</span> array,
<span class='texttt'>char32_t</span> array,
or <span class='texttt'>wchar_t</span> array
can be initialized by a
narrow string literal, <span class='texttt'>char16_t</span> string literal, <span class='texttt'>char32_t</span> string
literal, or wide string literal,
respectively, or by an appropriately-typed string literal enclosed in
braces (<a href='lex.string'>[lex.string]</a>).
<span class='indexparent'><a class='index' id='initialization,character_array'></a></span>Successive
characters of the
value of the string literal
initialize the elements of the array.
[ <i>Example:</i></p><pre class='codeblock'>
char msg[] = "Syntax error on line %s\n";</pre><p >shows a character array whose members are initialized
with a
<i ><a href='lex.string#nt:string-literal'>string-literal</a></i>.
Note that because
<span class='texttt'>'\n'</span>
is a single character and
because a trailing
<span class='texttt'>'\0'</span>
is appended,
<span class='texttt'>sizeof(msg)</span>
is
<span class='texttt'>25</span>.
<i> — end example</i> ]</p></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/declarators.tex#L3389'>#</a></div><p >There shall not be more initializers than there are array elements.
[ <i>Example:</i></p><pre class='codeblock'>
char cv[4] = "asdf";            <span class='comment'>// error
</span></pre><p >is ill-formed since there is no space for the implied trailing
<span class='texttt'>'\0'</span>.
<i> — end example</i> ]</p></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e5ca011e3f449e4ae1ac4777e587a4534be46224/source/declarators.tex#L3401'>#</a></div><p >If there are fewer initializers than there are array elements, each element not
explicitly initialized shall be zero-initialized (<a href='dcl.init'>[dcl.init]</a>).</p></div></div></div></body></html>