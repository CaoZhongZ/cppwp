<!DOCTYPE html><html lang='en'><head><title>[dcl.decl]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><div id='dcl.decl'><h1 ><a class='secnum' style='min-width:73pt'>8</a> Declarators <a class='abbr_ref' href='./#dcl.decl'>[dcl.decl]</a></h1><p ><span class='indexparent'><a class='index' id='declarator'></a></span></p><p ><span class='indexparent'><a class='index' id='initialization,class_object'></a></span><span class='indexparent'><a class='index' id='*'></a></span>
<span class='indexparent'><a class='index' id='&'></a></span><span class='indexparent'><a class='index' id='::*'></a></span><span class='indexparent'><a class='index' id='[]'></a></span><span class='indexparent'><a class='index' id='()'></a></span>
</p><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L14'>#</a></div><p >A declarator declares a single variable, function, or type, within a declaration.
The
<i ><a href='dcl.decl#nt:init-declarator-list'>init-declarator-list</a></i>
appearing in a declaration
is a comma-separated sequence of declarators,
each of which can have an initializer.</p><pre class='bnf'><a class='nontermdef' id='nt:init-declarator-list'>init-declarator-list:</a>
&#9;<i ><a href='dcl.decl#nt:init-declarator'>init-declarator</a></i>
&#9;<i ><a href='dcl.decl#nt:init-declarator-list'>init-declarator-list</a></i> <span class='terminal'>,</span> <i ><a href='dcl.decl#nt:init-declarator'>init-declarator</a></i>
</pre><pre class='bnf'><a class='nontermdef' id='nt:init-declarator'>init-declarator:</a>
&#9;<i ><a href='dcl.decl#nt:declarator'>declarator</a></i> <i ><a href='dcl.init#nt:initializer'>initializer</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L33'>#</a></div><p >The three components of a
<i ><a href='dcl.dcl#nt:simple-declaration'>simple-declaration</a></i>
are the
<a href='dcl.attr'>attributes</a>, the
specifiers
(<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>;
<a href='dcl.spec'>[dcl.spec]</a>) and the declarators
(<i ><a href='dcl.decl#nt:init-declarator-list'>init-declarator-list</a></i>).
The specifiers indicate the type, storage class or other properties of
the entities being declared.
The declarators specify the names of these entities
and (optionally) modify the type of the specifiers with operators such as
<span class='texttt'>*</span>
(pointer
to)
and
<span class='texttt'>()</span>
(function returning).
Initial values can also be specified in a declarator;
initializers are discussed in <a href='dcl.init'>[dcl.init]</a> and <a href='class.init'>[class.init]</a>.</p></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L55'>#</a></div><p >Each
<i ><a href='dcl.decl#nt:init-declarator'>init-declarator</a></i>
in a declaration is analyzed separately as if it was in a declaration by itself.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
A declaration with several declarators is usually equivalent to the corresponding
sequence of declarations each with a single declarator. That is
</p><pre class='codeblock'>
T D1, D2, ... Dn;</pre><p >is usually equivalent to
</p><pre class='codeblock'>
T D1; T D2; ... T Dn;</pre><p >where <span class='texttt'>T</span> is a <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>
and each <span class='texttt'>Di</span> is an <i ><a href='dcl.decl#nt:init-declarator'>init-declarator</a></i>.
One exception is when a name introduced by one of the
<i ><a href='dcl.decl#nt:declarator'>declarator</a></i>s hides a type name used by the
<span class='grammarterm'>decl-specifiers</span>, so that when the same
<span class='grammarterm'>decl-specifiers</span> are used in a subsequent declaration,
they do not have the same meaning, as in
</p><pre class='codeblock'>
struct S { ... };
S S, T;                 <span class='comment'>// declare two instances of <span class='tcode_in_codeblock'>struct S</span>
</span></pre><p >which is not equivalent to
</p><pre class='codeblock'>
struct S { ... };
S S;
S T;                    <span class='comment'>// error
</span></pre><p >Another exception is when <span class='texttt'>T</span> is <span class='texttt'>auto</span> (<a href='dcl.spec.auto'>[dcl.spec.auto]</a>),
for example:
</p><pre class='codeblock'>
auto i = 1, j = 2.0;    <span class='comment'>// error: deduced types for <span class='tcode_in_codeblock'>i</span> and <span class='tcode_in_codeblock'>j</span> do not match
</span></pre><p >as opposed to
</p><pre class='codeblock'>
auto i = 1;             <span class='comment'>// OK: <span class='tcode_in_codeblock'>i</span> deduced to have type <span class='tcode_in_codeblock'>int</span>
</span>auto j = 2.0;           <span class='comment'>// OK: <span class='tcode_in_codeblock'>j</span> deduced to have type <span class='tcode_in_codeblock'>double</span>
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L98'>#</a></div><p >Declarators have the syntax</p><pre class='bnf'><a class='nontermdef' id='nt:declarator'>declarator:</a>
&#9;<i ><a href='dcl.decl#nt:ptr-declarator'>ptr-declarator</a></i>
&#9;<i ><a href='dcl.decl#nt:noptr-declarator'>noptr-declarator</a></i> <i ><a href='dcl.decl#nt:parameters-and-qualifiers'>parameters-and-qualifiers</a></i> <i ><a href='dcl.decl#nt:trailing-return-type'>trailing-return-type</a></i>
</pre><pre class='bnf'><a class='nontermdef' id='nt:ptr-declarator'>ptr-declarator:</a>
&#9;<i ><a href='dcl.decl#nt:noptr-declarator'>noptr-declarator</a></i>
&#9;<i ><a href='dcl.decl#nt:ptr-operator'>ptr-operator</a></i> <i ><a href='dcl.decl#nt:ptr-declarator'>ptr-declarator</a></i>
</pre><pre class='bnf'><a class='nontermdef' id='nt:noptr-declarator'>noptr-declarator:</a>
&#9;<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='dcl.decl#nt:noptr-declarator'>noptr-declarator</a></i> <i ><a href='dcl.decl#nt:parameters-and-qualifiers'>parameters-and-qualifiers</a></i>
&#9;<i ><a href='dcl.decl#nt:noptr-declarator'>noptr-declarator</a></i> <span class='terminal'>[</span> <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>]</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<span class='terminal'>(</span> <i ><a href='dcl.decl#nt:ptr-declarator'>ptr-declarator</a></i> <span class='terminal'>)</span>
</pre><pre class='bnf'><a class='nontermdef' id='nt:parameters-and-qualifiers'>parameters-and-qualifiers:</a>
&#9;<span class='terminal'>(</span> <i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> <span class='terminal'>)</span> <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
<i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' id='nt:trailing-return-type'>trailing-return-type:</a>
&#9;<span class='terminal'>-&gt;</span> <i ><a href='dcl.name#nt:type-id'>type-id</a></i>
</pre><pre class='bnf'><a class='nontermdef' id='nt:ptr-operator'>ptr-operator:</a>
&#9;<span class='terminal'>*</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<span class='terminal'>&amp;</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<span class='terminal'>&amp;&amp;</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> <span class='terminal'>*</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' id='nt:cv-qualifier-seq'>cv-qualifier-seq:</a>
&#9;<i ><a href='dcl.decl#nt:cv-qualifier'>cv-qualifier</a></i> <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' id='nt:cv-qualifier'>cv-qualifier:</a>
&#9;<span class='terminal'>const</span>
&#9;<span class='terminal'>volatile</span>
</pre><pre class='bnf'><a class='nontermdef' id='nt:ref-qualifier'>ref-qualifier:</a>
&#9;<span class='terminal'>&amp;</span>
&#9;<span class='terminal'>&amp;&amp;</span>
</pre><pre class='bnf'><a class='nontermdef' id='nt:declarator-id'>declarator-id:</a>
&#9;<span class='terminal'>...</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i>
</pre></div><div id='dcl.name'><h2 ><a class='secnum' href='#dcl.name' style='min-width:88pt'>8.1</a> Type names <a class='abbr_ref' href='dcl.name'>[dcl.name]</a></h2><div class='para' id='dcl.name-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.name-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L164'>#</a></div><p ><span class='indexparent'><a class='index' id='type_name'></a></span>To specify type conversions explicitly,
<span class='indexparent'><a class='index' id='operator,cast'></a></span>and as an argument of
<span class='texttt'>sizeof</span>,
<span class='texttt'>alignof</span>,
<span class='texttt'>new</span>,
or
<span class='texttt'>typeid</span>,
the name of a type shall be specified.
This can be done with a
<i ><a href='dcl.name#nt:type-id'>type-id</a></i>,
which is syntactically a declaration for a variable or function
of that type that omits the name of the entity.</p><pre class='bnf'><a class='nontermdef' id='nt:type-id'>type-id:</a>
&#9;<i ><a href='dcl.type#nt:type-specifier-seq'>type-specifier-seq</a></i> <i ><a href='dcl.name#nt:abstract-declarator'>abstract-declarator</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' id='nt:defining-type-id'>defining-type-id:</a>
&#9;<i ><a href='dcl.type#nt:defining-type-specifier-seq'>defining-type-specifier-seq</a></i> <i ><a href='dcl.name#nt:abstract-declarator'>abstract-declarator</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' id='nt:abstract-declarator'>abstract-declarator:</a>
&#9;<i ><a href='dcl.name#nt:ptr-abstract-declarator'>ptr-abstract-declarator</a></i>
&#9;<i ><a href='dcl.name#nt:noptr-abstract-declarator'>noptr-abstract-declarator</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.decl#nt:parameters-and-qualifiers'>parameters-and-qualifiers</a></i> <i ><a href='dcl.decl#nt:trailing-return-type'>trailing-return-type</a></i>
&#9;<i ><a href='dcl.name#nt:abstract-pack-declarator'>abstract-pack-declarator</a></i>
</pre><pre class='bnf'><a class='nontermdef' id='nt:ptr-abstract-declarator'>ptr-abstract-declarator:</a>
&#9;<i ><a href='dcl.name#nt:noptr-abstract-declarator'>noptr-abstract-declarator</a></i>
&#9;<i ><a href='dcl.decl#nt:ptr-operator'>ptr-operator</a></i> <i ><a href='dcl.name#nt:ptr-abstract-declarator'>ptr-abstract-declarator</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' id='nt:noptr-abstract-declarator'>noptr-abstract-declarator:</a>
&#9;<i ><a href='dcl.name#nt:noptr-abstract-declarator'>noptr-abstract-declarator</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.decl#nt:parameters-and-qualifiers'>parameters-and-qualifiers</a></i>
&#9;<i ><a href='dcl.name#nt:noptr-abstract-declarator'>noptr-abstract-declarator</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>[</span> <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>]</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<span class='terminal'>(</span> <i ><a href='dcl.name#nt:ptr-abstract-declarator'>ptr-abstract-declarator</a></i> <span class='terminal'>)</span>
</pre><pre class='bnf'><a class='nontermdef' id='nt:abstract-pack-declarator'>abstract-pack-declarator:</a>
&#9;<i ><a href='dcl.name#nt:noptr-abstract-pack-declarator'>noptr-abstract-pack-declarator</a></i>
&#9;<i ><a href='dcl.decl#nt:ptr-operator'>ptr-operator</a></i> <i ><a href='dcl.name#nt:abstract-pack-declarator'>abstract-pack-declarator</a></i>
</pre><pre class='bnf'><a class='nontermdef' id='nt:noptr-abstract-pack-declarator'>noptr-abstract-pack-declarator:</a>
&#9;<i ><a href='dcl.name#nt:noptr-abstract-pack-declarator'>noptr-abstract-pack-declarator</a></i> <i ><a href='dcl.decl#nt:parameters-and-qualifiers'>parameters-and-qualifiers</a></i>
&#9;<i ><a href='dcl.name#nt:noptr-abstract-pack-declarator'>noptr-abstract-pack-declarator</a></i> <span class='terminal'>[</span> <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>]</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<span class='terminal'>...</span>
</pre><p >It is possible to identify uniquely the location in the
<i ><a href='dcl.name#nt:abstract-declarator'>abstract-declarator</a></i>
where the identifier would appear if the construction were a declarator
in a declaration.
The named type is then the same as the type of the
hypothetical identifier.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
<span class='indexparent'><a class='index' id='example,type_name'></a></span><span class='indexparent'><a class='index' id='example,declarator'></a></span></p><pre class='codeblock'>
int                 <span class='comment'>// <span class='tcode_in_codeblock'>int i</span>
</span>int *               <span class='comment'>// <span class='tcode_in_codeblock'>int *pi</span>
</span>int *[3]            <span class='comment'>// <span class='tcode_in_codeblock'>int *p[3]</span>
</span>int (*)[3]          <span class='comment'>// <span class='tcode_in_codeblock'>int (*p3i)[3]</span>
</span>int *()             <span class='comment'>// <span class='tcode_in_codeblock'>int *f()</span>
</span>int (*)(double)     <span class='comment'>// <span class='tcode_in_codeblock'>int (*pf)(double)</span>
</span></pre><p >name respectively the types
“<span class='texttt'>int</span>”,
“pointer to
<span class='texttt'>int</span>”,
“array of 3 pointers to
<span class='texttt'>int</span>”,
“pointer to array of 3
<span class='texttt'>int</span>”,
“function of (no parameters) returning pointer to
<span class='texttt'>int</span>”,
and “pointer to a function of
(<span class='texttt'>double</span>)
returning
<span class='texttt'>int</span>”.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.name-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.name-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L256'>#</a></div><p >A type can also be named (often more easily) by using a
<a href='dcl.typedef'><span class='textit'>typedef</span></a>.</p></div></div><div id='dcl.ambig.res'><h2 ><a class='secnum' href='#dcl.ambig.res' style='min-width:88pt'>8.2</a> Ambiguity resolution <a class='abbr_ref' href='dcl.ambig.res'>[dcl.ambig.res]</a></h2><p ><span class='indexparent'><a class='index' id='ambiguity,declaration_versus_cast'></a></span><span class='indexparent'><a class='index' id='declaration,parentheses_in'></a></span></p><div class='para' id='dcl.ambig.res-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ambig.res-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L264'>#</a></div><p >The ambiguity arising from the similarity between a function-style cast and
a declaration mentioned in <a href='stmt.ambig'>[stmt.ambig]</a> can also occur in the context of a declaration.
In that context, the choice is between a function declaration with
a redundant set of parentheses around a parameter name and an object declaration
with a function-style cast as the initializer.
Just as for the ambiguities mentioned in <a href='stmt.ambig'>[stmt.ambig]</a>,
the resolution is to consider any construct that could possibly
be a declaration a declaration.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
A declaration can be explicitly disambiguated by adding parentheses
around the argument.
The ambiguity can be avoided by use of copy-initialization or
list-initialization syntax, or by use of a non-function-style cast.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
struct S {
  S(int);
};

void foo(double a) {
  S w(int(a));                  <span class='comment'>// function declaration
</span>  S x(int());                   <span class='comment'>// function declaration
</span>  S y((int(a)));                <span class='comment'>// object declaration
</span>  S y((int)a);                  <span class='comment'>// object declaration
</span>  S z = int(a);                 <span class='comment'>// object declaration
</span>}</pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.ambig.res-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ambig.res-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L295'>#</a></div><p >An ambiguity can arise from the similarity between a function-style
cast and a
<i ><a href='dcl.name#nt:type-id'>type-id</a></i>.
The resolution is that any construct that could possibly be a
<i ><a href='dcl.name#nt:type-id'>type-id</a></i>
in its syntactic context shall be considered a
<i ><a href='dcl.name#nt:type-id'>type-id</a></i>.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
template &lt;class T&gt; struct X {};
template &lt;int N&gt; struct Y {};
X&lt;int()&gt; a;                     <span class='comment'>// type-id
</span>X&lt;int(1)&gt; b;                    <span class='comment'>// expression (ill-formed)
</span>Y&lt;int()&gt; c;                     <span class='comment'>// type-id (ill-formed)
</span>Y&lt;int(1)&gt; d;                    <span class='comment'>// expression
</span>
void foo(signed char a) {
  sizeof(int());                <span class='comment'>// type-id (ill-formed)
</span>  sizeof(int(a));               <span class='comment'>// expression
</span>  sizeof(int(unsigned(a)));     <span class='comment'>// type-id (ill-formed)
</span>
  (int())+1;                    <span class='comment'>// type-id (ill-formed)
</span>  (int(a))+1;                   <span class='comment'>// expression
</span>  (int(unsigned(a)))+1;         <span class='comment'>// type-id (ill-formed)
</span>}</pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.ambig.res-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ambig.res-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L325'>#</a></div><p >Another ambiguity arises in a
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>
of a function declaration, or in a
<i ><a href='dcl.name#nt:type-id'>type-id</a></i>
that is the operand of a
<span class='texttt'>sizeof</span>
or
<span class='texttt'>typeid</span>
operator, when a
<i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i>
is nested in parentheses.
In this case, the choice is between the declaration of a parameter of type
pointer to function and the declaration of a parameter with redundant
parentheses around the
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>.
The resolution is to consider the
<i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i>
as a
<i ><a href='dcl.type.simple#nt:simple-type-specifier'>simple-type-specifier</a></i>
rather than a
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
class C { };
void f(int(C)) { }              <span class='comment'>// <span class='tcode_in_codeblock'>void f(int(*fp)(C c)) { }</span>
</span>                                <span class='comment'>// not: <span class='tcode_in_codeblock'>void f(int C) { }</span>
</span>
int g(C);

void foo() {
  f(1);                         <span class='comment'>// error: cannot convert <span class='tcode_in_codeblock'>1</span> to function pointer
</span>  f(g);                         <span class='comment'>// OK
</span>}</pre><p >For another example,</p><pre class='codeblock'>
class C { };
void h(int *(C[10]));           <span class='comment'>// <span class='tcode_in_codeblock'>void h(int *(*_&shy;fp)(C _&shy;parm[10]));</span>
</span>                                <span class='comment'>// not: <span class='tcode_in_codeblock'>void h(int *C[10]);</span>
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div id='dcl.meaning'><h2 ><a class='secnum' href='#dcl.meaning' style='min-width:88pt'>8.3</a> Meaning of declarators <a class='abbr_ref' href='dcl.meaning'>[dcl.meaning]</a></h2><p ><span class='indexparent'><a class='index' id='declarator,meaning_of'></a></span></p><div class='para' id='dcl.meaning-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.meaning-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L374'>#</a></div><p ><span class='indexparent'><a class='index' id='declaration,type'></a></span>A declarator contains exactly one
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>;
it names the identifier that is declared.
An
<i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i>
occurring in
a
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>
shall be a simple
<i ><a href='lex.name#nt:identifier'>identifier</a></i>
except for the declaration of some special functions (<a href='class.ctor'>[class.ctor]</a>,
<a href='class.conv'>[class.conv]</a>, <a href='class.dtor'>[class.dtor]</a>, <a href='over.oper'>[over.oper]</a>) and
for the declaration of template specializations
or partial specializations (<a href='temp.spec'>[temp.spec]</a>).
When the
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>
is qualified, the declaration shall refer to a previously declared member
of the class or namespace to which the qualifier refers (or,
in the case of a namespace,
of an element of the inline namespace
set of that namespace (<a href='namespace.def'>[namespace.def]</a>)) or to a specialization thereof; the member
shall not merely have been introduced by a
<i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>
in the scope of the class or namespace nominated by the
<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i>
of the
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>.
The <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> of a qualified <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> shall not
begin with a <i ><a href='dcl.type.simple#nt:decltype-specifier'>decltype-specifier</a></i>.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
If the qualifier is the global
<span class='texttt'>&#x200b;::&#x200b;</span>
scope resolution operator, the
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>
refers to a name declared in the global namespace scope.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]
The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> following a <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> appertains to the entity that is declared.</p></div><div class='para' id='dcl.meaning-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.meaning-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L414'>#</a></div><p >A
<span class='texttt'>static</span>,
<span class='texttt'>thread_&shy;local</span>,
<span class='texttt'>extern</span>,
<span class='texttt'>mutable</span>,
<span class='texttt'>friend</span>,
<span class='texttt'>inline</span>,
<span class='texttt'>virtual</span>,
<span class='texttt'>constexpr</span>,
<span class='texttt'>explicit</span>,
or
<span class='texttt'>typedef</span>
specifier applies directly to each <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>
in an <i ><a href='dcl.decl#nt:init-declarator-list'>init-declarator-list</a></i> or <i ><a href='class.mem#nt:member-declarator-list'>member-declarator-list</a></i>;
the type specified for each <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> depends on
both the <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> and its <i ><a href='dcl.decl#nt:declarator'>declarator</a></i>.</p></div><div class='para' id='dcl.meaning-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.meaning-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L432'>#</a></div><p >Thus, a declaration of a particular identifier has the form</p><pre class='codeblock'>
T D</pre><p >where
<span class='texttt'>T</span>
is of the form <span class='grammarterm'>attribute-specifier-seq<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span>
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>
and
<span class='texttt'>D</span>
is a declarator.
Following is a recursive procedure for determining
the type specified for the contained
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>
by such a declaration.</p></div><div class='para' id='dcl.meaning-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.meaning-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L451'>#</a></div><p >First, the
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>
determines a type.
In a declaration</p><pre class='codeblock'>
T D</pre><p >the
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>
<span class='texttt'>T</span>
determines the type
<span class='texttt'>T</span>.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
In the declaration</p><pre class='codeblock'>
int unsigned i;</pre><p >the type specifiers
<span class='texttt'>int</span>
<span class='texttt'>unsigned</span>
determine the type
“<span class='texttt'>unsigned int</span>”
(<a href='dcl.type.simple'>[dcl.type.simple]</a>).
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.meaning-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.meaning-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L481'>#</a></div><p >In a declaration
<span class='grammarterm'>attribute-specifier-seq<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span>
<span class='texttt'>T</span>
<span class='texttt'>D</span>
where
<span class='texttt'>D</span>
is an unadorned identifier the type of this identifier is
“<span class='texttt'>T</span>”.</p></div><div class='para' id='dcl.meaning-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.meaning-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L491'>#</a></div><p >In a declaration
<span class='texttt'>T</span>
<span class='texttt'>D</span>
where
<span class='texttt'>D</span>
has the form</p><pre class='ncsimplebnf'><span class='terminal'>(</span> <span class='terminal'>D1</span> <span class='terminal'>)</span>
</pre><p >the type of the contained
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>
is the same as that of the contained
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>
in the declaration
</p><pre class='codeblock'>
T D1</pre><p ><span class='indexparent'><a class='index' id='declaration,parentheses_in'></a></span>Parentheses do not alter the type of the embedded
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>,
but they can alter the binding of complex declarators.</p></div><div id='dcl.ptr'><h3 ><a class='secnum' href='#dcl.ptr' style='min-width:103pt'>8.3.1</a> Pointers <a class='abbr_ref' href='dcl.ptr'>[dcl.ptr]</a></h3><p ><span class='indexparent'><a class='index' id='declarator,pointer'></a></span>
</p><div class='para' id='dcl.ptr-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ptr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L519'>#</a></div><p >In a declaration
<span class='texttt'>T</span>
<span class='texttt'>D</span>
where
<span class='texttt'>D</span>
has the form</p><pre class='ncsimplebnf'><span class='terminal'>*</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>D1</span>
</pre><p >and the type of the identifier in the declaration
<span class='texttt'>T</span>
<span class='texttt'>D1</span>
is “<span class='textit'>derived-declarator-type-list</span>
<span class='texttt'>T</span>”,
then the type of the identifier of
<span class='texttt'>D</span>
is “<span class='textit'>derived-declarator-type-list</span> <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i> pointer to
<span class='texttt'>T</span>”.
<span class='indexparent'><a class='index' id='declaration,pointer'></a></span><span class='indexparent'><a class='index' id='declaration,constant_pointer'></a></span>The
<i ><a href='dcl.decl#nt:cv-qualifier'>cv-qualifier</a></i>s
apply to the pointer and not to the object pointed to.
Similarly, the optional <i><a href="dcl.attr.grammar"#nt:attribute-specifier-seq">attribute-specifier-seq</a></i> appertains to the pointer and not to the object pointed to.</p></div><div class='para' id='dcl.ptr-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ptr-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L547'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
The declarations
<span class='indexparent'><a class='index' id='example,const'></a></span><span class='indexparent'><a class='index' id='example,constant_pointer'></a></span></p><pre class='codeblock'>
const int ci = 10, *pc = &amp;ci, *const cpc = pc, **ppc;
int i, *p, *const cp = &amp;i;</pre><p >declare
<span class='texttt'>ci</span>,
a constant integer;
<span class='texttt'>pc</span>,
a pointer to a constant integer;
<span class='texttt'>cpc</span>,
a constant pointer to a constant integer;
<span class='texttt'>ppc</span>,
a pointer to a pointer to a constant integer;
<span class='texttt'>i</span>,
an integer;
<span class='texttt'>p</span>,
a pointer to integer; and
<span class='texttt'>cp</span>,
a constant pointer to integer.
The value of
<span class='texttt'>ci</span>,
<span class='texttt'>cpc</span>,
and
<span class='texttt'>cp</span>
cannot be changed after initialization.
The value of
<span class='texttt'>pc</span>
can be changed, and so can the object pointed to by
<span class='texttt'>cp</span>.
Examples of
some correct operations are</p><pre class='codeblock'>
i = ci;
*cp = ci;
pc++;
pc = cpc;
pc = p;
ppc = &amp;pc;</pre><p >Examples of ill-formed operations are</p><pre class='codeblock'>
ci = 1;             <span class='comment'>// error
</span>ci++;               <span class='comment'>// error
</span>*pc = 2;            <span class='comment'>// error
</span>cp = &amp;ci;           <span class='comment'>// error
</span>cpc++;              <span class='comment'>// error
</span>p = pc;             <span class='comment'>// error
</span>ppc = &amp;p;           <span class='comment'>// error
</span></pre><p >Each is unacceptable because it would either change the value of an object declared
<span class='texttt'>const</span>
or allow it to be changed through a cv-unqualified pointer later, for example:</p><pre class='codeblock'>
*ppc = &amp;ci;         <span class='comment'>// OK, but would make <span class='tcode_in_codeblock'>p</span> point to <span class='tcode_in_codeblock'>ci</span> because of previous error
</span>*p = 5;             <span class='comment'>// clobber <span class='tcode_in_codeblock'>ci</span>
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.ptr-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ptr-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L616'>#</a></div><p >See also <a href='expr.ass'>[expr.ass]</a> and <a href='dcl.init'>[dcl.init]</a>.</p></div><div class='para' id='dcl.ptr-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ptr-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L619'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
Forming a pointer to reference type is ill-formed; see <a href='dcl.ref'>[dcl.ref]</a>.
Forming a function pointer type is ill-formed if the function type has
<i ><a href='dcl.decl#nt:cv-qualifier'>cv-qualifier</a></i>s or a <i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i>;
see <a href='dcl.fct'>[dcl.fct]</a>.
Since the address of a <a href='class.bit'>bit-field</a> cannot be taken,
a pointer can never point to a bit-field.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div id='dcl.ref'><h3 ><a class='secnum' href='#dcl.ref' style='min-width:103pt'>8.3.2</a> References <a class='abbr_ref' href='dcl.ref'>[dcl.ref]</a></h3><p ><span class='indexparent'><a class='index' id='declarator,reference'></a></span></p><div class='para' id='dcl.ref-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ref-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L632'>#</a></div><p >In a declaration
<span class='texttt'>T</span>
<span class='texttt'>D</span>
where
<span class='texttt'>D</span>
has either of the forms</p><pre class='ncsimplebnf'><span class='terminal'>&amp;</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>D1</span>
<span class='terminal'>&amp;&amp;</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>D1</span>
</pre><p >and the type of the identifier in the declaration
<span class='texttt'>T</span>
<span class='texttt'>D1</span>
is “<span class='textit'>derived-declarator-type-list</span>
<span class='texttt'>T</span>”,
then the type of the identifier of
<span class='texttt'>D</span>
is “<span class='textit'>derived-declarator-type-list</span> reference to
<span class='texttt'>T</span>”.
The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> appertains to the reference type.
Cv-qualified references are ill-formed except when the cv-qualifiers
are introduced through the use of a
<i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i> (<a href='dcl.typedef'>[dcl.typedef]</a>, <a href='temp.param'>[temp.param]</a>) or
<i><a href="dcl.type.simple"#nt:decltype-specifier">decltype-specifier</a></i>,
in which case the cv-qualifiers are ignored.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
typedef int&amp; A;
const A aref = 3;   <span class='comment'>// ill-formed; lvalue reference to non-<span class='tcode_in_codeblock'>const</span> initialized with rvalue
</span></pre><p >The type of
<span class='texttt'>aref</span>
is “lvalue reference to <span class='texttt'>int</span>”,
not “lvalue reference to <span class='texttt'>const int</span>”.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
A reference can be thought of as a name of an object.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]
<span class='indexparent'><a class='index' id='void&'></a></span>A declarator that specifies the type
“reference to <span class='textit'>cv</span> <span class='texttt'>void</span>”
is ill-formed.</p></div><div class='para' id='dcl.ref-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ref-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L681'>#</a></div><p ><span class='indexparent'><a class='index' id='lvalue_reference'></a></span><span class='indexparent'><a class='index' id='rvalue_reference'></a></span>A reference type that is declared using <span class='texttt'>&amp;</span> is called an
<a class='hidden_link' href='#def:lvalue_reference' id='def:lvalue_reference'><i>lvalue reference</i></a>, and a reference type that
is declared using <span class='texttt'>&amp;&amp;</span> is called an
<a class='hidden_link' href='#def:rvalue_reference' id='def:rvalue_reference'><i>rvalue reference</i></a>. Lvalue references and
rvalue references are distinct types. Except where explicitly noted, they are
semantically equivalent and commonly referred to as references.</p></div><div class='para' id='dcl.ref-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ref-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L691'>#</a></div><p ><span class='indexparent'><a class='index' id='declaration,reference'></a></span><span class='indexparent'><a class='index' id='parameter,reference'></a></span>[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
void f(double&amp; a) { a += 3.14; }
<span class='comment'>// ...
</span>double d = 0;
f(d);</pre><p >declares
<span class='texttt'>a</span>
to be a reference parameter of
<span class='texttt'>f</span>
so the call
<span class='texttt'>f(d)</span>
will add
<span class='texttt'>3.14</span>
to
<span class='texttt'>d</span>.</p><pre class='codeblock'>
int v[20];
<span class='comment'>// ...
</span>int&amp; g(int i) { return v[i]; }
<span class='comment'>// ...
</span>g(3) = 7;</pre><p >declares the function
<span class='texttt'>g()</span>
to return a reference to an integer so
<span class='texttt'>g(3)=7</span>
will assign
<span class='texttt'>7</span>
to the fourth element of the array
<span class='texttt'>v</span>.
For another example,</p><pre class='codeblock'>
struct link {
  link* next;
};

link* first;

void h(link*&amp; p) {  <span class='comment'>// <span class='tcode_in_codeblock'>p</span> is a reference to pointer
</span>  p-&gt;next = first;
  first = p;
  p = 0;
}

void k() {
   link* q = new link;
   h(q);
}</pre><p >declares
<span class='texttt'>p</span>
to be a reference to a pointer to
<span class='texttt'>link</span>
so
<span class='texttt'>h(q)</span>
will leave
<span class='texttt'>q</span>
with the value zero.
See also <a href='dcl.init.ref'>[dcl.init.ref]</a>.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.ref-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ref-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L763'>#</a></div><p >It is unspecified whether or not
a reference requires storage (<a href='basic.stc'>[basic.stc]</a>).</p></div><div class='para' id='dcl.ref-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ref-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L767'>#</a></div><p ><span class='indexparent'><a class='index' id='restriction,reference'></a></span>There shall be no references to references,
no arrays of references, and no pointers to references.
<span class='indexparent'><a class='index' id='initialization,reference'></a></span>The declaration of a reference shall contain an
<i ><a href='dcl.init#nt:initializer'>initializer</a></i>
(<a href='dcl.init.ref'>[dcl.init.ref]</a>)
except when the declaration contains an explicit
<span class='texttt'>extern</span>
specifier (<a href='dcl.stc'>[dcl.stc]</a>),
is a <a href='class.mem'>class member</a> declaration within a class definition,
or is the declaration of a parameter or a return type (<a href='dcl.fct'>[dcl.fct]</a>); see <a href='basic.def'>[basic.def]</a>.
A reference shall be initialized to refer to a valid object or function.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
<span class='indexparent'><a class='index' id='reference,null'></a></span>In particular, a null reference cannot exist in a well-defined program,
because the only way to create such a reference would be to bind it to
the “object” obtained by indirection through a null pointer,
which causes undefined behavior.
As described in <a href='class.bit'>[class.bit]</a>, a reference cannot be bound directly
to a bit-field.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.ref-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ref-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L791'>#</a></div><p ><span class='indexparent'><a class='index' id='reference_collapsing'></a></span>If a <i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i> (<a href='dcl.typedef'>[dcl.typedef]</a>, <a href='temp.param'>[temp.param]</a>)
or a <i><a href="dcl.type.simple"#nt:decltype-specifier">decltype-specifier</a></i> denotes a type <span class='texttt'>TR</span> that
is a reference to a type <span class='texttt'>T</span>, an attempt to create the type “lvalue reference to <span class='textit'>cv</span> <span class='texttt'>TR</span>”
creates the type “lvalue reference to <span class='texttt'>T</span>”, while an attempt to create
the type “rvalue reference to <span class='textit'>cv</span> <span class='texttt'>TR</span>” creates the type <span class='texttt'>TR</span>.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> This rule is known as reference collapsing. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
int i;
typedef int&amp; LRI;
typedef int&amp;&amp; RRI;

LRI&amp; r1 = i;                    <span class='comment'>// <span class='tcode_in_codeblock'>r1</span> has the type <span class='tcode_in_codeblock'>int&amp;</span>
</span>const LRI&amp; r2 = i;              <span class='comment'>// <span class='tcode_in_codeblock'>r2</span> has the type <span class='tcode_in_codeblock'>int&amp;</span>
</span>const LRI&amp;&amp; r3 = i;             <span class='comment'>// <span class='tcode_in_codeblock'>r3</span> has the type <span class='tcode_in_codeblock'>int&amp;</span>
</span>
RRI&amp; r4 = i;                    <span class='comment'>// <span class='tcode_in_codeblock'>r4</span> has the type <span class='tcode_in_codeblock'>int&amp;</span>
</span>RRI&amp;&amp; r5 = 5;                   <span class='comment'>// <span class='tcode_in_codeblock'>r5</span> has the type <span class='tcode_in_codeblock'>int&amp;&amp;</span>
</span>
decltype(r2)&amp; r6 = i;           <span class='comment'>// <span class='tcode_in_codeblock'>r6</span> has the type <span class='tcode_in_codeblock'>int&amp;</span>
</span>decltype(r2)&amp;&amp; r7 = i;          <span class='comment'>// <span class='tcode_in_codeblock'>r7</span> has the type <span class='tcode_in_codeblock'>int&amp;</span>
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.ref-7'><div class='marginalizedparent'><a class='marginalized' href='#dcl.ref-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L818'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> Forming a reference to function type is ill-formed if the function
type has <i ><a href='dcl.decl#nt:cv-qualifier'>cv-qualifier</a></i>s or a <i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i>;
see <a href='dcl.fct'>[dcl.fct]</a>.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div id='dcl.mptr'><h3 ><a class='secnum' href='#dcl.mptr' style='min-width:103pt'>8.3.3</a> Pointers to members <a class='abbr_ref' href='dcl.mptr'>[dcl.mptr]</a></h3><p ><span class='indexparent'><a class='index' id='declarator,pointer_to_member'></a></span></p><div class='para' id='dcl.mptr-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.mptr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L827'>#</a></div><p >In a declaration
<span class='texttt'>T</span>
<span class='texttt'>D</span>
where
<span class='texttt'>D</span>
has the form</p><pre class='ncsimplebnf'><i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> <span class='terminal'>*</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>D1</span>
</pre><p >and the
<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i>
denotes a class,
and the type of the identifier in the declaration
<span class='texttt'>T</span>
<span class='texttt'>D1</span>
is “<span class='textit'>derived-declarator-type-list</span>
<span class='texttt'>T</span>”,
then the type of the identifier of
<span class='texttt'>D</span>
is “<span class='textit'>derived-declarator-type-list</span> <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i> pointer to member of class
<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> of type
<span class='texttt'>T</span>”.
The optional <i><a href="dcl.attr.grammar"#nt:attribute-specifier-seq">attribute-specifier-seq</a></i> appertains to the 
pointer-to-member.</p></div><div class='para' id='dcl.mptr-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.mptr-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L855'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span><span class='indexparent'><a class='index' id='example,pointer_to_member'></a></span></p><pre class='codeblock'>
struct X {
  void f(int);
  int a;
};
struct Y;

int X::* pmi = &amp;X::a;
void (X::* pmf)(int) = &amp;X::f;
double X::* pmd;
char Y::* pmc;</pre><p >declares
<span class='texttt'>pmi</span>,
<span class='texttt'>pmf</span>,
<span class='texttt'>pmd</span>
and
<span class='texttt'>pmc</span>
to be a pointer to a member of
<span class='texttt'>X</span>
of type
<span class='texttt'>int</span>,
a pointer to a member of
<span class='texttt'>X</span>
of type
<span class='texttt'>void(int)</span>,
a pointer to a member of
<span class='texttt'>X</span>
of type
<span class='texttt'>double</span>
and a pointer to a member of
<span class='texttt'>Y</span>
of type
<span class='texttt'>char</span>
respectively.
The declaration of
<span class='texttt'>pmd</span>
is well-formed even though
<span class='texttt'>X</span>
has no members of type
<span class='texttt'>double</span>.
Similarly, the declaration of
<span class='texttt'>pmc</span>
is well-formed even though
<span class='texttt'>Y</span>
is an incomplete type.
<span class='texttt'>pmi</span>
and
<span class='texttt'>pmf</span>
can be used like this:
</p><pre class='codeblock'>
X obj;
<span class='comment'>// ...
</span>obj.*pmi = 7;       <span class='comment'>// assign <span class='tcode_in_codeblock'>7</span> to an integer member of <span class='tcode_in_codeblock'>obj</span>
</span>(obj.*pmf)(7);      <span class='comment'>// call a function member of <span class='tcode_in_codeblock'>obj</span> with the argument <span class='tcode_in_codeblock'>7</span>
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.mptr-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.mptr-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L918'>#</a></div><p >A pointer to member shall not point to a <a href='class.static'>static member</a>
of a class,
a member with reference type,
or
“<span class='textit'>cv</span> <span class='texttt'>void</span>”.</p><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
See also <a href='expr.unary'>[expr.unary]</a> and <a href='expr.mptr.oper'>[expr.mptr.oper]</a>.
The type “pointer to member” is distinct from the type “pointer”,
that is, a pointer to member is declared only by the pointer to member
declarator syntax, and never by the pointer declarator syntax.
There is no “reference-to-member” type in C++.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div id='dcl.array'><h3 ><a class='secnum' href='#dcl.array' style='min-width:103pt'>8.3.4</a> Arrays <a class='abbr_ref' href='dcl.array'>[dcl.array]</a></h3><p ><span class='indexparent'><a class='index' id='declarator,array'></a></span></p><div class='para' id='dcl.array-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.array-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L936'>#</a></div><p >In a declaration
<span class='texttt'>T</span>
<span class='texttt'>D</span>
where
<span class='texttt'>D</span>
has the form</p><pre class='ncsimplebnf'><span class='terminal'>D1 [</span> <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>]</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><p >and the type of the identifier in the declaration
<span class='texttt'>T</span>
<span class='texttt'>D1</span>
is
“<span class='textit'>derived-declarator-type-list</span>
<span class='texttt'>T</span>”,
then the type of the identifier of
<span class='texttt'>D</span>
is an array type; if the type of the identifier of <span class='texttt'>D</span>
contains the <span class='texttt'>auto</span> <i ><a href='dcl.type#nt:type-specifier'>type-specifier</a></i>,
the program is ill-formed.
<span class='texttt'>T</span>
is called the array
<a class='hidden_link' href='#def:element_type' id='def:element_type'><i>element type</i></a>;
this type shall not be a reference type, <span class='textit'>cv</span> <span class='texttt'>void</span>,
a function type or an abstract class type.
<span class='indexparent'><a class='index' id='declaration,array'></a></span>If the
<i><a href="expr.const"#nt:constant-expression">constant-expression</a></i> is present, it shall be a converted constant
expression of type <span class='texttt'>std&#x200b;&#x200b;::&#x200b;&#x200b;size_&shy;t</span> and
its value shall be greater than zero.
The constant expression specifies the
<span class='indexparent'><a class='index' id='array,bound'></a></span><span class='indexparent'><a class='index' id='bound,_of_array'></a></span><a class='hidden_link' href='#def:bound' id='def:bound'><i>bound</i></a>
of (number of elements in) the array.
If the value of the constant expression is
<span class='texttt'>N</span>,
the array has
<span class='texttt'>N</span>
elements numbered
<span class='texttt'>0</span>
to
<span class='texttt'>N-1</span>,
and the type of the identifier of
<span class='texttt'>D</span>
is “<span class='textit'>derived-declarator-type-list</span> array of
<span class='texttt'>N</span>
<span class='texttt'>T</span>”.
An object of array type contains a contiguously allocated non-empty set of
<span class='texttt'>N</span>
subobjects of type
<span class='texttt'>T</span>.
Except as noted below, if
the constant expression is omitted, the type of the identifier of
<span class='texttt'>D</span>
is “<span class='textit'>derived-declarator-type-list</span> array of unknown bound of
<span class='texttt'>T</span>”,
an incomplete object type.
The type “<span class='textit'>derived-declarator-type-list</span> array of
<span class='texttt'>N</span>
<span class='texttt'>T</span>”
is a different type from the type
“<span class='textit'>derived-declarator-type-list</span> array of unknown bound of
<span class='texttt'>T</span>”,
see <a href='basic.types'>[basic.types]</a>.
Any type of the form
“<i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i> array of
<span class='texttt'>N</span>
<span class='texttt'>T</span>”
is adjusted to
“array of
<span class='texttt'>N</span>
<i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i>
<span class='texttt'>T</span>”,
and similarly for
“array of unknown bound of
<span class='texttt'>T</span>”.
The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> appertains to the array.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
typedef int A[5], AA[2][3];
typedef const A CA;             <span class='comment'>// type is “array of 5 <span class='tcode_in_codeblock'>const int</span>”
</span>typedef const AA CAA;           <span class='comment'>// type is “array of 2 array of 3 <span class='tcode_in_codeblock'>const int</span>”
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
An
“array of
<span class='texttt'>N</span>
<i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i>
<span class='texttt'>T</span>”
has cv-qualified type; see <a href='basic.type.qualifier'>[basic.type.qualifier]</a>.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.array-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.array-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1035'>#</a></div><p >An array can be constructed from one of the fundamental types
(except
<span class='texttt'>void</span>),
from a pointer,
from a pointer to member, from a class,
from an enumeration type,
or from another array.</p></div><div class='para' id='dcl.array-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.array-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1044'>#</a></div><p >When several “array of” specifications are adjacent, a multidimensional
array type is created;
only the first of
the constant expressions that specify the bounds
of the arrays may be omitted.
In addition to declarations in which an incomplete object type is allowed,
an array bound may be omitted in some cases in the declaration of a function
parameter (<a href='dcl.fct'>[dcl.fct]</a>).
An array bound may also be omitted
when the declarator is followed by an
<i><a href="dcl.init"#nt:initializer">initializer</a></i> or
when a declarator for a static data member is followed by a
<i ><a href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializer</a></i> (<a href='class.mem'>[class.mem]</a>).
In both cases the bound is calculated from the number
<span class='indexparent'><a class='index' id='array_size,default'></a></span>of initial elements (say,
<span class='texttt'>N</span>)
supplied
(<a href='dcl.init.aggr'>[dcl.init.aggr]</a>), and the type of the identifier of
<span class='texttt'>D</span>
is “array of
<span class='texttt'>N</span>
<span class='texttt'>T</span>”.
Furthermore, if there is a preceding declaration of the entity in the same
scope in which the bound was specified, an omitted array bound is taken to
be the same as in that earlier declaration, and similarly for the definition
of a static data member of a class.</p></div><div class='para' id='dcl.array-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.array-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1073'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
<span class='indexparent'><a class='index' id='example,subscripting'></a></span><span class='indexparent'><a class='index' id='example,array'></a></span></p><pre class='codeblock'>
float fa[17], *afp[17];</pre><p >declares an array of
<span class='texttt'>float</span>
numbers and an array of
pointers to
<span class='texttt'>float</span>
numbers.
<span class='indexparent'><a class='index' id='declarator,multidimensional_array'></a></span>For another example,</p><pre class='codeblock'>
static int x3d[3][5][7];</pre><p >declares a static three-dimensional array of integers,
with rank <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">3</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">×</span></span><span class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">5</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">×</span></span><span class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">7</span></span></span></span></span>.
In complete detail,
<span class='texttt'>x3d</span>
is an array of three items;
each item is an array of five arrays;
each of the latter arrays is an array of seven
integers.
Any of the expressions
<span class='texttt'>x3d</span>,
<span class='texttt'>x3d[i]</span>,
<span class='texttt'>x3d[i][j]</span>,
<span class='texttt'>x3d[i][j][k]</span>
can reasonably appear in an expression. Finally,
</p><pre class='codeblock'>
extern int x[10];
struct S {
  static int y[10];
};

int x[];                <span class='comment'>// OK: bound is 10
</span>int S::y[];             <span class='comment'>// OK: bound is 10
</span>
void f() {
  extern int x[];
  int i = sizeof(x);    <span class='comment'>// error: incomplete object type
</span>}</pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.array-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.array-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1124'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
Conversions affecting expressions of array type are described in <a href='conv.array'>[conv.array]</a>.
Objects of array types cannot be modified, see <a href='basic.lval'>[basic.lval]</a>.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.array-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.array-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1130'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
Except where it has been declared for a class (<a href='over.sub'>[over.sub]</a>),
the subscript operator
<span class='texttt'>[]</span>
is interpreted
in such a way that
<span class='texttt'>E1[E2]</span>
is identical to
<span class='texttt'>*((E1)+(E2))</span> (<a href='expr.sub'>[expr.sub]</a>).
Because of the conversion rules
that apply to
<span class='texttt'>+</span>,
if
<span class='texttt'>E1</span>
is an array and
<span class='texttt'>E2</span>
an integer,
then
<span class='texttt'>E1[E2]</span>
refers to the
<span class='texttt'>E2</span>-th
member of
<span class='texttt'>E1</span>.
Therefore,
despite its asymmetric
appearance, subscripting is a commutative operation.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.array-7'><div class='marginalizedparent'><a class='marginalized' href='#dcl.array-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1159'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
A consistent rule is followed for
<span class='indexparent'><a class='index' id='array,multidimensional'></a></span>multidimensional arrays.
If
<span class='texttt'>E</span>
is an
<span class='textit'>n</span>-dimensional
array
of rank
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">×</span></span><span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">×</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋯</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">×</span></span><span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span>,
then
<span class='texttt'>E</span>
appearing in an expression
that is subject to the <a href='conv.array'>array-to-pointer conversion</a>
is converted to
a pointer to an <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>-dimensional
array with rank
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">×</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋯</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">×</span></span><span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span>.
If the
<span class='texttt'>*</span>
operator, either explicitly
or implicitly as a result of subscripting,
is applied to this pointer,
the result is the pointed-to <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>-dimensional array,
which itself is immediately converted into a pointer.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
Consider</p><pre class='codeblock'>
int x[3][5];</pre><p >Here
<span class='texttt'>x</span>
is a <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">3</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">×</span></span><span class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">5</span></span></span></span></span> array of integers.
When
<span class='texttt'>x</span>
appears in an expression, it is converted
to a pointer to (the first of three) five-membered arrays of integers.
In the expression
<span class='texttt'>x[i]</span>
which is equivalent to
<span class='texttt'>*(x+i)</span>,
<span class='texttt'>x</span>
is first converted to a pointer as described;
then
<span class='texttt'>x+i</span>
is converted to the type of
<span class='texttt'>x</span>,
which involves multiplying
<span class='texttt'>i</span>
by the
length of the object to which the pointer points,
namely five integer objects.
The results are added and indirection applied to
yield an array (of five integers), which in turn is converted to
a pointer to the first of the integers.
If there is another subscript the same argument applies
again; this time the result is an integer.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.array-8'><div class='marginalizedparent'><a class='marginalized' href='#dcl.array-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1223'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
It follows from all this that arrays in C++ are stored
row-wise (last subscript varies fastest)
<span class='indexparent'><a class='index' id='array,storage_of'></a></span>and that the first subscript in the declaration helps determine
the amount of storage consumed by an array
but plays no other part in subscript calculations.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div id='dcl.fct'><h3 ><a class='secnum' href='#dcl.fct' style='min-width:103pt'>8.3.5</a> Functions <a class='abbr_ref' href='dcl.fct'>[dcl.fct]</a></h3><p ><span class='indexparent'><a class='index' id='declarator,function'></a></span></p><div class='para' id='dcl.fct-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1236'>#</a></div><p ><span class='indexparent'><a class='index' id='type,function'></a></span>In a declaration
<span class='texttt'>T</span>
<span class='texttt'>D</span>
where
<span class='texttt'>D</span>
has the form</p><pre class='ncsimplebnf'><span class='terminal'>D1 (</span> <i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> <span class='terminal'>)</span> <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
<i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><p >and the type of the contained
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>
in the declaration
<span class='texttt'>T</span>
<span class='texttt'>D1</span>
is
“<span class='textit'>derived-declarator-type-list</span>
<span class='texttt'>T</span>”,
the type of the
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>
in
<span class='texttt'>D</span>
is
“<span class='textit'>derived-declarator-type-list</span>
<span class='texttt'>noexcept</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
function of
(<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> )
<span class='grammarterm'>cv-qualifier-seq<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <span class='grammarterm'>ref-qualifier<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span>
returning <span class='texttt'>T</span>”,
where the optional <span class='texttt'>noexcept</span> is present
if and only if
the <a href='except.spec'>exception specification</a> is non-throwing.
The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i>
appertains to the function type.</p></div><div class='para' id='dcl.fct-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1275'>#</a></div><p >In a declaration
<span class='texttt'>T</span>
<span class='texttt'>D</span>
where
<span class='texttt'>D</span>
has the form</p><pre class='ncsimplebnf'><span class='terminal'>D1 (</span> <i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> <span class='terminal'>)</span> <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
<i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.decl#nt:trailing-return-type'>trailing-return-type</a></i>
</pre><p >and the type of the contained
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>
in the declaration
<span class='texttt'>T</span>
<span class='texttt'>D1</span>
is
“<span class='textit'>derived-declarator-type-list</span> <span class='texttt'>T</span>”,
<span class='texttt'>T</span> shall be the single <i ><a href='dcl.type#nt:type-specifier'>type-specifier</a></i> <span class='texttt'>auto</span>.
The type of the
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>
in
<span class='texttt'>D</span>
is
“<span class='textit'>derived-declarator-type-list</span>
<span class='texttt'>noexcept</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
function of
(<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>)
<i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
returning <span class='texttt'>U</span>”,
where <span class='texttt'>U</span> is the type specified by
the <i ><a href='dcl.decl#nt:trailing-return-type'>trailing-return-type</a></i>, and
where the optional <span class='texttt'>noexcept</span> is present if and only if
the exception specification is non-throwing.
The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i>
appertains to the function type.</p></div><div class='para' id='dcl.fct-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1314'>#</a></div><p ><span class='indexparent'><a class='index' id='type,function'></a></span>A type of either form is a <a class='hidden_link' href='#def:function_type' id='def:function_type'><i>function type</i></a>.<a class='footnotenum' href='#footnote-100'>100</a></p><p ><span class='indexparent'><a class='index' id='declaration,function'></a></span></p><pre class='bnf'><a class='nontermdef' id='nt:parameter-declaration-clause'>parameter-declaration-clause:</a>
&#9;<i ><a href='dcl.fct#nt:parameter-declaration-list'>parameter-declaration-list</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>...</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='dcl.fct#nt:parameter-declaration-list'>parameter-declaration-list</a></i> <span class='terminal'>, ...</span>
</pre><pre class='bnf'><a class='nontermdef' id='nt:parameter-declaration-list'>parameter-declaration-list:</a>
&#9;<i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i>
&#9;<i ><a href='dcl.fct#nt:parameter-declaration-list'>parameter-declaration-list</a></i> <span class='terminal'>,</span> <i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i>
</pre><pre class='bnf'><a class='nontermdef' id='nt:parameter-declaration'>parameter-declaration:</a>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> <i ><a href='dcl.decl#nt:declarator'>declarator</a></i>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> <i ><a href='dcl.decl#nt:declarator'>declarator</a></i> <span class='terminal'>=</span> <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> <i ><a href='dcl.name#nt:abstract-declarator'>abstract-declarator</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> <i ><a href='dcl.name#nt:abstract-declarator'>abstract-declarator</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>=</span> <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>
</pre><p >The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> in a <i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i>
appertains to the parameter.</p></div><div class='para' id='dcl.fct-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1342'>#</a></div><p ><span class='indexparent'><a class='index' id='declaration,parameter'></a></span>The
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>
determines the arguments that can be specified, and their processing, when the function is called.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
<span class='indexparent'><a class='index' id='conversion,argument'></a></span>The
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>
is used to convert the arguments specified on the function call;
see <a href='expr.call'>[expr.call]</a>.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]
<span class='indexparent'><a class='index' id='argument_list,empty'></a></span>If the
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>
is empty, the function takes no arguments.
A parameter list consisting of a single unnamed parameter of
non-dependent type <span class='texttt'>void</span> is equivalent to an empty parameter
list.
<span class='indexparent'><a class='index' id='parameter,void'></a></span>Except for this special case, a parameter shall not have type <a class='hidden_link' href='#def:cv' id='def:cv'><i>cv</i></a>
<span class='texttt'>void</span>.
If the
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>
<span class='indexparent'><a class='index' id='argument_type,unknown'></a></span><span class='indexparent'><a class='index' id='...'></a></span><span class='indexparent'><a class='index' id='declaration,ellipsis_in_function'></a></span><span class='indexparent'><a class='index' id='argument_list,variable'></a></span><span class='indexparent'><a class='index' id='parameter_list,variable'></a></span>terminates with an ellipsis or a
<a href='temp.variadic#def:function_parameter_pack'>function parameter pack</a>,
the number of arguments shall be equal
to or greater than the number of parameters that do not have a default
argument and are not function parameter packs.
Where syntactically correct and where “<span class='texttt'>...</span>” is not
part of an <i ><a href='dcl.name#nt:abstract-declarator'>abstract-declarator</a></i>,
“<span class='texttt'>, ...</span>”
is synonymous with
“<span class='texttt'>...</span>”.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
<span class='indexparent'><a class='index' id='example,ellipsis'></a></span><span class='indexparent'><a class='index' id='example,variable_parameter_list'></a></span>The declaration</p><pre class='codeblock'>
int printf(const char*, ...);</pre><p >declares a function that can be called with varying numbers and types of arguments.</p><pre class='codeblock'>
printf("hello world");
printf("a=%d b=%d", a, b);</pre><p >However, the first argument must be of a type
that can be converted to a
<span class='texttt'>const</span>
<span class='texttt'>char*</span>
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
The standard header
<span class='texttt'>&lt;cstdarg&gt;</span>
<span class='indexparent'><a class='index' id='cstdarg'></a></span>contains a mechanism for accessing arguments passed using the ellipsis
(see <a href='expr.call'>[expr.call]</a> and <a href='support.runtime'>[support.runtime]</a>).
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.fct-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1410'>#</a></div><p ><span class='indexparent'><a class='index' id='overloading'></a></span><span class='indexparent'><a class='index' id='type,function'></a></span>A single name can be used for several different functions in a single scope;
this is function <a href='over'>overloading</a>.
All declarations for a function shall agree exactly
in both the return type and the parameter-type-list.
The type of a function is determined using the following rules.
The type of each parameter (including function parameter packs) is
determined from its own
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>
and
<i ><a href='dcl.decl#nt:declarator'>declarator</a></i>.
After determining the type of each parameter, any parameter
<span class='indexparent'><a class='index' id='array,parameter_of_type'></a></span>of type “array of <span class='texttt'>T</span>” or
<span class='indexparent'><a class='index' id='function,parameter_of_type'></a></span>of function type <span class='texttt'>T</span>
is adjusted to be “pointer to <span class='texttt'>T</span>”.
After producing the list of parameter types,
any top-level
<i ><a href='dcl.decl#nt:cv-qualifier'>cv-qualifier</a></i>s
modifying a parameter type are deleted
when forming the function type.
The resulting list of transformed parameter types
and the presence or absence of the ellipsis or a function parameter pack
is the function's
<a class='hidden_link' href='#def:parameter-type-list' id='def:parameter-type-list'><i>parameter-type-list</i></a>.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> This transformation does not affect the types of the parameters.
For example, <span class='texttt'>int(*)(const int p, decltype(p)*)</span> and
<span class='texttt'>int(*)(int, const int*)</span> are identical types. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.fct-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1442'>#</a></div><p >A function type with a <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i> or a
<i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i> (including a type named by
<i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i> (<a href='dcl.typedef'>[dcl.typedef]</a>, <a href='temp.param'>[temp.param]</a>))
shall appear only as:
</p><ul class='itemize'><li id='dcl.fct-6.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.fct-6.1'>(6.1)</a></div><p >the function type for a non-static member function,</p></li><li id='dcl.fct-6.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.fct-6.2'>(6.2)</a></div><p >the function type to which a pointer to member refers,</p></li><li id='dcl.fct-6.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.fct-6.3'>(6.3)</a></div><p >the top-level function type of a function typedef declaration
or <i ><a href='dcl.dcl#nt:alias-declaration'>alias-declaration</a></i>,</p></li><li id='dcl.fct-6.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.fct-6.4'>(6.4)</a></div><p >the <i ><a href='dcl.name#nt:type-id'>type-id</a></i> in the default argument of a
<i><a href="temp.param"#nt:type-parameter">type-parameter</a></i>, or</p></li><li id='dcl.fct-6.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.fct-6.5'>(6.5)</a></div><p >the <i ><a href='dcl.name#nt:type-id'>type-id</a></i> of a <i ><a href='temp.names#nt:template-argument'>template-argument</a></i> for a
<i ><a href='temp.param#nt:type-parameter'>type-parameter</a></i> (<a href='temp.arg.type'>[temp.arg.type]</a>).
</p></li></ul><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
typedef int FIC(int) const;
FIC f;              <span class='comment'>// ill-formed: does not declare a member function
</span>struct S {
  FIC f;            <span class='comment'>// OK
</span>};
FIC S::*pm = &amp;S::f; <span class='comment'>// OK
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.fct-7'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1473'>#</a></div><p >The effect of a
<i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i>
in a function declarator is not the same as
adding cv-qualification on top of the function type.
In the latter case, the cv-qualifiers are ignored.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> A function type that has a <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i> is not a
cv-qualified type; there are no cv-qualified function types. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
typedef void F();
struct S {
  const F f;        <span class='comment'>// OK: equivalent to: <span class='tcode_in_codeblock'>void f();</span>
</span>};</pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.fct-8'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1491'>#</a></div><p >The return type, the parameter-type-list, the <i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i>,
the <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i>, and
the exception specification,
but not the <a href='dcl.fct.default'>default arguments</a>,
are part of the function type.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
Function types are checked during the assignments and initializations of
pointers to functions, references to functions, and pointers to member functions.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.fct-9'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1502'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
<span class='indexparent'><a class='index' id='example,function_declaration'></a></span>The declaration</p><pre class='codeblock'>
int fseek(FILE*, long, int);</pre><p >declares a function taking three arguments of the specified types,
and returning
<span class='texttt'>int</span>
(<a href='dcl.type'>[dcl.type]</a>).
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.fct-10'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1517'>#</a></div><p ><span class='indexparent'><a class='index' id='function_return_type'></a></span><span class='indexparent'><a class='index' id='return_type'></a></span>Functions shall not have a return type of type array or function,
although they may have a return type of type pointer or reference to such things.
There shall be no arrays of functions, although there can be arrays of pointers
to functions.</p></div><div class='para' id='dcl.fct-11'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1525'>#</a></div><p >Types shall not be defined in return or parameter types.
The type of a parameter or the return type for a function
definition shall not be an incomplete
(possibly cv-qualified) class type
in the context of the function definition
unless the function is
<a href='dcl.fct.def.delete'>deleted</a>.</p></div><div class='para' id='dcl.fct-12'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1534'>#</a></div><p ><span class='indexparent'><a class='index' id='typedef,function'></a></span>A typedef of function type may be used to declare a function but shall not be
used to <a href='dcl.fct.def'>define a function</a>.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
typedef void F();
F  fv;              <span class='comment'>// OK: equivalent to <span class='tcode_in_codeblock'>void fv();</span>
</span>F  fv { }           <span class='comment'>// ill-formed
</span>void fv() { }       <span class='comment'>// OK: definition of <span class='tcode_in_codeblock'>fv</span>
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.fct-13'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1548'>#</a></div><p >An identifier can optionally be provided as a parameter name;
if present in a <a href='dcl.fct.def'>function definition</a>, it names a parameter.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
In particular, parameter names are also optional in function definitions
and names used for a parameter in different declarations and the definition
of a function need not be the same.
If a parameter name is present in a function declaration that is not a definition,
it cannot be used outside of
its function declarator because that is the extent of its potential scope (<a href='basic.scope.proto'>[basic.scope.proto]</a>).
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.fct-14'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1560'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
The declaration</p><p ><span class='indexparent'><a class='index' id='example,declaration'></a></span></p><pre class='codeblock'>
int i,
    *pi,
    f(),
    *fpi(int),
    (*pif)(const char*, const char*),
    (*fpif(int))(int);</pre><p >declares an integer
<span class='texttt'>i</span>,
a pointer
<span class='texttt'>pi</span>
to an integer,
a function
<span class='texttt'>f</span>
taking no arguments and returning an integer,
a function
<span class='texttt'>fpi</span>
taking an integer argument and returning a pointer to an integer,
a pointer
<span class='texttt'>pif</span>
to a function which
takes two pointers to constant characters and returns an integer,
a function
<span class='texttt'>fpif</span>
taking an integer argument and returning a pointer to a function that takes an integer argument and returns an integer.
It is especially useful to compare
<span class='texttt'>fpi</span>
and
<span class='texttt'>pif</span>.
The binding of
<span class='texttt'>*fpi(int)</span>
is
<span class='texttt'>*(fpi(int))</span>,
so the declaration suggests,
and the same construction in an expression
requires, the calling of a function
<span class='texttt'>fpi</span>,
and then using indirection through the (pointer) result
to yield an integer.
In the declarator
<span class='texttt'>(*pif)(const char*, const char*)</span>,
the extra parentheses are necessary to indicate that indirection through
a pointer to a function yields a function, which is then called.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
Typedefs and <i ><a href='dcl.decl#nt:trailing-return-type'>trailing-return-type</a></i>s are sometimes convenient when the return type of a function is complex.
For example,
the function
<span class='texttt'>fpif</span>
above could have been declared</p><pre class='codeblock'>
typedef int  IFUNC(int);
IFUNC*  fpif(int);</pre><p >or</p><pre class='codeblock'>
auto fpif(int)-&gt;int(*)(int);</pre><p >A <i ><a href='dcl.decl#nt:trailing-return-type'>trailing-return-type</a></i> is most useful for a type that would be more complicated to specify before the <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>:</p><pre class='codeblock'>
template &lt;class T, class U&gt; auto add(T t, U u) -&gt; decltype(t + u);</pre><p >rather than</p><pre class='codeblock'>
template &lt;class T, class U&gt; decltype((*(T*)0) + (*(U*)0)) add(T t, U u);</pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.fct-15'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1642'>#</a></div><p >A <a class='hidden_link' href='#def:non-template_function' id='def:non-template_function'><i>non-template function</i></a> is a function that is not a function template
specialization. [<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> A function template is not a function. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.fct-16'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1646'>#</a></div><p >A <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> or <i ><a href='dcl.name#nt:abstract-declarator'>abstract-declarator</a></i>
containing an ellipsis shall only
be used in a <i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i>. Such a
<i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i> is a <a href='temp.variadic#def:parameter_pack'>parameter pack</a>.
When it is part of a
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>, the parameter pack is a
<a href='temp.variadic#def:function_parameter_pack'>function parameter pack</a>. [<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
Otherwise, the <i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i> is part of a
<i ><a href='temp#nt:template-parameter-list'>template-parameter-list</a></i> and the parameter pack is a
template parameter pack; see <a href='temp.param'>[temp.param]</a>. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]
A function parameter pack is a <a href='temp.variadic#def:pack_expansion'>pack expansion</a>.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
template&lt;typename... T&gt; void f(T (* ...t)(int, int));

int add(int, int);
float subtract(int, int);

void g() {
  f(add, subtract);
}</pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.fct-17'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1672'>#</a></div><p >There is a syntactic ambiguity when an ellipsis occurs at the end
of a <i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> without a preceding
comma. In this case, the ellipsis is parsed as part of the
<i ><a href='dcl.name#nt:abstract-declarator'>abstract-declarator</a></i> if the type of the parameter either names
a template parameter pack that has not been expanded or contains <span class='texttt'>auto</span>;
otherwise, it is
parsed as part of the <i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>.<a class='footnotenum' href='#footnote-101'>101</a></p></div><div class='footnote' id='footnote-100'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-100'>100)</a></div><p >As indicated by syntax, cv-qualifiers are a significant component in function return types.</p></div><div class='footnote' id='footnote-101'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-101'>101)</a></div><p >One can explicitly disambiguate the parse either by
introducing a comma (so the ellipsis will be parsed as part of the
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>) or by introducing a name for the
parameter (so the ellipsis will be parsed as part of the
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>).</p></div></div><div id='dcl.fct.default'><h3 ><a class='secnum' href='#dcl.fct.default' style='min-width:103pt'>8.3.6</a> Default arguments <a class='abbr_ref' href='dcl.fct.default'>[dcl.fct.default]</a></h3><p ><span class='indexparent'><a class='index' id='declaration,default_argument'></a></span></p><div class='para' id='dcl.fct.default-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.default-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1689'>#</a></div><p >If an <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i> is specified in a
<i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i> this
<i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>
is used as a default argument.
Default arguments will be used in calls where trailing arguments are missing.</p></div><div class='para' id='dcl.fct.default-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.default-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1696'>#</a></div><p ><span class='indexparent'><a class='index' id='argument,example_of_default'></a></span>[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
The declaration</p><pre class='codeblock'>
void point(int = 3, int = 4);</pre><p >declares a function that can be called with zero, one, or two arguments of type
<span class='texttt'>int</span>.
It can be called in any of these ways:</p><pre class='codeblock'>
point(1,2);  point(1);  point();</pre><p >The last two calls are equivalent to
<span class='texttt'>point(1,4)</span>
and
<span class='texttt'>point(3,4)</span>,
respectively.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.fct.default-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.default-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1720'>#</a></div><p >A default argument shall be specified only in the
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>
of a function declaration
or <i ><a href='expr.prim.lambda#nt:lambda-declarator'>lambda-declarator</a></i>
or in a
<i><a href="temp.param"#nt:template-parameter">template-parameter</a></i>;
in the latter case, the <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i> shall be an
<i ><a href='expr.ass#nt:assignment-expression'>assignment-expression</a></i>.
A default argument shall not be specified for a parameter pack.
If it is specified in a
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>,
it shall not occur within a
<i ><a href='dcl.decl#nt:declarator'>declarator</a></i>
or
<i ><a href='dcl.name#nt:abstract-declarator'>abstract-declarator</a></i>
of a
<i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i>.<a class='footnotenum' href='#footnote-102'>102</a></p></div><div class='para' id='dcl.fct.default-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.default-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1746'>#</a></div><p >For non-template functions, default arguments can be added in later
declarations of a
function in the same scope.
Declarations in different
scopes have completely distinct sets of default arguments.
That
is, declarations in inner scopes do not acquire default
arguments from declarations in outer scopes, and vice versa.
In
a given function declaration, each parameter subsequent to a
parameter with a default argument shall have a default argument
supplied in this or a previous declaration
or shall be a function parameter pack.
A default argument
shall not be redefined by a later declaration (not even to the
same value).
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
void g(int = 0, ...);           <span class='comment'>// OK, ellipsis is not a parameter so it can follow
</span>                                <span class='comment'>// a parameter with a default argument
</span>void f(int, int);
void f(int, int = 7);
void h() {
  f(3);                         <span class='comment'>// OK, calls <span class='tcode_in_codeblock'>f(3, 7)</span>
</span>  void f(int = 1, int);         <span class='comment'>// error: does not use default from surrounding scope
</span>}
void m() {
  void f(int, int);             <span class='comment'>// has no defaults
</span>  f(4);                         <span class='comment'>// error: wrong number of arguments
</span>  void f(int, int = 5);         <span class='comment'>// OK
</span>  f(4);                         <span class='comment'>// OK, calls <span class='tcode_in_codeblock'>f(4, 5);</span>
</span>  void f(int, int = 5);         <span class='comment'>// error: cannot redefine, even to same value
</span>}
void n() {
  f(6);                         <span class='comment'>// OK, calls <span class='tcode_in_codeblock'>f(6, 7)</span>
</span>}</pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]
For a given inline function defined in different translation units,
the accumulated sets of default arguments at the end of the
translation units shall be the same;
see <a href='basic.def.odr'>[basic.def.odr]</a>.
If a friend declaration specifies a default argument expression,
that declaration shall be a definition and shall be the only
declaration of the function or function template in the translation unit.</p></div><div class='para' id='dcl.fct.default-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.default-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1794'>#</a></div><p ><span class='indexparent'><a class='index' id='argument,type_checking_of_default'></a></span><span class='indexparent'><a class='index' id='argument,binding_of_default'></a></span><span class='indexparent'><a class='index' id='argument,evaluation_of_default'></a></span>The default argument has the
same semantic constraints as the initializer in a
declaration of a variable of the parameter type, using the
copy-initialization semantics (<a href='dcl.init'>[dcl.init]</a>).
The names in the
default argument are bound, and the semantic constraints are checked,
at the point where the default argument appears.
Name lookup and checking of semantic constraints for default
arguments in function templates and in member functions of
class templates are performed as described in <a href='temp.inst'>[temp.inst]</a>.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
In the following code,
<span class='indexparent'><a class='index' id='argument,example_of_default'></a></span><span class='texttt'>g</span>
will be called with the value
<span class='texttt'>f(2)</span>:</p><pre class='codeblock'>
int a = 1;
int f(int);
int g(int x = f(a));            <span class='comment'>// default argument: <span class='tcode_in_codeblock'>f(&#x200b;::&#x200b;a)</span>
</span>
void h() {
  a = 2;
  {
  int a = 3;
  g();                          <span class='comment'>// <span class='tcode_in_codeblock'>g(f(&#x200b;::&#x200b;a))</span>
</span>  }
}</pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
In member function declarations,
names in default arguments are looked up
as described in <a href='basic.lookup.unqual'>[basic.lookup.unqual]</a>.
Access checking applies to names in default arguments as
described in Clause <a href='class.access'>[class.access]</a>.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.fct.default-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.default-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1837'>#</a></div><p >Except for member functions of class templates, the
default arguments in a member function definition that appears
outside of the class definition
are added to the set of default arguments provided by the
member function declaration in the class definition;
the program is ill-formed if a default constructor (<a href='class.ctor'>[class.ctor]</a>),
copy or move constructor, or copy or move assignment operator (<a href='class.copy'>[class.copy]</a>)
is so declared.
Default arguments for a member function of a class template
shall be specified on the initial declaration of the member
function within the class template.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
class C {
  void f(int i = 3);
  void g(int i, int j = 99);
};

void C::f(int i = 3) {}         <span class='comment'>// error: default argument already specified in class scope
</span>void C::g(int i = 88, int j) {} <span class='comment'>// in this translation unit, <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;g</span> can be called with no argument
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.fct.default-7'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.default-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1861'>#</a></div><p >A local variable shall not appear as a potentially-evaluated expression
in a default argument.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
void f() {
  int i;
  extern void g(int x = i);         <span class='comment'>// error
</span>  extern void h(int x = sizeof(i)); <span class='comment'>// OK
</span>  <span class='comment'>// ...
</span>}</pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.fct.default-8'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.default-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1875'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
The keyword
<span class='texttt'>this</span>
may not appear in a default argument of a member function;
see <a href='expr.prim.this'>[expr.prim.this]</a>.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
class A {
  void f(A* p = this) { }           <span class='comment'>// error
</span>};</pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.fct.default-9'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.default-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1891'>#</a></div><p ><span class='indexparent'><a class='index' id='argument,evaluation_of_default'></a></span>A default argument is evaluated each time the function is called
with no argument for the corresponding parameter.
<span class='indexparent'><a class='index' id='argument,scope_of_default'></a></span>A parameter shall not appear as a potentially-evaluated expression
in a default argument.
<span class='indexparent'><a class='index' id='argument_and_name_hiding,default'></a></span>Parameters of a function declared before a default argument
are in scope and can hide namespace and class member names.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
int a;
int f(int a, int b = a);            <span class='comment'>// error: parameter <span class='tcode_in_codeblock'>a</span> used as default argument
</span>typedef int I;
int g(float I, int b = I(2));       <span class='comment'>// error: parameter <span class='tcode_in_codeblock'>I</span> found
</span>int h(int a, int b = sizeof(a));    <span class='comment'>// OK, unevaluated operand
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]
A non-static member shall not appear in a default argument unless it appears as
the <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> of a <a href='expr.ref'>class member access expression</a> or
unless it is used to form a pointer to member (<a href='expr.unary.op'>[expr.unary.op]</a>).
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
The declaration of
<span class='texttt'>X&#x200b;::&#x200b;mem1()</span>
in the following example is ill-formed because no object is supplied for the
non-static member
<span class='texttt'>X&#x200b;::&#x200b;a</span>
used as an initializer.
</p><pre class='codeblock'>
int b;
class X {
  int a;
  int mem1(int i = a);              <span class='comment'>// error: non-static member <span class='tcode_in_codeblock'>a</span> used as default argument
</span>  int mem2(int i = b);              <span class='comment'>// OK;  use <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;b</span>
</span>  static int b;
};</pre><p >The declaration of
<span class='texttt'>X&#x200b;::&#x200b;mem2()</span>
is meaningful, however, since no object is needed to access the static member
<span class='texttt'>X&#x200b;::&#x200b;b</span>.
Classes, objects, and members are described in Clause <a href='class'>[class]</a>.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]
A default argument is not part of the
type of a function.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
int f(int = 0);

void h() {
  int j = f(1);
  int k = f();                      <span class='comment'>// OK, means <span class='tcode_in_codeblock'>f(0)</span>
</span>}

int (*p1)(int) = &amp;f;
int (*p2)() = &amp;f;                   <span class='comment'>// error: type mismatch
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]
When a declaration of a function is introduced by way of a
<i><a href="namespace.udecl"#nt:using-declaration">using-declaration</a></i>, any default argument information associated
with the declaration is made known as well.
If the function is redeclared
thereafter in the namespace with additional default arguments,
the additional arguments are also known at any point following
the redeclaration where the
<i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>
is in scope.</p></div><div class='para' id='dcl.fct.default-10'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.default-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1961'>#</a></div><p ><span class='indexparent'><a class='index' id='argument_and_virtual_function,default'></a></span>A <a href='class.virtual'>virtual function</a> call uses the default
arguments in the declaration of the virtual function determined
by the static type of the pointer or reference denoting the
object.
An overriding function in a derived class does not
acquire default arguments from the function it overrides.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
struct A {
  virtual void f(int a = 7);
};
struct B : public A {
  void f(int a);
};
void m() {
  B* pb = new B;
  A* pa = pb;
  pa-&gt;f();          <span class='comment'>// OK, calls <span class='tcode_in_codeblock'>pa-&gt;B&#x200b;::&#x200b;f(7)</span>
</span>  pb-&gt;f();          <span class='comment'>// error: wrong number of arguments for <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f()</span>
</span>}</pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='footnote' id='footnote-102'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-102'>102)</a></div><p >This means that default
arguments cannot appear,
for example, in declarations of pointers to functions,
references to functions, or
<span class='texttt'>typedef</span>
declarations.
</p></div></div></div><div id='dcl.fct.def'><h2 ><a class='secnum' href='#dcl.fct.def' style='min-width:88pt'>8.4</a> Function definitions <a class='abbr_ref' href='dcl.fct.def'>[dcl.fct.def]</a></h2><p ><span class='indexparent'><a class='index' id='definition,function'></a></span></p><div id='dcl.fct.def.general'><h3 ><a class='secnum' href='#dcl.fct.def.general' style='min-width:103pt'>8.4.1</a> In general <a class='abbr_ref' href='dcl.fct.def.general'>[dcl.fct.def.general]</a></h3><div class='para' id='dcl.fct.def.general-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L1994'>#</a></div><p ><span class='indexparent'><a class='index' id='body,function'></a></span>Function definitions have the form</p><p ><span class='indexparent'><a class='index' id='function-definition'></a></span></p><pre class='bnf'><a class='nontermdef' id='nt:function-definition'>function-definition:</a>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.decl#nt:declarator'>declarator</a></i> <i ><a href='class.mem#nt:virt-specifier-seq'>virt-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.fct.def.general#nt:function-body'>function-body</a></i>
</pre><pre class='bnf'><a class='nontermdef' id='nt:function-body'>function-body:</a>
&#9;<i ><a href='class.base.init#nt:ctor-initializer'>ctor-initializer</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='stmt.block#nt:compound-statement'>compound-statement</a></i>
&#9;<i ><a href='except#nt:function-try-block'>function-try-block</a></i>
&#9;<span class='terminal'>= default ;</span>
&#9;<span class='terminal'>= delete ;</span>
</pre><p >Any informal reference to the body of a function should be interpreted as a reference to
the non-terminal <i ><a href='dcl.fct.def.general#nt:function-body'>function-body</a></i>.
The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> in a <i ><a href='dcl.fct.def.general#nt:function-definition'>function-definition</a></i>
appertains to the function.
A <i ><a href='class.mem#nt:virt-specifier-seq'>virt-specifier-seq</a></i> can be part of a <i ><a href='dcl.fct.def.general#nt:function-definition'>function-definition</a></i>
only if it is a <i><a href="class.mem"#nt:member-declaration">member-declaration</a></i>.</p></div><div class='para' id='dcl.fct.def.general-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2020'>#</a></div><p >In a <i ><a href='dcl.fct.def.general#nt:function-definition'>function-definition</a></i>,
either <span class='texttt'>void</span> <i ><a href='dcl.decl#nt:declarator'>declarator</a></i> <span class='texttt'>;</span>
or <i ><a href='dcl.decl#nt:declarator'>declarator</a></i> <span class='texttt'>;</span>
shall be a well-formed function declaration
as described in <a href='dcl.fct'>[dcl.fct]</a>.
A function shall be defined only in namespace or class scope.</p></div><div class='para' id='dcl.fct.def.general-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2028'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
A simple example of a complete function definition is</p><p ><span class='indexparent'><a class='index' id='example,function_definition'></a></span></p><pre class='codeblock'>
int max(int a, int b, int c) {
  int m = (a &gt; b) ? a : b;
  return (m &gt; c) ? m : c;
}</pre><p >Here
<span class='texttt'>int</span>
is the
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>;
<span class='texttt'>max(int</span>
<span class='texttt'>a,</span>
<span class='texttt'>int</span>
<span class='texttt'>b,</span>
<span class='texttt'>int</span>
<span class='texttt'>c)</span>
is the
<i ><a href='dcl.decl#nt:declarator'>declarator</a></i>;
<span class='texttt'>{ /* ...&nbsp;*/ }</span>
is the
<i ><a href='dcl.fct.def.general#nt:function-body'>function-body</a></i>.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.fct.def.general-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2057'>#</a></div><p ><span class='indexparent'><a class='index' id='initializer,base_class'></a></span><span class='indexparent'><a class='index' id='initializer,member'></a></span><span class='indexparent'><a class='index' id='definition,constructor'></a></span>A
<i ><a href='class.base.init#nt:ctor-initializer'>ctor-initializer</a></i>
is used only in a constructor; see <a href='class.ctor'>[class.ctor]</a> and <a href='class.init'>[class.init]</a>.</p></div><div class='para' id='dcl.fct.def.general-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.general-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2065'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
A <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i> affects the type of <span class='texttt'>this</span>
in the body of a member function; see <a href='dcl.ref'>[dcl.ref]</a>.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.fct.def.general-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.general-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2071'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
Unused parameters need not be named.
For example,</p><p ><span class='indexparent'><a class='index' id='example,unnamed_parameter'></a></span></p><pre class='codeblock'>
void print(int a, int) {
  std::printf("a = %d\n",a);
}</pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.fct.def.general-7'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.general-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2084'>#</a></div><p >In the <i ><a href='dcl.fct.def.general#nt:function-body'>function-body</a></i>, a
<span class='grammarterm'>function-local predefined variable</span> denotes a block-scope object of static
storage duration that is implicitly defined (see <a href='basic.scope.block'>[basic.scope.block]</a>).</p></div><div class='para' id='dcl.fct.def.general-8'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.general-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2089'>#</a></div><p >The function-local predefined variable <span id='__func__'><span class='texttt'>_&shy;_&shy;func_&shy;_&shy;</span></span> is
defined as if a definition of the form
</p><pre class='codeblock'>
static const char __func__[] = "<span class='grammarterm'>function-name</span>";</pre><p >had been provided, where <span class='grammarterm'>function-name</span> is an <span class='indexparent'><a class='index' id='string_resulting_from___func__'></a></span>implementation-defined string.
It is unspecified whether such a variable has an address
distinct from that of any other object in the program.<a class='footnotenum' href='#footnote-103'>103</a>
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
struct S {
  S() : s(__func__) { }             <span class='comment'>// OK
</span>  const char* s;
};
void f(const char* s = __func__);   <span class='comment'>// error: <span class='tcode_in_codeblock'>_&shy;_&shy;func_&shy;_&shy;</span> is undeclared
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='footnote' id='footnote-103'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-103'>103)</a></div><p >Implementations are
permitted to provide additional predefined variables with names that are
<a href='lex.name#reserved_identifier'>reserved to the implementation</a>. If a predefined variable is not
<a href='basic.def.odr'>odr-used</a>, its string value need not be present in the program image.</p></div></div><div id='dcl.fct.def.default'><h3 ><a class='secnum' href='#dcl.fct.def.default' style='min-width:103pt'>8.4.2</a> Explicitly-defaulted functions <a class='abbr_ref' href='dcl.fct.def.default'>[dcl.fct.def.default]</a></h3><p ><span class='indexparent'><a class='index' id='definition,function,explicitly-defaulted'></a></span>
</p><div class='para' id='dcl.fct.def.default-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.default-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2115'>#</a></div><p >A function definition of the form:</p><pre class='ncbnf'><i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.decl#nt:declarator'>declarator</a></i> <i ><a href='class.mem#nt:virt-specifier-seq'>virt-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'> = default ;</span>
</pre><p >is called an <span class='grammarterm'>explicitly-defaulted</span> definition.
A function that is explicitly defaulted shall</p><ul class='itemize'><li id='dcl.fct.def.default-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.fct.def.default-1.1'>(1.1)</a></div><p >be a special member function,</p></li><li id='dcl.fct.def.default-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.fct.def.default-1.2'>(1.2)</a></div><p >have the same declared function type (except for possibly differing
<i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i>s and except that in the case of a copy constructor or
copy assignment operator, the parameter type may be “reference to non-const <span class='texttt'>T</span>”,
where <span class='texttt'>T</span> is the name of the member function's class) as if it had been implicitly
declared, and</p></li><li id='dcl.fct.def.default-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.fct.def.default-1.3'>(1.3)</a></div><p >not have default arguments.
</p></li></ul></div><div class='para' id='dcl.fct.def.default-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.default-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2137'>#</a></div><p >An explicitly-defaulted function that is not defined as deleted may be declared
<span class='texttt'>constexpr</span> only if it would have been implicitly declared as
<span class='texttt'>constexpr</span>. If
a function is explicitly defaulted on its first declaration,
it is implicitly considered to be <span class='texttt'>constexpr</span> if the implicit
declaration would be.</p></div><div class='para' id='dcl.fct.def.default-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.default-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2145'>#</a></div><p >If a function that is explicitly defaulted is declared with a
<i ><a href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a></i> that does not produce
the same exception specification
as the implicit declaration (<a href='except.spec'>[except.spec]</a>), then</p><ul class='itemize'><li id='dcl.fct.def.default-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.fct.def.default-3.1'>(3.1)</a></div><p >if the function is explicitly defaulted on its first declaration, it is defined as deleted;
</p></li><li id='dcl.fct.def.default-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.fct.def.default-3.2'>(3.2)</a></div><p >otherwise, the program is ill-formed.
</p></li></ul></div><div class='para' id='dcl.fct.def.default-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.default-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2156'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
struct S {
  constexpr S() = default;              <span class='comment'>// ill-formed: implicit <span class='tcode_in_codeblock'>S()</span> is not <span class='tcode_in_codeblock'>constexpr</span>
</span>  S(int a = 0) = default;               <span class='comment'>// ill-formed: default argument
</span>  void operator=(const S&amp;) = default;   <span class='comment'>// ill-formed: non-matching return type
</span>  ~S() noexcept(false) = default;       <span class='comment'>// deleted: exception specification does not match
</span>private:
  int i;
  S(S&amp;);                                <span class='comment'>// OK: private copy constructor
</span>};
S::S(S&amp;) = default;                     <span class='comment'>// OK: defines copy constructor
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.fct.def.default-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.default-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2172'>#</a></div><p >Explicitly-defaulted functions and implicitly-declared functions are collectively
called <a class='hidden_link' href='#def:defaulted' id='def:defaulted'><i>defaulted</i></a> functions, and the implementation
shall provide implicit definitions
for them (<a href='class.ctor'>[class.ctor]</a>
<a href='class.dtor'>[class.dtor]</a>, <a href='class.copy'>[class.copy]</a>), which might mean defining them as deleted.
A function is
<a class='hidden_link' href='#def:user-provided' id='def:user-provided'><i>user-provided</i></a> if it is user-declared and not explicitly
defaulted or deleted on its first declaration. A user-provided explicitly-defaulted function
(i.e., explicitly defaulted after its first declaration)
is defined at the point where it is explicitly defaulted; if such a function is implicitly
defined as deleted, the program is ill-formed.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
Declaring a function as defaulted after its first declaration can provide
efficient execution and concise
definition while enabling a stable binary interface to an evolving code
base.<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.fct.def.default-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.default-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2190'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
struct trivial {
  trivial() = default;
  trivial(const trivial&amp;) = default;
  trivial(trivial&amp;&amp;) = default;
  trivial&amp; operator=(const trivial&amp;) = default;
  trivial&amp; operator=(trivial&amp;&amp;) = default;
  ~trivial() = default;
};

struct nontrivial1 {
  nontrivial1();
};
nontrivial1::nontrivial1() = default;   <span class='comment'>// not first declaration
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div id='dcl.fct.def.delete'><h3 ><a class='secnum' href='#dcl.fct.def.delete' style='min-width:103pt'>8.4.3</a> Deleted definitions <a class='abbr_ref' href='dcl.fct.def.delete'>[dcl.fct.def.delete]</a></h3><p ><span class='indexparent'><a class='index' id='definition,function,deleted'></a></span>
</p><div class='para' id='dcl.fct.def.delete-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.delete-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2213'>#</a></div><p >A function definition of the form:</p><pre class='ncbnf'><i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.decl#nt:declarator'>declarator</a></i> <i ><a href='class.mem#nt:virt-specifier-seq'>virt-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'> = delete ;</span>
</pre><p >is called a <a class='hidden_link' href='#def:deleted_definition' id='def:deleted_definition'><i>deleted definition</i></a>. A function with a
deleted definition is also called a <a class='hidden_link' href='#def:deleted_function' id='def:deleted_function'><i>deleted function</i></a>.</p></div><div class='para' id='dcl.fct.def.delete-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.delete-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2223'>#</a></div><p >A program that refers to a deleted function implicitly or explicitly, other
than to declare it, is ill-formed. [<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> This includes calling the function
implicitly or explicitly and forming a pointer or pointer-to-member to the
function. It applies even for references in expressions that are not
potentially-evaluated. If a function is overloaded, it is referenced only if the
function is selected by overload resolution. The implicit
<a href='basic.def.odr'>odr-use</a> of a virtual function does not, by itself,
constitute a reference. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.fct.def.delete-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.delete-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2233'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span> One can enforce non-default-initialization and non-integral
initialization with
</p><pre class='codeblock'>
struct onlydouble {
  onlydouble() = delete;                <span class='comment'>// OK, but redundant
</span>  onlydouble(std::intmax_t) = delete;
  onlydouble(double);
};</pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
One can prevent use of a
class in certain <i ><a href='expr.new#nt:new-expression'>new-expression</a></i>s by using deleted definitions
of a user-declared <span class='texttt'>operator new</span> for that class.
</p><pre class='codeblock'>
struct sometype {
  void* operator new(std::size_t) = delete;
  void* operator new[](std::size_t) = delete;
};
sometype* p = new sometype;     <span class='comment'>// error, deleted class <span class='tcode_in_codeblock'>operator new</span>
</span>sometype* q = new sometype[3];  <span class='comment'>// error, deleted class <span class='tcode_in_codeblock'>operator new[]</span>
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
One can make a class uncopyable, i.e. move-only, by using deleted
definitions of the copy constructor and copy assignment operator, and then
providing defaulted definitions of the move constructor and move assignment operator.
</p><pre class='codeblock'>
struct moveonly {
  moveonly() = default;
  moveonly(const moveonly&amp;) = delete;
  moveonly(moveonly&amp;&amp;) = default;
  moveonly&amp; operator=(const moveonly&amp;) = delete;
  moveonly&amp; operator=(moveonly&amp;&amp;) = default;
  ~moveonly() = default;
};
moveonly* p;
moveonly q(*p);                 <span class='comment'>// error, deleted copy constructor
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.fct.def.delete-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.fct.def.delete-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2277'>#</a></div><p >A deleted function is implicitly an <a href='dcl.inline#def:inline_function'>inline function</a>. [<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> The
<a href='basic.def.odr'>one-definition rule</a> applies to deleted definitions. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]
A deleted definition of a function shall be the first declaration of the function or,
for an explicit specialization of a function template, the first declaration of that
specialization.
An implicitly declared allocation or deallocation function (<a href='basic.stc.dynamic'>[basic.stc.dynamic]</a>)
shall not be defined as deleted.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
struct sometype {
  sometype();
};
sometype::sometype() = delete;  <span class='comment'>// ill-formed; not first declaration
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div></div><div id='dcl.decomp'><h2 ><a class='secnum' href='#dcl.decomp' style='min-width:88pt'>8.5</a> Decomposition declarations <a class='abbr_ref' href='dcl.decomp'>[dcl.decomp]</a></h2><p ><span class='indexparent'><a class='index' id='decomposition_declaration'></a></span><span class='indexparent'><a class='index' id='declaration,decomposition'></a></span>
</p><div class='para' id='dcl.decomp-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.decomp-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2299'>#</a></div><p >A decomposition declaration introduces the <i ><a href='lex.name#nt:identifier'>identifier</a></i>s
<span class='texttt'>v</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span>, <span class='texttt'>v</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>, <span class='texttt'>v</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span>, ...
of the
<i ><a href='cpp#nt:identifier-list'>identifier-list</a></i> as names (<a href='basic.scope.declarative'>[basic.scope.declarative]</a>).
Let <span class='textit'>cv</span> denote the
<i ><a href='dcl.decl#nt:cv-qualifier'>cv-qualifier</a></i>s in the <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>. First, a
variable with a unique name <span class='texttt'>e</span> is introduced. If the
<i ><a href='expr.ass#nt:assignment-expression'>assignment-expression</a></i> in the <i ><a href='dcl.init#nt:initializer'>initializer</a></i>
has array type <span class='texttt'>A</span> and no <i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i> is present, <span class='texttt'>e</span>
has type <span class='textit'>cv</span> <span class='texttt'>A</span> and each element is copy-initialized or direct-initialized
from the corresponding element of the <i ><a href='expr.ass#nt:assignment-expression'>assignment-expression</a></i> as specified
by the form of the <i ><a href='dcl.init#nt:initializer'>initializer</a></i>.
Otherwise, <span class='texttt'>e</span>
is defined as-if by</p><pre class='ncbnf'><i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> <i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>e</span> <i ><a href='dcl.init#nt:initializer'>initializer</a></i> <span class='terminal'>;</span>
</pre><p >where
the declaration is never interpreted as a function declaration and
the parts of the declaration other than the <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> are taken
from the corresponding decomposition declaration. The type of the <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i>
<span class='texttt'>e</span> is called <span class='texttt'>E</span>.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
<span class='texttt'>E</span> is never a reference type (Clause <a href='expr'>[expr]</a>).
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.decomp-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.decomp-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2328'>#</a></div><p >If <span class='texttt'>E</span> is an array type with element type <span class='texttt'>T</span>, the number
of elements in the <i ><a href='cpp#nt:identifier-list'>identifier-list</a></i> shall be equal to the
number of elements of <span class='texttt'>E</span>. Each <span class='texttt'>v</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is the name of an
lvalue that refers to the element <span class='math'><span class='mathalpha'>i</span></span> of the array and whose type
is <span class='texttt'>T</span>; the referenced type is <span class='texttt'>T</span>.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
The top-level cv-qualifiers of <span class='texttt'>T</span> are <span class='textit'>cv</span>.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
  auto f() -&gt; int(&amp;)[2];
  auto [ x, y ] = f();          <span class='comment'>// <span class='tcode_in_codeblock'>x</span> and <span class='tcode_in_codeblock'>y</span> refer to elements in a copy of the array return value
</span>  auto&amp; [ xr, yr ] = f();       <span class='comment'>// <span class='tcode_in_codeblock'>xr</span> and <span class='tcode_in_codeblock'>yr</span> refer to elements in the array referred to by <span class='tcode_in_codeblock'>f</span>'s return value
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.decomp-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.decomp-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2345'>#</a></div><p >Otherwise, if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>std&#x200b;::&#x200b;tuple_&shy;size&lt;E&gt;</span>
names a complete type,
the expression <span class='texttt'>std&#x200b;::&#x200b;tuple_&shy;size&lt;E&gt;&#x200b;::&#x200b;value</span>
shall be a well-formed integral constant expression
and
the number of elements in
the <i ><a href='cpp#nt:identifier-list'>identifier-list</a></i> shall be equal to the value of that
expression. The <i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i> <span class='texttt'>get</span> is looked up
in the scope of <span class='texttt'>E</span> by <a href='basic.lookup.classref'>class member access lookup</a>,
and if that finds at least one declaration, the initializer is
<span class='texttt'>e.get&lt;i&gt;()</span>. Otherwise, the initializer is <span class='texttt'>get&lt;i&gt;(e)</span>,
where <span class='texttt'>get</span> is looked up in the
<a href='basic.lookup.argdep#def:namespace,associated'>associated namespaces</a>.
In either case, <span class='texttt'>get&lt;i&gt;</span> is interpreted as a <i ><a href='temp.names#nt:template-id'>template-id</a></i>.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
Ordinary <a href='basic.lookup.unqual'>unqualified lookup</a> is not performed.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]
In either case, <span class='texttt'>e</span> is an lvalue if the type of the entity <span class='texttt'>e</span>
is an lvalue reference and an xvalue otherwise. Given the type <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>
designated by <span class='texttt'>std&#x200b;::&#x200b;tuple_&shy;element&lt;i, E&gt;&#x200b;::&#x200b;type</span>, each <span class='texttt'>v</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>
is a variable of type “reference to <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>” initialized with the
initializer, where the reference is an lvalue reference if the initializer is
an lvalue and an rvalue reference otherwise; the referenced type is <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>.</p></div><div class='para' id='dcl.decomp-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.decomp-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2371'>#</a></div><p >Otherwise, all of <span class='texttt'>E</span>'s non-static data members shall be public direct
members of <span class='texttt'>E</span> or of the same unambiguous public base class of <span class='texttt'>E</span>,
<span class='texttt'>E</span> shall not have an anonymous union member, and the number of elements
in the <i ><a href='cpp#nt:identifier-list'>identifier-list</a></i> shall be equal to the number of non-static
data members of <span class='texttt'>E</span>.
Designating the non-static data members of <span class='texttt'>E</span> as 
<span class='texttt'>m</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span>, <span class='texttt'>m</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>, <span class='texttt'>m</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span>, ...
(in declaration order),
each <span class='texttt'>v</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is the
name of an lvalue that refers to the member <span class='texttt'>m</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> of <span class='texttt'>e</span> and
whose type is <span class='textit'>cv</span> <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>, where <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is the declared type of
that member; the referenced type is <span class='textit'>cv</span> <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>. The lvalue is a
bit-field if that member is a bit-field.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
struct S { int x1 : 2; volatile double y1; };
S f();
const auto [ x, y ] = f();</pre><p >The type of the <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> <span class='texttt'>x</span> is “<span class='texttt'>const int</span>”,
the type of the <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> <span class='texttt'>y</span> is “<span class='texttt'>const volatile double</span>”.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div id='dcl.init'><h2 ><a class='secnum' href='#dcl.init' style='min-width:88pt'>8.6</a> Initializers <a class='abbr_ref' href='dcl.init'>[dcl.init]</a></h2><p ><span class='indexparent'><a class='index' id='initialization'></a></span></p><div class='para' id='dcl.init-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2398'>#</a></div><p >A declarator can specify an initial value for the
identifier being declared.
The identifier designates a variable being initialized.
The process of initialization described in the
remainder of <a href='dcl.init'>[dcl.init]</a>
applies also to initializations
specified by other syntactic contexts, such as the initialization
of function parameters (<a href='expr.call'>[expr.call]</a>) or
the initialization of return values (<a href='stmt.return'>[stmt.return]</a>).</p><pre class='bnf'><a class='nontermdef' id='nt:initializer'>initializer:</a>
&#9;<i ><a href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializer</a></i>
&#9;<span class='terminal'>(</span> <i ><a href='expr.post#nt:expression-list'>expression-list</a></i> <span class='terminal'>)</span>
</pre><pre class='bnf'><a class='nontermdef' id='nt:brace-or-equal-initializer'>brace-or-equal-initializer:</a>
&#9;<span class='terminal'>=</span> <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>
&#9;<i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i>
</pre><pre class='bnf'><a class='nontermdef' id='nt:initializer-clause'>initializer-clause:</a>
&#9;<i ><a href='expr.ass#nt:assignment-expression'>assignment-expression</a></i>
&#9;<i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i>
</pre><pre class='bnf'><a class='nontermdef' id='nt:initializer-list'>initializer-list:</a>
&#9;<i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i> <span class='terminal'>...</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i> <span class='terminal'>,</span> <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i> <span class='terminal'>...</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' id='nt:braced-init-list'>braced-init-list:</a>
&#9;<span class='terminal'>{</span> <i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i> <span class='terminal'>,<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <span class='terminal'>}</span>
&#9;<span class='terminal'>{</span> <span class='terminal'>}</span>
</pre><pre class='bnf'><a class='nontermdef' id='nt:expr-or-braced-init-list'>expr-or-braced-init-list:</a>
&#9;<i ><a href='expr.comma#nt:expression'>expression</a></i>
&#9;<i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i>
</pre></div><div class='para' id='dcl.init-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2445'>#</a></div><p >Except for objects declared with the <span class='texttt'>constexpr</span> specifier, for which see <a href='dcl.constexpr'>[dcl.constexpr]</a>,
an <i ><a href='dcl.init#nt:initializer'>initializer</a></i> in the definition of a variable can consist of
arbitrary
<span class='indexparent'><a class='index' id='initialization,automatic_object'></a></span><span class='indexparent'><a class='index' id='initialization,static_object'></a></span>expressions involving literals and previously declared
variables and functions,
regardless of the variable's storage duration.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
int f(int);
int a = 2;
int b = f(a);
int c(b);</pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2464'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
Default arguments are more restricted; see <a href='dcl.fct.default'>[dcl.fct.default]</a>.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2469'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
The order of initialization of variables with static storage duration is described in <a href='basic.start'>[basic.start]</a>
and <a href='stmt.dcl'>[stmt.dcl]</a>.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2475'>#</a></div><p >A declaration of a block-scope variable with external or internal
linkage that has an <i ><a href='dcl.init#nt:initializer'>initializer</a></i> is ill-formed.</p></div><div class='para' id='dcl.init-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2479'>#</a></div><p ><span class='indexparent'><a class='index' id='initialization,static_object'></a></span><span class='indexparent'><a class='index' id='initialization,default'></a></span><span class='indexparent'><a class='index' id='variable,indeterminate_uninitialized'></a></span><span class='indexparent'><a class='index' id='initialization,zero-initialization'></a></span>To
<a class='hidden_link' href='#def:zero-initialization' id='def:zero-initialization'><i>zero-initialize</i></a>
an object or reference of type
<span class='texttt'>T</span>
means:</p><ul class='itemize'><li id='dcl.init-6.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-6.1'>(6.1)</a></div><p >if
<span class='texttt'>T</span>
is a <a href='basic.types#def:scalar_type'>scalar type</a>, the
object
is initialized to the value obtained by converting the integer literal <span class='texttt'>0</span>
(zero) to
<span class='texttt'>T</span>;<a class='footnotenum' href='#footnote-104'>104</a></p></li><li id='dcl.init-6.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-6.2'>(6.2)</a></div><p >if
<span class='texttt'>T</span>
is a (possibly cv-qualified) non-union class type,
each non-static data member and each
base-class subobject is zero-initialized and padding is initialized to zero bits;</p></li><li id='dcl.init-6.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-6.3'>(6.3)</a></div><p >if
<span class='texttt'>T</span>
is a (possibly cv-qualified) union type,
the
object's first non-static named
data member
is zero-initialized and padding is initialized to zero bits;</p></li><li id='dcl.init-6.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-6.4'>(6.4)</a></div><p >if
<span class='texttt'>T</span>
is an array type,
each element is zero-initialized;
</p></li><li id='dcl.init-6.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-6.5'>(6.5)</a></div><p >if
<span class='texttt'>T</span>
is a reference type, no initialization is performed.
</p></li></ul></div><div class='para' id='dcl.init-7'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2531'>#</a></div><p >To
<a class='hidden_link' href='#def:default-initialization' id='def:default-initialization'><i>default-initialize</i></a>
an object of type
<span class='texttt'>T</span>
means:</p><ul class='itemize'><li id='dcl.init-7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-7.1'>(7.1)</a></div><p >If
<span class='texttt'>T</span>
is a (possibly cv-qualified) <a href='class'>class type</a>,
constructors are considered. The applicable constructors are
enumerated (<a href='over.match.ctor'>[over.match.ctor]</a>), and the best one for the
<i ><a href='dcl.init#nt:initializer'>initializer</a></i> <span class='texttt'>()</span> is chosen through
<a href='over.match'>overload resolution</a>. The constructor thus selected
is called, with an empty argument list, to initialize the object.</p></li><li id='dcl.init-7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-7.2'>(7.2)</a></div><p >If
<span class='texttt'>T</span>
is an array type, each element is default-initialized.</p></li><li id='dcl.init-7.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-7.3'>(7.3)</a></div><p >Otherwise,
no initialization is performed.
</p></li></ul><p >A class type <span class='texttt'>T</span> is <a class='hidden_link' href='#def:const-default-constructible' id='def:const-default-constructible'><i>const-default-constructible</i></a> if
default-initialization of <span class='texttt'>T</span> would invoke
a user-provided constructor of <span class='texttt'>T</span> (not inherited from a base class)
or if</p><ul class='itemize'><li id='dcl.init-7.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-7.4'>(7.4)</a></div><p >each direct non-variant non-static data member <span class='texttt'>M</span> of <span class='texttt'>T</span>
has a default member initializer
or, if <span class='texttt'>M</span> is of class type <span class='texttt'>X</span> (or array thereof),
<span class='texttt'>X</span> is const-default-constructible,
</p></li><li id='dcl.init-7.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-7.5'>(7.5)</a></div><p >if <span class='texttt'>T</span> is a union with at least one non-static data member,
exactly one variant member has a default member initializer,
</p></li><li id='dcl.init-7.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-7.6'>(7.6)</a></div><p >if <span class='texttt'>T</span> is not a union,
for each anonymous union member with at least one non-static data member (if any),
exactly one non-static data member has a default member initializer, and
</p></li><li id='dcl.init-7.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-7.7'>(7.7)</a></div><p >each potentially constructed base class of <span class='texttt'>T</span> is const-default-constructible.
</p></li></ul><p >If a program calls for the default-initialization of an object of a
const-qualified type <span class='texttt'>T</span>,
<span class='texttt'>T</span> shall be a const-default-constructible class type or array thereof.</p></div><div class='para' id='dcl.init-8'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2585'>#</a></div><p ><span class='indexparent'><a class='index' id='value-initialization'></a></span>To
<a class='hidden_link' href='#def:value-initialize' id='def:value-initialize'><i>value-initialize</i></a>
an object of type
<span class='texttt'>T</span>
means:</p><ul class='itemize'><li id='dcl.init-8.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-8.1'>(8.1)</a></div><p >if
<span class='texttt'>T</span>
is a (possibly cv-qualified) <a href='class'>class type</a> with
either no default constructor (<a href='class.ctor'>[class.ctor]</a>) or a default
constructor that is user-provided or deleted, then the object is default-initialized;</p></li><li id='dcl.init-8.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-8.2'>(8.2)</a></div><p >if
<span class='texttt'>T</span>
is a (possibly cv-qualified) class type without a
user-provided or deleted default constructor,
then the object is zero-initialized and the semantic constraints for
default-initialization are checked, and if <span class='texttt'>T</span> has a
non-trivial default constructor, the object is default-initialized;</p></li><li id='dcl.init-8.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-8.3'>(8.3)</a></div><p >if
<span class='texttt'>T</span>
is an array type, then each element is value-initialized;</p></li><li id='dcl.init-8.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-8.4'>(8.4)</a></div><p >otherwise, the object is zero-initialized.
</p></li></ul></div><div class='para' id='dcl.init-9'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2619'>#</a></div><p >A program that calls for default-initialization
or value-initialization
of an entity
of reference type is ill-formed.</p></div><div class='para' id='dcl.init-10'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2625'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> Every
object of static storage duration is
zero-initialized at program startup before any other initialization
takes place.
In some cases, additional initialization is done later.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init-11'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2633'>#</a></div><p >An object whose initializer is an empty set of parentheses, i.e.,
<span class='texttt'>()</span>,
shall be
value-initialized.</p><p ><span class='indexparent'><a class='index' id='ambiguity,function_declaration'></a></span>[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
Since
<span class='texttt'>()</span>
is not permitted by the syntax for
<i ><a href='dcl.init#nt:initializer'>initializer</a></i>,</p><pre class='codeblock'>
X a();</pre><p >is not the declaration of an object of class
<span class='texttt'>X</span>,
but the declaration of a function taking no argument and returning an
<span class='texttt'>X</span>.
The form
<span class='texttt'>()</span>
is permitted in certain other initialization contexts (<a href='expr.new'>[expr.new]</a>,
<a href='expr.type.conv'>[expr.type.conv]</a>, <a href='class.base.init'>[class.base.init]</a>).
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init-12'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2660'>#</a></div><p ><span class='indexparent'><a class='index' id='value,indeterminate'></a></span><span class='indexparent'><a class='index' id='indeterminate_value'></a></span>If no initializer is specified for an object, the object is default-initialized.
When storage for an object with automatic or dynamic storage duration
is obtained, the object has an <a class='hidden_link' href='#def:indeterminate_value' id='def:indeterminate_value'><i>indeterminate value</i></a>, and if
no initialization is performed for the object, that object retains an
indeterminate value until that value is replaced (<a href='expr.ass'>[expr.ass]</a>).
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> Objects with static or thread storage duration are zero-initialized,
see <a href='basic.start.static'>[basic.start.static]</a>. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]
If an indeterminate value is produced by an evaluation, the behavior is
undefined except in the following cases:</p><ul class='itemize'><li id='dcl.init-12.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-12.1'>(12.1)</a></div><p >If an indeterminate value of unsigned
<a href='basic.fundamental#def:type,narrow_character'>narrow character type</a>
is produced by the evaluation of:
</p><ul class='itemize'><li id='dcl.init-12.1.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.init-12.1.1'>(12.1.1)</a></div><p >the second or third operand of a <a href='expr.cond'>conditional expression</a>,
</p></li><li id='dcl.init-12.1.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.init-12.1.2'>(12.1.2)</a></div><p >the right operand of a <a href='expr.comma'>comma expression</a>,
</p></li><li id='dcl.init-12.1.3'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.init-12.1.3'>(12.1.3)</a></div><p >the operand of a cast or conversion to an unsigned narrow character
type (<a href='conv.integral'>[conv.integral]</a>, <a href='expr.type.conv'>[expr.type.conv]</a>, <a href='expr.static.cast'>[expr.static.cast]</a>,
<a href='expr.cast'>[expr.cast]</a>), or
</p></li><li id='dcl.init-12.1.4'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.init-12.1.4'>(12.1.4)</a></div><p >a <a href='expr#def:discarded-value_expression'>discarded-value expression</a>,
</p></li></ul><p >then the result of the operation is an indeterminate value.</p></li><li id='dcl.init-12.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-12.2'>(12.2)</a></div><p >If an indeterminate value of unsigned narrow character
type is produced by the evaluation of the right
operand of a simple assignment operator (<a href='expr.ass'>[expr.ass]</a>) whose first operand
is an lvalue of unsigned narrow character type, an indeterminate value replaces
the value of the object referred to by the left operand.</p></li><li id='dcl.init-12.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-12.3'>(12.3)</a></div><p >If an indeterminate value of unsigned narrow character type is produced by the
evaluation of the initialization expression when initializing an object of
unsigned narrow character type, that object is initialized to an indeterminate
value.
</p></li></ul><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
  int f(bool b) {
    unsigned char c;
    unsigned char d = c;        <span class='comment'>// OK, <span class='tcode_in_codeblock'>d</span> has an indeterminate value
</span>    int e = d;                  <span class='comment'>// undefined behavior
</span>    return b ? d : 0;           <span class='comment'>// undefined behavior if <span class='tcode_in_codeblock'>b</span> is <span class='tcode_in_codeblock'>true</span>
</span>  }</pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init-13'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2712'>#</a></div><p ><span class='indexparent'><a class='index' id='initialization,class_member'></a></span>An initializer for a static member is in the scope of the member's class.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
int a;

struct X {
  static int a;
  static int b;
};

int X::a = 1;
int X::b = a;                   <span class='comment'>// <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;b = X&#x200b;::&#x200b;a</span>
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init-14'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2729'>#</a></div><p >If the entity being initialized does not have class type, the
<i ><a href='expr.post#nt:expression-list'>expression-list</a></i> in a
parenthesized initializer shall be a single expression.</p></div><div class='para' id='dcl.init-15'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2734'>#</a></div><p ><span class='indexparent'><a class='index' id='initialization,copy'></a></span><span class='indexparent'><a class='index' id='initialization,direct'></a></span>The initialization that occurs in the <span class='texttt'>=</span> form of a
<i ><a href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializer</a></i> or
<i ><a href='stmt.stmt#nt:condition'>condition</a></i> (<a href='stmt.select'>[stmt.select]</a>),
as well as in argument passing, function return,
<a href='except.throw'>throwing an exception</a>,
<a href='except.handle'>handling an exception</a>,
and <a href='dcl.init.aggr'>aggregate member initialization</a>,
is called
<a class='hidden_link' href='#def:copy-initialization' id='def:copy-initialization'><i>copy-initialization</i></a>.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> Copy-initialization may invoke a move (<a href='class.copy'>[class.copy]</a>). <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init-16'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2748'>#</a></div><p >The initialization that occurs in the forms
</p><pre class='codeblock'>
T x(a);
T x{a};</pre><p >as well as in
<a href='expr.new'><span class='texttt'>new</span>
expressions</a>,
<a href='expr.static.cast'><span class='texttt'>static_&shy;cast</span>
expressions</a>,
<a href='expr.type.conv'>functional notation type conversions</a>,
<i><a href="class.base.init"#nt:mem-initializer">mem-initializer</a></i>s, and
the <i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i> form of a <i ><a href='stmt.stmt#nt:condition'>condition</a></i>
is called
<a class='hidden_link' href='#def:direct-initialization' id='def:direct-initialization'><i>direct-initialization</i></a>.</p></div><div class='para' id='dcl.init-17'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2765'>#</a></div><p >The semantics of initializers are as follows.
The
<span class='indexparent'><a class='index' id='type,destination'></a></span><a class='hidden_link' href='#def:destination_type' id='def:destination_type'><i>destination type</i></a>
is the type of the object or reference being initialized and the
<a class='hidden_link' href='#def:source_type' id='def:source_type'><i>source type</i></a>
is the type of the initializer expression.
If the initializer is not a single (possibly parenthesized) expression, the
source type is not defined.
</p><ul class='itemize'><li id='dcl.init-17.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-17.1'>(17.1)</a></div><p >If the initializer is a (non-parenthesized) <i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i>
or is <span class='texttt'>=</span> <i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i>, the object or reference
is <a href='dcl.init.list'>list-initialized</a>. </p></li><li id='dcl.init-17.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-17.2'>(17.2)</a></div><p >If the destination type is a reference type, see <a href='dcl.init.ref'>[dcl.init.ref]</a>.
</p></li><li id='dcl.init-17.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-17.3'>(17.3)</a></div><p >If the destination type is an array of characters,
an array of <span class='texttt'>char16_&shy;t</span>,
an array of <span class='texttt'>char32_&shy;t</span>,
or an array of
<span class='texttt'>wchar_&shy;t</span>,
and the initializer is a string literal, see <a href='dcl.init.string'>[dcl.init.string]</a>.
</p></li><li id='dcl.init-17.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-17.4'>(17.4)</a></div><p >If the initializer is <span class='texttt'>()</span>, the object is value-initialized.
</p></li><li id='dcl.init-17.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-17.5'>(17.5)</a></div><p >Otherwise, if the destination type is an array, the program is ill-formed.
</p></li><li id='dcl.init-17.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-17.6'>(17.6)</a></div><p >If the destination type is a (possibly cv-qualified) class type:</p><ul class='itemize'><li id='dcl.init-17.6.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.init-17.6.1'>(17.6.1)</a></div><p >If the initializer expression is a prvalue
and the cv-unqualified version of the source type
is the same class as the class of the destination,
the initializer expression is used to initialize the destination object.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
<span class='texttt'>T x = T(T(T()));</span> calls the <span class='texttt'>T</span> default constructor to initialize <span class='texttt'>x</span>.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]
</p></li><li id='dcl.init-17.6.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.init-17.6.2'>(17.6.2)</a></div><p >Otherwise, if the initialization is direct-initialization,
or if it is copy-initialization where the cv-unqualified version of the source
type is the same class as, or a derived class of, the class of the destination,
constructors are considered.
The applicable constructors
are enumerated (<a href='over.match.ctor'>[over.match.ctor]</a>), and the best one is chosen
through <a href='over.match'>overload resolution</a>.
The constructor so selected
is called to initialize the object, with the initializer
expression or <i ><a href='expr.post#nt:expression-list'>expression-list</a></i> as its argument(s).
If no constructor applies, or the overload resolution is
ambiguous, the initialization is ill-formed.
</p></li><li id='dcl.init-17.6.3'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.init-17.6.3'>(17.6.3)</a></div><p >Otherwise (i.e., for the remaining copy-initialization cases),
user-defined conversion sequences that can convert from the
source type to the destination type or (when a conversion function
is used) to a derived class thereof are enumerated as described in <a href='over.match.copy'>[over.match.copy]</a>, and the best one is chosen through <a href='over.match'>overload
resolution</a>.  If the conversion cannot be done or
is ambiguous, the initialization is ill-formed.  The function
selected is called with the initializer expression as its
argument; if the function is a constructor, the call is a prvalue
of the cv-unqualified version of the
destination type whose result object is initialized by the constructor.
The call is used
to direct-initialize, according to the rules above, the object
that is the destination of the copy-initialization.
</p></li></ul></li><li id='dcl.init-17.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-17.7'>(17.7)</a></div><p >Otherwise, if the source type
is a (possibly cv-qualified) class type, conversion functions are
considered.
The applicable conversion functions are enumerated
(<a href='over.match.conv'>[over.match.conv]</a>), and the best one is chosen through <a href='over.match'>overload
resolution</a>.
The user-defined conversion so selected
is called to convert the initializer expression into the
object being initialized.
If the conversion cannot be done or is
ambiguous, the initialization is ill-formed.
</p></li><li id='dcl.init-17.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init-17.8'>(17.8)</a></div><p >Otherwise, the initial value of the object being initialized is
the (possibly converted) value of the initializer expression.
<a href='conv'>Standard conversions</a> will be used, if necessary,
to convert the initializer expression to the cv-unqualified version of
the destination type;
no user-defined conversions are considered.
If the conversion cannot
be done, the initialization is ill-formed.
When initializing a bit-field with a value that it cannot represent, the
resulting value of the bit-field is
<span class='indexparent'><a class='index' id='value_of_bit-field_that_cannot_represent,initializer'></a></span>implementation-defined.
<span class='indexparent'><a class='index' id='initialization,const'></a></span>[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
An expression of type
“<span class='textit'>cv1</span> <span class='texttt'>T</span>”
can initialize an object of type
“<span class='textit'>cv2</span> <span class='texttt'>T</span>”
independently of
the cv-qualifiers
<span class='textit'>cv1</span>
and <span class='textit'>cv2</span>.</p><pre class='codeblock'>
int a;
const int b = a;
int c = b;</pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]
</p></li></ul></div><div class='para' id='dcl.init-18'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2876'>#</a></div><p >An <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i> followed by an ellipsis is a
<a href='temp.variadic#def:pack_expansion'>pack expansion</a>.</p></div><div class='para' id='dcl.init-19'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-19'>19</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2880'>#</a></div><p >If the initializer is a parenthesized <i ><a href='expr.post#nt:expression-list'>expression-list</a></i>,
the expressions are evaluated in the order
specified for <a href='expr.call'>function calls</a>.</p></div><div class='para' id='dcl.init-20'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init-20'>20</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2885'>#</a></div><p >An object whose initialization has completed
is deemed to be constructed,
even if no constructor of the object's class
is invoked for the initialization.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
Such an object might have been value-initialized
or initialized by <a href='dcl.init.aggr'>aggregate initialization</a>
or by an <a href='class.inhctor.init'>inherited constructor</a>.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='footnote' id='footnote-104'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-104'>104)</a></div><p >As specified in <a href='conv.ptr'>[conv.ptr]</a>, converting an integer
literal whose value is
<span class='texttt'>0</span>
to a pointer type results in a null pointer value.
</p></div><div id='dcl.init.aggr'><h3 ><a class='secnum' href='#dcl.init.aggr' style='min-width:103pt'>8.6.1</a> Aggregates <a class='abbr_ref' href='dcl.init.aggr'>[dcl.init.aggr]</a></h3><p ><span class='indexparent'><a class='index' id='aggregate'></a></span><span class='indexparent'><a class='index' id='initialization,aggregate'></a></span><span class='indexparent'><a class='index' id='aggregate_initialization'></a></span><span class='indexparent'><a class='index' id='initialization,array'></a></span><span class='indexparent'><a class='index' id='initialization,class_object'></a></span><span class='indexparent'><a class='index' id='class_object_initialization'></a></span><span class='indexparent'><a class='index' id='{},initializer_list'></a></span></p><div class='para' id='dcl.init.aggr-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2905'>#</a></div><p >An <a class='hidden_link' href='#def:aggregate' id='def:aggregate'><i>aggregate</i></a> is an array or a class (Clause <a href='class'>[class]</a>) with
</p><ul class='itemize'><li id='dcl.init.aggr-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.aggr-1.1'>(1.1)</a></div><p >no user-provided, <span class='texttt'>explicit</span>, or inherited constructors (<a href='class.ctor'>[class.ctor]</a>),
</p></li><li id='dcl.init.aggr-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.aggr-1.2'>(1.2)</a></div><p >no private or protected non-static data members (Clause <a href='class.access'>[class.access]</a>),
</p></li><li id='dcl.init.aggr-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.aggr-1.3'>(1.3)</a></div><p >no <a href='class.virtual'>virtual functions</a>, and
</p></li><li id='dcl.init.aggr-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.aggr-1.4'>(1.4)</a></div><p >no virtual, private, or protected base classes (<a href='class.mi'>[class.mi]</a>).
</p></li></ul><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
Aggregate initialization does not allow accessing
protected and private base class' members or constructors.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init.aggr-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2922'>#</a></div><p ><span class='indexparent'><a class='index' id='aggregate,elements'></a></span>The <a class='hidden_link' href='#def:elements' id='def:elements'><i>elements</i></a> of an aggregate are:
</p><ul class='itemize'><li id='dcl.init.aggr-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.aggr-2.1'>(2.1)</a></div><p >for an array, the array elements in increasing subscript order, or
</p></li><li id='dcl.init.aggr-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.aggr-2.2'>(2.2)</a></div><p >for a class, the direct base classes in declaration order
followed by the direct non-static data members in declaration order.
</p></li></ul></div><div class='para' id='dcl.init.aggr-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2933'>#</a></div><p >When an aggregate is initialized by an initializer list
as specified in <a href='dcl.init.list'>[dcl.init.list]</a>,
the elements of the initializer list are taken as initializers
for the elements of the aggregate, in order.
Each element is copy-initialized
from the corresponding <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>.
If the <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i> is an expression and
a <a href='dcl.init.list#def:narrowing_conversion'>narrowing conversion</a> is required
to convert the expression, the program is ill-formed.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> If an <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i> is itself an initializer list,
the element is list-initialized, which will result in a recursive application
of the rules in this section if the element is an aggregate. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
struct A {
  int x;
  struct B {
    int i;
    int j;
  } b;
} a = { 1, { 2, 3 } };</pre><p >initializes
<span class='texttt'>a.x</span>
with 1,
<span class='texttt'>a.b.i</span>
with 2,
<span class='texttt'>a.b.j</span>
with 3.</p><pre class='codeblock'>
struct base1 { int b1, b2 = 42; };
struct base2 {
  base2() {
    b3 = 42;
  }
  int b3;
};
struct derived : base1, base2 {
  int d;
};

derived d1{{1, 2}, {}, 4};
derived d2{{}, {}, 4};</pre><p >initializes
<span class='texttt'>d1.b1</span> with 1,
<span class='texttt'>d1.b2</span> with 2,
<span class='texttt'>d1.b3</span> with 42,
<span class='texttt'>d1.d</span> with 4, and
<span class='texttt'>d2.b1</span> with 0,
<span class='texttt'>d2.b2</span> with 42,
<span class='texttt'>d2.b3</span> with 42,
<span class='texttt'>d2.d</span> with 4.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init.aggr-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2990'>#</a></div><p >An aggregate that is a class can also be initialized with a single
expression not enclosed in braces, as described in <a href='dcl.init'>[dcl.init]</a>.</p></div><div class='para' id='dcl.init.aggr-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L2994'>#</a></div><p >An array of unknown bound initialized with a
brace-enclosed
<i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i>
containing
<span class='texttt'>n</span>
<i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>s,
where
<span class='texttt'>n</span>
shall be greater than zero, is defined as having
<span class='texttt'>n</span>
elements (<a href='dcl.array'>[dcl.array]</a>).
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
int x[] = { 1, 3, 5 };</pre><p >declares and initializes
<span class='texttt'>x</span>
as a one-dimensional array that has three elements
since no size was specified and there are three initializers.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]
An empty initializer list
<span class='texttt'>{}</span>
shall not be used as the <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>
for an array of unknown bound.<a class='footnotenum' href='#footnote-105'>105</a>
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
A default member initializer does not determine the bound for a member
array of unknown bound.  Since the default member initializer is
ignored if a suitable <i ><a href='class.base.init#nt:mem-initializer'>mem-initializer</a></i> is present
(<a href='class.base.init'>[class.base.init]</a>), the default member initializer is not
considered to initialize the array of unknown bound.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
struct S {
  int y[] = { 0 };          <span class='comment'>// error: non-static data member of incomplete type
</span>};</pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init.aggr-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3038'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
Static data members and unnamed bit-fields are not considered
elements of the aggregate.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
struct A {
  int i;
  static int s;
  int j;
  int :17;
  int k;
} a = { 1, 2, 3 };</pre><p >Here, the second initializer 2 initializes
<span class='texttt'>a.j</span>
and not the static data member
<span class='texttt'>A&#x200b;::&#x200b;s</span>, and the third initializer 3 initializes <span class='texttt'>a.k</span>
and not the unnamed bit-field before it.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init.aggr-7'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3062'>#</a></div><p >An
<i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i>
is ill-formed if the number of
<i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>s 
exceeds the number of elements to initialize.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
char cv[4] = { 'a', 's', 'd', 'f', 0 };     <span class='comment'>// error
</span></pre><p >is ill-formed.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init.aggr-8'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3077'>#</a></div><p >If there are fewer <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>s in the list than there
are elements in the aggregate, then each element not explicitly initialized
shall be initialized from its default member initializer (<a href='class.mem'>[class.mem]</a>) or,
if there is no default member initializer, from an empty
initializer list (<a href='dcl.init.list'>[dcl.init.list]</a>).
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
struct S { int a; const char* b; int c; int d = b[a]; };
S ss = { 1, "asdf" };</pre><p >initializes
<span class='texttt'>ss.a</span>
with 1,
<span class='texttt'>ss.b</span>
with <span class='texttt'>"asdf"</span>,
<span class='texttt'>ss.c</span>
with the value of an expression of the form
<span class='texttt'>int{}</span>
(that is, <span class='texttt'>0</span>), and <span class='texttt'>ss.d</span> with the value of <span class='texttt'>ss.b[ss.a]</span>
(that is, <span class='texttt'>'s'</span>), and in</p><pre class='codeblock'>
struct X { int i, j, k = 42; };
X a[] = { 1, 2, 3, 4, 5, 6 };
X b[2] = { { 1, 2, 3 }, { 4, 5, 6 } };</pre><p ><span class='texttt'>a</span> and <span class='texttt'>b</span> have the same value
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init.aggr-9'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3110'>#</a></div><p >If a reference member is initialized from its default member initializer
and a potentially-evaluated subexpression thereof is an aggregate
initialization that would use that default member initializer,
the program is ill-formed.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
  struct A;
  extern A a;
  struct A {
    const A&amp; a1 { A{a,a} };     <span class='comment'>// OK
</span>    const A&amp; a2 { A{} };        <span class='comment'>// error
</span>  };
  A a{a,a};                     <span class='comment'>// OK
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init.aggr-10'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3127'>#</a></div><p >If an aggregate class <span class='texttt'>C</span> contains a subaggregate element
<span class='texttt'>e</span> with no elements,
the <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i> for <span class='texttt'>e</span> shall not be
omitted from an <i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i> for an object of type
<span class='texttt'>C</span> unless the <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>s for all
elements of <span class='texttt'>C</span> following <span class='texttt'>e</span> are also omitted.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
struct S { } s;
struct A {
  S s1;
  int i1;
  S s2;
  int i2;
  S s3;
  int i3;
} a = {
  { },              <span class='comment'>// Required initialization
</span>  0,
  s,                <span class='comment'>// Required initialization
</span>  0
};                  <span class='comment'>// Initialization not required for <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;s3</span> because <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;i3</span> is also not initialized
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init.aggr-11'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3153'>#</a></div><p >If an incomplete or empty
<i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i>
leaves a member of reference type uninitialized, the program is ill-formed.</p></div><div class='para' id='dcl.init.aggr-12'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3158'>#</a></div><p >When initializing a multi-dimensional array,
the
<i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>s
initialize the elements with the last (rightmost) index of the array
varying the fastest (<a href='dcl.array'>[dcl.array]</a>).
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
int x[2][2] = { 3, 1, 4, 2 };</pre><p >initializes
<span class='texttt'>x[0][0]</span>
to
<span class='texttt'>3</span>,
<span class='texttt'>x[0][1]</span>
to
<span class='texttt'>1</span>,
<span class='texttt'>x[1][0]</span>
to
<span class='texttt'>4</span>,
and
<span class='texttt'>x[1][1]</span>
to
<span class='texttt'>2</span>.
On the other hand,</p><pre class='codeblock'>
float y[4][3] = {
  { 1 }, { 2 }, { 3 }, { 4 }
};</pre><p >initializes the first column of
<span class='texttt'>y</span>
(regarded as a two-dimensional array)
and leaves the rest zero.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init.aggr-13'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3198'>#</a></div><p >Braces can be elided in an
<i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i>
as follows.
If the
<i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i>
begins with a left brace,
then the succeeding comma-separated list of
<i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>s
initializes the elements of a subaggregate;
it is erroneous for there to be more
<i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>s
than elements.
If, however, the
<i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i>
for a subaggregate does not begin with a left brace,
then only enough
<i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>s
from the list are taken to initialize the elements of the subaggregate;
any remaining
<i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>s
are left to initialize the next element of the aggregate
of which the current subaggregate is an element.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
float y[4][3] = {
  { 1, 3, 5 },
  { 2, 4, 6 },
  { 3, 5, 7 },
};</pre><p >is a completely-braced initialization:
1, 3, and 5 initialize the first row of the array
<span class='texttt'>y[0]</span>,
namely
<span class='texttt'>y[0][0]</span>,
<span class='texttt'>y[0][1]</span>,
and
<span class='texttt'>y[0][2]</span>.
Likewise the next two lines initialize
<span class='texttt'>y[1]</span>
and
<span class='texttt'>y[2]</span>.
The initializer ends early and therefore
<span class='texttt'>y[3]</span>s
elements are initialized as if explicitly initialized with an
expression of the form
<span class='texttt'>float()</span>,
that is, are initialized with
<span class='texttt'>0.0</span>.
In the following example, braces in the
<i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i>
are elided;
however the
<i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i>
has the same effect as the completely-braced
<i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i>
of the above example,</p><pre class='codeblock'>
float y[4][3] = {
  1, 3, 5, 2, 4, 6, 3, 5, 7
};</pre><p >The initializer for
<span class='texttt'>y</span>
begins with a left brace, but the one for
<span class='texttt'>y[0]</span>
does not,
therefore three elements from the list are used.
Likewise the next three are taken successively for
<span class='texttt'>y[1]</span>
and
<span class='texttt'>y[2]</span>.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init.aggr-14'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3277'>#</a></div><p >All implicit type conversions (Clause <a href='conv'>[conv]</a>) are considered when
initializing the element with an <i ><a href='expr.ass#nt:assignment-expression'>assignment-expression</a></i>.
If the
<i ><a href='expr.ass#nt:assignment-expression'>assignment-expression</a></i>
can initialize an element, the element is initialized.
Otherwise, if the element is itself a subaggregate,
brace elision is assumed and the
<i ><a href='expr.ass#nt:assignment-expression'>assignment-expression</a></i>
is considered for the initialization of the first element of the subaggregate.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> As specified above, brace elision cannot apply to
subaggregates with no elements; an
<i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i> for the entire subobject is
required.<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
struct A {
  int i;
  operator int();
};
struct B {
  A a1, a2;
  int z;
};
A a;
B b = { 4, a, a };</pre><p >Braces are elided around the
<i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>
for
<span class='texttt'>b.a1.i</span>.
<span class='texttt'>b.a1.i</span>
is initialized with 4,
<span class='texttt'>b.a2</span>
is initialized with
<span class='texttt'>a</span>,
<span class='texttt'>b.z</span>
is initialized with whatever
<span class='texttt'>a.operator int()</span>
returns.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init.aggr-15'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3322'>#</a></div><p ><span class='indexparent'><a class='index' id='initialization,array_of_class_objects'></a></span>[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
An aggregate array or an aggregate class may contain elements of a
class type with a user-provided constructor (<a href='class.ctor'>[class.ctor]</a>).
Initialization of these aggregate objects is described in <a href='class.expl.init'>[class.expl.init]</a>.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init.aggr-16'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3330'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
Whether the initialization of aggregates with static storage duration
is static or dynamic is specified
in <a href='basic.start.static'>[basic.start.static]</a>, <a href='basic.start.dynamic'>[basic.start.dynamic]</a>, and <a href='stmt.dcl'>[stmt.dcl]</a>.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init.aggr-17'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3337'>#</a></div><p ><span class='indexparent'><a class='index' id='initialization,union'></a></span>When a union is initialized with a brace-enclosed initializer,
the braces shall only contain an
<i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>
for the first non-static data member of the union.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
union u { int a; const char* b; };
u a = { 1 };
u b = a;
u c = 1;                        <span class='comment'>// error
</span>u d = { 0, "asdf" };            <span class='comment'>// error
</span>u e = { "asdf" };               <span class='comment'>// error
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init.aggr-18'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.aggr-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3355'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
As described above,
the braces around the
<i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>
for a union member can be omitted if the
union is a member of another aggregate.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='footnote' id='footnote-105'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-105'>105)</a></div><p >The syntax provides for empty
<i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i>s,
but nonetheless C++ does not have zero length arrays.</p></div></div><div id='dcl.init.string'><h3 ><a class='secnum' href='#dcl.init.string' style='min-width:103pt'>8.6.2</a> Character arrays <a class='abbr_ref' href='dcl.init.string'>[dcl.init.string]</a></h3><p ><span class='indexparent'><a class='index' id='initialization,character_array'></a></span></p><div class='para' id='dcl.init.string-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.string-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3367'>#</a></div><p >An array of narrow character type (<a href='basic.fundamental'>[basic.fundamental]</a>),
<span class='texttt'>char16_&shy;t</span> array,
<span class='texttt'>char32_&shy;t</span> array,
or <span class='texttt'>wchar_&shy;t</span> array
can be initialized by a
narrow string literal, <span class='texttt'>char16_&shy;t</span> string literal, <span class='texttt'>char32_&shy;t</span> string
literal, or wide string literal,
respectively, or by an appropriately-typed string literal enclosed in
braces (<a href='lex.string'>[lex.string]</a>).
<span class='indexparent'><a class='index' id='initialization,character_array'></a></span>Successive
characters of the
value of the string literal
initialize the elements of the array.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
char msg[] = "Syntax error on line %s\n";</pre><p >shows a character array whose members are initialized
with a
<i ><a href='lex.string#nt:string-literal'>string-literal</a></i>.
Note that because
<span class='texttt'>'\n'</span>
is a single character and
because a trailing
<span class='texttt'>'\0'</span>
is appended,
<span class='texttt'>sizeof(msg)</span>
is
<span class='texttt'>25</span>.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init.string-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.string-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3402'>#</a></div><p >There shall not be more initializers than there are array elements.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
char cv[4] = "asdf";            <span class='comment'>// error
</span></pre><p >is ill-formed since there is no space for the implied trailing
<span class='texttt'>'\0'</span>.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init.string-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.string-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3414'>#</a></div><p >If there are fewer initializers than there are array elements, each element not
explicitly initialized shall be <a href='dcl.init#def:zero-initialization'>zero-initialized</a>.</p></div></div><div id='dcl.init.ref'><h3 ><a class='secnum' href='#dcl.init.ref' style='min-width:103pt'>8.6.3</a> References <a class='abbr_ref' href='dcl.init.ref'>[dcl.init.ref]</a></h3><p ><span class='indexparent'><a class='index' id='initialization,reference'></a></span></p><div class='para' id='dcl.init.ref-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.ref-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3421'>#</a></div><p >A variable whose declared type is
<a href='dcl.ref'>“reference to type <span class='texttt'>T</span>”</a>
shall be initialized.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
int g(int) noexcept;
void f() {
  int i;
  int&amp; r = i;                   <span class='comment'>// <span class='tcode_in_codeblock'>r</span> refers to <span class='tcode_in_codeblock'>i</span>
</span>  r = 1;                        <span class='comment'>// the value of <span class='tcode_in_codeblock'>i</span> becomes <span class='tcode_in_codeblock'>1</span>
</span>  int* p = &amp;r;                  <span class='comment'>// <span class='tcode_in_codeblock'>p</span> points to <span class='tcode_in_codeblock'>i</span>
</span>  int&amp; rr = r;                  <span class='comment'>// <span class='tcode_in_codeblock'>rr</span> refers to what <span class='tcode_in_codeblock'>r</span> refers to, that is, to <span class='tcode_in_codeblock'>i</span>
</span>  int (&amp;rg)(int) = g;           <span class='comment'>// <span class='tcode_in_codeblock'>rg</span> refers to the function <span class='tcode_in_codeblock'>g</span>
</span>  rg(i);                        <span class='comment'>// calls function <span class='tcode_in_codeblock'>g</span>
</span>  int a[3];
  int (&amp;ra)[3] = a;             <span class='comment'>// <span class='tcode_in_codeblock'>ra</span> refers to the array <span class='tcode_in_codeblock'>a</span>
</span>  ra[1] = i;                    <span class='comment'>// modifies <span class='tcode_in_codeblock'>a[1]</span>
</span>}</pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init.ref-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.ref-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3444'>#</a></div><p >A reference cannot be changed to refer to another object after initialization.
<span class='indexparent'><a class='index' id='assignment,reference'></a></span>[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
Assignment to a reference assigns to the object referred to by the reference (<a href='expr.ass'>[expr.ass]</a>).
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]
<span class='indexparent'><a class='index' id='argument_passing,reference_and'></a></span><a href='expr.call'>Argument passing</a>
<span class='indexparent'><a class='index' id='return,reference_and'></a></span>and <a href='stmt.return'>function value return</a> are initializations.</p></div><div class='para' id='dcl.init.ref-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.ref-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3455'>#</a></div><p >The initializer can be omitted for a reference only in a parameter declaration
(<a href='dcl.fct'>[dcl.fct]</a>), in the declaration of a function return type, in the declaration of
a class member within its class definition (<a href='class.mem'>[class.mem]</a>), and where the
<span class='texttt'>extern</span>
specifier is explicitly used.
<span class='indexparent'><a class='index' id='declaration,extern'></a></span>[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
int&amp; r1;                        <span class='comment'>// error: initializer missing
</span>extern int&amp; r2;                 <span class='comment'>// OK
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init.ref-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.ref-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3470'>#</a></div><p >Given types “<span class='textit'>cv1</span> <span class='texttt'>T1</span>” and “<span class='textit'>cv2</span> <span class='texttt'>T2</span>”,
“<span class='textit'>cv1</span> <span class='texttt'>T1</span>” is <a class='hidden_link' href='#def:reference-related' id='def:reference-related'><i>reference-related</i></a> to
“<span class='textit'>cv2</span> <span class='texttt'>T2</span>” if
<span class='texttt'>T1</span> is the same type as <span class='texttt'>T2</span>, or
<span class='texttt'>T1</span> is a base class of <span class='texttt'>T2</span>.
“<span class='textit'>cv1</span> <span class='texttt'>T1</span>” is <a class='hidden_link' href='#def:reference-compatible' id='def:reference-compatible'><i>reference-compatible</i></a>
with “<span class='textit'>cv2</span> <span class='texttt'>T2</span>” if
</p><ul class='itemize'><li id='dcl.init.ref-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.ref-4.1'>(4.1)</a></div><p ><span class='texttt'>T1</span> is reference-related to <span class='texttt'>T2</span>, or
</p></li><li id='dcl.init.ref-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.ref-4.2'>(4.2)</a></div><p ><span class='texttt'>T2</span> is “<span class='texttt'>noexcept</span> function” and <span class='texttt'>T1</span> is “function”,
where the function types are otherwise the same,
</p></li></ul><p >and
<span class='textit'>cv1</span>
is the same cv-qualification as, or greater cv-qualification than,
<span class='textit'>cv2</span>.
In all cases where the reference-related or reference-compatible relationship
of two types is used to establish the validity of a reference binding, and
<span class='texttt'>T1</span>
is a base class of
<span class='texttt'>T2</span>,
a program that necessitates such a binding is ill-formed if
<span class='texttt'>T1</span>
is an <a href='class.access'>inaccessible</a> or ambiguous (<a href='class.member.lookup'>[class.member.lookup]</a>)
base class of
<span class='texttt'>T2</span>.</p></div><div class='para' id='dcl.init.ref-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.ref-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3498'>#</a></div><p >A reference to type “<span class='textit'>cv1</span> <span class='texttt'>T1</span>” is initialized by
an expression of type “<span class='textit'>cv2</span> <span class='texttt'>T2</span>” as follows:<span class='indexparent'><a class='index' id='binding,reference'></a></span></p><ul class='itemize'><li id='dcl.init.ref-5.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.ref-5.1'>(5.1)</a></div><p >If the reference is an lvalue reference and the initializer expression</p><ul class='itemize'><li id='dcl.init.ref-5.1.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.init.ref-5.1.1'>(5.1.1)</a></div><p >is an lvalue (but is not a
bit-field), and
“<span class='textit'>cv1</span> <span class='texttt'>T1</span>” is reference-compatible with
“<span class='textit'>cv2</span> <span class='texttt'>T2</span>”, or
</p></li><li id='dcl.init.ref-5.1.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.init.ref-5.1.2'>(5.1.2)</a></div><p >has a class type (i.e.,
<span class='texttt'>T2</span>
is a class type), where <span class='texttt'>T1</span> is not reference-related to <span class='texttt'>T2</span>, and can be converted
to an lvalue of type “<span class='textit'>cv3</span> <span class='texttt'>T3</span>”, where
“<span class='textit'>cv1</span> <span class='texttt'>T1</span>” is reference-compatible with
“<span class='textit'>cv3</span> <span class='texttt'>T3</span>”<a class='footnotenum' href='#footnote-106'>106</a>
(this conversion is selected by enumerating the applicable conversion
functions (<a href='over.match.ref'>[over.match.ref]</a>) and choosing the best one through <a href='over.match'>overload
resolution</a>),
</p></li></ul><p >then the reference is bound to the initializer expression lvalue in the
first case and to the lvalue result of the conversion
in the second case (or, in either case, to the appropriate base class subobject of the object).
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
The usual <a href='conv.lval'>lvalue-to-rvalue</a>, <a href='conv.array'>array-to-pointer</a>,
and <a href='conv.func'>function-to-pointer</a> standard
conversions are not needed, and therefore are suppressed, when such
direct bindings to lvalues are done.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
double d = 2.0;
double&amp; rd = d;                 <span class='comment'>// <span class='tcode_in_codeblock'>rd</span> refers to <span class='tcode_in_codeblock'>d</span>
</span>const double&amp; rcd = d;          <span class='comment'>// <span class='tcode_in_codeblock'>rcd</span> refers to <span class='tcode_in_codeblock'>d</span>
</span>
struct A { };
struct B : A { operator int&amp;(); } b;
A&amp; ra = b;                      <span class='comment'>// <span class='tcode_in_codeblock'>ra</span> refers to <span class='tcode_in_codeblock'>A</span> subobject in <span class='tcode_in_codeblock'>b</span>
</span>const A&amp; rca = b;               <span class='comment'>// <span class='tcode_in_codeblock'>rca</span> refers to <span class='tcode_in_codeblock'>A</span> subobject in <span class='tcode_in_codeblock'>b</span>
</span>int&amp; ir = B();                  <span class='comment'>// <span class='tcode_in_codeblock'>ir</span> refers to the result of <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;operator int&amp;</span>
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></li><li id='dcl.init.ref-5.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.ref-5.2'>(5.2)</a></div><p >Otherwise, the reference shall be an lvalue reference to a non-volatile
const type (i.e.,
<span class='textit'>cv1</span>
shall be
<span class='texttt'>const</span>), or the reference shall be an rvalue reference.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
double&amp; rd2 = 2.0;              <span class='comment'>// error: not an lvalue and reference not <span class='tcode_in_codeblock'>const</span>
</span>int  i = 2;
double&amp; rd3 = i;                <span class='comment'>// error: type mismatch and reference not <span class='tcode_in_codeblock'>const</span>
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p><ul class='itemize'><li id='dcl.init.ref-5.2.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.init.ref-5.2.1'>(5.2.1)</a></div><p >If the initializer expression</p><ul class='itemize'><li id='dcl.init.ref-5.2.1.1'><div class='marginalizedparent' style='left:-11em'><a class='marginalized' href='#dcl.init.ref-5.2.1.1'>(5.2.1.1)</a></div><p >is an rvalue (but not a bit-field) or function lvalue and
“<span class='textit'>cv1</span> <span class='texttt'>T1</span>” is
reference-compatible with “<span class='textit'>cv2</span> <span class='texttt'>T2</span>”, or</p></li><li id='dcl.init.ref-5.2.1.2'><div class='marginalizedparent' style='left:-11em'><a class='marginalized' href='#dcl.init.ref-5.2.1.2'>(5.2.1.2)</a></div><p >has a class type (i.e., <span class='texttt'>T2</span> is a class type), where <span class='texttt'>T1</span>
is not reference-related to <span class='texttt'>T2</span>, and can be converted to
an rvalue or function lvalue of type “<span class='textit'>cv3</span> <span class='texttt'>T3</span>”,
where “<span class='textit'>cv1</span> <span class='texttt'>T1</span>” is
reference-compatible with “<span class='textit'>cv3</span> <span class='texttt'>T3</span>” (see <a href='over.match.ref'>[over.match.ref]</a>),</p></li></ul><p >then
the value of the initializer expression in the first case and
the result of the conversion in the second case
is called the converted initializer.
If the converted initializer is a prvalue,
its type <span class='texttt'>T4</span> is adjusted to type “<span class='textit'>cv1</span> <span class='texttt'>T4</span>” (<a href='conv.qual'>[conv.qual]</a>)
and the <a href='conv.rval'>temporary materialization conversion</a> is applied.
In any case,
the reference is bound to the resulting glvalue
(or to an appropriate base class subobject).</p><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
struct A { };
struct B : A { } b;
extern B f();
const A&amp; rca2 = f();                <span class='comment'>// bound to the <span class='tcode_in_codeblock'>A</span> subobject of the <span class='tcode_in_codeblock'>B</span> rvalue.
</span>A&amp;&amp; rra = f();                      <span class='comment'>// same as above
</span>struct X {
  operator B();
  operator int&amp;();
} x;
const A&amp; r = x;                     <span class='comment'>// bound to the <span class='tcode_in_codeblock'>A</span> subobject of the result of the conversion
</span>int i2 = 42;
int&amp;&amp; rri = static_cast&lt;int&amp;&amp;&gt;(i2); <span class='comment'>// bound directly to <span class='tcode_in_codeblock'>i2</span>
</span>B&amp;&amp; rrb = x;                        <span class='comment'>// bound directly to the result of <span class='tcode_in_codeblock'>operator B</span>
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></li><li id='dcl.init.ref-5.2.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#dcl.init.ref-5.2.2'>(5.2.2)</a></div><p >Otherwise:
</p><ul class='itemize'><li id='dcl.init.ref-5.2.2.1'><div class='marginalizedparent' style='left:-11em'><a class='marginalized' href='#dcl.init.ref-5.2.2.1'>(5.2.2.1)</a></div><p >If <span class='texttt'>T1</span> or <span class='texttt'>T2</span> is a class type and
<span class='texttt'>T1</span> is not reference-related to <span class='texttt'>T2</span>,
user-defined conversions are considered
using the rules for copy-initialization of an object of type 
“<span class='textit'>cv1</span> <span class='texttt'>T1</span>” by
user-defined conversion
(<a href='dcl.init'>[dcl.init]</a>, <a href='over.match.copy'>[over.match.copy]</a>, <a href='over.match.conv'>[over.match.conv]</a>);
the program is ill-formed if the corresponding non-reference
copy-initialization would be ill-formed. The result of the call to the
conversion function, as described for the non-reference
copy-initialization, is then used to direct-initialize the reference.
For this direct-initialization, user-defined conversions are not considered.
</p></li><li id='dcl.init.ref-5.2.2.2'><div class='marginalizedparent' style='left:-11em'><a class='marginalized' href='#dcl.init.ref-5.2.2.2'>(5.2.2.2)</a></div><p >Otherwise,
the initializer expression is implicitly converted to a prvalue
of type “<span class='textit'>cv1</span> <span class='texttt'>T1</span>”.
The temporary materialization conversion is applied and the reference is
bound to the result.
</p></li></ul><p >If
<span class='texttt'>T1</span>
is reference-related to
<span class='texttt'>T2</span>:
</p><ul class='itemize'><li id='dcl.init.ref-5.2.2.3'><div class='marginalizedparent' style='left:-11em'><a class='marginalized' href='#dcl.init.ref-5.2.2.3'>(5.2.2.3)</a></div><p ><span class='textit'>cv1</span>
shall be the same cv-qualification as, or greater cv-qualification than,
<span class='textit'>cv2</span>; and
</p></li><li id='dcl.init.ref-5.2.2.4'><div class='marginalizedparent' style='left:-11em'><a class='marginalized' href='#dcl.init.ref-5.2.2.4'>(5.2.2.4)</a></div><p >if the reference is an rvalue reference,
the initializer expression shall not be an lvalue.
</p></li></ul><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
struct Banana { };
struct Enigma { operator const Banana(); };
struct Alaska { operator Banana&amp;(); };
void enigmatic() {
  typedef const Banana ConstBanana;
  Banana &amp;&amp;banana1 = ConstBanana(); <span class='comment'>// ill-formed
</span>  Banana &amp;&amp;banana2 = Enigma();      <span class='comment'>// ill-formed
</span>  Banana &amp;&amp;banana3 = Alaska();      <span class='comment'>// ill-formed
</span>}

const double&amp; rcd2 = 2;         <span class='comment'>// <span class='tcode_in_codeblock'>rcd2</span> refers to temporary with value <span class='tcode_in_codeblock'>2.0</span>
</span>double&amp;&amp; rrd = 2;               <span class='comment'>// <span class='tcode_in_codeblock'>rrd</span> refers to temporary with value <span class='tcode_in_codeblock'>2.0</span>
</span>const volatile int cvi = 1;
const int&amp; r2 = cvi;            <span class='comment'>// error: cv-qualifier dropped
</span>struct A { operator volatile int&amp;(); } a;
const int&amp; r3 = a;              <span class='comment'>// error: cv-qualifier dropped
</span>                                <span class='comment'>// from result of conversion function
</span>double d2 = 1.0;
double&amp;&amp; rrd2 = d2;             <span class='comment'>// error: initializer is lvalue of related type
</span>struct X { operator int&amp;(); };
int&amp;&amp; rri2 = X();               <span class='comment'>// error: result of conversion function is lvalue of related type
</span>int i3 = 2;
double&amp;&amp; rrd3 = i3;             <span class='comment'>// <span class='tcode_in_codeblock'>rrd3</span> refers to temporary with value <span class='tcode_in_codeblock'>2.0</span>
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]
</p></li></ul></li></ul><p >In all cases except the last
(i.e., implicitly converting the initializer expression
to the underlying type of the reference),
the reference is said to <a class='hidden_link' href='#def:bind_directly' id='def:bind_directly'><i>bind directly</i></a> to the
initializer expression.</p></div><div class='para' id='dcl.init.ref-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.ref-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3685'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
<a href='class.temporary'>[class.temporary]</a> describes the lifetime of temporaries bound to references.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='footnote' id='footnote-106'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-106'>106)</a></div><p >This requires a <a href='class.conv.fct'>conversion
function</a> returning a reference type.</p></div></div><div id='dcl.init.list'><h3 ><a class='secnum' href='#dcl.init.list' style='min-width:103pt'>8.6.4</a> List-initialization <a class='abbr_ref' href='dcl.init.list'>[dcl.init.list]</a></h3><p ><span class='indexparent'><a class='index' id='initialization,list-initialization'></a></span></p><div class='para' id='dcl.init.list-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.list-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3693'>#</a></div><p ><span class='grammarterm'>List-initialization</span> is initialization of an object or reference from a
<i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i>. Such an initializer is called an <a class='hidden_link' href='#def:initializer
list' id='def:initializer
list'><i>initializer
list</i></a>, and the comma-separated <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>s of the list are
called the <a class='hidden_link' href='#def:elements' id='def:elements'><i>elements</i></a> of the initializer list. An initializer list may be empty.
List-initialization can occur in direct-initialization or copy-initialization contexts;
list-initialization in a direct-initialization context is called
<span class='grammarterm'>direct-list-initialization</span> and list-initialization in a
copy-initialization context is called <span class='grammarterm'>copy-list-initialization</span>. [<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
List-initialization can be used</p><ul class='itemize'><li id='dcl.init.list-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-1.1'>(1.1)</a></div><p >as the initializer in a variable definition (<a href='dcl.init'>[dcl.init]</a>)
</p></li><li id='dcl.init.list-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-1.2'>(1.2)</a></div><p >as the initializer in a <i><a href="expr.new"#nt:new-expression">new-expression</a></i>
</p></li><li id='dcl.init.list-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-1.3'>(1.3)</a></div><p >in a <a href='stmt.return'>return statement</a>
</p></li><li id='dcl.init.list-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-1.4'>(1.4)</a></div><p >as a <i><a href="stmt.iter"#nt:for-range-initializer">for-range-initializer</a></i>
</p></li><li id='dcl.init.list-1.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-1.5'>(1.5)</a></div><p >as a function argument (<a href='expr.call'>[expr.call]</a>)
</p></li><li id='dcl.init.list-1.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-1.6'>(1.6)</a></div><p >as a <a href='expr.sub'>subscript</a>
</p></li><li id='dcl.init.list-1.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-1.7'>(1.7)</a></div><p >as an argument to a constructor invocation (<a href='dcl.init'>[dcl.init]</a>, <a href='expr.type.conv'>[expr.type.conv]</a>)
</p></li><li id='dcl.init.list-1.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-1.8'>(1.8)</a></div><p >as an initializer for a <a href='class.mem#def:non-static_data_member'>non-static data member</a>
</p></li><li id='dcl.init.list-1.9'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-1.9'>(1.9)</a></div><p >in a <i><a href="class.base.init"#nt:mem-initializer">mem-initializer</a></i>
</p></li><li id='dcl.init.list-1.10'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-1.10'>(1.10)</a></div><p >on the right-hand side of an <a href='expr.ass'>assignment</a>
</p></li></ul><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
int a = {1};
std::complex&lt;double&gt; z{1,2};
new std::vector&lt;std::string&gt;{"once", "upon", "a", "time"};  <span class='comment'>// 4 string elements
</span>f( {"Nicholas","Annemarie"} );  <span class='comment'>// pass list of two elements
</span>return { "Norah" };             <span class='comment'>// return list of one element
</span>int* e {};                      <span class='comment'>// initialization to zero / null pointer
</span>x = double{1};                  <span class='comment'>// explicitly construct a <span class='tcode_in_codeblock'>double</span> 
</span>std::map&lt;std::string,int&gt; anim = { {"bear",4}, {"cassowary",2}, {"tiger",7} };</pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>] <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init.list-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.list-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3730'>#</a></div><p >A constructor is an <span class='grammarterm'>initializer-list constructor</span> if its first parameter is
of type <span class='texttt'>std&#x200b;::&#x200b;initializer_&shy;list&lt;E&gt;</span> or reference to possibly cv-qualified
<span class='texttt'>std&#x200b;::&#x200b;initializer_&shy;list&lt;E&gt;</span> for some type <span class='texttt'>E</span>, and either there are no other
parameters or else all other parameters have default arguments (<a href='dcl.fct.default'>[dcl.fct.default]</a>).
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> Initializer-list constructors are favored over other constructors in
list-initialization (<a href='over.match.list'>[over.match.list]</a>). Passing an initializer list as the argument
to the constructor template <span class='texttt'>template&lt;class T&gt; C(T)</span> of a class <span class='texttt'>C</span> does not
create an initializer-list constructor, because an initializer list argument causes the 
corresponding parameter to be a non-deduced context (<a href='temp.deduct.call'>[temp.deduct.call]</a>). <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]
The template
<span class='texttt'>std&#x200b;::&#x200b;initializer_&shy;list</span> is not predefined; if the header
<span class='texttt'>&lt;initializer_&shy;list&gt;</span> is not included prior to a use of
<span class='texttt'>std&#x200b;::&#x200b;initializer_&shy;list</span> — even an implicit use in which the type is not
named (<a href='dcl.spec.auto'>[dcl.spec.auto]</a>) — the program is ill-formed.</p></div><div class='para' id='dcl.init.list-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.list-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3746'>#</a></div><p >List-initialization of an object or reference of type <span class='texttt'>T</span> is defined as follows:
</p><ul class='itemize'><li id='dcl.init.list-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-3.1'>(3.1)</a></div><p >If <span class='texttt'>T</span> is an aggregate class and the initializer list has a single element
of type <span class='textit'>cv</span> <span class='texttt'>U</span>,
where <span class='texttt'>U</span> is <span class='texttt'>T</span> or a class derived from <span class='texttt'>T</span>,
the object is initialized from that element (by copy-initialization for
copy-list-initialization, or by direct-initialization for
direct-list-initialization).</p></li><li id='dcl.init.list-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-3.2'>(3.2)</a></div><p >Otherwise, if <span class='texttt'>T</span> is a character array and the initializer list has a
single element that is an appropriately-typed string literal (<a href='dcl.init.string'>[dcl.init.string]</a>),
initialization is performed as described in that section.</p></li><li id='dcl.init.list-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-3.3'>(3.3)</a></div><p >Otherwise, if <span class='texttt'>T</span> is an aggregate, aggregate initialization is
performed (<a href='dcl.init.aggr'>[dcl.init.aggr]</a>).</p><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
double ad[] = { 1, 2.0 };           <span class='comment'>// OK
</span>int ai[] = { 1, 2.0 };              <span class='comment'>// error: narrowing
</span>
struct S2 {
  int m1;
  double m2, m3;
};
S2 s21 = { 1, 2, 3.0 };             <span class='comment'>// OK
</span>S2 s22 { 1.0, 2, 3 };               <span class='comment'>// error: narrowing
</span>S2 s23 { };                         <span class='comment'>// OK: default to 0,0,0
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></li><li id='dcl.init.list-3.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-3.4'>(3.4)</a></div><p >Otherwise, if the initializer list has no elements and <span class='texttt'>T</span> is a class type with a
default constructor, the object is value-initialized.</p></li><li id='dcl.init.list-3.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-3.5'>(3.5)</a></div><p >Otherwise, if <span class='texttt'>T</span> is a specialization of <span class='texttt'>std&#x200b;::&#x200b;initializer_&shy;list&lt;E&gt;</span>,
the object is constructed as described below.</p></li><li id='dcl.init.list-3.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-3.6'>(3.6)</a></div><p >Otherwise, if <span class='texttt'>T</span> is a class type, constructors are considered.
The applicable constructors are enumerated and
the best one is chosen through overload resolution (<a href='over.match'>[over.match]</a>, <a href='over.match.list'>[over.match.list]</a>). If a narrowing
conversion (see below) is required to convert any of the arguments, the program is
ill-formed.</p><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
struct S {
  S(std::initializer_list&lt;double&gt;); <span class='comment'>// #1
</span>  S(std::initializer_list&lt;int&gt;);    <span class='comment'>// #2
</span>  S();                              <span class='comment'>// #3
</span>  <span class='comment'>// ...
</span>};
S s1 = { 1.0, 2.0, 3.0 };           <span class='comment'>// invoke #1
</span>S s2 = { 1, 2, 3 };                 <span class='comment'>// invoke #2
</span>S s3 = { };                         <span class='comment'>// invoke #3
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
struct Map {
  Map(std::initializer_list&lt;std::pair&lt;std::string,int&gt;&gt;);
};
Map ship = {{"Sophie",14}, {"Surprise",28}};</pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
struct S {
  <span class='comment'>// no initializer-list constructors
</span>  S(int, double, double);           <span class='comment'>// #1
</span>  S();                              <span class='comment'>// #2
</span>  <span class='comment'>// ...
</span>};
S s1 = { 1, 2, 3.0 };               <span class='comment'>// OK: invoke #1
</span>S s2 { 1.0, 2, 3 };                 <span class='comment'>// error: narrowing
</span>S s3 { };                           <span class='comment'>// OK: invoke #2
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></li><li id='dcl.init.list-3.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-3.7'>(3.7)</a></div><p >Otherwise, if
the initializer list has a single element of type <span class='texttt'>E</span> and either
<span class='texttt'>T</span> is not a reference type or its referenced type is
reference-related to <span class='texttt'>E</span>, the object or reference is initialized
from that element (by copy-initialization for copy-list-initialization,
or by direct-initialization for direct-list-initialization);
if a narrowing conversion (see below) is required
to convert the element to <span class='texttt'>T</span>, the program is ill-formed.</p><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
int x1 {2};                         <span class='comment'>// OK
</span>int x2 {2.0};                       <span class='comment'>// error: narrowing
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></li><li id='dcl.init.list-3.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-3.8'>(3.8)</a></div><p >Otherwise, if <span class='texttt'>T</span> is a reference type, a prvalue of the type
referenced by <span class='texttt'>T</span> is generated.
The prvalue initializes its result object by
copy-list-initialization or direct-list-initialization,
depending on the kind of initialization for the reference.
The prvalue is then used to direct-initialize the reference.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> As usual, the binding will fail and the program is ill-formed if
the reference type is an lvalue reference to a non-const type. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
struct S {
  S(std::initializer_list&lt;double&gt;); <span class='comment'>// #1
</span>  S(const std::string&amp;);            <span class='comment'>// #2
</span>  <span class='comment'>// ...
</span>};
const S&amp; r1 = { 1, 2, 3.0 };        <span class='comment'>// OK: invoke #1
</span>const S&amp; r2 { "Spinach" };          <span class='comment'>// OK: invoke #2
</span>S&amp; r3 = { 1, 2, 3 };                <span class='comment'>// error: initializer is not an lvalue
</span>const int&amp; i1 = { 1 };              <span class='comment'>// OK
</span>const int&amp; i2 = { 1.1 };            <span class='comment'>// error: narrowing
</span>const int (&amp;iar)[2] = { 1, 2 };     <span class='comment'>// OK: <span class='tcode_in_codeblock'>iar</span> is bound to temporary array
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></li><li id='dcl.init.list-3.9'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-3.9'>(3.9)</a></div><p >Otherwise, if <span class='texttt'>T</span> is an enumeration
with a fixed underlying type (<a href='dcl.enum'>[dcl.enum]</a>),
the <i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i> has a single element <span class='texttt'>v</span>, and
the initialization is direct-list-initialization,
the object is initialized with the value <span class='texttt'>T(v)</span> (<a href='expr.type.conv'>[expr.type.conv]</a>);
if a narrowing conversion is required to convert <span class='texttt'>v</span>
to the underlying type of <span class='texttt'>T</span>, the program is ill-formed.</p><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
enum byte : unsigned char { };
byte b { 42 };                      <span class='comment'>// OK
</span>byte c = { 42 };                    <span class='comment'>// error
</span>byte d = byte{ 42 };                <span class='comment'>// OK; same value as <span class='tcode_in_codeblock'>b</span>
</span>byte e { -1 };                      <span class='comment'>// error
</span>
struct A { byte b; };
A a1 = { { 42 } };                  <span class='comment'>// error
</span>A a2 = { byte{ 42 } };              <span class='comment'>// OK
</span>
void f(byte);
f({ 42 });                          <span class='comment'>// error
</span>
enum class Handle : uint32_t { Invalid = 0 };
Handle h { 42 };                    <span class='comment'>// OK
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></li><li id='dcl.init.list-3.10'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-3.10'>(3.10)</a></div><p >Otherwise, if the initializer list has no elements, the object is
value-initialized.</p><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
int** pp {};                        <span class='comment'>// initialized to null pointer
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></li><li id='dcl.init.list-3.11'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-3.11'>(3.11)</a></div><p >Otherwise, the program is ill-formed.</p><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
struct A { int i; int j; };
A a1 { 1, 2 };                      <span class='comment'>// aggregate initialization 
</span>A a2 { 1.2 };                       <span class='comment'>// error: narrowing
</span>struct B {
  B(std::initializer_list&lt;int&gt;);
};
B b1 { 1, 2 };                      <span class='comment'>// creates <span class='tcode_in_codeblock'>initializer_&shy;list&lt;int&gt;</span> and calls constructor
</span>B b2 { 1, 2.0 };                    <span class='comment'>// error: narrowing
</span>struct C {
  C(int i, double j);
};
C c1 = { 1, 2.2 };                  <span class='comment'>// calls constructor with arguments (1, 2.2) 
</span>C c2 = { 1.1, 2 };                  <span class='comment'>// error: narrowing
</span>
int j { 1 };                        <span class='comment'>// initialize to 1
</span>int k { };                          <span class='comment'>// initialize to 0
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></li></ul></div><div class='para' id='dcl.init.list-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.list-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3931'>#</a></div><p >Within the <i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i> of a <i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i>,
the <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>s, including any that result from pack
expansions (<a href='temp.variadic'>[temp.variadic]</a>), are evaluated in the order in which they
appear. That is, every value computation and side effect associated with a
given <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i> is sequenced before every value
computation and side effect associated with any <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>
that follows it in the comma-separated list of the <i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i>.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> This evaluation ordering holds regardless of the semantics of the
initialization; for example, it applies when the elements of the
<i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i> are interpreted as arguments of a constructor
call, even though ordinarily there are no sequencing constraints on the
arguments of a call. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init.list-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.list-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3945'>#</a></div><p >An object of type <span class='texttt'>std&#x200b;::&#x200b;initializer_&shy;list&lt;E&gt;</span> is constructed from
an initializer list as if
the implementation generated and materialized (<a href='conv.rval'>[conv.rval]</a>)
a prvalue of type “array of <span class='math'><span class='mathalpha'>N</span></span> <span class='texttt'>const E</span>”,
where <span class='math'><span class='mathalpha'>N</span></span> is the number of elements in the
initializer list. Each element of that array is copy-initialized with the
corresponding element of the initializer list, and the
<span class='texttt'>std&#x200b;::&#x200b;initializer_&shy;list&lt;E&gt;</span> object is constructed to refer to that array.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> A constructor or conversion function selected for the copy shall be
accessible (Clause <a href='class.access'>[class.access]</a>) in the context of the initializer list.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]
If a narrowing conversion is required to initialize any of the elements, the program is ill-formed. [<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>
</p><pre class='codeblock'>
struct X {
  X(std::initializer_list&lt;double&gt; v);
};
X x{ 1,2,3 };</pre><p >The initialization will be implemented in a way roughly equivalent to this:</p><pre class='codeblock'>
const double __a[3] = {double{1}, double{2}, double{3}};
X x(std::initializer_list&lt;double&gt;(__a, __a+3));</pre><p >assuming that the implementation can construct an <span class='texttt'>initializer_&shy;list</span> object with a pair of pointers. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init.list-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.list-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L3974'>#</a></div><p >The array has the same lifetime as any other temporary
object (<a href='class.temporary'>[class.temporary]</a>), except that initializing an
<span class='texttt'>initializer_&shy;list</span> object from the array extends the lifetime of
the array exactly like binding a reference to a temporary.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
typedef std::complex&lt;double&gt; cmplx;
std::vector&lt;cmplx&gt; v1 = { 1, 2, 3 };

void f() {
  std::vector&lt;cmplx&gt; v2{ 1, 2, 3 };
  std::initializer_list&lt;int&gt; i3 = { 1, 2, 3 };
}

struct A {
  std::initializer_list&lt;int&gt; i4;
  A() : i4{ 1, 2, 3 } {}  <span class='comment'>// ill-formed, would create a dangling reference
</span>};</pre><p >For <span class='texttt'>v1</span> and <span class='texttt'>v2</span>, the <span class='texttt'>initializer_&shy;list</span> object
is a parameter in a function call, so the array created for
<span class='texttt'>{ 1, 2, 3 }</span> has full-expression lifetime.
For <span class='texttt'>i3</span>, the <span class='texttt'>initializer_&shy;list</span> object is a variable,
so the array persists for the lifetime of the variable.
For <span class='texttt'>i4</span>, the <span class='texttt'>initializer_&shy;list</span> object is initialized in
the constructor's <i ><a href='class.base.init#nt:ctor-initializer'>ctor-initializer</a></i> as if by binding
a temporary array to a reference member, so the program is
ill-formed (<a href='class.base.init'>[class.base.init]</a>).
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
The implementation is free to allocate the array in read-only memory if an explicit array with the same initializer could be so allocated. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='dcl.init.list-7'><div class='marginalizedparent'><a class='marginalized' href='#dcl.init.list-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/fa6ac2cd9891439072e49bb10f0f14b4484938d4/source/declarators.tex#L4009'>#</a></div><p >A
<span class='indexparent'><a class='index' id='conversion,narrowing'></a></span><a class='hidden_link' href='#def:narrowing_conversion' id='def:narrowing_conversion'><i>narrowing conversion</i></a> is an implicit conversion</p><ul class='itemize'><li id='dcl.init.list-7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-7.1'>(7.1)</a></div><p >from a floating-point type to an integer type, or</p></li><li id='dcl.init.list-7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-7.2'>(7.2)</a></div><p >from <span class='texttt'>long double</span> to <span class='texttt'>double</span> or <span class='texttt'>float</span>, or from
<span class='texttt'>double</span> to <span class='texttt'>float</span>, except where the source is a constant expression and
the actual value after conversion
is within the range of values that can be represented (even if it cannot be represented exactly),
or</p></li><li id='dcl.init.list-7.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-7.3'>(7.3)</a></div><p >from an integer type or unscoped enumeration type to a floating-point type, except
where the source is a constant expression and the actual value after conversion will fit
into the target type and will produce the original value when converted back to the
original type, or</p></li><li id='dcl.init.list-7.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.init.list-7.4'>(7.4)</a></div><p >from an integer type or unscoped enumeration type to an integer type that cannot
represent all the values of the original type, except where the source is a constant
expression whose value after integral promotions will fit into the target type.
</p></li></ul><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> As indicated above, such conversions are not allowed at the top level in
list-initializations.<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>] [<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span></p><pre class='codeblock'>
int x = 999;              <span class='comment'>// <span class='tcode_in_codeblock'>x</span> is not a constant expression
</span>const int y = 999;
const int z = 99;
char c1 = x;              <span class='comment'>// OK, though it might narrow (in this case, it does narrow)
</span>char c2{x};               <span class='comment'>// error: might narrow
</span>char c3{y};               <span class='comment'>// error: narrows (assuming <span class='tcode_in_codeblock'>char</span> is 8 bits)
</span>char c4{z};               <span class='comment'>// OK: no narrowing needed
</span>unsigned char uc1 = {5};  <span class='comment'>// OK: no narrowing needed
</span>unsigned char uc2 = {-1}; <span class='comment'>// error: narrows
</span>unsigned int ui1 = {-1};  <span class='comment'>// error: narrows
</span>signed int si1 =
  { (unsigned int)-1 };   <span class='comment'>// error: narrows
</span>int ii = {2.0};           <span class='comment'>// error: narrows
</span>float f1 { x };           <span class='comment'>// error: might narrow
</span>float f2 { 7 };           <span class='comment'>// OK: 7 can be exactly represented as a <span class='tcode_in_codeblock'>float</span>
</span>int f(int);
int a[] =
  { 2, f(2), f(2.0) };    <span class='comment'>// OK: the <span class='tcode_in_codeblock'>double</span>-to-<span class='tcode_in_codeblock'>int</span> conversion is not at the top level
</span></pre><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div></div></div></div></body></html>