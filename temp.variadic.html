<!DOCTYPE html><html lang='en'><head><title>[temp.variadic]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>17</a> Templates <a class='abbr_ref' href='./#temp'>[temp]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>17.6</a> Template declarations <a class='abbr_ref' href='temp.decls#temp.variadic'>[temp.decls]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>17.6.3</a> Variadic templates <a class='abbr_ref'>[temp.variadic]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e3b4927ea0f4e8c8bf1f7461226c729b4e2c00be/source/templates.tex#L2516'>#</a></div><div id='1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:template_parameter_pack' id='def:template_parameter_pack'><i >template parameter pack</i></a> is a template parameter
that accepts zero or more template arguments<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class ... Types&gt; struct Tuple { };

Tuple&lt;&gt; t0;                     <span class='comment'>// <span class='tcode_in_codeblock'>Types</span> contains no arguments
</span>Tuple&lt;int&gt; t1;                  <span class='comment'>// <span class='tcode_in_codeblock'>Types</span> contains one argument: <span class='tcode_in_codeblock'>int</span>
</span>Tuple&lt;int, float&gt; t2;           <span class='comment'>// <span class='tcode_in_codeblock'>Types</span> contains two arguments: <span class='tcode_in_codeblock'>int</span> and <span class='tcode_in_codeblock'>float</span>
</span>Tuple&lt;0&gt; error;                 <span class='comment'>// error: <span class='tcode_in_codeblock'>0</span> is not a type
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e3b4927ea0f4e8c8bf1f7461226c729b4e2c00be/source/templates.tex#L2531'>#</a></div><div id='2.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:function_parameter_pack' id='def:function_parameter_pack'><i >function parameter pack</i></a> is a function parameter
that accepts zero or more function arguments<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class ... Types&gt; void f(Types ... args);

f();                            <span class='comment'>// OK: <span class='tcode_in_codeblock'>args</span> contains no arguments
</span>f(1);                           <span class='comment'>// OK: <span class='tcode_in_codeblock'>args</span> contains one argument: <span class='tcode_in_codeblock'>int</span>
</span>f(2, 1.0);                      <span class='comment'>// OK: <span class='tcode_in_codeblock'>args</span> contains two arguments: <span class='tcode_in_codeblock'>int</span> and <span class='tcode_in_codeblock'>double</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e3b4927ea0f4e8c8bf1f7461226c729b4e2c00be/source/templates.tex#L2545'>#</a></div><div id='3.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:parameter_pack' id='def:parameter_pack'><i >parameter pack</i></a> is either a template parameter
pack or a function parameter pack<a class='hidden_link' href='#3.sentence-1'>.</a></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e3b4927ea0f4e8c8bf1f7461226c729b4e2c00be/source/templates.tex#L2549'>#</a></div><div id='4.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:pack_expansion' id='def:pack_expansion'><i >pack expansion</i></a>
consists of a <a class='hidden_link' href='#def:pack_expansion,pattern' id='def:pack_expansion,pattern'><i >pattern</i></a> and an ellipsis, the instantiation of which
produces zero or more instantiations of the pattern in a list (described below)<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>The form of the pattern
depends on the context in which the expansion occurs<a class='hidden_link' href='#4.sentence-2'>.</a></div> <div id='4.sentence-3' class='sentence'>Pack
expansions can occur in the following contexts:</div><div id='4.sentence-4' class='sentence'><ul class='itemize'><li id='4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#4.1'>(4.1)</a></div><div id='4.1.sentence-1' class='sentence'>In a function parameter pack (<a href='dcl.fct'>[dcl.fct]</a>); the pattern is the
<i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i> without the ellipsis<a class='hidden_link' href='#4.1.sentence-1'>.</a></div></li><li id='4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#4.2'>(4.2)</a></div><div id='4.2.sentence-1' class='sentence'>In a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> (<a href='namespace.udecl'>[namespace.udecl]</a>);
the pattern is a <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i><a class='hidden_link' href='#4.2.sentence-1'>.</a></div></li><li id='4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#4.3'>(4.3)</a></div><div id='4.3.sentence-1' class='sentence'>In a template parameter pack that is a pack expansion (<a href='temp.param'>[temp.param]</a>):</div><div id='4.3.sentence-2' class='sentence'><ul class='itemize'><li id='4.3.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#4.3.1'>(4.3.1)</a></div><div id='4.3.1.sentence-1' class='sentence'>if the template parameter pack is a <i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i>;
the pattern is the <i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i> without the ellipsis;</div></li><li id='4.3.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#4.3.2'>(4.3.2)</a></div><div id='4.3.2.sentence-1' class='sentence'>if the template parameter pack is a <i ><a href='temp.param#nt:type-parameter'>type-parameter</a></i> with a
<i ><a href='temp#nt:template-parameter-list'>template-parameter-list</a></i>; the pattern is the corresponding
<i ><a href='temp.param#nt:type-parameter'>type-parameter</a></i> without the ellipsis<a class='hidden_link' href='#4.3.2.sentence-1'>.</a></div></li></ul></div></li><li id='4.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#4.4'>(4.4)</a></div><div id='4.4.sentence-1' class='sentence'>In an <i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i> (<a href='dcl.init'>[dcl.init]</a>);
the pattern is an <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i><a class='hidden_link' href='#4.4.sentence-1'>.</a></div></li><li id='4.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#4.5'>(4.5)</a></div><div id='4.5.sentence-1' class='sentence'>In a <i ><a href='class.derived#nt:base-specifier-list'>base-specifier-list</a></i> (<a href='class.derived'>[class.derived]</a>);
the pattern is a <i ><a href='class.derived#nt:base-specifier'>base-specifier</a></i><a class='hidden_link' href='#4.5.sentence-1'>.</a></div></li><li id='4.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#4.6'>(4.6)</a></div><div id='4.6.sentence-1' class='sentence'>In a <i ><a href='class.base.init#nt:mem-initializer-list'>mem-initializer-list</a></i> (<a href='class.base.init'>[class.base.init]</a>) for a
<i ><a href='class.base.init#nt:mem-initializer'>mem-initializer</a></i> whose <i ><a href='class.base.init#nt:mem-initializer-id'>mem-initializer-id</a></i> denotes a
base class; the pattern is the <i ><a href='class.base.init#nt:mem-initializer'>mem-initializer</a></i><a class='hidden_link' href='#4.6.sentence-1'>.</a></div></li><li id='4.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#4.7'>(4.7)</a></div><div id='4.7.sentence-1' class='sentence'>In a <i ><a href='temp.names#nt:template-argument-list'>template-argument-list</a></i> (<a href='temp.arg'>[temp.arg]</a>);
the pattern is a <i ><a href='temp.names#nt:template-argument'>template-argument</a></i><a class='hidden_link' href='#4.7.sentence-1'>.</a></div></li><li id='4.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#4.8'>(4.8)</a></div><div id='4.8.sentence-1' class='sentence'>In an <i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i> (<a href='dcl.attr.grammar'>[dcl.attr.grammar]</a>); the pattern is
an <i ><a href='dcl.attr.grammar#nt:attribute'>attribute</a></i><a class='hidden_link' href='#4.8.sentence-1'>.</a></div></li><li id='4.9'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#4.9'>(4.9)</a></div><div id='4.9.sentence-1' class='sentence'>In an <i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i> (<a href='dcl.align'>[dcl.align]</a>); the pattern is
the <i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i> without the ellipsis<a class='hidden_link' href='#4.9.sentence-1'>.</a></div></li><li id='4.10'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#4.10'>(4.10)</a></div><div id='4.10.sentence-1' class='sentence'>In a <i ><a href='expr.prim.lambda.capture#nt:capture-list'>capture-list</a></i> (<a href='expr.prim.lambda'>[expr.prim.lambda]</a>); the pattern is
a <i ><a href='expr.prim.lambda.capture#nt:capture'>capture</a></i><a class='hidden_link' href='#4.10.sentence-1'>.</a></div></li><li id='4.11'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#4.11'>(4.11)</a></div><div id='4.11.sentence-1' class='sentence'>In a <a href='expr.sizeof'><span class='texttt'>sizeof...</span> expression</a>; the pattern is an
<i ><a href='lex.name#nt:identifier'>identifier</a></i><a class='hidden_link' href='#4.11.sentence-1'>.</a></div></li><li id='4.12'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#4.12'>(4.12)</a></div><div id='4.12.sentence-1' class='sentence'>In a <i ><a href='expr.prim.fold#nt:fold-expression'>fold-expression</a></i> (<a href='expr.prim.fold'>[expr.prim.fold]</a>);
the pattern is the <i ><a href='expr.cast#nt:cast-expression'>cast-expression</a></i>
that contains an unexpanded parameter pack<a class='hidden_link' href='#4.12.sentence-1'>.</a></div></li></ul></div><div id='4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class ... Types&gt; void f(Types ... rest);
template&lt;class ... Types&gt; void g(Types ... rest) {
  f(&amp;rest ...);     <span class='comment'>// “<span class='tcode_in_codeblock'>&amp;rest ...</span>” is a pack expansion; “<span class='tcode_in_codeblock'>&amp;rest</span>” is its pattern
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e3b4927ea0f4e8c8bf1f7461226c729b4e2c00be/source/templates.tex#L2615'>#</a></div><div id='5.sentence-1' class='sentence'>For the purpose of determining whether a parameter pack satisfies a rule
regarding entities other than parameter packs, the parameter pack is
considered to be the entity that would result from an instantiation of
the pattern in which it appears<a class='hidden_link' href='#5.sentence-1'>.</a></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e3b4927ea0f4e8c8bf1f7461226c729b4e2c00be/source/templates.tex#L2621'>#</a></div><div id='6.sentence-1' class='sentence'>A parameter pack whose name appears within the pattern of a pack
expansion is expanded by that pack expansion<a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'>An appearance of the name of
a parameter pack is only expanded by the innermost enclosing pack expansion<a class='hidden_link' href='#6.sentence-2'>.</a></div> <div id='6.sentence-3' class='sentence'>The pattern of a pack expansion shall name one or more parameter packs that
are not expanded by a nested pack expansion; such parameter packs are called
<a class='hidden_link' href='#def:parameter_pack,unexpanded' id='def:parameter_pack,unexpanded'><i >unexpanded parameter packs</i></a> in the pattern<a class='hidden_link' href='#6.sentence-3'>.</a></div> <div id='6.sentence-4' class='sentence'>All of the parameter packs expanded
by a pack expansion shall have the same number of arguments specified<a class='hidden_link' href='#6.sentence-4'>.</a></div> <div id='6.sentence-5' class='sentence'>An
appearance of a name of a parameter pack that is not expanded is
ill-formed<a class='hidden_link' href='#6.sentence-5'>.</a></div> <div id='6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;typename...&gt; struct Tuple {};
template&lt;typename T1, typename T2&gt; struct Pair {};

template&lt;class ... Args1&gt; struct zip {
  template&lt;class ... Args2&gt; struct with {
    typedef Tuple&lt;Pair&lt;Args1, Args2&gt; ... &gt; type;
  };
};

typedef zip&lt;short, int&gt;::with&lt;unsigned short, unsigned&gt;::type T1;
    <span class='comment'>// <span class='tcode_in_codeblock'>T1</span> is <span class='tcode_in_codeblock'>Tuple&lt;Pair&lt;short, unsigned short&gt;, Pair&lt;int, unsigned&gt;&gt;</span>
</span>typedef zip&lt;short&gt;::with&lt;unsigned short, unsigned&gt;::type T2;
    <span class='comment'>// error: different number of arguments specified for <span class='tcode_in_codeblock'>Args1</span> and <span class='tcode_in_codeblock'>Args2</span>
</span>
template&lt;class ... Args&gt;
  void g(Args ... args) {                   <span class='comment'>// OK: <span class='tcode_in_codeblock'>Args</span> is expanded by the function parameter pack <span class='tcode_in_codeblock'>args</span>
</span>    f(const_cast&lt;const Args*&gt;(&amp;args)...);   <span class='comment'>// OK: “<span class='tcode_in_codeblock'>Args</span>” and “<span class='tcode_in_codeblock'>args</span>” are expanded
</span>    f(5 ...);                               <span class='comment'>// error: pattern does not contain any parameter packs
</span>    f(args);                                <span class='comment'>// error: parameter pack “<span class='tcode_in_codeblock'>args</span>” is not expanded
</span>    f(h(args ...) + args ...);              <span class='comment'>// OK: first “<span class='tcode_in_codeblock'>args</span>” expanded within <span class='tcode_in_codeblock'>h</span>,
</span>                                            <span class='comment'>// second “<span class='tcode_in_codeblock'>args</span>” expanded within <span class='tcode_in_codeblock'>f</span>
</span>  }</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e3b4927ea0f4e8c8bf1f7461226c729b4e2c00be/source/templates.tex#L2659'>#</a></div><div id='7.sentence-1' class='sentence'>The instantiation of a pack expansion
that is neither a <span class='texttt'>sizeof...</span> expression
nor a <i ><a href='expr.prim.fold#nt:fold-expression'>fold-expression</a></i>
produces a
list
<span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_1, \mathtt{E}_2, \dotsc{}, \mathtt{E}_N"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">…</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span></span></span></span>,
where
<span class='math'><span class='mathalpha'>N</span></span> is the number of elements in the pack expansion parameters<a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='7.sentence-2' class='sentence'>Each
<span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is generated by instantiating the pattern and
replacing each pack expansion parameter with its <span class='math'><span class='mathalpha'>i</span></span>th element<a class='hidden_link' href='#7.sentence-2'>.</a></div> <div id='7.sentence-3' class='sentence'>Such an element, in the context of the instantiation, is interpreted as
follows:</div><div id='7.sentence-4' class='sentence'><ul class='itemize'><li id='7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#7.1'>(7.1)</a></div><div id='7.1.sentence-1' class='sentence'>if the pack is a template parameter pack, the element is a <a href='temp.param'>template
parameter</a> of the corresponding kind (type or
non-type) designating the type or value from the template
argument; otherwise,</div></li><li id='7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#7.2'>(7.2)</a></div><div id='7.2.sentence-1' class='sentence'>if the pack is a function parameter pack, the element is an
<i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i>
designating the function parameter that resulted from
the instantiation of the pattern where the pack is declared<a class='hidden_link' href='#7.2.sentence-1'>.</a></div></li></ul></div><div id='7.sentence-5' class='sentence'>All of the <span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> become elements in the enclosing list<a class='hidden_link' href='#7.sentence-5'>.</a></div> <div id='7.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='7.sentence-8' class='sentence'>The variety of list varies with the context:
<span class='grammarterm'>expression-list</span>,
<span class='grammarterm'>base-specifier-list</span>,
<span class='grammarterm'>template-argument-list</span>, etc<a class='hidden_link' href='#7.sentence-8'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='7.sentence-6' class='sentence'>
When <span class='math'><span class='mathalpha'>N</span></span> is zero, the instantiation of the expansion produces an empty list<a class='hidden_link' href='#7.sentence-6'>.</a></div> <div id='7.sentence-7' class='sentence'>Such an instantiation does not alter the syntactic interpretation of the
enclosing construct, even in cases where omitting the list entirely would
otherwise be ill-formed or would result in an ambiguity in the grammar<a class='hidden_link' href='#7.sentence-7'>.</a></div> <div id='7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class... T&gt; struct X : T... { };
template&lt;class... T&gt; void f(T... values) {
  X&lt;T...&gt; x(values...);
}

template void f&lt;&gt;();    <span class='comment'>// OK: <span class='tcode_in_codeblock'>X&lt;&gt;</span> has no base classes
</span>                        <span class='comment'>// <span class='tcode_in_codeblock'>x</span> is a variable of type <span class='tcode_in_codeblock'>X&lt;&gt;</span> that is value-initialized
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e3b4927ea0f4e8c8bf1f7461226c729b4e2c00be/source/templates.tex#L2708'>#</a></div><div id='8.sentence-1' class='sentence'>The instantiation of a <a href='expr.sizeof'><span class='texttt'>sizeof...</span> expression</a> produces
an integral constant containing the number of elements in the parameter pack
it expands<a class='hidden_link' href='#8.sentence-1'>.</a></div></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e3b4927ea0f4e8c8bf1f7461226c729b4e2c00be/source/templates.tex#L2713'>#</a></div><div id='9.sentence-1' class='sentence'>The instantiation of a <i ><a href='expr.prim.fold#nt:fold-expression'>fold-expression</a></i> produces:</div><div id='9.sentence-2' class='sentence'><ul class='itemize'><li id='9.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#9.1'>(9.1)</a></div><div id='9.1.sentence-1' class='sentence'><span class='texttt'>((</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>
           <span class='textit'>op</span> <span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span><span class='texttt'>)</span>
           <span class='textit'>op</span> <span class='math'>⋯</span><span class='texttt'>)</span>
           <span class='textit'>op</span> <span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_N"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span></span></span></span>
for a unary left fold,</div></li><li id='9.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#9.2'>(9.2)</a></div><div id='9.2.sentence-1' class='sentence'><span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>     <span class='textit'>op</span>
<span class='texttt'>(</span><span class='math'>⋯</span>           <span class='textit'>op</span>
<span class='texttt'>(</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_{N-1}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span> <span class='textit'>op</span>
         <span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_N"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span></span></span></span><span class='texttt'>))</span>
for a unary right fold,</div></li><li id='9.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#9.3'>(9.3)</a></div><div id='9.3.sentence-1' class='sentence'><span class='texttt'>(((</span><span class='math'><span class='mathtt'>E</span></span>
            <span class='textit'>op</span> <span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span><span class='texttt'>)</span>
            <span class='textit'>op</span> <span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span><span class='texttt'>)</span>
            <span class='textit'>op</span> <span class='math'>⋯</span><span class='texttt'>)</span>
            <span class='textit'>op</span> <span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_N"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span></span></span></span>
for a binary left fold, and</div></li><li id='9.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#9.4'>(9.4)</a></div><div id='9.4.sentence-1' class='sentence'><span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>     <span class='textit'>op</span>
<span class='texttt'>(</span><span class='math'>⋯</span>           <span class='textit'>op</span>
<span class='texttt'>(</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_{N-1}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span> <span class='textit'>op</span>
<span class='texttt'>(</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_{N}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span></span></span></span></span></span>   <span class='textit'>op</span>
         <span class='math'><span class='mathtt'>E</span></span><span class='texttt'>)))</span>
for a binary right fold<a class='hidden_link' href='#9.4.sentence-1'>.</a></div></li></ul></div><div id='9.sentence-3' class='sentence'>In each case,
<span class='textit'>op</span> is the <i ><a href='expr.prim.fold#nt:fold-operator'>fold-operator</a></i>,
<span class='math'><span class='mathalpha'>N</span></span> is the number of elements in the pack expansion parameters,
and each <span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{E}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">E</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is generated by instantiating the pattern
and replacing each pack expansion parameter with its <span class='math'><span class='mathalpha'>i</span></span>th element<a class='hidden_link' href='#9.sentence-3'>.</a></div> <div id='9.sentence-4' class='sentence'>For a binary fold-expression,
<span class='math'><span class='mathtt'>E</span></span> is generated
by instantiating the <i ><a href='expr.cast#nt:cast-expression'>cast-expression</a></i>
that did not contain an unexpanded parameter pack<a class='hidden_link' href='#9.sentence-4'>.</a></div> <div id='9.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#9.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;typename ...Args&gt;
  bool all(Args ...args) { return (... &amp;&amp; args); }

bool b = all(true, true, true, false);</pre> <div id='9.sentence-6' class='sentence'>
Within the instantiation of <span class='texttt'>all</span>,
the returned expression expands to
<span class='texttt'>((true &amp;&amp; true) &amp;&amp; true) &amp;&amp; false</span>,
which evaluates to <span class='texttt'>false</span><a class='hidden_link' href='#9.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='9.sentence-5' class='sentence'>
If <span class='math'><span class='mathalpha'>N</span></span> is zero for a unary fold-expression,
the value of the expression is shown in Table <a href='#tab:fold.empty'>14</a>;
if the operator is not listed in Table <a href='#tab:fold.empty'>14</a>,
the instantiation is ill-formed<a class='hidden_link' href='#9.sentence-5'>.</a></div><div class='numberedTable' id='tab:fold.empty'>Table <a href='#tab:fold.empty'>14</a> — Value of folding empty sequences<br><table ><tr class='rowsep'><td colspan='1' class='center'><div id='9.sentence-7' class='sentence'><b>Operator</b></div></td><td colspan='1' class='center'><div id='9.sentence-8' class='sentence'><b>Value when parameter pack is empty</b></div></td></tr><tr class='capsep'><td class='left'><div id='9.sentence-9' class='sentence'>
<span class='texttt'>&amp;&amp;</span></div></td><td class='left'><div id='9.sentence-10' class='sentence'><span class='texttt'>true</span></div></td></tr><tr ><td class='left'><div id='9.sentence-11' class='sentence'><span class='texttt'>||</span></div></td><td class='left'><div id='9.sentence-12' class='sentence'><span class='texttt'>false</span></div></td></tr><tr ><td class='left'><div id='9.sentence-13' class='sentence'><span class='texttt'>,</span></div></td><td class='left'><div id='9.sentence-14' class='sentence'><span class='texttt'>void()</span></div></td></tr></table></div></div></div></body></html>