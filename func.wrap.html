<!DOCTYPE html><html lang='en'><head><title>[func.wrap]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>20</a> General utilities library <a class='abbr_ref' href='./#utilities'>[utilities]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>20.14</a> Function objects <a class='abbr_ref' href='function.objects#func.wrap'>[function.objects]</a></h2><div id='func.wrap'><h3 ><a class='secnum' style='min-width:103pt'>20.14.13</a> Polymorphic function wrappers <a class='abbr_ref'>[func.wrap]</a></h3><p ><span class='indexparent'><a class='index' id='function_object,wrapper'></a></span></p><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14193'>#</a></div><p >This subclause describes a polymorphic wrapper class that
encapsulates arbitrary callable objects.</p></div><div id='badcall'><h4 ><a class='secnum' href='#badcall' style='min-width:118pt'>20.14.13.1</a> Class <span class='texttt'>bad_&shy;function_&shy;call</span> <a class='abbr_ref' href='func.wrap.badcall'>[func.wrap.badcall]</a></h4><p ><span class='indexparent'><a class='index' id='bad_function_call'></a></span>
</p><div class='para' id='badcall-1'><div class='marginalizedparent'><a class='marginalized' href='#badcall-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14200'>#</a></div><p >An exception of type <span class='texttt'>bad_&shy;function_&shy;call</span> is thrown by
<span class='texttt'>function&#x200b;::&#x200b;operator()</span> (<a href='func.wrap.func.inv'>[func.wrap.func.inv]</a>)
when the function wrapper object has no target.</p><pre class='codeblock'>
namespace std {
  class bad_function_call : public exception {
  public:
    <span class='comment'>// <a href='func.wrap.badcall.const'>[func.wrap.badcall.const]</a>, constructor
</span>    bad_function_call() noexcept;
  };
}</pre></div><div id='badcall.const'><h4 ><a class='secnum' href='#badcall.const' style='min-width:133pt'>20.14.13.1.1</a> <span class='texttt'>bad_&shy;function_&shy;call</span> constructor <a class='abbr_ref' href='func.wrap.badcall.const'>[func.wrap.badcall.const]</a></h4><p ><span class='indexparent'><a class='index' id='bad_function_call,constructor'></a></span><span class='indexparent'><a class='index' id='what,bad_function_call'></a></span><span class='indexparent'><a class='index' id='bad_function_call,what'></a></span><code class='itemdecl'>
bad_function_call() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='badcall.const-1'><div class='marginalizedparent'><a class='marginalized' href='#badcall.const-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14224'>#</a></div><p ><i>Effects:</i> Constructs a <span class='texttt'>bad_&shy;function_&shy;call</span> object.
</p></div></div><div class='itemdescr'></div><div class='para' id='badcall.const-2'><div class='marginalizedparent'><a class='marginalized' href='#badcall.const-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14228'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>what()</span> returns an
<span class='indexparent'><a class='index' id='return_value_of_bad_function_call::what'></a></span>implementation-defined <span class='textsc'>ntbs</span>.
</p></div></div></div></div><div id='func'><h4 ><a class='secnum' href='#func' style='min-width:118pt'>20.14.13.2</a> Class template <span class='texttt'>function</span> <a class='abbr_ref' href='func.wrap.func'>[func.wrap.func]</a></h4><p ><span class='indexparent'><a class='index' id='function'></a></span>
</p><pre class='codeblock'>
namespace std {
  template&lt;class&gt; class function; <span class='comment'>// not defined
</span>
  template&lt;class R, class... ArgTypes&gt;
  class function&lt;R(ArgTypes...)&gt; {
  public:
    using result_type = R;

    <span class='comment'>// <a href='func.wrap.func.con'>[func.wrap.func.con]</a>, construct/copy/destroy
</span>    function() noexcept;
    function(nullptr_t) noexcept;
    function(const function&amp;);
    function(function&amp;&amp;);
    template&lt;class F&gt; function(F);

    function&amp; operator=(const function&amp;);
    function&amp; operator=(function&amp;&amp;);
    function&amp; operator=(nullptr_t) noexcept;
    template&lt;class F&gt; function&amp; operator=(F&amp;&amp;);
    template&lt;class F&gt; function&amp; operator=(reference_wrapper&lt;F&gt;) noexcept;

    ~function();

    <span class='comment'>// <a href='func.wrap.func.mod'>[func.wrap.func.mod]</a>, function modifiers
</span>    void swap(function&amp;) noexcept;

    <span class='comment'>// <a href='func.wrap.func.cap'>[func.wrap.func.cap]</a>, function capacity
</span>    explicit operator bool() const noexcept;

    <span class='comment'>// <a href='func.wrap.func.inv'>[func.wrap.func.inv]</a>, function invocation
</span>    R operator()(ArgTypes...) const;

    <span class='comment'>// <a href='func.wrap.func.targ'>[func.wrap.func.targ]</a>, function target access
</span>    const type_info&amp; target_type() const noexcept;
    template&lt;class T&gt;       T* target() noexcept;
    template&lt;class T&gt; const T* target() const noexcept;

  };

  <span class='comment'>// <a href='func.wrap.func.nullptr'>[func.wrap.func.nullptr]</a>, Null pointer comparisons
</span>  template &lt;class R, class... ArgTypes&gt;
    bool operator==(const function&lt;R(ArgTypes...)&gt;&amp;, nullptr_t) noexcept;

  template &lt;class R, class... ArgTypes&gt;
    bool operator==(nullptr_t, const function&lt;R(ArgTypes...)&gt;&amp;) noexcept;

  template &lt;class R, class... ArgTypes&gt;
    bool operator!=(const function&lt;R(ArgTypes...)&gt;&amp;, nullptr_t) noexcept;

  template &lt;class R, class... ArgTypes&gt;
    bool operator!=(nullptr_t, const function&lt;R(ArgTypes...)&gt;&amp;) noexcept;

  <span class='comment'>// <a href='func.wrap.func.alg'>[func.wrap.func.alg]</a>, specialized algorithms
</span>  template &lt;class R, class... ArgTypes&gt;
    void swap(function&lt;R(ArgTypes...)&gt;&amp;, function&lt;R(ArgTypes...)&gt;&amp;) noexcept;
}</pre><div class='para' id='func-1'><div class='marginalizedparent'><a class='marginalized' href='#func-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14294'>#</a></div><p >The <span class='texttt'>function</span> class template provides polymorphic wrappers that
generalize the notion of a function pointer. Wrappers can store, copy,
and call arbitrary callable objects (<a href='func.def'>[func.def]</a>), given a call
signature (<a href='func.def'>[func.def]</a>), allowing functions to be first-class objects.</p></div><div class='para' id='func-2'><div class='marginalizedparent'><a class='marginalized' href='#func-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14300'>#</a></div><p ><span class='indexparent'><a class='index' id='callable_type'></a></span>A callable type (<a href='func.def'>[func.def]</a>) <span class='texttt'>F</span>
is <a class='hidden_link' href='#def:Lvalue-Callable' id='def:Lvalue-Callable'><i>Lvalue-Callable</i></a> for argument
types <span class='texttt'>ArgTypes</span>
and return type <span class='texttt'>R</span>
if the expression
<span class='texttt'><i>INVOKE</i>(declval&lt;F&amp;&gt;(), declval&lt;ArgTypes&gt;()..., R)</span>,
considered as an unevaluated operand (Clause <a href='expr'>[expr]</a>), is
well formed (<a href='func.require'>[func.require]</a>).</p></div><div class='para' id='func-3'><div class='marginalizedparent'><a class='marginalized' href='#func-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14311'>#</a></div><p >The <span class='texttt'>function</span> class template is a call
wrapper (<a href='func.def'>[func.def]</a>) whose call signature (<a href='func.def'>[func.def]</a>)
is <span class='texttt'>R(ArgTypes...)</span>.</p></div><div id='func.con'><h4 ><a class='secnum' href='#func.con' style='min-width:133pt'>20.14.13.2.1</a> <span class='texttt'>function</span> construct/copy/destroy <a class='abbr_ref' href='func.wrap.func.con'>[func.wrap.func.con]</a></h4><p ><span class='indexparent'><a class='index' id='function,constructor'></a></span><code class='itemdecl'>
function() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='func.con-1'><div class='marginalizedparent'><a class='marginalized' href='#func.con-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14324'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>!*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='function,constructor'></a></span><code class='itemdecl'>
function(nullptr_t) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='func.con-2'><div class='marginalizedparent'><a class='marginalized' href='#func.con-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14333'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>!*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='function,constructor'></a></span><code class='itemdecl'>
function(const function&amp; f);
</code></p><div class='itemdescr'></div><div class='para' id='func.con-3'><div class='marginalizedparent'><a class='marginalized' href='#func.con-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14343'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>!*this</span> if <span class='texttt'>!f</span>; otherwise,
<span class='texttt'>*this</span> targets a copy of <span class='texttt'>f.target()</span>.</p></div></div><div class='para' id='func.con-4'><div class='marginalizedparent'><a class='marginalized' href='#func.con-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14347'>#</a></div><p ><i>Throws:</i> shall not throw exceptions if <span class='texttt'>f</span>'s target is
a callable object passed via <span class='texttt'>reference_&shy;wrapper</span> or
a function pointer. Otherwise, may throw <span class='texttt'>bad_&shy;alloc</span>
or any exception thrown by the copy constructor of the stored callable object.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> Implementations are encouraged to avoid the use of
dynamically allocated memory for small callable objects, for example, where
<span class='texttt'>f</span>'s target is an object holding only a pointer or reference
to an object and a member function pointer. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='function,constructor'></a></span><code class='itemdecl'>
function(function&amp;&amp; f);
</code></p><div class='itemdescr'></div><div class='para' id='func.con-5'><div class='marginalizedparent'><a class='marginalized' href='#func.con-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14364'>#</a></div><p ><i>Effects:</i> If <span class='texttt'>!f</span>, <span class='texttt'>*this</span> has
no target; otherwise, move constructs the target of <span class='texttt'>f</span>
into the target of <span class='texttt'>*this</span>, leaving <span class='texttt'>f</span> in
a valid state with an unspecified value.</p></div></div><div class='para' id='func.con-6'><div class='marginalizedparent'><a class='marginalized' href='#func.con-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14370'>#</a></div><p ><i>Throws:</i> shall not throw exceptions if <span class='texttt'>f</span>'s target is
a callable object passed via <span class='texttt'>reference_&shy;wrapper</span> or
a function pointer. Otherwise, may throw <span class='texttt'>bad_&shy;alloc</span> or
any exception thrown by the copy or move constructor
of the stored callable object.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> Implementations are encouraged to avoid the use of
dynamically allocated memory for small callable objects, for example,
where <span class='texttt'>f</span>'s target is an object holding only a pointer or reference
to an object and a member function pointer. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div><p ><span class='indexparent'><a class='index' id='function,constructor'></a></span><code class='itemdecl'>
template&lt;class F&gt; function(F f);
</code></p><div class='itemdescr'></div><div class='para' id='func.con-7'><div class='marginalizedparent'><a class='marginalized' href='#func.con-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14388'>#</a></div><p ><i>Requires:</i> <span class='texttt'>F</span> shall be <span class='texttt'>CopyConstructible</span>.</p></div></div><div class='para' id='func.con-8'><div class='marginalizedparent'><a class='marginalized' href='#func.con-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14391'>#</a></div><p ><i>Remarks:</i> This constructor template shall not participate in overload resolution unless
<span class='texttt'>F</span> is Lvalue-Callable (<a href='func.wrap.func'>[func.wrap.func]</a>) for argument types
<span class='texttt'>ArgTypes...</span> and return type <span class='texttt'>R</span>.</p></div></div><div class='para' id='func.con-9'><div class='marginalizedparent'><a class='marginalized' href='#func.con-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14396'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>!*this</span> if any of the following hold:
</p><ul class='itemize'><li id='func.con-9.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#func.con-9.1'>(9.1)</a></div><p ><span class='texttt'>f</span> is a null function pointer value.
</p></li><li id='func.con-9.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#func.con-9.2'>(9.2)</a></div><p ><span class='texttt'>f</span> is a null member pointer value.
</p></li><li id='func.con-9.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#func.con-9.3'>(9.3)</a></div><p ><span class='texttt'>F</span> is an instance of the <span class='texttt'>function</span> class template, and
  <span class='texttt'>!f</span>.
</p></li></ul></div></div><div class='para' id='func.con-10'><div class='marginalizedparent'><a class='marginalized' href='#func.con-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14405'>#</a></div><p >Otherwise, <span class='texttt'>*this</span> targets a copy of <span class='texttt'>f</span>
initialized with <span class='texttt'>std&#x200b;::&#x200b;move(f)</span>.
[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i> Implementations are encouraged to avoid the use of
dynamically allocated memory for small callable objects, for example,
where <span class='texttt'>f</span> is an object holding only a pointer or
reference to an object and a member function pointer. <i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='func.con-11'><div class='marginalizedparent'><a class='marginalized' href='#func.con-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14413'>#</a></div><p ><i>Throws:</i> shall not throw exceptions when <span class='texttt'>f</span> is a function pointer
or a <span class='texttt'>reference_&shy;wrapper&lt;T&gt;</span> for some <span class='texttt'>T</span>. Otherwise,
may throw <span class='texttt'>bad_&shy;alloc</span> or any exception thrown by <span class='texttt'>F</span>'s copy
or move constructor.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,function'></a></span><span class='indexparent'><a class='index' id='function,operator='></a></span><code class='itemdecl'>
function&amp; operator=(const function&amp; f);
</code></p><div class='itemdescr'></div><div class='para' id='func.con-12'><div class='marginalizedparent'><a class='marginalized' href='#func.con-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14426'>#</a></div><p ><i>Effects:</i> As if by <span class='texttt'>function(f).swap(*this);</span></p></div></div><div class='para' id='func.con-13'><div class='marginalizedparent'><a class='marginalized' href='#func.con-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14429'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,function'></a></span><span class='indexparent'><a class='index' id='function,operator='></a></span><code class='itemdecl'>
function&amp; operator=(function&amp;&amp; f);
</code></p><div class='itemdescr'></div><div class='para' id='func.con-14'><div class='marginalizedparent'><a class='marginalized' href='#func.con-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14439'>#</a></div><p ><i>Effects:</i> Replaces the target of <span class='texttt'>*this</span>
with the target of <span class='texttt'>f</span>.</p></div></div><div class='para' id='func.con-15'><div class='marginalizedparent'><a class='marginalized' href='#func.con-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14443'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,function'></a></span><span class='indexparent'><a class='index' id='function,operator='></a></span><code class='itemdecl'>
function&amp; operator=(nullptr_t) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='func.con-16'><div class='marginalizedparent'><a class='marginalized' href='#func.con-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14453'>#</a></div><p ><i>Effects:</i> If <span class='texttt'>*this != nullptr</span>, destroys the target of <span class='texttt'>this</span>.</p></div></div><div class='para' id='func.con-17'><div class='marginalizedparent'><a class='marginalized' href='#func.con-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14455'>#</a></div><p ><i>Postconditions:</i> <span class='texttt'>!(*this)</span>.</p></div></div><div class='para' id='func.con-18'><div class='marginalizedparent'><a class='marginalized' href='#func.con-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14457'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,function'></a></span><span class='indexparent'><a class='index' id='function,operator='></a></span><code class='itemdecl'>
template&lt;class F&gt; function&amp; operator=(F&amp;&amp; f);
</code></p><div class='itemdescr'></div><div class='para' id='func.con-19'><div class='marginalizedparent'><a class='marginalized' href='#func.con-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14466'>#</a></div><p ><i>Effects:</i> As if by: <span class='texttt'>function(std&#x200b;::&#x200b;forward&lt;F&gt;(f)).swap(*this);</span></p></div></div><div class='para' id='func.con-20'><div class='marginalizedparent'><a class='marginalized' href='#func.con-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14468'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.</p></div></div><div class='para' id='func.con-21'><div class='marginalizedparent'><a class='marginalized' href='#func.con-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14470'>#</a></div><p ><i>Remarks:</i> This assignment operator shall not participate in overload
resolution unless <span class='texttt'>decay_&shy;t&lt;F&gt;</span> is
Lvalue-Callable (<a href='func.wrap.func'>[func.wrap.func]</a>) for argument types <span class='texttt'>ArgTypes...</span> and
return type <span class='texttt'>R</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,function'></a></span><span class='indexparent'><a class='index' id='function,operator='></a></span><code class='itemdecl'>
template&lt;class F&gt; function&amp; operator=(reference_wrapper&lt;F&gt; f) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='func.con-22'><div class='marginalizedparent'><a class='marginalized' href='#func.con-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14482'>#</a></div><p ><i>Effects:</i> As if by: <span class='texttt'>function(f).swap(*this);</span></p></div></div><div class='para' id='func.con-23'><div class='marginalizedparent'><a class='marginalized' href='#func.con-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14484'>#</a></div><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='function,destructor'></a></span><code class='itemdecl'>
~function();
</code></p><div class='itemdescr'></div><div class='para' id='func.con-24'><div class='marginalizedparent'><a class='marginalized' href='#func.con-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14494'>#</a></div><p ><i>Effects:</i> If <span class='texttt'>*this != nullptr</span>, destroys the target of <span class='texttt'>this</span>.
</p></div></div></div><div id='func.mod'><h4 ><a class='secnum' href='#func.mod' style='min-width:133pt'>20.14.13.2.2</a> <span class='texttt'>function</span> modifiers <a class='abbr_ref' href='func.wrap.func.mod'>[func.wrap.func.mod]</a></h4><p ><span class='indexparent'><a class='index' id='swap,function'></a></span><span class='indexparent'><a class='index' id='function,swap'></a></span><code class='itemdecl'>
void swap(function&amp; other) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='func.mod-1'><div class='marginalizedparent'><a class='marginalized' href='#func.mod-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14505'>#</a></div><p ><i>Effects:</i> interchanges the targets of <span class='texttt'>*this</span> and <span class='texttt'>other</span>.
</p></div></div></div><div id='func.cap'><h4 ><a class='secnum' href='#func.cap' style='min-width:133pt'>20.14.13.2.3</a> <span class='texttt'>function</span> capacity <a class='abbr_ref' href='func.wrap.func.cap'>[func.wrap.func.cap]</a></h4><p ><span class='indexparent'><a class='index' id='operator_bool,function'></a></span><span class='indexparent'><a class='index' id='function,operator_bool'></a></span><code class='itemdecl'>
explicit operator bool() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='func.cap-1'><div class='marginalizedparent'><a class='marginalized' href='#func.cap-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14516'>#</a></div><p ><i>Returns:</i> <span class='texttt'>true</span> if <span class='texttt'>*this</span> has a target, otherwise <span class='texttt'>false</span>.
</p></div></div></div><div id='func.inv'><h4 ><a class='secnum' href='#func.inv' style='min-width:133pt'>20.14.13.2.4</a> <span class='texttt'>function</span> invocation <a class='abbr_ref' href='func.wrap.func.inv'>[func.wrap.func.inv]</a></h4><p ><span class='indexparent'><a class='index' id='function,invocation'></a></span><span class='indexparent'><a class='index' id='operator(),function'></a></span><span class='indexparent'><a class='index' id='function,operator()'></a></span><code class='itemdecl'>
R operator()(ArgTypes... args) const;
</code></p><div class='itemdescr'></div><div class='para' id='func.inv-1'><div class='marginalizedparent'><a class='marginalized' href='#func.inv-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14529'>#</a></div><p ><i>Returns:</i> <span class='texttt'><i>INVOKE</i>(f, std&#x200b;::&#x200b;forward&lt;ArgTypes&gt;(args)..., R)</span> (<a href='func.require'>[func.require]</a>),
where <span class='texttt'>f</span> is the target object (<a href='func.def'>[func.def]</a>) of <span class='texttt'>*this</span>.</p></div></div><div class='para' id='func.inv-2'><div class='marginalizedparent'><a class='marginalized' href='#func.inv-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14533'>#</a></div><p ><i>Throws:</i>
<span class='texttt'>bad_&shy;function_&shy;call</span> if <span class='texttt'>!*this</span>; otherwise, any
exception thrown by the wrapped callable object.
</p></div></div></div><div id='func.targ'><h4 ><a class='secnum' href='#func.targ' style='min-width:133pt'>20.14.13.2.5</a> <span class='texttt'>function</span> target access <a class='abbr_ref' href='func.wrap.func.targ'>[func.wrap.func.targ]</a></h4><p ><span class='indexparent'><a class='index' id='target_type,function'></a></span><span class='indexparent'><a class='index' id='function,target_type'></a></span><code class='itemdecl'>
const type_info&amp; target_type() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='func.targ-1'><div class='marginalizedparent'><a class='marginalized' href='#func.targ-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14546'>#</a></div><p ><i>Returns:</i> If <span class='texttt'>*this</span> has a target of type <span class='texttt'>T</span>,
  <span class='texttt'>typeid(T)</span>; otherwise, <span class='texttt'>typeid(void)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='target,function'></a></span><span class='indexparent'><a class='index' id='function,target'></a></span><code class='itemdecl'>
template&lt;class T&gt;       T* target() noexcept;
template&lt;class T&gt; const T* target() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='func.targ-2'><div class='marginalizedparent'><a class='marginalized' href='#func.targ-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14557'>#</a></div><p ><i>Returns:</i> If <span class='texttt'>target_&shy;type() == typeid(T)</span>
a pointer to the stored function target; otherwise a null pointer.
</p></div></div></div><div id='func.nullptr'><h4 ><a class='secnum' href='#func.nullptr' style='min-width:133pt'>20.14.13.2.6</a> null pointer comparison functions <a class='abbr_ref' href='func.wrap.func.nullptr'>[func.wrap.func.nullptr]</a></h4><p ><span class='indexparent'><a class='index' id='operator==,function'></a></span><span class='indexparent'><a class='index' id='function,operator=='></a></span><code class='itemdecl'>
template &lt;class R, class... ArgTypes&gt;
  bool operator==(const function&lt;R(ArgTypes...)&gt;&amp; f, nullptr_t) noexcept;
template &lt;class R, class... ArgTypes&gt;
  bool operator==(nullptr_t, const function&lt;R(ArgTypes...)&gt;&amp; f) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='func.nullptr-1'><div class='marginalizedparent'><a class='marginalized' href='#func.nullptr-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14572'>#</a></div><p ><i>Returns:</i> <span class='texttt'>!f</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator!=,function'></a></span><span class='indexparent'><a class='index' id='function,operator!='></a></span><code class='itemdecl'>
template &lt;class R, class... ArgTypes&gt;
  bool operator!=(const function&lt;R(ArgTypes...)&gt;&amp; f, nullptr_t) noexcept;
template &lt;class R, class... ArgTypes&gt;
  bool operator!=(nullptr_t, const function&lt;R(ArgTypes...)&gt;&amp; f) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='func.nullptr-2'><div class='marginalizedparent'><a class='marginalized' href='#func.nullptr-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14584'>#</a></div><p ><i>Returns:</i> <span class='texttt'>(bool)f</span>.
</p></div></div></div><div id='func.alg'><h4 ><a class='secnum' href='#func.alg' style='min-width:133pt'>20.14.13.2.7</a> specialized algorithms <a class='abbr_ref' href='func.wrap.func.alg'>[func.wrap.func.alg]</a></h4><p ><span class='indexparent'><a class='index' id='swap,function'></a></span><span class='indexparent'><a class='index' id='function,swap'></a></span><code class='itemdecl'>
template&lt;class R, class... ArgTypes&gt;
  void swap(function&lt;R(ArgTypes...)&gt;&amp; f1, function&lt;R(ArgTypes...)&gt;&amp; f2) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='func.alg-1'><div class='marginalizedparent'><a class='marginalized' href='#func.alg-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/utilities.tex#L14596'>#</a></div><p ><i>Effects:</i> As if by: <span class='texttt'>f1.swap(f2);</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='function_object,wrapper'></a></span></p></div></div></div></div></body></html>