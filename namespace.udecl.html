<!DOCTYPE html><html lang='en'><head><title>[namespace.udecl]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>10</a> Declarations <a class='abbr_ref' href='./#dcl.dcl'>[dcl.dcl]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>10.3</a> Namespaces <a class='abbr_ref' href='basic.namespace#namespace.udecl'>[basic.namespace]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>10.3.3</a> The <span class='texttt'>using</span> declaration <a class='abbr_ref'>[namespace.udecl]</a></h3><span class='indexparent'><a class='index' id=':using-declaration'></a></span><pre class='bnf'><a class='nontermdef' id='nt:using-declaration'>using-declaration:</a>
&#9;<span class='terminal'>using</span> <i ><a href='namespace.udecl#nt:using-declarator-list'>using-declarator-list</a></i> <span class='terminal'>;</span>
</pre><pre class='bnf'><a class='nontermdef' id='nt:using-declarator-list'>using-declarator-list:</a>
&#9;<i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> <span class='terminal'>...</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='namespace.udecl#nt:using-declarator-list'>using-declarator-list</a></i> <span class='terminal'>,</span> <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> <span class='terminal'>...</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' id='nt:using-declarator'>using-declarator:</a>
&#9;<span class='terminal'>typename<span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span> <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> <i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i>
</pre><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be5c14cf44a6e6ea7348e65dbf99e3a8152c28ac/source/declarations.tex#L2616'>#</a></div><div id='1.sentence-1' class='sentence'>Each <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> in a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i><a class='footnotenum' href='#footnote-98'>98</a>
introduces a set of declarations into the declarative region in
which the <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> appears<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>The set of declarations introduced by the <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> is found by
performing qualified name lookup (<a href='basic.lookup.qual'>[basic.lookup.qual]</a>, <a href='class.member.lookup'>[class.member.lookup]</a>)
for the name in the <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i>,
excluding functions that are hidden as described below<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>If the <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> does not name a constructor,
the <i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i> is declared in the declarative region
in which the <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> appears
as a synonym for each declaration introduced by the <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i><a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='1.sentence-5' class='sentence'>Only the specified name is so declared;
specifying an enumeration name in a <span class='grammarterm'>using-declaration</span>
does not declare its enumerators
in the <span class='grammarterm'>using-declaration</span>'s declarative region<a class='hidden_link' href='#1.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='1.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':inheritance,using-declaration_and'></a></span>If the <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> names a constructor,
it declares that the class <a class='hidden_link' href='#def:inherits' id='def:inherits'><i>inherits</i></a> the set of constructor declarations
introduced by the <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> from the nominated base class<a class='hidden_link' href='#1.sentence-4'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be5c14cf44a6e6ea7348e65dbf99e3a8152c28ac/source/declarations.tex#L2642'>#</a></div><div id='2.sentence-1' class='sentence'>Every <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> is a <i ><a href='dcl.dcl#nt:declaration'>declaration</a></i> and a
<i ><a href='class.mem#nt:member-declaration'>member-declaration</a></i> and can therefore be used in a class definition<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct B {
  void f(char);
  void g(char);
  enum E { e };
  union { int x; };
};

struct D : B {
  using B::f;
  void f(int) { f('c'); }       <span class='comment'>// calls <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(char)</span>
</span>  void g(int) { g('c'); }       <span class='comment'>// recursively calls <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;g(int)</span>
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be5c14cf44a6e6ea7348e65dbf99e3a8152c28ac/source/declarations.tex#L2663'>#</a></div><div id='3.sentence-1' class='sentence'>In a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> used as a
<i ><a href='class.mem#nt:member-declaration'>member-declaration</a></i>,
each <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i>'s <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i>
shall name a base class of the class being defined<a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>If a
<i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> names a constructor, its
<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> shall name a direct base class of the class
being defined<a class='hidden_link' href='#3.sentence-2'>.</a></div> <div id='3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template &lt;typename... bases&gt;
struct X : bases... {
  using bases::g...;
};

X&lt;B, D&gt; x;                      <span class='comment'>// OK: <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;g</span> and <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;g</span> introduced
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='3.example-2' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#3.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
class C {
  int g();
};

class D2 : public B {
  using B::f;                   <span class='comment'>// OK: <span class='tcode_in_codeblock'>B</span> is a base of <span class='tcode_in_codeblock'>D2</span>
</span>  using B::e;                   <span class='comment'>// OK: <span class='tcode_in_codeblock'>e</span> is an enumerator of base <span class='tcode_in_codeblock'>B</span>
</span>  using B::x;                   <span class='comment'>// OK: <span class='tcode_in_codeblock'>x</span> is a union member of base <span class='tcode_in_codeblock'>B</span>
</span>  using C::g;                   <span class='comment'>// error: <span class='tcode_in_codeblock'>C</span> isn't a base of <span class='tcode_in_codeblock'>D2</span>
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be5c14cf44a6e6ea7348e65dbf99e3a8152c28ac/source/declarations.tex#L2696'>#</a></div><div id='4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='4.sentence-2' class='sentence'>Since destructors do not have names, a
<span class='grammarterm'>using-declaration</span> cannot refer to a
destructor for a base class<a class='hidden_link' href='#4.sentence-2'>.</a></div> <div id='4.sentence-3' class='sentence'>Since specializations of member templates
for conversion functions are not found by name lookup, they are not
considered when a <span class='grammarterm'>using-declaration</span> specifies a conversion
function (<a href='temp.mem'>[temp.mem]</a>)<a class='hidden_link' href='#4.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='4.sentence-1' class='sentence'>
If a constructor or assignment operator brought from a base class into a derived class
has the signature of a copy/move constructor or assignment operator
for the derived class (<a href='class.copy'>[class.copy]</a>),
the <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> does not by itself
suppress the implicit declaration of the derived class member;
the member from the base class is hidden or overridden
by the implicitly-declared copy/move constructor or assignment operator
of the derived class, as described below<a class='hidden_link' href='#4.sentence-1'>.</a></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be5c14cf44a6e6ea7348e65dbf99e3a8152c28ac/source/declarations.tex#L2714'>#</a></div><div id='5.sentence-1' class='sentence'>A <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> shall not name a <i ><a href='temp.names#nt:template-id'>template-id</a></i><a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A {
  template &lt;class T&gt; void f(T);
  template &lt;class T&gt; struct X { };
};
struct B : A {
  using A::f&lt;double&gt;;           <span class='comment'>// ill-formed
</span>  using A::X&lt;int&gt;;              <span class='comment'>// ill-formed
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be5c14cf44a6e6ea7348e65dbf99e3a8152c28ac/source/declarations.tex#L2730'>#</a></div><div id='6.sentence-1' class='sentence'>A <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> shall not name a namespace<a class='hidden_link' href='#6.sentence-1'>.</a></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be5c14cf44a6e6ea7348e65dbf99e3a8152c28ac/source/declarations.tex#L2733'>#</a></div><div id='7.sentence-1' class='sentence'>A <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> shall not name a scoped enumerator<a class='hidden_link' href='#7.sentence-1'>.</a></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be5c14cf44a6e6ea7348e65dbf99e3a8152c28ac/source/declarations.tex#L2736'>#</a></div><div id='8.sentence-1' class='sentence'>A <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> that names a class member shall be a
<i ><a href='class.mem#nt:member-declaration'>member-declaration</a></i><a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct X {
  int i;
  static int s;
};

void f() {
  using X::i;                   <span class='comment'>// error: <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;i</span> is a class member and this is not a member declaration.
</span>  using X::s;                   <span class='comment'>// error: <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;s</span> is a class member and this is not a member declaration.
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be5c14cf44a6e6ea7348e65dbf99e3a8152c28ac/source/declarations.tex#L2753'>#</a></div><div id='9.sentence-1' class='sentence'>Members declared by a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> can be referred to by
explicit qualification just like other member
names (<a href='namespace.qual'>[namespace.qual]</a>)<a class='hidden_link' href='#9.sentence-1'>.</a></div> <div id='9.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#9.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void f();

namespace A {
  void g();
}

namespace X {
  using ::f;                    <span class='comment'>// global <span class='tcode_in_codeblock'>f</span>
</span>  using A::g;                   <span class='comment'>// <span class='tcode_in_codeblock'>A</span>'s <span class='tcode_in_codeblock'>g</span>
</span>}

void h()
{
  X::f();                       <span class='comment'>// calls <span class='tcode_in_codeblock'>&#x200b;::&#x200b;f</span>
</span>  X::g();                       <span class='comment'>// calls <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;g</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be5c14cf44a6e6ea7348e65dbf99e3a8152c28ac/source/declarations.tex#L2778'>#</a></div><div id='10.sentence-1' class='sentence'>A <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> is a <i ><a href='dcl.dcl#nt:declaration'>declaration</a></i> and can
therefore be used repeatedly where (and only where) multiple
declarations are allowed<a class='hidden_link' href='#10.sentence-1'>.</a></div> <div id='10.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#10.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace A {
  int i;
}

namespace A1 {
  using A::i, A::i;             <span class='comment'>// OK: double declaration
</span>}

struct B {
  int i;
};

struct X : B {
  using B::i, B::i;             <span class='comment'>// error: double member declaration
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be5c14cf44a6e6ea7348e65dbf99e3a8152c28ac/source/declarations.tex#L2802'>#</a></div><div id='11.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#11.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='11.sentence-1' class='sentence'>For a <span class='grammarterm'>using-declaration</span>
whose <span class='grammarterm'>nested-name-specifier</span> names a namespace,
members added to the namespace after the <span class='grammarterm'>using-declaration</span>
are not in the set of introduced declarations, so they are not
considered when a use of the name is made<a class='hidden_link' href='#11.sentence-1'>.</a></div> <div id='11.sentence-2' class='sentence'>Thus, additional
overloads added after the <span class='grammarterm'>using-declaration</span> are ignored, but
default function arguments (<a href='dcl.fct.default'>[dcl.fct.default]</a>), default template
arguments (<a href='temp.param'>[temp.param]</a>), and template specializations (<a href='temp.class.spec'>[temp.class.spec]</a>,
<a href='temp.expl.spec'>[temp.expl.spec]</a>) are considered<a class='hidden_link' href='#11.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='11.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#11.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace A {
  void f(int);
}

using A::f;         <span class='comment'>// <span class='tcode_in_codeblock'>f</span> is a synonym for <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f</span>; that is, for <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f(int)</span>.
</span>namespace A {
  void f(char);
}

void foo() {
  f('a');           <span class='comment'>// calls <span class='tcode_in_codeblock'>f(int)</span>, even though <span class='tcode_in_codeblock'>f(char)</span> exists.
</span>}

void bar() {
  using A::f;       <span class='comment'>// <span class='tcode_in_codeblock'>f</span> is a synonym for <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f</span>; that is, for <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f(int)</span> and <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f(char)</span>.
</span>  f('a');           <span class='comment'>// calls <span class='tcode_in_codeblock'>f(char)</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='12'><div class='marginalizedparent'><a class='marginalized' href='#12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be5c14cf44a6e6ea7348e65dbf99e3a8152c28ac/source/declarations.tex#L2836'>#</a></div><div id='12.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#12.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='12.sentence-1' class='sentence'>Partial specializations of class templates are found by looking up the
primary class template and then considering all partial specializations
of that template<a class='hidden_link' href='#12.sentence-1'>.</a></div> <div id='12.sentence-2' class='sentence'>If a <span class='grammarterm'>using-declaration</span> names a class
template, partial specializations introduced after the
<span class='grammarterm'>using-declaration</span> are effectively visible because the primary
template is visible (<a href='temp.class.spec'>[temp.class.spec]</a>)<a class='hidden_link' href='#12.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='13'><div class='marginalizedparent'><a class='marginalized' href='#13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be5c14cf44a6e6ea7348e65dbf99e3a8152c28ac/source/declarations.tex#L2846'>#</a></div><div id='13.sentence-1' class='sentence'>Since a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> is a declaration, the restrictions
on declarations of the same name in the same
<a href='basic.scope#def:declarative_region'>declarative region</a> also apply to <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i><span class='textit'>s</span><a class='hidden_link' href='#13.sentence-1'>.</a></div> <div id='13.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#13.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace A {
  int x;
}

namespace B {
  int i;
  struct g { };
  struct x { };
  void f(int);
  void f(double);
  void g(char);     <span class='comment'>// OK: hides <span class='tcode_in_codeblock'>struct g</span>
</span>}

void func() {
  int i;
  using B::i;       <span class='comment'>// error: <span class='tcode_in_codeblock'>i</span> declared twice
</span>  void f(char);
  using B::f;       <span class='comment'>// OK: each <span class='tcode_in_codeblock'>f</span> is a function
</span>  f(3.5);           <span class='comment'>// calls <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(double)</span>
</span>  using B::g;
  g('a');           <span class='comment'>// calls <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;g(char)</span>
</span>  struct g g1;      <span class='comment'>// <span class='tcode_in_codeblock'>g1</span> has class type <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;g</span>
</span>  using B::x;
  using A::x;       <span class='comment'>// OK: hides <span class='tcode_in_codeblock'>struct B&#x200b;::&#x200b;x</span>
</span>  x = 99;           <span class='comment'>// assigns to <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;x</span>
</span>  struct x x1;      <span class='comment'>// <span class='tcode_in_codeblock'>x1</span> has class type <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;x</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='14'><div class='marginalizedparent'><a class='marginalized' href='#14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be5c14cf44a6e6ea7348e65dbf99e3a8152c28ac/source/declarations.tex#L2883'>#</a></div><div id='14.sentence-1' class='sentence'>If a function declaration in namespace scope or block scope has the same
name and the same <a href='dcl.fct#def:parameter-type-list'>parameter-type-list</a> as
a function introduced by a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>, and the
declarations do not declare the same function, the program is
ill-formed<a class='hidden_link' href='#14.sentence-1'>.</a></div> <div id='14.sentence-2' class='sentence'>If a function template declaration in namespace scope has
the same name, parameter-type-list, return type, and template
parameter list as a function template introduced by a
<i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>, the program is ill-formed<a class='hidden_link' href='#14.sentence-2'>.</a></div> <div id='14.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#14.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='14.sentence-3' class='sentence'>Two <span class='grammarterm'>using-declaration</span><span class='textit'>s</span> may introduce functions with the same
name and the same parameter-type-list<a class='hidden_link' href='#14.sentence-3'>.</a></div> <div id='14.sentence-4' class='sentence'>If, for a call to an unqualified
function name, function overload resolution selects the functions
introduced by such <span class='grammarterm'>using-declaration</span><span class='textit'>s</span>, the function call is
ill-formed<a class='hidden_link' href='#14.sentence-4'>.</a></div> <div id='14.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#14.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
namespace B {
  void f(int);
  void f(double);
}
namespace C {
  void f(int);
  void f(double);
  void f(char);
}

void h() {
  using B::f;       <span class='comment'>// <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(int)</span> and <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(double)</span>
</span>  using C::f;       <span class='comment'>// <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;f(int)</span>, <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;f(double)</span>, and <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;f(char)</span>
</span>  f('h');           <span class='comment'>// calls <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;f(char)</span>
</span>  f(1);             <span class='comment'>// error: ambiguous: <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(int)</span> or <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;f(int)</span>?
</span>  void f(int);      <span class='comment'>// error: <span class='tcode_in_codeblock'>f(int)</span> conflicts with <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;f(int)</span> and <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(int)</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='15'><div class='marginalizedparent'><a class='marginalized' href='#15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be5c14cf44a6e6ea7348e65dbf99e3a8152c28ac/source/declarations.tex#L2922'>#</a></div><div id='15.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':name_hiding,using-declaration_and'></a></span>When a <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> brings declarations from a base class into
a derived class, member functions and member function templates in
the derived class override and/or hide member functions and member
function templates with the same name,
<a href='dcl.fct#def:parameter-type-list'>parameter-type-list</a>, cv-qualification, and <i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i> (if any) in a base
class (rather than conflicting)<a class='hidden_link' href='#15.sentence-1'>.</a></div> <div id='15.sentence-2' class='sentence'>Such hidden or overridden declarations are excluded from the set of
declarations introduced by the <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i><a class='hidden_link' href='#15.sentence-2'>.</a></div> <div id='15.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#15.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct B {
  virtual void f(int);
  virtual void f(char);
  void g(int);
  void h(int);
};

struct D : B {
  using B::f;
  void f(int);      <span class='comment'>// OK: <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;f(int)</span> overrides <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(int)</span>;
</span>
  using B::g;
  void g(char);     <span class='comment'>// OK
</span>
  using B::h;
  void h(int);      <span class='comment'>// OK: <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;h(int)</span> hides <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;h(int)</span>
</span>};

void k(D* p)
{
  p-&gt;f(1);          <span class='comment'>// calls <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;f(int)</span>
</span>  p-&gt;f('a');        <span class='comment'>// calls <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(char)</span>
</span>  p-&gt;g(1);          <span class='comment'>// calls <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;g(int)</span>
</span>  p-&gt;g('a');        <span class='comment'>// calls <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;g(char)</span>
</span>}

struct B1 {
  B1(int);
};

struct B2 {
  B2(int);
};

struct D1 : B1, B2 {
  using B1::B1;
  using B2::B2;
};
D1 d1(0);           <span class='comment'>// ill-formed: ambiguous
</span>
struct D2 : B1, B2 {
  using B1::B1;
  using B2::B2;
  D2(int);          <span class='comment'>// OK: <span class='tcode_in_codeblock'>D2&#x200b;::&#x200b;D2(int)</span> hides <span class='tcode_in_codeblock'>B1&#x200b;::&#x200b;B1(int)</span> and <span class='tcode_in_codeblock'>B2&#x200b;::&#x200b;B2(int)</span>
</span>};
D2 d2(0);           <span class='comment'>// calls <span class='tcode_in_codeblock'>D2&#x200b;::&#x200b;D2(int)</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='16'><div class='marginalizedparent'><a class='marginalized' href='#16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be5c14cf44a6e6ea7348e65dbf99e3a8152c28ac/source/declarations.tex#L2984'>#</a></div><div id='16.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':overloading,using-declaration_and'></a></span>For the purpose of forming a set of candidates during overload resolution,
the functions that are
introduced by a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> into a derived class
are treated as though they were members of the derived class<a class='hidden_link' href='#16.sentence-1'>.</a></div> <div id='16.sentence-2' class='sentence'>In
particular, the implicit <span class='texttt'>this</span> parameter shall be treated as if
it were a pointer to the derived class rather than to the base class<a class='hidden_link' href='#16.sentence-2'>.</a></div> <div id='16.sentence-3' class='sentence'>This has no effect on the type of the function, and in all other
respects the function remains a member of the base class<a class='hidden_link' href='#16.sentence-3'>.</a></div> <div id='16.sentence-4' class='sentence'>Likewise, constructors that are introduced by a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>
are treated as though they were constructors of the derived class
when looking up the constructors of the derived class (<a href='class.qual'>[class.qual]</a>)
or forming a set of overload candidates (<a href='over.match.ctor'>[over.match.ctor]</a>, <a href='over.match.copy'>[over.match.copy]</a>, <a href='over.match.list'>[over.match.list]</a>)<a class='hidden_link' href='#16.sentence-4'>.</a></div> <div id='16.sentence-5' class='sentence'>If such a constructor is selected to perform the initialization
of an object of class type, all subobjects other than the base class
from which the constructor originated
are implicitly initialized (<a href='class.inhctor.init'>[class.inhctor.init]</a>)<a class='hidden_link' href='#16.sentence-5'>.</a></div> <div id='16.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#16.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='16.sentence-6' class='sentence'>A member of a derived class is sometimes preferred to a member of a base class
if they would otherwise be ambiguous (<a href='over.match.best'>[over.match.best]</a>)<a class='hidden_link' href='#16.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='17'><div class='marginalizedparent'><a class='marginalized' href='#17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be5c14cf44a6e6ea7348e65dbf99e3a8152c28ac/source/declarations.tex#L3007'>#</a></div><div id='17.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':access_control,using-declaration_and'></a></span>In a <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> that does not name a constructor,
all members of the set of introduced declarations shall be accessible<a class='hidden_link' href='#17.sentence-1'>.</a></div> <div id='17.sentence-2' class='sentence'>In a <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> that names a constructor,
no access check is performed<a class='hidden_link' href='#17.sentence-2'>.</a></div> <div id='17.sentence-3' class='sentence'>In particular, if a derived class uses a
<i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> to access a member of a base class, the
member name shall be accessible<a class='hidden_link' href='#17.sentence-3'>.</a></div> <div id='17.sentence-4' class='sentence'>If the name is that of an overloaded
member function, then all functions named shall be accessible<a class='hidden_link' href='#17.sentence-4'>.</a></div> <div id='17.sentence-5' class='sentence'>The base
class members mentioned by a <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> shall be
visible in the scope of at least one of the direct base classes of the
class where the <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> is specified<a class='hidden_link' href='#17.sentence-5'>.</a></div></div><div class='para' id='18'><div class='marginalizedparent'><a class='marginalized' href='#18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be5c14cf44a6e6ea7348e65dbf99e3a8152c28ac/source/declarations.tex#L3021'>#</a></div><div id='18.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#18.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='18.sentence-1' class='sentence'>Because a <span class='grammarterm'>using-declarator</span> designates a base class member
(and not a member subobject or a member function of a base class
subobject), a <span class='grammarterm'>using-declarator</span> cannot be used to resolve
inherited member ambiguities<a class='hidden_link' href='#18.sentence-1'>.</a></div> <div id='18.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#18.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A { int x(); };
struct B : A { };
struct C : A {
  using A::x;
  int x(int);
};

struct D : B, C {
  using C::x;
  int x(double);
};
int f(D* d) {
  return d-&gt;x();    <span class='comment'>// error: overload resolution selects <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;x</span>, but <span class='tcode_in_codeblock'>A</span> is an ambiguous base class
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='19'><div class='marginalizedparent'><a class='marginalized' href='#19'>19</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be5c14cf44a6e6ea7348e65dbf99e3a8152c28ac/source/declarations.tex#L3047'>#</a></div><div id='19.sentence-1' class='sentence'>A synonym created by a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> has the usual
accessibility for a <i ><a href='class.mem#nt:member-declaration'>member-declaration</a></i><a class='hidden_link' href='#19.sentence-1'>.</a></div> <div id='19.sentence-2' class='sentence'>A <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> that names a constructor does not
create a synonym; instead, the additional constructors
are accessible if they would be accessible
when used to construct an object of the corresponding base class,
and the accessibility of the <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> is ignored<a class='hidden_link' href='#19.sentence-2'>.</a></div> <div id='19.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#19.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
class A {
private:
    void f(char);
public:
    void f(int);
protected:
    void g();
};

class B : public A {
  using A::f;       <span class='comment'>// error: <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;f(char)</span> is inaccessible
</span>public:
  using A::g;       <span class='comment'>// <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;g</span> is a public synonym for <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;g</span>
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='20'><div class='marginalizedparent'><a class='marginalized' href='#20'>20</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/be5c14cf44a6e6ea7348e65dbf99e3a8152c28ac/source/declarations.tex#L3075'>#</a></div><div id='20.sentence-1' class='sentence'>If a <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> uses the keyword <span class='texttt'>typename</span> and
specifies a dependent name (<a href='temp.dep'>[temp.dep]</a>), the name introduced by the
<i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> is treated as a
<i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i> (<a href='dcl.typedef'>[dcl.typedef]</a>)<a class='hidden_link' href='#20.sentence-1'>.</a></div> </div><div class='footnote' id='footnote-98'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-98'>98)</a></div><div id='footnote-98.sentence-1' class='sentence'>A <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> with more than one
<i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> is equivalent to a corresponding sequence
of <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i><span class='textit'>s</span> with
one <i ><a href='namespace.udecl#nt:using-declarator'>using-declarator</a></i> each<a class='hidden_link' href='#footnote-98.sentence-1'>.</a></div></div></div></body></html>