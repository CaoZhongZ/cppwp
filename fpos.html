<!DOCTYPE html><html lang='en'><head><title>[fpos]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>27</a> Input/output library <a class='abbr_ref' href='./#input.output'>[input.output]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>27.5</a> Iostreams base classes <a class='abbr_ref' href='iostreams.base#fpos'>[iostreams.base]</a></h2><div id='fpos'><h3 ><a class='secnum' style='min-width:103pt'>27.5.4</a> Class template <span class='texttt'>fpos</span> <a class='abbr_ref'>[fpos]</a></h3><p ><span class='indexparent'><a class='index' id='fpos'></a></span></p><pre class='codeblock'>
namespace std {
  template &lt;class stateT&gt; class fpos {
  public:
    <span class='comment'>// <a href='fpos.members'>[fpos.members]</a>, members
</span>    stateT state() const;
    void state(stateT);
  private;
    stateT st; <span class='comment'>// <span class='textit'>exposition only</span>
</span>  };
}</pre><div id='members'><h4 ><a class='secnum' href='#members' style='min-width:118pt'>27.5.4.1</a> <span class='texttt'>fpos</span> members <a class='abbr_ref' href='fpos.members'>[fpos.members]</a></h4><p ><span class='indexparent'><a class='index' id='state,fpos'></a></span><span class='indexparent'><a class='index' id='fpos,state'></a></span></p><p ><code class='itemdecl'>void state(stateT s);
</code></p><div class='itemdescr'></div><div class='para' id='members-1'><div class='marginalizedparent'><a class='marginalized' href='#members-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5d1e1019ffa0d7f52dd420e5a189e8fc70b023e4/source/iostreams.tex#L1634'>#</a></div><p ><span class='textit'>Effects:</span>
Assigns <span class='texttt'>s</span> to <span class='texttt'>st</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='state,fpos'></a></span><span class='indexparent'><a class='index' id='fpos,state'></a></span></p><p ><code class='itemdecl'>stateT state() const;
</code></p><div class='itemdescr'></div><div class='para' id='members-2'><div class='marginalizedparent'><a class='marginalized' href='#members-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5d1e1019ffa0d7f52dd420e5a189e8fc70b023e4/source/iostreams.tex#L1645'>#</a></div><p ><span class='textit'>Returns:</span>
Current value of <span class='texttt'>st</span>.
</p></div></div></div><div id='operations'><h4 ><a class='secnum' href='#operations' style='min-width:118pt'>27.5.4.2</a> <span class='texttt'>fpos</span> requirements <a class='abbr_ref' href='fpos.operations'>[fpos.operations]</a></h4><div class='para' id='operations-1'><div class='marginalizedparent'><a class='marginalized' href='#operations-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5d1e1019ffa0d7f52dd420e5a189e8fc70b023e4/source/iostreams.tex#L1652'>#</a></div><p ><span class='indexparent'><a class='index' id='fpos'></a></span><span class='indexparent'><a class='index' id='streamoff'></a></span>Operations specified in Table <a href='#tab:iostreams.position.requirements'>[tab:iostreams.position.requirements]</a> are permitted.
In that table,
</p><ul class='itemize'><li id='operations-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#operations-1.1'>(1.1)</a></div><p ><span class='texttt'>P</span> refers to an instance of <span class='texttt'>fpos</span>,
</p></li><li id='operations-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#operations-1.2'>(1.2)</a></div><p ><span class='texttt'>p</span> and <span class='texttt'>q</span> refer to values of type <span class='texttt'>P</span>,
</p></li><li id='operations-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#operations-1.3'>(1.3)</a></div><p ><span class='texttt'>O</span> refers to type <span class='texttt'>streamoff</span>,
</p></li><li id='operations-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#operations-1.4'>(1.4)</a></div><p ><span class='texttt'>o</span> refers to a value of type <span class='texttt'>streamoff</span>,
</p></li><li id='operations-1.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#operations-1.5'>(1.5)</a></div><p ><span class='texttt'>sz</span> refers to a value of type <span class='texttt'>streamsize</span> and
</p></li><li id='operations-1.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#operations-1.6'>(1.6)</a></div><p ><span class='texttt'>i</span> refers to a value of type <span class='texttt'>int</span>.
</p></li></ul><div class='numberedTable' id='tab:iostreams.position.requirements'>Table <a href='#tab:iostreams.position.requirements'>112</a> — Position type requirements<br><table ><tr class='rowsep'><td colspan='1' class='center'><b>Expression</b></td><td colspan='1' class='center'><b>Return type</b></td><td colspan='1' class='center'><b>Operational</b></td><td colspan='1' class='center'><b>Assertion/note</b></td></tr><tr ><td class='left'>
            </td><td class='left'>           </td><td colspan='1' class='center'><b>semantics</b></td><td colspan='1' class='center'><b>pre-/post-condition</b></td></tr><tr class='capsep'><td class='left'> 

<span class='texttt'>P(i)</span>      </td><td class='left'>
            </td><td class='left'>
            </td><td class='left'>
 <span class='texttt'>p == P(i)</span><br/>
 note: a destructor is assumed. </td></tr><tr class='rowsep'><td class='left'> 
<span class='texttt'>P p(i);</span><br/>
<span class='texttt'>P p = i;</span>    </td><td class='left'>
            </td><td class='left'>
            </td><td class='left'>
 post: <span class='texttt'>p == P(i)</span>. </td></tr><tr class='rowsep'><td class='left'> 
<span class='texttt'>P(o)</span>      </td><td class='left'>
 <span class='texttt'>fpos</span>     </td><td class='left'>
 converts from <span class='texttt'>offset</span> </td><td class='left'> </td></tr><tr class='rowsep'><td class='left'> 
<span class='texttt'>O(p)</span>      </td><td class='left'>
 <span class='texttt'>streamoff</span>      </td><td class='left'>
 converts to <span class='texttt'>offset</span> </td><td class='left'>
 <span class='texttt'>P(O(p)) == p</span> </td></tr><tr class='rowsep'><td class='left'> 
<span class='texttt'>p == q</span>      </td><td class='left'>
 convertible to <span class='texttt'>bool</span>  </td><td class='left'>
            </td><td class='left'>
 <span class='texttt'>==</span> is an equivalence relation  </td></tr><tr class='rowsep'><td class='left'> 
<span class='texttt'>p != q</span>      </td><td class='left'>
 convertible to <span class='texttt'>bool</span>  </td><td class='left'>
 <span class='texttt'>!(p == q)</span>    </td><td class='left'> </td></tr><tr class='rowsep'><td class='left'> 
<span class='texttt'>q = p + o</span><br/>
<span class='texttt'>p += o</span>      </td><td class='left'>
 <span class='texttt'>fpos</span>     </td><td class='left'>
 <span class='texttt'>+</span> offset   </td><td class='left'>
 <span class='texttt'>q - o == p</span>   </td></tr><tr class='rowsep'><td class='left'> 
<span class='texttt'>q = p - o</span><br/>
<span class='texttt'>p -= o</span>      </td><td class='left'>
 <span class='texttt'>fpos</span>     </td><td class='left'>
 <span class='texttt'>-</span> offset   </td><td class='left'>
 <span class='texttt'>q + o == p</span>   </td></tr><tr class='rowsep'><td class='left'> 
<span class='texttt'>o = p - q</span>   </td><td class='left'>
 <span class='texttt'>streamoff</span>      </td><td class='left'>
 distance       </td><td class='left'>
 <span class='texttt'>q + o == p</span>   </td></tr><tr class='rowsep'><td class='left'> 
<span class='texttt'>streamsize(o)</span><br/>
<span class='texttt'>O(sz)</span>     </td><td class='left'>
 <span class='texttt'>streamsize</span><br/>
 <span class='texttt'>streamoff</span>      </td><td class='left'>
 converts<br/>
 converts       </td><td class='left'>
 <span class='texttt'>streamsize(O(sz)) == sz</span><br/>
 <span class='texttt'>streamsize(O(sz)) == sz</span>  </td></tr></table></div></div><div class='para' id='operations-2'><div class='marginalizedparent'><a class='marginalized' href='#operations-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5d1e1019ffa0d7f52dd420e5a189e8fc70b023e4/source/iostreams.tex#L1726'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>
Every implementation is required to supply overloaded operators on
<span class='texttt'>fpos</span>
objects to satisfy the requirements of <a href='fpos.operations'>[fpos.operations]</a>.
It is unspecified whether these operators are members of
<span class='texttt'>fpos</span>,
global operators,
or provided in some other way.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='operations-3'><div class='marginalizedparent'><a class='marginalized' href='#operations-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5d1e1019ffa0d7f52dd420e5a189e8fc70b023e4/source/iostreams.tex#L1737'>#</a></div><p >Stream operations that return a value of type
<span class='texttt'>traits&#x200b;::&#x200b;pos_&shy;type</span>
return
<span class='texttt'>P(O(-1))</span>
as an invalid value to signal an error.
If this value is used as an argument to any
<span class='texttt'>istream</span>,
<span class='texttt'>ostream</span>,
or
<span class='texttt'>streambuf</span> member
that accepts a value of type
<span class='texttt'>traits&#x200b;::&#x200b;pos_&shy;type</span>
then the behavior of that function is undefined.
<span class='indexparent'><a class='index' id='undefined'></a></span>
</p></div></div></div></div></body></html>