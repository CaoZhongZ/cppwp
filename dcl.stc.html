<!DOCTYPE html><html lang='en'><head><title>[dcl.stc]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>10</a> Declarations <a class='abbr_ref' href='./#dcl.dcl'>[dcl.dcl]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>10.1</a> Specifiers <a class='abbr_ref' href='dcl.spec#dcl.stc'>[dcl.spec]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>10.1.1</a> Storage class specifiers <a class='abbr_ref'>[dcl.stc]</a></h3><span class='indexparent'><a class='index' id=':specifier,storage_class'></a></span><span class='indexparent'><a class='index' id=':declaration,storage_class'></a></span><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b6c21f218e3cbb9d15426975f1a26d8b72a7fe/source/declarations.tex#L322'>#</a></div><div id='1.sentence-1' class='sentence'>The storage class specifiers are
<pre class='bnf'><a class='nontermdef' href='#nt:storage-class-specifier' id='nt:storage-class-specifier'>storage-class-specifier:</a>
&#9;<span id=':static'><span class='terminal'>static</span></span>
&#9;<span id=':thread_local'><span class='terminal'>thread_local</span></span>
&#9;<span id=':extern'><span class='terminal'>extern</span></span>
&#9;<span id=':mutable'><span class='terminal'>mutable</span></span>
</pre></div><div id='1.sentence-2' class='sentence'>At most one <i ><a href='dcl.stc#nt:storage-class-specifier'>storage-class-specifier</a></i> shall appear in a given
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>, except that <span class='texttt'>thread_&shy;local</span> may appear with <span class='texttt'>static</span> or
<span class='texttt'>extern</span><a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>If <span class='texttt'>thread_&shy;local</span> appears in any declaration of
a variable it shall be present in all declarations of that entity<a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'>If a
<i ><a href='dcl.stc#nt:storage-class-specifier'>storage-class-specifier</a></i>
appears in a <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>, there can be no
<span class='texttt'>typedef</span> specifier in the same <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> and
the <i ><a href='dcl.decl#nt:init-declarator-list'>init-declarator-list</a></i> or <i ><a href='class.mem#nt:member-declarator-list'>member-declarator-list</a></i>
of the declaration shall not be
empty (except for an anonymous union declared in a named namespace or in the
global namespace, which shall be declared
<span class='indexparent'><a class='index' id=':specifier,static'></a></span><span class='texttt'>static</span> (<a href='class.union.anon'>[class.union.anon]</a>))<a class='hidden_link' href='#1.sentence-4'>.</a></div> <div id='1.sentence-5' class='sentence'>The
<i ><a href='dcl.stc#nt:storage-class-specifier'>storage-class-specifier</a></i> applies to the name declared by each
<i ><a href='dcl.decl#nt:init-declarator'>init-declarator</a></i> in the list and not to any names declared by
other specifiers<a class='hidden_link' href='#1.sentence-5'>.</a></div> <div id='1.sentence-6' class='sentence'>A <i ><a href='dcl.stc#nt:storage-class-specifier'>storage-class-specifier</a></i>
other than <span class='texttt'>thread_&shy;local</span>
shall not be
specified in an <a href='temp.expl.spec'>explicit specialization</a> or an
<a href='temp.explicit'>explicit instantiation</a> directive<a class='hidden_link' href='#1.sentence-6'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b6c21f218e3cbb9d15426975f1a26d8b72a7fe/source/declarations.tex#L353'>#</a></div><div id='2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='2.sentence-1' class='sentence'>A variable declared without a <i ><a href='dcl.stc#nt:storage-class-specifier'>storage-class-specifier</a></i>
at block scope or declared as a function parameter
has <a href='basic.stc.auto#def:automatic_storage_duration'>automatic storage duration</a> by default<a class='hidden_link' href='#2.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b6c21f218e3cbb9d15426975f1a26d8b72a7fe/source/declarations.tex#L360'>#</a></div><div id='3.sentence-1' class='sentence'>The <span class='texttt'>thread_&shy;local</span> specifier
indicates that the named entity has <a href='basic.stc.thread#def:thread_storage_duration'>thread storage duration</a><a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>It shall be applied only to the names of variables of namespace
or block scope and to the names of static data members<a class='hidden_link' href='#3.sentence-2'>.</a></div> <div id='3.sentence-3' class='sentence'>When <span class='texttt'>thread_&shy;local</span> is applied to a variable of block scope the
<i ><a href='dcl.stc#nt:storage-class-specifier'>storage-class-specifier</a></i> <span class='texttt'>static</span> is implied if no other
<i ><a href='dcl.stc#nt:storage-class-specifier'>storage-class-specifier</a></i> appears in the
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i><a class='hidden_link' href='#3.sentence-3'>.</a></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b6c21f218e3cbb9d15426975f1a26d8b72a7fe/source/declarations.tex#L370'>#</a></div><div id='4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':restriction,static'></a></span>The <span class='texttt'>static</span> specifier can be applied only to names of variables and
functions and to <a href='class.union.anon'>anonymous unions</a><a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>There can be no
<span class='texttt'>static</span> function declarations within a block, nor any
<span class='texttt'>static</span> function parameters<a class='hidden_link' href='#4.sentence-2'>.</a></div> <div id='4.sentence-3' class='sentence'>A <span class='texttt'>static</span> specifier used in
the declaration of a variable declares the variable to have
<a href='basic.stc.static#def:static_storage_duration'>static storage duration</a>, unless accompanied by the
<span class='texttt'>thread_&shy;local</span> specifier, which declares the variable to have
<a href='basic.stc.thread#def:thread_storage_duration'>thread storage duration</a><a class='hidden_link' href='#4.sentence-3'>.</a></div> <div id='4.sentence-4' class='sentence'>A <span class='texttt'>static</span> specifier can be
used in declarations of class members; <a href='class.static'>[class.static]</a> describes its
effect<a class='hidden_link' href='#4.sentence-4'>.</a></div> <div id='4.sentence-5' class='sentence'><span class='indexparent'><a class='index' id=':static,linkage_of'></a></span>For the linkage of a name declared with a <span class='texttt'>static</span> specifier,
see <a href='basic.link'>[basic.link]</a><a class='hidden_link' href='#4.sentence-5'>.</a></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b6c21f218e3cbb9d15426975f1a26d8b72a7fe/source/declarations.tex#L386'>#</a></div><div id='5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':restriction,extern'></a></span>The <span class='texttt'>extern</span> specifier can be applied only to the names of variables
and functions<a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>The <span class='texttt'>extern</span> specifier cannot be used in the
declaration of class members or function parameters<a class='hidden_link' href='#5.sentence-2'>.</a></div> <div id='5.sentence-3' class='sentence'><span class='indexparent'><a class='index' id=':extern,linkage_of'></a></span><span class='indexparent'><a class='index' id=':consistency,linkage'></a></span>For the linkage of a name declared with an <span class='texttt'>extern</span> specifier,
see <a href='basic.link'>[basic.link]</a><a class='hidden_link' href='#5.sentence-3'>.</a></div> <div id='5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='5.sentence-4' class='sentence'>The <span class='texttt'>extern</span> keyword can also be used in
<i ><a href='temp.explicit#nt:explicit-instantiation'>explicit-instantiation</a></i><span class='textit'>s</span> and
<i ><a href='dcl.link#nt:linkage-specification'>linkage-specification</a></i><span class='textit'>s</span>, but it is not a
<i ><a href='dcl.stc#nt:storage-class-specifier'>storage-class-specifier</a></i> in such contexts<a class='hidden_link' href='#5.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b6c21f218e3cbb9d15426975f1a26d8b72a7fe/source/declarations.tex#L402'>#</a></div><div id='6.sentence-1' class='sentence'>The linkages implied by successive declarations for a given entity shall
agree<a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'>That is, within a given scope, each declaration declaring the
same variable name or the same overloading of a function name shall imply
the same linkage<a class='hidden_link' href='#6.sentence-2'>.</a></div> <div id='6.sentence-3' class='sentence'>Each function in a given set of overloaded functions
can have a different linkage, however<a class='hidden_link' href='#6.sentence-3'>.</a></div> <div id='6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
static char* f();               <span class='comment'>// <span class='tcode_in_codeblock'>f()</span> has internal linkage
</span>char* f()                       <span class='comment'>// <span class='tcode_in_codeblock'>f()</span> still has internal linkage
</span>  { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> }

char* g();                      <span class='comment'>// <span class='tcode_in_codeblock'>g()</span> has external linkage
</span>static char* g()                <span class='comment'>// error: inconsistent linkage
</span>  { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> }

void h();
inline void h();                <span class='comment'>// external linkage
</span>
inline void l();
void l();                       <span class='comment'>// external linkage
</span>
inline void m();
extern void m();                <span class='comment'>// external linkage
</span>
static void n();
inline void n();                <span class='comment'>// internal linkage
</span>
static int a;                   <span class='comment'>// <span class='tcode_in_codeblock'>a</span> has internal linkage
</span>int a;                          <span class='comment'>// error: two definitions
</span>
static int b;                   <span class='comment'>// <span class='tcode_in_codeblock'>b</span> has internal linkage
</span>extern int b;                   <span class='comment'>// <span class='tcode_in_codeblock'>b</span> still has internal linkage
</span>
int c;                          <span class='comment'>// <span class='tcode_in_codeblock'>c</span> has external linkage
</span>static int c;                   <span class='comment'>// error: inconsistent linkage
</span>
extern int d;                   <span class='comment'>// <span class='tcode_in_codeblock'>d</span> has external linkage
</span>static int d;                   <span class='comment'>// error: inconsistent linkage
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b6c21f218e3cbb9d15426975f1a26d8b72a7fe/source/declarations.tex#L444'>#</a></div><div id='7.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':declaration,forward'></a></span>The name of a declared but undefined class can be used in an
<span class='texttt'>extern</span> declaration<a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='7.sentence-2' class='sentence'>Such a declaration can only be used in ways
that do not require a complete class type<a class='hidden_link' href='#7.sentence-2'>.</a></div> <div id='7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct S;
extern S a;
extern S f();
extern void g(S);

void h() {
  g(a);                         <span class='comment'>// error: <span class='tcode_in_codeblock'>S</span> is incomplete
</span>  f();                          <span class='comment'>// error: <span class='tcode_in_codeblock'>S</span> is incomplete
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b6c21f218e3cbb9d15426975f1a26d8b72a7fe/source/declarations.tex#L463'>#</a></div><div id='8.sentence-1' class='sentence'>The <span class='texttt'>mutable</span> specifier shall appear only in the declaration of
a <a href='class.mem#def:non-static_data_member'>non-static data member</a>
whose type is neither const-qualified nor a reference type<a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
class X {
  mutable const int* p;         <span class='comment'>// OK
</span>  mutable int* const q;         <span class='comment'>// ill-formed
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/61b6c21f218e3cbb9d15426975f1a26d8b72a7fe/source/declarations.tex#L476'>#</a></div><div id='9.sentence-1' class='sentence'>The <span class='texttt'>mutable</span> specifier on a class data member nullifies a
<span class='texttt'>const</span> specifier applied to the containing class object and
permits modification of the mutable class member even though the rest of
the object is const (<a href='dcl.type.cv'>[dcl.type.cv]</a>)<a class='hidden_link' href='#9.sentence-1'>.</a></div></div></div></body></html>