<!DOCTYPE html><html lang='en'><head><title>[basic]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><div id='basic'><h1 ><a class='secnum' style='min-width:73pt'>3</a> Basic concepts <a class='abbr_ref' href='./#basic'>[basic]</a></h1><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><p >[&nbsp;<i>Note:</i> This Clause presents the basic concepts of the C++ language.
It explains the difference between an <a class='hidden_link' href='#def:object' id='def:object'><i>object</i></a> and a
<a class='hidden_link' href='#def:name' id='def:name'><i>name</i></a> and how they relate to the value categories for expressions.
It introduces the concepts of a
<a class='hidden_link' href='#def:declaration' id='def:declaration'><i>declaration</i></a> and a <a class='hidden_link' href='#def:definition' id='def:definition'><i>definition</i></a> and presents C++'s
notion of <a class='hidden_link' href='#def:type' id='def:type'><i>type</i></a>, <a class='hidden_link' href='#def:scope' id='def:scope'><i>scope</i></a>, <a class='hidden_link' href='#def:linkage' id='def:linkage'><i>linkage</i></a>, and
<a class='hidden_link' href='#def:storage' id='def:storage'><i>storage</i></a> <a class='hidden_link' href='#def:duration' id='def:duration'><i>duration</i></a>. The mechanisms for starting and
terminating a program are discussed. Finally, this Clause presents the
<a class='hidden_link' href='#def:fundamental' id='def:fundamental'><i>fundamental</i></a> types of the language and lists the ways of constructing
<a class='hidden_link' href='#def:compound' id='def:compound'><i>compound</i></a> types from these.<i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><p >[&nbsp;<i>Note:</i> This Clause does not cover concepts that affect only a single
part of the language. Such concepts are discussed in the relevant
Clauses. <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><p ><span class='indexparent'><a class='index' id='name'></a></span><span class='indexparent'><a class='index' id='declaration'></a></span><span class='indexparent'><a class='index' id='type'></a></span><span class='indexparent'><a class='index' id='object'></a></span><span class='indexparent'><a class='index' id='storage_class'></a></span><span class='indexparent'><a class='index' id='scope'></a></span><span class='indexparent'><a class='index' id='linkage'></a></span><span class='indexparent'><a class='index' id='region,declarative'></a></span><span class='indexparent'><a class='index' id='entity'></a></span>An <a class='hidden_link' href='#def:entity' id='def:entity'><i>entity</i></a> is a value, object, reference, function, enumerator, type,
class member, template, template specialization, namespace, parameter
pack, or <span class='texttt'>this</span>.</p></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><p >A <a class='hidden_link' href='#def:name' id='def:name'><i>name</i></a> is a use of an <i ><a href='lex.name#nt:identifier'>identifier</a></i> (<a href='lex.name'>[lex.name]</a>),
<i ><a href='over.oper#nt:operator-function-id'>operator-function-id</a></i> (<a href='over.oper'>[over.oper]</a>),
<i ><a href='over.literal#nt:literal-operator-id'>literal-operator-id</a></i> (<a href='over.literal'>[over.literal]</a>),
<i ><a href='class.conv.fct#nt:conversion-function-id'>conversion-function-id</a></i> (<a href='class.conv.fct'>[class.conv.fct]</a>), or
<i ><a href='temp.names#nt:template-id'>template-id</a></i> (<a href='temp.names'>[temp.names]</a>) that denotes an entity or
<span class='grammarterm'>label</span> (<a href='stmt.goto'>[stmt.goto]</a>, <a href='stmt.label'>[stmt.label]</a>).</p></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><p >Every name that denotes an entity is introduced by a
<a class='hidden_link' href='#def:declaration' id='def:declaration'><i>declaration</i></a>. Every name that denotes a label is introduced
either by a <span class='texttt'>goto</span> statement (<a href='stmt.goto'>[stmt.goto]</a>) or a
<i ><a href='stmt.label#nt:labeled-statement'>labeled-statement</a></i> (<a href='stmt.label'>[stmt.label]</a>).</p></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><p >A <a class='hidden_link' href='#def:variable' id='def:variable'><i>variable</i></a> is introduced by the
declaration of
a reference other than a non-static data member or of
an object. The variable's name denotes the reference or object.</p></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><p >Some names denote types or templates. In general,
whenever a name is encountered it is necessary to determine whether that name denotes
one of these entities before continuing to parse the program that contains it. The
process that determines this is called
<span class='indexparent'><a class='index' id='lookup,name'></a></span><a class='hidden_link' href='#def:name_lookup' id='def:name_lookup'><i>name lookup</i></a> (<a href='basic.lookup'>[basic.lookup]</a>).</p></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><p >Two names are <a class='hidden_link' href='#def:the_same' id='def:the_same'><i>the same</i></a> if</p><ul class='itemize'><li id='8.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#8.1'>(8.1)</a></div><p >they are <i ><a href='lex.name#nt:identifier'>identifiers</a></i> composed of the same character sequence, or
</p></li><li id='8.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#8.2'>(8.2)</a></div><p >they are <i ><a href='over.oper#nt:operator-function-id'>operator-function-ids</a></i> formed with
the same operator, or
</p></li><li id='8.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#8.3'>(8.3)</a></div><p >they are <i ><a href='class.conv.fct#nt:conversion-function-id'>conversion-function-ids</a></i> formed
with the same type, or
</p></li><li id='8.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#8.4'>(8.4)</a></div><p >they are <i ><a href='temp.names#nt:template-id'>template-ids</a></i> that refer to the same class or function (<a href='temp.type'>[temp.type]</a>), or
</p></li><li id='8.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#8.5'>(8.5)</a></div><p >they are the names of literal operators (<a href='over.literal'>[over.literal]</a>) formed with
the same literal suffix identifier.
</p></li></ul></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><p ><span class='indexparent'><a class='index' id='translation_unit,name_and'></a></span><span class='indexparent'><a class='index' id='linkage'></a></span>A name used in more than one translation unit can potentially
refer to the same entity in these translation units depending on the
linkage (<a href='basic.link'>[basic.link]</a>) of the name specified in each
translation unit.</p></div><div id='def'><h2 ><a class='secnum' href='#def' style='min-width:88pt'>3.1</a> Declarations and definitions <a class='abbr_ref' href='basic.def'>[basic.def]</a></h2><div class='para' id='def-1'><div class='marginalizedparent'><a class='marginalized' href='#def-1'>1</a></div><p ><span class='indexparent'><a class='index' id='declaration,definition_versus'></a></span><span class='indexparent'><a class='index' id='declaration'></a></span><span class='indexparent'><a class='index' id='declaration,name'></a></span>A declaration (Clause <a href='dcl.dcl'>[dcl.dcl]</a>) may introduce
one or more names into a translation
unit or redeclare names introduced by previous declarations.
If so, the
declaration specifies the interpretation and attributes of these names.
A declaration may also have effects including:</p><ul class='itemize'><li id='def-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def-1.1'>(1.1)</a></div><p >a static assertion (Clause <a href='dcl.dcl'>[dcl.dcl]</a>),
</p></li><li id='def-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def-1.2'>(1.2)</a></div><p >controlling template instantiation (<a href='temp.explicit'>[temp.explicit]</a>),
</p></li><li id='def-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def-1.3'>(1.3)</a></div><p >use of attributes (Clause <a href='dcl.dcl'>[dcl.dcl]</a>), and
</p></li><li id='def-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def-1.4'>(1.4)</a></div><p >nothing (in the case of an <i ><a href='dcl.dcl#nt:empty-declaration'>empty-declaration</a></i>).
</p></li></ul></div><div class='para' id='def-2'><div class='marginalizedparent'><a class='marginalized' href='#def-2'>2</a></div><p ><span class='indexparent'><a class='index' id='declaration,function'></a></span><span class='indexparent'><a class='index' id='definition'></a></span>A declaration is a <a class='hidden_link' href='#def:definition' id='def:definition'><i>definition</i></a> unless it declares a function
without specifying the function's body (<a href='dcl.fct.def'>[dcl.fct.def]</a>), it contains
the
<span class='indexparent'><a class='index' id='declaration,extern'></a></span><span class='texttt'>extern</span> specifier (<a href='dcl.stc'>[dcl.stc]</a>) or a
<i ><a href='dcl.link#nt:linkage-specification'>linkage-specification</a></i><a class='footnotenum' href='#footnote-25'>25</a>
(<a href='dcl.link'>[dcl.link]</a>) and neither an <i ><a href='dcl.init#nt:initializer'>initializer</a></i> nor a
<span class='grammarterm'>function-body</span>,
<span class='indexparent'><a class='index' id='declaration,static_member'></a></span>it declares a static data member in a class
definition (<a href='class.mem'>[class.mem]</a>, <a href='class.static'>[class.static]</a>),
<span class='indexparent'><a class='index' id='declaration,class_name'></a></span>it is a class name declaration (<a href='class.name'>[class.name]</a>),
it is an
<span class='indexparent'><a class='index' id='declaration,opaque_enum'></a></span><i ><a href='dcl.enum#nt:opaque-enum-declaration'>opaque-enum-declaration</a></i> (<a href='dcl.enum'>[dcl.enum]</a>),
it is a
<span class='indexparent'><a class='index' id='parameter,template'></a></span><span class='indexparent'><a class='index' id='template_parameter'></a></span><i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i> (<a href='temp.param'>[temp.param]</a>),
it is a
<span class='indexparent'><a class='index' id='declaration,parameter'></a></span><span class='indexparent'><a class='index' id='parameter_declaration'></a></span><i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i> (<a href='dcl.fct'>[dcl.fct]</a>) in a function
<span class='indexparent'><a class='index' id='declarator'></a></span>declarator that is not the <i ><a href='dcl.decl#nt:declarator'>declarator</a></i> of a
<i ><a href='dcl.fct.def.general#nt:function-definition'>function-definition</a></i>,
or it is a
<span class='indexparent'><a class='index' id='declaration,typedef'></a></span><span class='texttt'>typedef</span> declaration (<a href='dcl.typedef'>[dcl.typedef]</a>),
an <i ><a href='dcl.dcl#nt:alias-declaration'>alias-declaration</a></i> (<a href='dcl.typedef'>[dcl.typedef]</a>),
a
<i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> (<a href='namespace.udecl'>[namespace.udecl]</a>),
a <i ><a href='dcl.dcl#nt:static_assert-declaration'>static_assert-declaration</a></i> (Clause <a href='dcl.dcl'>[dcl.dcl]</a>), an
<i ><a href='dcl.dcl#nt:attribute-declaration'>attribute-declaration</a></i> (Clause <a href='dcl.dcl'>[dcl.dcl]</a>), an
<i ><a href='dcl.dcl#nt:empty-declaration'>empty-declaration</a></i> (Clause <a href='dcl.dcl'>[dcl.dcl]</a>),
or a <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> (<a href='namespace.udir'>[namespace.udir]</a>).</p><p >[&nbsp;<i>Example:</i> all but one of the following are definitions:</p><p ><span class='indexparent'><a class='index' id='example,definition'></a></span></p><pre class='codeblock'>
int a;                          <span class='comment'>// defines <span class='texttt'>a</span>
</span>extern const int c = 1;         <span class='comment'>// defines <span class='texttt'>c</span>
</span>int f(int x) { return x+a; }    <span class='comment'>// defines <span class='texttt'>f</span> and defines <span class='texttt'>x</span>
</span>struct S { int a; int b; };     <span class='comment'>// defines <span class='texttt'>S</span>, <span class='texttt'>S::a</span>, and <span class='texttt'>S::b</span>
</span>struct X {                      <span class='comment'>// defines <span class='texttt'>X</span>
</span>  int x;                        <span class='comment'>// defines non-static data member <span class='texttt'>x</span>
</span>  static int y;                 <span class='comment'>// declares static data member <span class='texttt'>y</span>
</span>  X(): x(0) { }                 <span class='comment'>// defines a constructor of <span class='texttt'>X</span>
</span>};
int X::y = 1;                   <span class='comment'>// defines <span class='texttt'>X::y</span>
</span>enum { up, down };              <span class='comment'>// defines <span class='texttt'>up</span> and <span class='texttt'>down</span>
</span>namespace N { int d; }          <span class='comment'>// defines <span class='texttt'>N</span> and <span class='texttt'>N::d</span>
</span>namespace N1 = N;               <span class='comment'>// defines <span class='texttt'>N1</span>
</span>X anX;                          <span class='comment'>// defines <span class='texttt'>anX</span>
</span>
</pre><p >whereas these are just declarations:
<span class='indexparent'><a class='index' id='example,declaration'></a></span></p><pre class='codeblock'>
extern int a;                   <span class='comment'>// declares <span class='texttt'>a</span>
</span>extern const int c;             <span class='comment'>// declares <span class='texttt'>c</span>
</span>int f(int);                     <span class='comment'>// declares <span class='texttt'>f</span>
</span>struct S;                       <span class='comment'>// declares <span class='texttt'>S</span>
</span>typedef int Int;                <span class='comment'>// declares <span class='texttt'>Int</span>
</span>extern X anotherX;              <span class='comment'>// declares <span class='texttt'>anotherX</span>
</span>using N::d;                     <span class='comment'>// declares <span class='texttt'>d</span>
</span></pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;]</p></div><div class='para' id='def-3'><div class='marginalizedparent'><a class='marginalized' href='#def-3'>3</a></div><p >[&nbsp;<i>Note:</i> 
<span class='indexparent'><a class='index' id='implementation-generated'></a></span>In some circumstances, C++ implementations implicitly define the
default constructor (<a href='class.ctor'>[class.ctor]</a>),
copy constructor (<a href='class.copy'>[class.copy]</a>),
move constructor (<a href='class.copy'>[class.copy]</a>),
copy assignment operator (<a href='class.copy'>[class.copy]</a>),
move assignment operator (<a href='class.copy'>[class.copy]</a>),
or destructor (<a href='class.dtor'>[class.dtor]</a>) member functions. <i>&nbsp;—&nbsp;end note</i>&nbsp;]
[&nbsp;<i>Example:</i> given</p><pre class='codeblock'>
#include &lt;string&gt;

struct C {
  std::string s;              <span class='comment'>// <span class='texttt'>std::string</span> is the standard library class (Clause <a href='strings'>[strings]</a>)
</span>};

int main() {
  C a;
  C b = a;
  b = a;
}
</pre><p >the implementation will implicitly define functions to make the
definition of <span class='texttt'>C</span> equivalent to</p><pre class='codeblock'>
struct C {
  std::string s;
  C() : s() { }
  C(const C&amp; x): s(x.s) { }
  C(C&amp;&amp; x): s(static_cast&lt;std::string&amp;&amp;&gt;(x.s)) { }
    <span class='comment'>// <span class='texttt'>: s(std::move(x.s)) { }</span>
</span>  C&amp; operator=(const C&amp; x) { s = x.s; return *this; }
  C&amp; operator=(C&amp;&amp; x) { s = static_cast&lt;std::string&amp;&amp;&gt;(x.s); return *this; }
    <span class='comment'>// <span class='texttt'>{ s = std::move(x.s); return *this; }</span>
</span>  ~C() { }
};
</pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;]</p></div><div class='para' id='def-4'><div class='marginalizedparent'><a class='marginalized' href='#def-4'>4</a></div><p >[&nbsp;<i>Note:</i> A class name can also be implicitly declared by an
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> (<a href='dcl.type.elab'>[dcl.type.elab]</a>).
<i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='def-5'><div class='marginalizedparent'><a class='marginalized' href='#def-5'>5</a></div><p ><span class='indexparent'><a class='index' id='type,incomplete'></a></span>A program is ill-formed if the definition of any object gives the object
an incomplete type (<a href='basic.types'>[basic.types]</a>).</p><p ><span class='indexparent'><a class='index' id='object,definition'></a></span><span class='indexparent'><a class='index' id='function,definition'></a></span><span class='indexparent'><a class='index' id='class,definition'></a></span><span class='indexparent'><a class='index' id='enumerator,definition'></a></span><span class='indexparent'><a class='index' id='one-definition_rule'></a></span></p></div><div class='footnote' id='footnote-25'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-25'>25)</a></div><p >Appearing inside the braced-enclosed
<i ><a href='dcl.dcl#nt:declaration-seq'>declaration-seq</a></i> in a <i ><a href='dcl.link#nt:linkage-specification'>linkage-specification</a></i> does
not affect whether a declaration is a definition.</p></div></div><div id='def.odr'><h2 ><a class='secnum' href='#def.odr' style='min-width:88pt'>3.2</a> One definition rule <a class='abbr_ref' href='basic.def.odr'>[basic.def.odr]</a></h2><div class='para' id='def.odr-1'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-1'>1</a></div><p >No translation unit shall contain more than one definition of any
variable, function, class type, enumeration type, or template.</p></div><div class='para' id='def.odr-2'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-2'>2</a></div><p >An expression is <a class='hidden_link' href='#def:potentially_evaluated' id='def:potentially_evaluated'><i>potentially evaluated</i></a> unless it is an
unevaluated operand (Clause <a href='expr'>[expr]</a>) or a subexpression thereof.
A variable whose name appears as a
potentially-evaluated expression is <a class='hidden_link' href='#def:odr-used' id='def:odr-used'><i>odr-used</i></a> unless it is an
object that satisfies the requirements for appearing in a
constant expression (<a href='expr.const'>[expr.const]</a>) and the lvalue-to-rvalue
conversion (<a href='conv.lval'>[conv.lval]</a>) is immediately applied.
<span class='texttt'>this</span> is odr-used if it appears as a potentially-evaluated expression
(including as the result of the implicit transformation in the body of a non-static
member function (<a href='class.mfct.non-static'>[class.mfct.non-static]</a>)).
A virtual member
function is odr-used if it is not pure.
A
non-overloaded function whose name appears as a potentially-evaluated
expression or a
member of a set of candidate functions,
if
selected by overload resolution when referred to from a
potentially-evaluated expression, is odr-used, unless it is a pure virtual
function and its name is not explicitly qualified.
[&nbsp;<i>Note:</i> This covers calls to named
functions (<a href='expr.call'>[expr.call]</a>), operator overloading (Clause <a href='over'>[over]</a>),
user-defined conversions (<a href='class.conv.fct'>[class.conv.fct]</a>), allocation function for
placement new (<a href='expr.new'>[expr.new]</a>), as well as non-default
initialization (<a href='dcl.init'>[dcl.init]</a>). A copy constructor or move constructor is odr-used even if the
call is actually elided by the implementation. <i>&nbsp;—&nbsp;end note</i>&nbsp;] An allocation
or deallocation function for a class is odr-used by a new expression
appearing in a potentially-evaluated expression as specified
in <a href='expr.new'>[expr.new]</a> and <a href='class.free'>[class.free]</a>. A deallocation function for a
class is odr-used by a delete expression appearing in a
potentially-evaluated expression as specified in <a href='expr.delete'>[expr.delete]</a>
and <a href='class.free'>[class.free]</a>. A non-placement allocation or deallocation
function for a class is odr-used by the definition of a constructor of that
class. A non-placement deallocation function for a class is odr-used by the
definition of the destructor of that class, or by being selected by the
lookup at the point of definition of a virtual
destructor (<a href='class.dtor'>[class.dtor]</a>).<a class='footnotenum' href='#footnote-26'>26</a>
A copy-assignment function for a class is odr-used by an implicitly-defined
copy-assignment function for another class as specified
in <a href='class.copy'>[class.copy]</a>.
A move-assignment function for a class is odr-used by an implicitly-defined
move-assignment function for another class as specified in <a href='class.copy'>[class.copy]</a>.
A default constructor for a class is odr-used by
default initialization or value initialization as specified
in <a href='dcl.init'>[dcl.init]</a>. A constructor for a class is odr-used as specified
in <a href='dcl.init'>[dcl.init]</a>. A destructor for a class is odr-used as specified
in <a href='class.dtor'>[class.dtor]</a>.</p></div><div class='para' id='def.odr-3'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-3'>3</a></div><p >Every program shall contain exactly one definition of every non-inline
function or variable that is odr-used in that program; no diagnostic required.
The definition can appear explicitly in the program, it can be found in
the standard or a user-defined library, or (when appropriate) it is
implicitly defined (see <a href='class.ctor'>[class.ctor]</a>, <a href='class.dtor'>[class.dtor]</a> and
<a href='class.copy'>[class.copy]</a>). An inline function shall be defined in every
translation unit in which it is odr-used.</p></div><div class='para' id='def.odr-4'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-4'>4</a></div><p ><span class='indexparent'><a class='index' id='type,incomplete'></a></span>Exactly one definition of a class is required in a translation unit if
the class is used in a way that requires the class type to be complete.
[&nbsp;<i>Example:</i> the following complete translation unit is well-formed,
even though it never defines <span class='texttt'>X</span>:</p><pre class='codeblock'>
struct X;                       <span class='comment'>// declare <span class='texttt'>X</span> as a struct type
</span>struct X* x1;                   <span class='comment'>// use <span class='texttt'>X</span> in pointer formation
</span>X* x2;                          <span class='comment'>// use <span class='texttt'>X</span> in pointer formation
</span></pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;]
[&nbsp;<i>Note:</i> The rules for declarations and expressions
describe in which contexts complete class types are required. A class
type <span class='texttt'>T</span> must be complete if:</p><ul class='itemize'><li id='def.odr-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-4.1'>(4.1)</a></div><p >an object of type <span class='texttt'>T</span> is defined (<a href='basic.def'>[basic.def]</a>), or
</p></li><li id='def.odr-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-4.2'>(4.2)</a></div><p >a non-static class data member of type <span class='texttt'>T</span> is
declared (<a href='class.mem'>[class.mem]</a>), or
</p></li><li id='def.odr-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-4.3'>(4.3)</a></div><p ><span class='texttt'>T</span> is used as the object type or array element type in a
<i ><a href='expr.new#nt:new-expression'>new-expression</a></i> (<a href='expr.new'>[expr.new]</a>), or
</p></li><li id='def.odr-4.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-4.4'>(4.4)</a></div><p >an lvalue-to-rvalue conversion is applied to
a glvalue referring
to an object of type <span class='texttt'>T</span> (<a href='conv.lval'>[conv.lval]</a>), or
</p></li><li id='def.odr-4.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-4.5'>(4.5)</a></div><p >an expression is converted (either implicitly or explicitly) to
type <span class='texttt'>T</span> (Clause <a href='conv'>[conv]</a>, <a href='expr.type.conv'>[expr.type.conv]</a>,
<a href='expr.dynamic.cast'>[expr.dynamic.cast]</a>, <a href='expr.static.cast'>[expr.static.cast]</a>, <a href='expr.cast'>[expr.cast]</a>), or
</p></li><li id='def.odr-4.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-4.6'>(4.6)</a></div><p >an expression that is not a null pointer constant, and has type
other than <span class='texttt'>void*</span>, is converted to the type pointer to <span class='texttt'>T</span>
or reference to <span class='texttt'>T</span> using an implicit conversion
(Clause <a href='conv'>[conv]</a>), a <span class='texttt'>dynamic_cast</span> (<a href='expr.dynamic.cast'>[expr.dynamic.cast]</a>) or
a <span class='texttt'>static_cast</span> (<a href='expr.static.cast'>[expr.static.cast]</a>), or
</p></li><li id='def.odr-4.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-4.7'>(4.7)</a></div><p >a class member access operator is applied to an expression of type
<span class='texttt'>T</span> (<a href='expr.ref'>[expr.ref]</a>), or
</p></li><li id='def.odr-4.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-4.8'>(4.8)</a></div><p >the <span class='texttt'>typeid</span> operator (<a href='expr.typeid'>[expr.typeid]</a>) or the
<span class='texttt'>sizeof</span> operator (<a href='expr.sizeof'>[expr.sizeof]</a>) is applied to an operand of
type <span class='texttt'>T</span>, or
</p></li><li id='def.odr-4.9'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-4.9'>(4.9)</a></div><p >a function with a return type or argument type of type <span class='texttt'>T</span>
is defined (<a href='basic.def'>[basic.def]</a>) or called (<a href='expr.call'>[expr.call]</a>), or
</p></li><li id='def.odr-4.10'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-4.10'>(4.10)</a></div><p >a class with a base class of type <span class='texttt'>T</span> is
defined (Clause <a href='class.derived'>[class.derived]</a>), or
</p></li><li id='def.odr-4.11'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-4.11'>(4.11)</a></div><p >an lvalue of type <span class='texttt'>T</span> is assigned to (<a href='expr.ass'>[expr.ass]</a>), or
</p></li><li id='def.odr-4.12'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-4.12'>(4.12)</a></div><p >the type <span class='texttt'>T</span> is the subject of an
<span class='texttt'>alignof</span> expression (<a href='expr.alignof'>[expr.alignof]</a>), or
</p></li><li id='def.odr-4.13'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-4.13'>(4.13)</a></div><p >an <i ><a href='except#nt:exception-declaration'>exception-declaration</a></i> has type <span class='texttt'>T</span>, reference to
<span class='texttt'>T</span>, or pointer to <span class='texttt'>T</span> (<a href='except.handle'>[except.handle]</a>).
</p></li></ul><p ><i>&nbsp;—&nbsp;end note</i>&nbsp;] </p></div><div class='para' id='def.odr-5'><div class='marginalizedparent'><a class='marginalized' href='#def.odr-5'>5</a></div><p >There can be more than one definition of a class type
(Clause <a href='class'>[class]</a>), enumeration type (<a href='dcl.enum'>[dcl.enum]</a>), inline function
with external linkage (<a href='dcl.fct.spec'>[dcl.fct.spec]</a>), class template
(Clause <a href='temp'>[temp]</a>), non-static function template (<a href='temp.fct'>[temp.fct]</a>),
static data member of a class template (<a href='temp.static'>[temp.static]</a>), member
function of a class template (<a href='temp.mem.func'>[temp.mem.func]</a>), or template
specialization for which some template parameters are not
specified (<a href='temp.spec'>[temp.spec]</a>, <a href='temp.class.spec'>[temp.class.spec]</a>) in a program provided
that each definition appears in a different translation unit, and
provided the definitions satisfy the following requirements. Given such
an entity named <span class='texttt'>D</span> defined in more than one translation unit,
then
</p><ul class='itemize'><li id='def.odr-5.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-5.1'>(5.1)</a></div><p >each definition of <span class='texttt'>D</span> shall consist of the same sequence of
tokens; and
</p></li><li id='def.odr-5.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-5.2'>(5.2)</a></div><p >in each definition of <span class='texttt'>D</span>, corresponding names, looked up
according to <a href='basic.lookup'>[basic.lookup]</a>, shall refer to an entity defined within
the definition of <span class='texttt'>D</span>, or shall refer to the same entity, after
overload resolution (<a href='over.match'>[over.match]</a>) and after matching of partial
template specialization (<a href='temp.over'>[temp.over]</a>), except that a name can refer
to a <span class='texttt'>const</span> object with internal or no linkage if the object has
the same literal type in all definitions of <span class='texttt'>D</span>,
and the object is initialized with a constant
expression (<a href='expr.const'>[expr.const]</a>), and the value (but not the address) of
the object is used, and the object has the same value in all definitions
of <span class='texttt'>D</span>; and
</p></li><li id='def.odr-5.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-5.3'>(5.3)</a></div><p >in each definition of <span class='texttt'>D</span>, corresponding entities shall have the
same language linkage; and
</p></li><li id='def.odr-5.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-5.4'>(5.4)</a></div><p >in each definition of <span class='texttt'>D</span>, the overloaded operators referred
to, the implicit calls to conversion functions, constructors, operator
new functions and operator delete functions, shall refer to the same
function, or to a function defined within the definition of <span class='texttt'>D</span>;
and
</p></li><li id='def.odr-5.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-5.5'>(5.5)</a></div><p >in each definition of <span class='texttt'>D</span>, a default argument used by an
(implicit or explicit) function call is treated as if its token sequence
were present in the definition of <span class='texttt'>D</span>; that is, the default
argument is subject to the three requirements described above (and, if
the default argument has sub-expressions with default arguments, this
requirement applies recursively).<a class='footnotenum' href='#footnote-27'>27</a>
</p></li><li id='def.odr-5.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#def.odr-5.6'>(5.6)</a></div><p >if <span class='texttt'>D</span> is a class with an implicitly-declared
constructor (<a href='class.ctor'>[class.ctor]</a>), it is as if the constructor was
implicitly defined in every translation unit where it is odr-used, and the
implicit definition in every translation unit shall call the same
constructor for a base class or a class member of <span class='texttt'>D</span>.
[&nbsp;<i>Example:</i></p><pre class='codeblock'>
<span class='comment'>//translation unit 1:
</span>struct X {
  X(int);
  X(int, int);
};
X::X(int = 0) { }
class D: public X { };
D d2;                           <span class='comment'>// <span class='texttt'>X(int)</span> called by <span class='texttt'>D()</span>
</span>
<span class='comment'>//translation unit 2:
</span>struct X {
  X(int);
  X(int, int);
};
X::X(int = 0, int = 0) { }
class D: public X { };          <span class='comment'>// <span class='texttt'>X(int, int)</span> called by <span class='texttt'>D()</span>;
</span>                                <span class='comment'>// <span class='texttt'>D()</span>'s implicit definition
</span>                                <span class='comment'>// violates the ODR
</span></pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;]
</p></li></ul><p >If <span class='texttt'>D</span> is a template and is defined in more than one
translation unit, then the preceding requirements
shall apply both to names from the template's enclosing scope used in the
template definition (<a href='temp.nondep'>[temp.nondep]</a>), and also to dependent names at
the point of instantiation (<a href='temp.dep'>[temp.dep]</a>). If the definitions of
<span class='texttt'>D</span> satisfy all these requirements, then the program shall behave
as if there were a single definition of <span class='texttt'>D</span>. If the definitions of
<span class='texttt'>D</span> do not satisfy these requirements, then the behavior is
undefined.<span class='indexparent'><a class='index' id='one-definition_rule'></a></span></p></div><div class='footnote' id='footnote-26'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-26'>26)</a></div><p >An implementation is not required
to call allocation and
deallocation functions from constructors or destructors; however, this
is a permissible implementation technique.</p></div><div class='footnote' id='footnote-27'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-27'>27)</a></div><p ><a href='dcl.fct.default'>[dcl.fct.default]</a> 
describes how default argument names are looked up.</p></div></div><div id='scope'><h2 ><a class='secnum' href='#scope' style='min-width:88pt'>3.3</a> Scope <a class='abbr_ref' href='basic.scope'>[basic.scope]</a></h2><p ><span class='indexparent'><a class='index' id='scope'></a></span></p><div id='scope.declarative'><h3 ><a class='secnum' href='#scope.declarative' style='min-width:103pt'>3.3.1</a> Declarative regions and scopes <a class='abbr_ref' href='basic.scope.declarative'>[basic.scope.declarative]</a></h3><p ><span class='indexparent'><a class='index' id='scope,declarations_and'></a></span></p><div class='para' id='scope.declarative-1'><div class='marginalizedparent'><a class='marginalized' href='#scope.declarative-1'>1</a></div><p ><span class='indexparent'><a class='index' id='name,scope_of'></a></span>Every name is introduced in some portion of program text called a
<span class='indexparent'><a class='index' id='region,declarative'></a></span><span class='indexparent'><a class='index' id='scope,potential'></a></span><a class='hidden_link' href='#def:declarative_region' id='def:declarative_region'><i>declarative region</i></a>, which is the largest part of the program
in which that name is <a class='hidden_link' href='#def:valid' id='def:valid'><i>valid</i></a>, that is, in which that name may
be used as an unqualified name to refer to the same entity. In general,
each particular name is valid only within some possibly discontiguous
portion of program text called its <a class='hidden_link' href='#def:scope' id='def:scope'><i>scope</i></a>. To determine the
scope of a declaration, it is sometimes convenient to refer to the
<a class='hidden_link' href='#def:potential_scope' id='def:potential_scope'><i>potential scope</i></a> of a declaration. The scope of a declaration
is the same as its potential scope unless the potential scope contains
another declaration of the same name. In that case, the potential scope
of the declaration in the inner (contained) declarative region is
excluded from the scope of the declaration in the outer (containing)
declarative region.</p></div><div class='para' id='scope.declarative-2'><div class='marginalizedparent'><a class='marginalized' href='#scope.declarative-2'>2</a></div><p >[&nbsp;<i>Example:</i>
in</p><pre class='codeblock'>
int j = 24;
int main() {
  int i = j, j;
  j = 42;
}
</pre><p >the identifier <span class='texttt'>j</span> is declared twice as a name (and used twice).
The declarative region of the first <span class='texttt'>j</span> includes the entire
example. The potential scope of the first <span class='texttt'>j</span> begins immediately
after that <span class='texttt'>j</span> and extends to the end of the program, but its
(actual) scope excludes the text between the <span class='texttt'>,</span> and the
<span class='texttt'>}</span>. The declarative region of the second declaration of
<span class='texttt'>j</span> (the <span class='texttt'>j</span> immediately before the semicolon) includes all
the text between <span class='texttt'>{</span> and <span class='texttt'>}</span>, but its potential scope
excludes the declaration of <span class='texttt'>i</span>. The scope of the second
declaration of <span class='texttt'>j</span> is the same as its potential scope.
<i>&nbsp;—&nbsp;end example</i>&nbsp;]</p></div><div class='para' id='scope.declarative-3'><div class='marginalizedparent'><a class='marginalized' href='#scope.declarative-3'>3</a></div><p >The names declared by a declaration are introduced into the scope in
which the declaration occurs, except that the presence of a
<span class='texttt'>friend</span> specifier (<a href='class.friend'>[class.friend]</a>), certain uses of the
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> (<a href='dcl.type.elab'>[dcl.type.elab]</a>), and
<i ><a href='namespace.udir#nt:using-directive'>using-directives</a></i> (<a href='namespace.udir'>[namespace.udir]</a>) alter this general
behavior.</p></div><div class='para' id='scope.declarative-4'><div class='marginalizedparent'><a class='marginalized' href='#scope.declarative-4'>4</a></div><p >Given a set of declarations in a single declarative region, each of
which specifies the same unqualified name,</p><ul class='itemize'><li id='scope.declarative-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#scope.declarative-4.1'>(4.1)</a></div><p >they shall all refer to the same entity, or all refer to functions
and function templates; or
</p></li><li id='scope.declarative-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#scope.declarative-4.2'>(4.2)</a></div><p >exactly one declaration shall declare a class name or enumeration
name that is not a typedef name and the other declarations shall all
refer to the same variable or enumerator, or all refer to functions and
function templates; in this case the class name or enumeration name is
hidden (<a href='basic.scope.hiding'>[basic.scope.hiding]</a>). [&nbsp;<i>Note:</i> A namespace name or a
class template name must be unique in its declarative
region (<a href='namespace.alias'>[namespace.alias]</a>, Clause <a href='temp'>[temp]</a>). <i>&nbsp;—&nbsp;end note</i>&nbsp;]
</p></li></ul><p >[&nbsp;<i>Note:</i> These restrictions apply to the declarative region into which
a name is introduced, which is not necessarily the same as the region in
which the declaration occurs. In particular,
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifiers</a></i> (<a href='dcl.type.elab'>[dcl.type.elab]</a>) and
friend declarations (<a href='class.friend'>[class.friend]</a>) may introduce a (possibly not
visible) name into an enclosing namespace; these restrictions apply to
that region. Local extern declarations (<a href='basic.link'>[basic.link]</a>) may introduce
a name into the declarative region where the declaration appears and
also introduce a (possibly not visible) name into an enclosing
namespace; these restrictions apply to both regions. <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='scope.declarative-5'><div class='marginalizedparent'><a class='marginalized' href='#scope.declarative-5'>5</a></div><p >[&nbsp;<i>Note:</i> The name lookup rules are summarized in <a href='basic.lookup'>[basic.lookup]</a>.
<i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div></div><div id='scope.pdecl'><h3 ><a class='secnum' href='#scope.pdecl' style='min-width:103pt'>3.3.2</a> Point of declaration <a class='abbr_ref' href='basic.scope.pdecl'>[basic.scope.pdecl]</a></h3><div class='para' id='scope.pdecl-1'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-1'>1</a></div><p ><span class='indexparent'><a class='index' id='name,point_of_declaration'></a></span>The <a class='hidden_link' href='#def:point_of_declaration' id='def:point_of_declaration'><i>point of declaration</i></a> for a name is immediately after its
complete declarator (Clause <a href='dcl.decl'>[dcl.decl]</a>) and before its
<i ><a href='dcl.init#nt:initializer'>initializer</a></i> (if any), except as noted below. [&nbsp;<i>Example:</i></p><pre class='codeblock'>
int x = 12;{ int x = x; }
</pre><p >Here the second <span class='texttt'>x</span> is initialized with its own (indeterminate)
value. <i>&nbsp;—&nbsp;end example</i>&nbsp;]</p></div><div class='para' id='scope.pdecl-2'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-2'>2</a></div><p >[&nbsp;<i>Note:</i> 
<span class='indexparent'><a class='index' id='name_hiding'></a></span>a name from an outer scope remains visible up
to the point of declaration of the name that hides it.[&nbsp;<i>Example:</i></p><pre class='codeblock'>
const int  i = 2;{ int  i[i]; }
</pre><p >declares a block-scope array of two integers. <i>&nbsp;—&nbsp;end example</i>&nbsp;] <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='scope.pdecl-3'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-3'>3</a></div><p >The point of declaration for a class or class template first declared by a
<i ><a href='class#nt:class-specifier'>class-specifier</a></i> is immediately after the <i ><a href='lex.name#nt:identifier'>identifier</a></i> or
<i ><a href='temp.names#nt:simple-template-id'>simple-template-id</a></i> (if any) in its <i ><a href='class#nt:class-head'>class-head</a></i>
(Clause <a href='class'>[class]</a>). The point of declaration for an enumeration is
immediately after the <i ><a href='lex.name#nt:identifier'>identifier</a></i> (if any) in either its
<i ><a href='dcl.enum#nt:enum-specifier'>enum-specifier</a></i> (<a href='dcl.enum'>[dcl.enum]</a>) or its first
<i ><a href='dcl.enum#nt:opaque-enum-declaration'>opaque-enum-declaration</a></i> (<a href='dcl.enum'>[dcl.enum]</a>), whichever comes first.
The point of declaration of an alias or alias template immediately
follows the <i ><a href='dcl.name#nt:type-id'>type-id</a></i> to which the
alias refers.</p></div><div class='para' id='scope.pdecl-4'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-4'>4</a></div><p ><span class='indexparent'><a class='index' id='declaration,enumerator_point_of'></a></span>The point of declaration for an enumerator is immediately after its
<i ><a href='dcl.enum#nt:enumerator-definition'>enumerator-definition</a></i>.[&nbsp;<i>Example:</i></p><pre class='codeblock'>
const int x = 12;{ enum { x = x }; }
</pre><p >Here, the enumerator <span class='texttt'>x</span> is initialized with the value of the
constant <span class='texttt'>x</span>, namely 12. <i>&nbsp;—&nbsp;end example</i>&nbsp;]</p></div><div class='para' id='scope.pdecl-5'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-5'>5</a></div><p >After the point of declaration of a class member, the member name can be
looked up in the scope of its class. [&nbsp;<i>Note:</i>
<span class='indexparent'><a class='index' id='type,incomplete'></a></span>this is true even if the class is an incomplete class. For example,</p><pre class='codeblock'>
struct X {
  enum E { z = 16 };
  int b[X::z];      <span class='comment'>// OK
</span>};
</pre><p ><i>&nbsp;—&nbsp;end note</i>&nbsp;] </p></div><div class='para' id='scope.pdecl-6'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-6'>6</a></div><p >The point of declaration of a class first declared in an
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> is as follows:</p><ul class='itemize'><li id='scope.pdecl-6.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#scope.pdecl-6.1'>(6.1)</a></div><p >for a declaration of the form</p><pre class='bnf'><i ><a href='class#nt:class-key'>class-key</a></i> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class='math'><sub ><span class='mathit'>opt</span></sub></span> <i ><a href='lex.name#nt:identifier'>identifier</a></i> <span class='terminal'>;</span></pre><p >the <i ><a href='lex.name#nt:identifier'>identifier</a></i> is declared to be a
<i ><a href='class#nt:class-name'>class-name</a></i> in the scope that contains the declaration,
otherwise
</p></li><li id='scope.pdecl-6.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#scope.pdecl-6.2'>(6.2)</a></div><p >for an <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> of the form</p><pre class='bnf'><i ><a href='class#nt:class-key'>class-key</a></i> <i ><a href='lex.name#nt:identifier'>identifier</a></i></pre><p >if the
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> is used in the
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> or <i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>
of a function defined in namespace scope, the <i ><a href='lex.name#nt:identifier'>identifier</a></i> is
declared as a <i ><a href='class#nt:class-name'>class-name</a></i> in the namespace that contains the
declaration; otherwise, except as a friend declaration, the
<i ><a href='lex.name#nt:identifier'>identifier</a></i> is declared in the smallest namespace or block
scope that contains the declaration. [&nbsp;<i>Note:</i>
These rules also apply within templates. <i>&nbsp;—&nbsp;end note</i>&nbsp;] [&nbsp;<i>Note:</i> Other
forms of <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> do not declare a new name,
and therefore must refer to an existing <i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i>.
See <a href='basic.lookup.elab'>[basic.lookup.elab]</a> and <a href='dcl.type.elab'>[dcl.type.elab]</a>. <i>&nbsp;—&nbsp;end note</i>&nbsp;]
</p></li></ul></div><div class='para' id='scope.pdecl-7'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-7'>7</a></div><p >The point of declaration for an
<span class='grammarterm'>injected-class-name</span> (Clause <a href='class'>[class]</a>) is immediately following
the opening brace of the class definition.</p></div><div class='para' id='scope.pdecl-8'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-8'>8</a></div><p >The point of declaration for a function-local predefined
variable (<a href='dcl.fct.def'>[dcl.fct.def]</a>) is immediately before the
<span class='grammarterm'>function-body</span> of a function definition.</p></div><div class='para' id='scope.pdecl-9'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-9'>9</a></div><p >The point of declaration for a template parameter is immediately after its complete
<i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i>. [&nbsp;<i>Example:</i></p><pre class='codeblock'>
typedef unsigned char T;
template&lt;class T
  = T     <span class='comment'>// lookup finds the typedef name of <span class='texttt'>unsigned char</span>
</span>  , T     <span class='comment'>// lookup finds the template parameter
</span>    N = 0&gt; struct A { };
</pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;]</p></div><div class='para' id='scope.pdecl-10'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-10'>10</a></div><p >[&nbsp;<i>Note:</i> Friend declarations refer to functions or classes that are
members of the nearest enclosing namespace, but they do not introduce
new names into that namespace (<a href='namespace.memdef'>[namespace.memdef]</a>). Function
declarations at block scope and variable declarations with the
<span class='texttt'>extern</span> specifier at block scope refer to declarations that are
members of an enclosing namespace, but they do not introduce new names
into that scope.
<i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='scope.pdecl-11'><div class='marginalizedparent'><a class='marginalized' href='#scope.pdecl-11'>11</a></div><p >[&nbsp;<i>Note:</i> For point of instantiation of a template,
see <a href='temp.point'>[temp.point]</a>.<i>&nbsp;—&nbsp;end note</i>&nbsp;]<span class='indexparent'><a class='index' id='scope,declarations_and'></a></span></p></div></div><div id='scope.local'><h3 ><a class='secnum' href='#scope.local' style='min-width:103pt'>3.3.3</a> Block scope <a class='abbr_ref' href='basic.scope.local'>[basic.scope.local]</a></h3><div class='para' id='scope.local-1'><div class='marginalizedparent'><a class='marginalized' href='#scope.local-1'>1</a></div><p ><span class='indexparent'><a class='index' id='scope,block'></a></span><span class='indexparent'><a class='index' id='local_scope'></a></span>A name declared in a block (<a href='stmt.block'>[stmt.block]</a>) is local to that block; it has
<a class='hidden_link' href='#def:block_scope' id='def:block_scope'><i>block scope</i></a>.
Its potential scope begins at its point of
declaration (<a href='basic.scope.pdecl'>[basic.scope.pdecl]</a>) and ends at the end of its block.
A variable declared at block scope is a <a class='hidden_link' href='#def:local_variable' id='def:local_variable'><i>local variable</i></a>.</p></div><div class='para' id='scope.local-2'><div class='marginalizedparent'><a class='marginalized' href='#scope.local-2'>2</a></div><p ><span class='indexparent'><a class='index' id='parameter,scope_of'></a></span>The potential scope of a function parameter name
(including one appearing in a 
<i ><a href='expr.prim.lambda#nt:lambda-declarator'>lambda-declarator</a></i>)
or of a function-local predefined variable
in a function
definition (<a href='dcl.fct.def'>[dcl.fct.def]</a>) begins at its point of declaration. If
the function has a <i ><a href='except#nt:function-try-block'>function-try-block</a></i> the potential scope of
a parameter
or of a function-local predefined variable
ends at the end of the last associated handler, otherwise it ends
at the end of the outermost block of the function definition. A
parameter name shall not be redeclared in the outermost block of the
function definition nor in the outermost block of any handler associated
with a <i ><a href='except#nt:function-try-block'>function-try-block</a></i>.</p></div><div class='para' id='scope.local-3'><div class='marginalizedparent'><a class='marginalized' href='#scope.local-3'>3</a></div><p ><span class='indexparent'><a class='index' id='scope,exception_declaration'></a></span>The name declared in an <i ><a href='except#nt:exception-declaration'>exception-declaration</a></i>
is local to the
<i ><a href='except#nt:handler'>handler</a></i> and shall not be redeclared in the outermost block of the
<i ><a href='except#nt:handler'>handler</a></i>.</p></div><div class='para' id='scope.local-4'><div class='marginalizedparent'><a class='marginalized' href='#scope.local-4'>4</a></div><p >Names declared in the <i ><a href='stmt.iter#nt:for-init-statement'>for-init-statement</a></i>, the <i ><a href='stmt.iter#nt:for-range-declaration'>for-range-declaration</a></i>, and in the
<i ><a href='stmt.select#nt:condition'>condition</a></i> of <span class='texttt'>if</span>, <span class='texttt'>while</span>, <span class='texttt'>for</span>, and
<span class='texttt'>switch</span> statements are local to the <span class='texttt'>if</span>, <span class='texttt'>while</span>,
<span class='texttt'>for</span>, or <span class='texttt'>switch</span> statement (including the controlled
statement), and shall not be redeclared in a subsequent condition of
that statement nor in the outermost block (or, for the <span class='texttt'>if</span>
statement, any of the outermost blocks) of the controlled statement;
see <a href='stmt.select'>[stmt.select]</a>.</p></div></div><div id='scope.proto'><h3 ><a class='secnum' href='#scope.proto' style='min-width:103pt'>3.3.4</a> Function prototype scope <a class='abbr_ref' href='basic.scope.proto'>[basic.scope.proto]</a></h3><div class='para' id='scope.proto-1'><div class='marginalizedparent'><a class='marginalized' href='#scope.proto-1'>1</a></div><p ><span class='indexparent'><a class='index' id='scope,function_prototype'></a></span><span class='indexparent'><a class='index' id='function_prototype'></a></span>In a function declaration, or in any function declarator except the
declarator of a function definition (<a href='dcl.fct.def'>[dcl.fct.def]</a>), names of
parameters (if supplied) have function prototype scope, which terminates
at the end of the nearest enclosing function declarator.</p></div></div><div id='funscope'><h3 ><a class='secnum' href='#funscope' style='min-width:103pt'>3.3.5</a> Function scope <a class='abbr_ref' href='basic.funscope'>[basic.funscope]</a></h3><div class='para' id='funscope-1'><div class='marginalizedparent'><a class='marginalized' href='#funscope-1'>1</a></div><p ><span class='indexparent'><a class='index' id='scope,function'></a></span><span class='indexparent'><a class='index' id='label,scope_of'></a></span>Labels (<a href='stmt.label'>[stmt.label]</a>) have <a class='hidden_link' href='#def:function_scope' id='def:function_scope'><i>function scope</i></a> and
may be used anywhere in the function in which they are declared. Only
labels have function scope.</p></div></div><div id='scope.namespace'><h3 ><a class='secnum' href='#scope.namespace' style='min-width:103pt'>3.3.6</a> Namespace scope <a class='abbr_ref' href='basic.scope.namespace'>[basic.scope.namespace]</a></h3><div class='para' id='scope.namespace-1'><div class='marginalizedparent'><a class='marginalized' href='#scope.namespace-1'>1</a></div><p ><span class='indexparent'><a class='index' id='scope,namespace'></a></span>The declarative region of a <i ><a href='namespace.def#nt:namespace-definition'>namespace-definition</a></i> is its
<i ><a href='namespace.def#nt:namespace-body'>namespace-body</a></i>. The potential scope denoted by an
<i ><a href='namespace.def#nt:original-namespace-name'>original-namespace-name</a></i> is the concatenation of the
declarative regions established by each of the
<i ><a href='namespace.def#nt:namespace-definition'>namespace-definitions</a></i> in the same declarative region with
that <i ><a href='namespace.def#nt:original-namespace-name'>original-namespace-name</a></i>. Entities declared in a
<i ><a href='namespace.def#nt:namespace-body'>namespace-body</a></i> are said to be <a class='hidden_link' href='#def:members' id='def:members'><i>members</i></a> of the
namespace, and names introduced by these declarations into the
declarative region of the namespace are said to be <a class='hidden_link' href='#def:member_names' id='def:member_names'><i>member
names</i></a> of the namespace. A namespace member name has namespace scope.
Its potential scope includes its namespace from the name's point of
declaration (<a href='basic.scope.pdecl'>[basic.scope.pdecl]</a>) onwards; and for each
<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> (<a href='namespace.udir'>[namespace.udir]</a>) that nominates the
member's namespace, the member's potential scope includes that portion
of the potential scope of the <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> that follows
the member's point of declaration. [&nbsp;<i>Example:</i></p><pre class='codeblock'>
namespace N {
  int i;
  int g(int a) { return a; }
  int j();
  void q();
}
namespace { int l=1; }
<span class='comment'>// the potential scope of <span class='texttt'>l</span> is from its point of declaration
</span><span class='comment'>// to the end of the translation unit
</span>
namespace N {
  int g(char a) {   <span class='comment'>// overloads <span class='texttt'>N::g(int)</span>
</span>    return l+a;     <span class='comment'>// <span class='texttt'>l</span> is from unnamed namespace
</span>  }

  int i;            <span class='comment'>// error: duplicate definition
</span>  int j();          <span class='comment'>// OK: duplicate function declaration
</span>
  int j() {         <span class='comment'>// OK: definition of <span class='texttt'>N::j()</span>
</span>    return g(i);    <span class='comment'>// calls <span class='texttt'>N::g(int)</span>
</span>  }
  int q();          <span class='comment'>// error: different return type
</span>}
</pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;] </p></div><div class='para' id='scope.namespace-2'><div class='marginalizedparent'><a class='marginalized' href='#scope.namespace-2'>2</a></div><p >A namespace member can also be referred to after the <span class='texttt'>::</span> scope
resolution operator (<a href='expr.prim'>[expr.prim]</a>) applied to the name of its
namespace or the name of a namespace which nominates the member's
namespace in a <span class='grammarterm'>using-directive;</span> see <a href='namespace.qual'>[namespace.qual]</a>.</p></div><div class='para' id='scope.namespace-3'><div class='marginalizedparent'><a class='marginalized' href='#scope.namespace-3'>3</a></div><p ><span class='indexparent'><a class='index' id='scope,global_namespace'></a></span><span class='indexparent'><a class='index' id='scope,global'></a></span>The outermost declarative region of a translation unit is also a
namespace, called the <a class='hidden_link' href='#def:global_namespace' id='def:global_namespace'><i>global namespace</i></a>. A name declared in
the global namespace has <a class='hidden_link' href='#def:global_namespace_scope' id='def:global_namespace_scope'><i>global namespace scope</i></a> (also called
<a class='hidden_link' href='#def:global_scope' id='def:global_scope'><i>global scope</i></a>). The potential scope of such a name begins at
its point of declaration (<a href='basic.scope.pdecl'>[basic.scope.pdecl]</a>) and ends at the end
of the translation unit that is its declarative region.
<span class='indexparent'><a class='index' id='name,global'></a></span>Names with global namespace scope are said to be
<a class='hidden_link' href='#def:global' id='def:global'><i>global name</i></a>.</p></div></div><div id='scope.class'><h3 ><a class='secnum' href='#scope.class' style='min-width:103pt'>3.3.7</a> Class scope <a class='abbr_ref' href='basic.scope.class'>[basic.scope.class]</a></h3><div class='para' id='scope.class-1'><div class='marginalizedparent'><a class='marginalized' href='#scope.class-1'>1</a></div><p ><span class='indexparent'><a class='index' id='scope,class'></a></span>The following rules describe the scope of names declared in classes.</p><ol class='enumerate'><li id='scope.class-1.1'><p >The potential scope of a name declared in a class consists not
only of the declarative region following the name's point of
declaration, but also of all function bodies,
<span class='grammarterm'>brace-or-equal-initializers</span> of non-static data members, and
default arguments
in that class (including such
things in nested classes).
</p></li><li id='scope.class-1.2'><p >A name <span class='texttt'>N</span> used in a class <span class='texttt'>S</span> shall refer to the same
declaration in its context and when re-evaluated in the completed scope
of <span class='texttt'>S</span>. No diagnostic is required for a violation of this rule.
</p></li><li id='scope.class-1.3'><p >If reordering member declarations in a class yields an alternate
valid program under (1) and (2), the program is ill-formed, no
diagnostic is required.
</p></li><li id='scope.class-1.4'><p >A name declared within a member function hides a declaration of
the same name whose scope extends to or past the end of the member
function's class.
</p></li><li id='scope.class-1.5'><p >The potential scope of a declaration that extends to or past the
end of a class definition also extends to the regions defined by its
member definitions, even if the members are defined lexically outside
the class (this includes static data member definitions, nested class
definitions, member function definitions (including the member function
body and any portion of the
declarator part of such definitions which follows the <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>,
including a <i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> and any default
arguments (<a href='dcl.fct.default'>[dcl.fct.default]</a>).[&nbsp;<i>Example:</i></p><pre class='codeblock'>
typedef int  c;
enum { i = 1 };

class X {
  char  v[i];                       <span class='comment'>// error: <span class='texttt'>i</span> refers to <span class='texttt'>::i</span>
</span>                                    <span class='comment'>// but when reevaluated is <span class='texttt'>X::i</span>
</span>  int  f() { return sizeof(c); }    <span class='comment'>//  OK: <span class='texttt'>X::c</span>
</span>  char  c;
  enum { i = 2 };
};

typedef char*  T;
struct Y {
  T  a;                             <span class='comment'>// error: <span class='texttt'>T</span> refers to <span class='texttt'>::T</span>
</span>                                    <span class='comment'>// but when reevaluated is <span class='texttt'>Y::T</span>
</span>  typedef long  T;
  T  b;
};

typedef int I;
class D {
  typedef I I;                      <span class='comment'>// error, even though no reordering involved
</span>};
</pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;]

 </p></li></ol></div><div class='para' id='scope.class-2'><div class='marginalizedparent'><a class='marginalized' href='#scope.class-2'>2</a></div><p >The name of a class member shall only be used as follows:</p><ul class='itemize'><li id='scope.class-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#scope.class-2.1'>(2.1)</a></div><p >in the scope of its class (as described above) or a class derived
(Clause <a href='class.derived'>[class.derived]</a>) from its class,
</p></li><li id='scope.class-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#scope.class-2.2'>(2.2)</a></div><p >after the <span class='texttt'>.</span> operator applied to an expression of the type
of its class (<a href='expr.ref'>[expr.ref]</a>) or a class derived from its class,
</p></li><li id='scope.class-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#scope.class-2.3'>(2.3)</a></div><p >after the <span class='texttt'>-&gt;</span> operator applied to a pointer to an object of
its class (<a href='expr.ref'>[expr.ref]</a>) or a class derived from its class,
</p></li><li id='scope.class-2.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#scope.class-2.4'>(2.4)</a></div><p >after the <span class='texttt'>::</span> scope resolution operator (<a href='expr.prim'>[expr.prim]</a>)
applied to the name of its class or a class derived from its class.
</p></li></ul></div></div><div id='scope.enum'><h3 ><a class='secnum' href='#scope.enum' style='min-width:103pt'>3.3.8</a> Enumeration scope <a class='abbr_ref' href='basic.scope.enum'>[basic.scope.enum]</a></h3><p ><span class='indexparent'><a class='index' id='enumeration_scope'></a></span><span class='indexparent'><a class='index' id='scope,enumeration'></a></span></p><div class='para' id='scope.enum-1'><div class='marginalizedparent'><a class='marginalized' href='#scope.enum-1'>1</a></div><p >The name of a scoped enumerator (<a href='dcl.enum'>[dcl.enum]</a>) has
<a class='hidden_link' href='#def:enumeration_scope' id='def:enumeration_scope'><i>enumeration scope</i></a>. Its potential scope begins at
its point of declaration and terminates at the end of the
<i ><a href='dcl.enum#nt:enum-specifier'>enum-specifier</a></i>.</p></div></div><div id='scope.temp'><h3 ><a class='secnum' href='#scope.temp' style='min-width:103pt'>3.3.9</a> Template parameter scope <a class='abbr_ref' href='basic.scope.temp'>[basic.scope.temp]</a></h3><p ><span class='indexparent'><a class='index' id='template_parameter_scope'></a></span><span class='indexparent'><a class='index' id='scope,template_parameter'></a></span>
</p><div class='para' id='scope.temp-1'><div class='marginalizedparent'><a class='marginalized' href='#scope.temp-1'>1</a></div><p >The declarative region of the name of a template parameter of a template
<i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i> is the smallest <i ><a href='temp#nt:template-parameter-list'>template-parameter-list</a></i>
in which the name was introduced.</p></div><div class='para' id='scope.temp-2'><div class='marginalizedparent'><a class='marginalized' href='#scope.temp-2'>2</a></div><p >The declarative region of the name of a template parameter of a template is the smallest
<i ><a href='temp#nt:template-declaration'>template-declaration</a></i> in which the name was introduced. Only template
parameter names belong to this declarative region; any other kind of name introduced by
the <i ><a href='dcl.dcl#nt:declaration'>declaration</a></i> of a <i ><a href='temp#nt:template-declaration'>template-declaration</a></i> is instead
introduced into the same declarative region where it would be introduced as a result of
a non-template declaration of the same name. [&nbsp;<i>Example:</i></p><pre class='codeblock'>
namespace N {
  template&lt;class T&gt; struct A { };               <span class='comment'>// #1
</span>  template&lt;class U&gt; void f(U) { }               <span class='comment'>// #2
</span>  struct B {
    template&lt;class V&gt; friend int g(struct C*);  <span class='comment'>// #3
</span>  };
}
</pre><p >The declarative regions of <span class='texttt'>T</span>, <span class='texttt'>U</span> and <span class='texttt'>V</span> are the
<i ><a href='temp#nt:template-declaration'>template-declarations</a></i> on lines <span class='texttt'>#1</span>, <span class='texttt'>#2</span> and <span class='texttt'>#3</span>,
respectively. But the names <span class='texttt'>A</span>, <span class='texttt'>f</span>, <span class='texttt'>g</span> and <span class='texttt'>C</span> all belong to
the same declarative region — namely, the <i ><a href='namespace.def#nt:namespace-body'>namespace-body</a></i> of <span class='texttt'>N</span>.
(<span class='texttt'>g</span> is still considered to belong to this declarative region in spite of its
being hidden during qualified and unqualified name lookup.)
<i>&nbsp;—&nbsp;end example</i>&nbsp;]</p></div><div class='para' id='scope.temp-3'><div class='marginalizedparent'><a class='marginalized' href='#scope.temp-3'>3</a></div><p >The potential scope of a template parameter name begins at its point of
declaration (<a href='basic.scope.pdecl'>[basic.scope.pdecl]</a>) and ends at the end of its declarative region.
[&nbsp;<i>Note:</i> This implies that a <i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i> can be used in the
declaration of subsequent <i ><a href='temp.param#nt:template-parameter'>template-parameters</a></i> and their default
arguments but cannot be used in preceding <i ><a href='temp.param#nt:template-parameter'>template-parameters</a></i> or their
default arguments. For example,</p><pre class='codeblock'>
template&lt;class T, T* p, class U = T&gt; class X { <span class='comment'>/* ... */</span> };
template&lt;class T&gt; void f(T* p = new T);
</pre><p >This also implies that a <i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i> can be used in the
specification of base classes. For example,</p><pre class='codeblock'>
template&lt;class T&gt; class X : public Array&lt;T&gt; { <span class='comment'>/* ... */</span> };
template&lt;class T&gt; class Y : public T { <span class='comment'>/* ... */</span> };
</pre><p >The use of a template parameter as a base class implies that a class used as a template
argument must be defined and not just declared when the class template is instantiated.
<i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='scope.temp-4'><div class='marginalizedparent'><a class='marginalized' href='#scope.temp-4'>4</a></div><p >The declarative region of the name of a template parameter is nested within the
immediately-enclosing declarative region. [&nbsp;<i>Note:</i> As a result, a
<i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i> hides any entity with the same name in an enclosing
scope (<a href='basic.scope.hiding'>[basic.scope.hiding]</a>). [&nbsp;<i>Example:</i></p><pre class='codeblock'>
typedef int N;
template&lt;N X, typename N, template&lt;N Y&gt; class T&gt; struct A;
</pre><p >Here, <span class='texttt'>X</span> is a non-type template parameter of type <span class='texttt'>int</span> and <span class='texttt'>Y</span> is a
non-type template parameter of the same type as the second template parameter of
<span class='texttt'>A</span>. <i>&nbsp;—&nbsp;end example</i>&nbsp;]<i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='scope.temp-5'><div class='marginalizedparent'><a class='marginalized' href='#scope.temp-5'>5</a></div><p >[&nbsp;<i>Note:</i> Because the name of a template parameter cannot be redeclared within its
potential scope (<a href='temp.local'>[temp.local]</a>), a template parameter's scope is often its potential
scope. However, it is still possible for a template parameter name to be hidden;
see <a href='temp.local'>[temp.local]</a>. <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div></div><div id='scope.hiding'><h3 ><a class='secnum' href='#scope.hiding' style='min-width:103pt'>3.3.10</a> Name hiding <a class='abbr_ref' href='basic.scope.hiding'>[basic.scope.hiding]</a></h3><div class='para' id='scope.hiding-1'><div class='marginalizedparent'><a class='marginalized' href='#scope.hiding-1'>1</a></div><p ><span class='indexparent'><a class='index' id='scope_name_hiding_and'></a></span><span class='indexparent'><a class='index' id='name_hiding'></a></span><span class='indexparent'><a class='index' id='hiding'></a></span>A name can be hidden by an explicit declaration of that same name in a
nested declarative region or derived class (<a href='class.member.lookup'>[class.member.lookup]</a>).</p></div><div class='para' id='scope.hiding-2'><div class='marginalizedparent'><a class='marginalized' href='#scope.hiding-2'>2</a></div><p ><span class='indexparent'><a class='index' id='name_hiding'></a></span>A class name (<a href='class.name'>[class.name]</a>) or enumeration name (<a href='dcl.enum'>[dcl.enum]</a>) can
be hidden by the name of a variable, data member, function, or enumerator declared in
the same scope. If a class or enumeration name and a variable, data member, function,
or enumerator are declared in the same scope (in any order) with the
same name, the class or enumeration name is hidden wherever the variable, data member,
function, or enumerator name is visible.</p></div><div class='para' id='scope.hiding-3'><div class='marginalizedparent'><a class='marginalized' href='#scope.hiding-3'>3</a></div><p >In a member function definition, the declaration of a name
at block scope
hides
the declaration of a member of the class with the same name;
see <a href='basic.scope.class'>[basic.scope.class]</a>. The declaration of a member in a derived
class (Clause <a href='class.derived'>[class.derived]</a>) hides the declaration of a member of
a base class of the same name; see <a href='class.member.lookup'>[class.member.lookup]</a>.</p></div><div class='para' id='scope.hiding-4'><div class='marginalizedparent'><a class='marginalized' href='#scope.hiding-4'>4</a></div><p >During the lookup of a name qualified by a namespace name, declarations
that would otherwise be made visible by a <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> can
be hidden by declarations with the same name in the namespace containing
the <span class='grammarterm'>using-directive;</span> see (<a href='namespace.qual'>[namespace.qual]</a>).</p></div><div class='para' id='scope.hiding-5'><div class='marginalizedparent'><a class='marginalized' href='#scope.hiding-5'>5</a></div><p ><span class='indexparent'><a class='index' id='visibility'></a></span>If a name is in scope and is not hidden it is said to be <a class='hidden_link' href='#def:visible' id='def:visible'><i>visible</i></a>.<span class='indexparent'><a class='index' id='scope'></a></span></p></div></div></div><div id='lookup'><h2 ><a class='secnum' href='#lookup' style='min-width:88pt'>3.4</a> Name lookup <a class='abbr_ref' href='basic.lookup'>[basic.lookup]</a></h2><p ><span class='indexparent'><a class='index' id='scope,name_lookup_and'></a></span><span class='indexparent'><a class='index' id='lookup,name'></a></span>
</p><div class='para' id='lookup-1'><div class='marginalizedparent'><a class='marginalized' href='#lookup-1'>1</a></div><p >The name lookup rules apply uniformly to all names (including
<i ><a href='dcl.typedef#nt:typedef-name'>typedef-names</a></i> (<a href='dcl.typedef'>[dcl.typedef]</a>),
<i ><a href='namespace.def#nt:namespace-name'>namespace-names</a></i> (<a href='basic.namespace'>[basic.namespace]</a>), and
<i ><a href='class#nt:class-name'>class-names</a></i> (<a href='class.name'>[class.name]</a>)) wherever the grammar allows
such names in the context discussed by a particular rule. Name lookup
associates the use of a name with a declaration (<a href='basic.def'>[basic.def]</a>) of
that name. Name lookup shall find an unambiguous declaration for the
name (see <a href='class.member.lookup'>[class.member.lookup]</a>). Name lookup may associate more
than one declaration with a name if it finds the name to be a function
name; the declarations are said to form a set of overloaded
functions (<a href='over.load'>[over.load]</a>). Overload resolution (<a href='over.match'>[over.match]</a>)
takes place after name lookup has succeeded. The access rules
(Clause <a href='class.access'>[class.access]</a>) are considered only once name lookup and
function overload resolution (if applicable) have succeeded. Only after
name lookup, function overload resolution (if applicable) and access
checking have succeeded are the attributes introduced by the name's
declaration used further in expression processing (Clause <a href='expr'>[expr]</a>).</p></div><div class='para' id='lookup-2'><div class='marginalizedparent'><a class='marginalized' href='#lookup-2'>2</a></div><p >A name “looked up in the context of an expression” is looked up as an
unqualified name in the scope where the expression is found.</p></div><div class='para' id='lookup-3'><div class='marginalizedparent'><a class='marginalized' href='#lookup-3'>3</a></div><p >The injected-class-name of a class (Clause <a href='class'>[class]</a>) is also
considered to be a member of that class for the purposes of name hiding
and lookup.</p></div><div class='para' id='lookup-4'><div class='marginalizedparent'><a class='marginalized' href='#lookup-4'>4</a></div><p >[&nbsp;<i>Note:</i> <a href='basic.link'>[basic.link]</a> discusses linkage issues. The notions of
scope, point of declaration and name hiding are discussed
in <a href='basic.scope'>[basic.scope]</a>. <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div id='lookup.unqual'><h3 ><a class='secnum' href='#lookup.unqual' style='min-width:103pt'>3.4.1</a> Unqualified name lookup <a class='abbr_ref' href='basic.lookup.unqual'>[basic.lookup.unqual]</a></h3><div class='para' id='lookup.unqual-1'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-1'>1</a></div><p ><span class='indexparent'><a class='index' id='lookup,unqualified_name'></a></span><span class='indexparent'><a class='index' id='name,unqualified'></a></span>In all the cases listed in <a href='basic.lookup.unqual'>[basic.lookup.unqual]</a>, the scopes are
searched for a declaration in the order listed in each of the respective
categories; name lookup ends as soon as a declaration is found for the
name. If no declaration is found, the program is ill-formed.</p></div><div class='para' id='lookup.unqual-2'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-2'>2</a></div><p >The declarations from the namespace nominated by a
<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> become visible in a namespace enclosing the
<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i>; see <a href='namespace.udir'>[namespace.udir]</a>. For the purpose of
the unqualified name lookup rules described
in <a href='basic.lookup.unqual'>[basic.lookup.unqual]</a>, the declarations from the namespace
nominated by the <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> are considered members of
that enclosing namespace.</p></div><div class='para' id='lookup.unqual-3'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-3'>3</a></div><p >The lookup for an unqualified name used as the
<i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> of a function call is described
in <a href='basic.lookup.argdep'>[basic.lookup.argdep]</a>. [&nbsp;<i>Note:</i> For purposes of determining
(during parsing) whether an expression is a
<i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> for a function call, the usual name lookup
rules apply. The rules in <a href='basic.lookup.argdep'>[basic.lookup.argdep]</a> have no effect on
the syntactic interpretation of an expression. For example,</p><pre class='codeblock'>
typedef int f;
namespace N {
  struct A {
    friend void f(A &amp;);
    operator int();
    void g(A a) {
      int i = f(a);         <span class='comment'>// <span class='texttt'>f</span> is the typedef, not the friend
</span>                            <span class='comment'>// function: equivalent to <span class='texttt'>int(a)</span>
</span>    }
  };
}
</pre><p >Because the expression is not a function call, the argument-dependent
name lookup (<a href='basic.lookup.argdep'>[basic.lookup.argdep]</a>) does not apply and the friend
function <span class='texttt'>f</span> is not found. <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='lookup.unqual-4'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-4'>4</a></div><p >A name used in global scope, outside of any function, class or
user-declared namespace, shall be declared before its use in global
scope.</p></div><div class='para' id='lookup.unqual-5'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-5'>5</a></div><p >A name used in a user-declared namespace outside of the definition of
any function or class shall be declared before its use in that namespace
or before its use in a namespace enclosing its namespace.</p></div><div class='para' id='lookup.unqual-6'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-6'>6</a></div><p >A name used in the definition of a function following the function's
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i><a class='footnotenum' href='#footnote-28'>28</a>
that is a member of namespace <span class='texttt'>N</span> (where, only for the purpose of
exposition, <span class='texttt'>N</span> could represent the global scope) shall be
declared before its use in the block in which it is used or in one of
its enclosing blocks (<a href='stmt.block'>[stmt.block]</a>) or, shall be declared before its
use in namespace <span class='texttt'>N</span> or, if <span class='texttt'>N</span> is a nested namespace, shall
be declared before its use in one of <span class='texttt'>N</span>'s enclosing namespaces.
[&nbsp;<i>Example:</i></p><pre class='codeblock'>
namespace A {
  namespace N {
    void f();
  }
}
void A::N::f() {
  i = 5;
  <span class='comment'>// The following scopes are searched for a declaration of <span class='texttt'>i</span>:
</span>  <span class='comment'>// 1) outermost block scope of <span class='texttt'>A::N::f</span>, before the use of <span class='texttt'>i</span>
</span>  <span class='comment'>// 2) scope of namespace <span class='texttt'>N</span>
</span>  <span class='comment'>// 3) scope of namespace <span class='texttt'>A</span>
</span>  <span class='comment'>// 4) global scope, before the definition of <span class='texttt'>A::N::f</span>
</span>}
</pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;] </p></div><div class='para' id='lookup.unqual-7'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-7'>7</a></div><p >A name used in the definition of a class <span class='texttt'>X</span> outside of a member
function body or nested class definition<a class='footnotenum' href='#footnote-29'>29</a>
shall be declared in one of the following ways:</p><ul class='itemize'><li id='lookup.unqual-7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.unqual-7.1'>(7.1)</a></div><p >before its use in class <span class='texttt'>X</span> or be a member of a base class
of <span class='texttt'>X</span> (<a href='class.member.lookup'>[class.member.lookup]</a>), or
</p></li><li id='lookup.unqual-7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.unqual-7.2'>(7.2)</a></div><p >if <span class='texttt'>X</span> is a nested class of class
<span class='texttt'>Y</span> (<a href='class.nest'>[class.nest]</a>), before the definition of <span class='texttt'>X</span> in
<span class='texttt'>Y</span>, or shall be a member of a base class of <span class='texttt'>Y</span> (this
lookup applies in turn to <span class='texttt'>Y</span> 's enclosing classes, starting with
the innermost enclosing class),<a class='footnotenum' href='#footnote-30'>30</a>
or
</p></li><li id='lookup.unqual-7.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.unqual-7.3'>(7.3)</a></div><p >if <span class='texttt'>X</span> is a local class (<a href='class.local'>[class.local]</a>) or is a nested
class of a local class, before the definition of class <span class='texttt'>X</span> in a
block enclosing the definition of class <span class='texttt'>X</span>, or
</p></li><li id='lookup.unqual-7.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.unqual-7.4'>(7.4)</a></div><p >if <span class='texttt'>X</span> is a member of namespace <span class='texttt'>N</span>, or is a nested
class of a class that is a member of <span class='texttt'>N</span>, or is a local class or a
nested class within a local class of a function that is a member of
<span class='texttt'>N</span>, before the definition of class <span class='texttt'>X</span> in namespace
<span class='texttt'>N</span> or in one of <span class='texttt'>N</span> 's enclosing namespaces.
</p></li></ul><p >[&nbsp;<i>Example:</i> </p><pre class='codeblock'>
namespace M {
  class B { };
}

</pre><pre class='codeblock'>
namespace N {
  class Y : public M::B {
    class X {
      int a[i];
    };
  };
}

<span class='comment'>// The following scopes are searched for a declaration of <span class='texttt'>i</span>:
</span><span class='comment'>// 1) scope of class <span class='texttt'>N::Y::X</span>, before the use of <span class='texttt'>i</span>
</span><span class='comment'>// 2) scope of class <span class='texttt'>N::Y</span>, before the definition of <span class='texttt'>N::Y::X</span>
</span><span class='comment'>// 3) scope of <span class='texttt'>N::Y</span>'s base class <span class='texttt'>M::B</span>
</span><span class='comment'>// 4) scope of namespace <span class='texttt'>N</span>, before the definition of <span class='texttt'>N::Y</span>
</span><span class='comment'>// 5) global scope, before the definition of <span class='texttt'>N</span>
</span></pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;] [&nbsp;<i>Note:</i> When looking for a prior declaration of a class
or function introduced by a <span class='texttt'>friend</span> declaration, scopes outside
of the innermost enclosing namespace scope are not considered;
see <a href='namespace.memdef'>[namespace.memdef]</a>. <i>&nbsp;—&nbsp;end note</i>&nbsp;] [&nbsp;<i>Note:</i> <a href='basic.scope.class'>[basic.scope.class]</a>
further describes the restrictions on the use of names in a class
definition. <a href='class.nest'>[class.nest]</a> further describes the restrictions on the
use of names in nested class definitions. <a href='class.local'>[class.local]</a> further
describes the restrictions on the use of names in local class
definitions. <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='lookup.unqual-8'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-8'>8</a></div><p >A name used in the definition of a member function (<a href='class.mfct'>[class.mfct]</a>) of
class <span class='texttt'>X</span> following the function's
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i><a class='footnotenum' href='#footnote-31'>31</a>
or in the <i ><a href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializer</a></i> of a non-static
data member (<a href='class.mem'>[class.mem]</a>) of class <span class='texttt'>X</span>
shall be declared in one of the following ways:</p><ul class='itemize'><li id='lookup.unqual-8.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.unqual-8.1'>(8.1)</a></div><p >before its use in the block in which it is used or in an enclosing
block (<a href='stmt.block'>[stmt.block]</a>), or</p></li><li id='lookup.unqual-8.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.unqual-8.2'>(8.2)</a></div><p >shall be a member of class <span class='texttt'>X</span> or be a member of a base
class of <span class='texttt'>X</span> (<a href='class.member.lookup'>[class.member.lookup]</a>), or</p></li><li id='lookup.unqual-8.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.unqual-8.3'>(8.3)</a></div><p >if <span class='texttt'>X</span>
is a nested class of class <span class='texttt'>Y</span> (<a href='class.nest'>[class.nest]</a>), shall be a
member of <span class='texttt'>Y</span>, or shall be a member of a base class of <span class='texttt'>Y</span>
(this lookup applies in turn to <span class='texttt'>Y</span>'s enclosing classes, starting
with the innermost enclosing class),<a class='footnotenum' href='#footnote-32'>32</a>
or</p></li><li id='lookup.unqual-8.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.unqual-8.4'>(8.4)</a></div><p >if <span class='texttt'>X</span> is a local class (<a href='class.local'>[class.local]</a>) or is a nested
class of a local class, before the definition of class <span class='texttt'>X</span> in a
block enclosing the definition of class <span class='texttt'>X</span>, or</p></li><li id='lookup.unqual-8.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.unqual-8.5'>(8.5)</a></div><p >if <span class='texttt'>X</span> is a member of namespace <span class='texttt'>N</span>, or is a nested
class of a class that is a member of <span class='texttt'>N</span>, or is a local class or a
nested class within a local class of a function that is a member of
<span class='texttt'>N</span>, before the use of the name, in namespace <span class='texttt'>N</span>
or in one of <span class='texttt'>N</span> 's enclosing namespaces.
</p></li></ul><p >[&nbsp;<i>Example:</i> 
</p><pre class='codeblock'>
class B { };
namespace M {
  namespace N {
    class X : public B {
      void f();
    };
  }
}
void M::N::X::f() {
  i = 16;
}

<span class='comment'>// The following scopes are searched for a declaration of <span class='texttt'>i</span>:
</span><span class='comment'>// 1) outermost block scope of <span class='texttt'>M::N::X::f</span>, before the use of <span class='texttt'>i</span>
</span><span class='comment'>// 2) scope of class <span class='texttt'>M::N::X</span>
</span><span class='comment'>// 3) scope of <span class='texttt'>M::N::X</span>'s base class <span class='texttt'>B</span>
</span><span class='comment'>// 4) scope of namespace <span class='texttt'>M::N</span>
</span><span class='comment'>// 5) scope of namespace <span class='texttt'>M</span>
</span><span class='comment'>// 6) global scope, before the definition of <span class='texttt'>M::N::X::f</span>
</span></pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;] [&nbsp;<i>Note:</i> <a href='class.mfct'>[class.mfct]</a> and <a href='class.static'>[class.static]</a> further
describe the restrictions on the use of names in member function
definitions. <a href='class.nest'>[class.nest]</a> further describes the restrictions on the
use of names in the scope of nested classes. <a href='class.local'>[class.local]</a> further
describes the restrictions on the use of names in local class
definitions. <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='lookup.unqual-9'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-9'>9</a></div><p >Name lookup for a name used in the definition of a <span class='texttt'>friend</span>
function (<a href='class.friend'>[class.friend]</a>) defined inline in the class granting
friendship shall proceed as described for lookup in member function
definitions. If the <span class='texttt'>friend</span> function is not defined in the class
granting friendship, name lookup in the <span class='texttt'>friend</span> function
definition shall proceed as described for lookup in namespace member
function definitions.</p></div><div class='para' id='lookup.unqual-10'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-10'>10</a></div><p >In a <span class='texttt'>friend</span> declaration naming a member function, a name used in
the function declarator and not part of a <i ><a href='temp.names#nt:template-argument'>template-argument</a></i>
in the <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> is first looked up in the scope of the
member function's class (<a href='class.member.lookup'>[class.member.lookup]</a>). If it is not found,
or if the name is part of a
<i ><a href='temp.names#nt:template-argument'>template-argument</a></i> in
the <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>, the look up is
as described for unqualified names in the definition of the class
granting friendship. [&nbsp;<i>Example:</i></p><pre class='codeblock'>
struct A {
  typedef int AT;
  void f1(AT);
  void f2(float);
  template &lt;class T&gt; void f3();
};
struct B {
  typedef char AT;
  typedef float BT;
  friend void A::f1(AT);      <span class='comment'>// parameter type is <span class='texttt'>A::AT</span>
</span>  friend void A::f2(BT);      <span class='comment'>// parameter type is <span class='texttt'>B::BT</span>
</span>  friend void A::f3&lt;AT&gt;();    <span class='comment'>// template argument is <span class='texttt'>B::AT</span>
</span>};
</pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;] </p></div><div class='para' id='lookup.unqual-11'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-11'>11</a></div><p >During the lookup for a name used as a default
argument (<a href='dcl.fct.default'>[dcl.fct.default]</a>) in a function
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> or used in the
<i ><a href='expr.comma#nt:expression'>expression</a></i> of a <i ><a href='class.base.init#nt:mem-initializer'>mem-initializer</a></i> for a
constructor (<a href='class.base.init'>[class.base.init]</a>), the function parameter names are
visible and hide the names of entities declared in the block, class or
namespace scopes containing the function declaration. [&nbsp;<i>Note:</i>
<a href='dcl.fct.default'>[dcl.fct.default]</a> further describes the restrictions on the use of
names in default arguments. <a href='class.base.init'>[class.base.init]</a> further describes the
restrictions on the use of names in a <i ><a href='class.base.init#nt:ctor-initializer'>ctor-initializer</a></i>.
<i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='lookup.unqual-12'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-12'>12</a></div><p >During the lookup of a name used in the
<i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i> of an <i ><a href='dcl.enum#nt:enumerator-definition'>enumerator-definition</a></i>,
previously declared <i ><a href='dcl.enum#nt:enumerator'>enumerators</a></i> of the enumeration are visible
and hide the names of entities declared in the block, class, or namespace
scopes containing the <i ><a href='dcl.enum#nt:enum-specifier'>enum-specifier</a></i>.</p></div><div class='para' id='lookup.unqual-13'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-13'>13</a></div><p >A name used in the definition of a <span class='texttt'>static</span> data member of class
<span class='texttt'>X</span> (<a href='class.static.data'>[class.static.data]</a>) (after the <i ><a href='expr.prim.general#nt:qualified-id'>qualified-id</a></i>
of the static member) is looked up as if the name was used in a member
function of <span class='texttt'>X</span>. [&nbsp;<i>Note:</i> <a href='class.static.data'>[class.static.data]</a> further
describes the restrictions on the use of names in the definition of a
<span class='texttt'>static</span> data member. <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='lookup.unqual-14'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-14'>14</a></div><p >If a variable member of a namespace is defined outside of the scope of
its namespace then any name that appears in the definition of the
member (after the <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>) is looked up as if the
definition of the member occurred in its namespace.
[&nbsp;<i>Example:</i></p><pre class='codeblock'>
namespace N {
  int i = 4;
  extern int j;
}

int i = 2;

int N::j = i;                   <span class='comment'>// <span class='texttt'>N::j == 4</span>
</span></pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;]</p></div><div class='para' id='lookup.unqual-15'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-15'>15</a></div><p >A name used in the handler for a <i ><a href='except#nt:function-try-block'>function-try-block</a></i>
(Clause <a href='except'>[except]</a>) is looked up as if the name was used in the
outermost block of the function definition. In particular, the function
parameter names shall not be redeclared in the
<i ><a href='except#nt:exception-declaration'>exception-declaration</a></i> nor in the outermost block of a handler
for the <i ><a href='except#nt:function-try-block'>function-try-block</a></i>. Names declared in the outermost
block of the function definition are not found when looked up in the
scope of a handler for the <i ><a href='except#nt:function-try-block'>function-try-block</a></i>. [&nbsp;<i>Note:</i> But
function parameter names are found. <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='lookup.unqual-16'><div class='marginalizedparent'><a class='marginalized' href='#lookup.unqual-16'>16</a></div><p >[&nbsp;<i>Note:</i> The rules for name lookup in template definitions are
described in <a href='temp.res'>[temp.res]</a>. <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='footnote' id='footnote-28'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-28'>28)</a></div><p >This refers to unqualified names
that occur, for instance, in
a type or default argument in the
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> or used in the function body.</p></div><div class='footnote' id='footnote-29'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-29'>29)</a></div><p >This refers to unqualified
names following the class name;
such a name may be used in the <i ><a href='class.derived#nt:base-clause'>base-clause</a></i> or may be used in
the class definition.</p></div><div class='footnote' id='footnote-30'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-30'>30)</a></div><p >This lookup applies whether the
definition of <span class='texttt'>X</span> is
nested within <span class='texttt'>Y</span>'s definition or whether <span class='texttt'>X</span>'s definition
appears in a namespace scope enclosing <span class='texttt'>Y</span> 's
definition (<a href='class.nest'>[class.nest]</a>).</p></div><div class='footnote' id='footnote-31'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-31'>31)</a></div><p >That is, an unqualified name that occurs,
for instance, in a
type or default argument in the
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> or in the function body.</p></div><div class='footnote' id='footnote-32'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-32'>32)</a></div><p >This lookup applies whether
the member function is defined
within the definition of class <span class='texttt'>X</span> or whether the member function
is defined in a namespace scope enclosing <span class='texttt'>X</span>'s definition.</p></div></div><div id='lookup.argdep'><h3 ><a class='secnum' href='#lookup.argdep' style='min-width:103pt'>3.4.2</a> Argument-dependent name lookup <a class='abbr_ref' href='basic.lookup.argdep'>[basic.lookup.argdep]</a></h3><p ><span class='indexparent'><a class='index' id='lookup,argument-dependent'></a></span></p><div class='para' id='lookup.argdep-1'><div class='marginalizedparent'><a class='marginalized' href='#lookup.argdep-1'>1</a></div><p >When the <i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> in
a function call (<a href='expr.call'>[expr.call]</a>) is an <i ><a href='expr.prim.general#nt:unqualified-id'>unqualified-id</a></i>, other namespaces not considered
during the usual unqualified lookup (<a href='basic.lookup.unqual'>[basic.lookup.unqual]</a>) may be
searched, and in those namespaces, namespace-scope friend function
declarations (<a href='class.friend'>[class.friend]</a>) not otherwise visible may be found.
These modifications to the search depend on the types of the arguments
(and for template template arguments, the namespace of the template
argument).
[&nbsp;<i>Example:</i></p><pre class='codeblock'>
namespace N {
  struct S { };
  void f(S);
}

void g() {
  N::S s;
  f(s);                         <span class='comment'>// OK: calls <span class='texttt'>N::f</span>
</span>  (f)(s);                       <span class='comment'>// error: <span class='texttt'>N::f</span> not considered; parentheses
</span>                                <span class='comment'>// prevent argument-dependent lookup
</span>}
</pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;]</p></div><div class='para' id='lookup.argdep-2'><div class='marginalizedparent'><a class='marginalized' href='#lookup.argdep-2'>2</a></div><p >For each argument type <span class='texttt'>T</span> in the function call, there is a set of
zero or more associated namespaces and a set of zero or more associated
classes to be considered. The sets of namespaces and classes is
determined entirely by the types of the function arguments (and the
namespace of any template template argument). Typedef names and
<i ><a href='namespace.udecl#nt:using-declaration'>using-declarations</a></i> used to specify the types do not
contribute to this set. The sets of namespaces and classes are
determined in the following way:</p><ul class='itemize'><li id='lookup.argdep-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.argdep-2.1'>(2.1)</a></div><p >If <span class='texttt'>T</span> is a fundamental type, its associated sets of
namespaces and classes are both empty.</p></li><li id='lookup.argdep-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.argdep-2.2'>(2.2)</a></div><p >If <span class='texttt'>T</span> is a class type (including unions), its associated
classes are: the class itself; the class of which it is a member, if
any; and its direct and indirect base classes. Its associated namespaces
are the namespaces of which its associated classes are members.
Furthermore, if <span class='texttt'>T</span> is a class template specialization, its
associated namespaces and classes also include: the namespaces and
classes associated with the types of the template arguments provided for
template type parameters (excluding template template parameters); the
namespaces of which any template template arguments are members; and the
classes of which any member templates used as template template
arguments are members. [&nbsp;<i>Note:</i> Non-type template arguments do not
contribute to the set of associated namespaces.<i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></li><li id='lookup.argdep-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.argdep-2.3'>(2.3)</a></div><p >If <span class='texttt'>T</span> is an enumeration type, its associated namespace is
the namespace in which it is defined. If it is class member, its
associated class is the member's class; else it has no associated class.</p></li><li id='lookup.argdep-2.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.argdep-2.4'>(2.4)</a></div><p >If <span class='texttt'>T</span> is a pointer to <span class='texttt'>U</span> or an array of <span class='texttt'>U</span>,
its associated namespaces and classes are those associated with
<span class='texttt'>U</span>.</p></li><li id='lookup.argdep-2.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.argdep-2.5'>(2.5)</a></div><p >If <span class='texttt'>T</span> is a function type, its associated namespaces and
classes are those associated with the function parameter types and those
associated with the return type.</p></li><li id='lookup.argdep-2.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.argdep-2.6'>(2.6)</a></div><p >If <span class='texttt'>T</span> is a pointer to a member function of a class
<span class='texttt'>X</span>, its associated namespaces and classes are those associated
with the function parameter types and return type, together with those
associated with <span class='texttt'>X</span>.</p></li><li id='lookup.argdep-2.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.argdep-2.7'>(2.7)</a></div><p >If <span class='texttt'>T</span> is a pointer to a data member of class <span class='texttt'>X</span>, its
associated namespaces and classes are those associated with the member
type together with those associated with <span class='texttt'>X</span>.</p></li></ul><p >If an associated namespace is an inline namespace (<a href='namespace.def'>[namespace.def]</a>), its
enclosing namespace is also included in the set. If an associated namespace
directly contains inline namespaces, those inline namespaces are also included
in the set.
In addition, if the argument is the name or address of a set of
overloaded functions and/or function templates, its associated classes
and namespaces are the union of those associated with each of the
members of the set, i.e., the classes and namespaces associated with its
parameter types and return type.
Additionally, if the aforementioned set of overloaded functions is named with
a <i ><a href='temp.names#nt:template-id'>template-id</a></i>, its associated classes and namespaces also include
those of its type <i ><a href='temp.names#nt:template-argument'>template-arguments</a></i> and its template
<i ><a href='temp.names#nt:template-argument'>template-arguments</a></i>.</p></div><div class='para' id='lookup.argdep-3'><div class='marginalizedparent'><a class='marginalized' href='#lookup.argdep-3'>3</a></div><p >Let <a class='hidden_link' href='#def:X' id='def:X'><i>X</i></a> be the lookup set produced by unqualified
lookup (<a href='basic.lookup.unqual'>[basic.lookup.unqual]</a>) and let <a class='hidden_link' href='#def:Y' id='def:Y'><i>Y</i></a> be the lookup set produced
by argument dependent lookup (defined as follows). If <a class='hidden_link' href='#def:X' id='def:X'><i>X</i></a> contains
</p><ul class='itemize'><li id='lookup.argdep-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.argdep-3.1'>(3.1)</a></div><p >a declaration of a class member, or</p></li><li id='lookup.argdep-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.argdep-3.2'>(3.2)</a></div><p >a block-scope function declaration that is not a
<i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>, or</p></li><li id='lookup.argdep-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.argdep-3.3'>(3.3)</a></div><p >a declaration that is neither a function or a function template</p></li></ul><p >then <a class='hidden_link' href='#def:Y' id='def:Y'><i>Y</i></a> is empty. Otherwise <a class='hidden_link' href='#def:Y' id='def:Y'><i>Y</i></a> is the set of declarations
found in the namespaces associated with the argument types as described
below. The set of declarations found by the lookup of the name is the
union of <a class='hidden_link' href='#def:X' id='def:X'><i>X</i></a> and <a class='hidden_link' href='#def:Y' id='def:Y'><i>Y</i></a>. [&nbsp;<i>Note:</i> The namespaces and classes
associated with the argument types can include namespaces and classes
already considered by the ordinary unqualified lookup. <i>&nbsp;—&nbsp;end note</i>&nbsp;]
[&nbsp;<i>Example:</i></p><pre class='codeblock'>
namespace NS {
  class T { };
  void f(T);
  void g(T, int);
}
NS::T parm;
void g(NS::T, float);
int main() {
  f(parm);                      <span class='comment'>// OK: calls <span class='texttt'>NS::f</span>
</span>  extern void g(NS::T, float);
  g(parm, 1);                   <span class='comment'>// OK: calls <span class='texttt'>g(NS::T, float)</span>
</span>}
</pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;] </p></div><div class='para' id='lookup.argdep-4'><div class='marginalizedparent'><a class='marginalized' href='#lookup.argdep-4'>4</a></div><p >When considering an associated namespace, the lookup is the same as the
lookup performed when the associated namespace is used as a
qualifier (<a href='namespace.qual'>[namespace.qual]</a>) except that:</p><ul class='itemize'><li id='lookup.argdep-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.argdep-4.1'>(4.1)</a></div><p >Any <i ><a href='namespace.udir#nt:using-directive'>using-directives</a></i> in the associated namespace are
ignored.</p></li><li id='lookup.argdep-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.argdep-4.2'>(4.2)</a></div><p >Any namespace-scope friend functions or friend function templates
declared in associated classes are visible within their respective
namespaces even if they are not visible during an ordinary
lookup (<a href='class.friend'>[class.friend]</a>).</p></li><li id='lookup.argdep-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lookup.argdep-4.3'>(4.3)</a></div><p >All names except those of (possibly overloaded) functions and
function templates are ignored.</p></li></ul></div></div><div id='lookup.qual'><h3 ><a class='secnum' href='#lookup.qual' style='min-width:103pt'>3.4.3</a> Qualified name lookup <a class='abbr_ref' href='basic.lookup.qual'>[basic.lookup.qual]</a></h3><div class='para' id='lookup.qual-1'><div class='marginalizedparent'><a class='marginalized' href='#lookup.qual-1'>1</a></div><p ><span class='indexparent'><a class='index' id='lookup,qualified_name'></a></span><span class='indexparent'><a class='index' id='name,qualified'></a></span><span class='indexparent'><a class='index' id='qualification,explicit'></a></span>The name of a class or namespace member
or enumerator can be referred to after the
<span class='texttt'>::</span> scope resolution operator (<a href='expr.prim'>[expr.prim]</a>) applied to a
<i ><a href='expr.prim.general#nt:nested-name-specifier'>nested-name-specifier</a></i> that denotes its class,
namespace, or enumeration.
If a
<span class='texttt'>::</span> scope resolution
operator
in a <i ><a href='expr.prim.general#nt:nested-name-specifier'>nested-name-specifier</a></i> is not preceded by a <i ><a href='dcl.type.simple#nt:decltype-specifier'>decltype-specifier</a></i>,
lookup of the name preceding that <span class='texttt'>::</span> considers only namespaces, types, and
templates whose specializations are types. If the
name found does not designate a namespace or a class, enumeration, or dependent type,
the program is ill-formed.[&nbsp;<i>Example:</i></p><pre class='codeblock'>
class A {
public:
  static int n;
};
int main() {
  int A;
  A::n = 42;        <span class='comment'>// OK
</span>  A b;              <span class='comment'>// ill-formed: <span class='texttt'>A</span> does not name a type
</span>}
</pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;] </p></div><div class='para' id='lookup.qual-2'><div class='marginalizedparent'><a class='marginalized' href='#lookup.qual-2'>2</a></div><p >[&nbsp;<i>Note:</i> Multiply qualified names, such as <span class='texttt'>N1::N2::N3::n</span>, can
be used to refer to members of nested classes (<a href='class.nest'>[class.nest]</a>) or
members of nested namespaces. <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='lookup.qual-3'><div class='marginalizedparent'><a class='marginalized' href='#lookup.qual-3'>3</a></div><p >In a declaration in which the <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> is a
<i ><a href='expr.prim.general#nt:qualified-id'>qualified-id</a></i>, names used before the <i ><a href='expr.prim.general#nt:qualified-id'>qualified-id</a></i>
being declared are looked up in the defining namespace scope; names
following the <i ><a href='expr.prim.general#nt:qualified-id'>qualified-id</a></i> are looked up in the scope of the
member's class or namespace. [&nbsp;<i>Example:</i></p><pre class='codeblock'>
class X { };
class C {
  class X { };
  static const int number = 50;
  static X arr[number];
};
X C::arr[number];   <span class='comment'>// ill-formed:
</span>                    <span class='comment'>// equivalent to: <span class='texttt'>::X</span> <span class='texttt'>C::arr[C::number];</span>
</span>                    <span class='comment'>// not to: <span class='texttt'>C::X</span> <span class='texttt'>C::arr[C::number];</span>
</span></pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;] </p></div><div class='para' id='lookup.qual-4'><div class='marginalizedparent'><a class='marginalized' href='#lookup.qual-4'>4</a></div><p ><span class='indexparent'><a class='index' id='scope_resolution_operator'></a></span>A name prefixed by the unary scope operator <span class='texttt'>::</span> (<a href='expr.prim'>[expr.prim]</a>)
is looked up in global scope, in the translation unit where it is used.
The name shall be declared in global namespace scope or shall be a name
whose declaration is visible in global scope because of a
<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> (<a href='namespace.qual'>[namespace.qual]</a>). The use of <span class='texttt'>::</span>
allows a global name to be referred to even if its identifier has been
hidden (<a href='basic.scope.hiding'>[basic.scope.hiding]</a>).</p></div><div class='para' id='lookup.qual-5'><div class='marginalizedparent'><a class='marginalized' href='#lookup.qual-5'>5</a></div><p >A name prefixed by a <i ><a href='expr.prim.general#nt:nested-name-specifier'>nested-name-specifier</a></i> that
nominates an enumeration type shall represent an <i ><a href='dcl.enum#nt:enumerator'>enumerator</a></i>
of that enumeration.</p></div><div class='para' id='lookup.qual-6'><div class='marginalizedparent'><a class='marginalized' href='#lookup.qual-6'>6</a></div><p >If a <i ><a href='expr.post#nt:pseudo-destructor-name'>pseudo-destructor-name</a></i> (<a href='expr.pseudo'>[expr.pseudo]</a>) contains a
<i ><a href='expr.prim.general#nt:nested-name-specifier'>nested-name-specifier</a></i>, the <i ><a href='dcl.type.simple#nt:type-name'>type-names</a></i> are looked
up as types in the scope designated by the
<i ><a href='expr.prim.general#nt:nested-name-specifier'>nested-name-specifier</a></i>. Similarly, in a
<i ><a href='expr.prim.general#nt:qualified-id'>qualified-id</a></i> of the form:</p><pre class='bnf'><i ><a href='expr.prim.general#nt:nested-name-specifier'>nested-name-specifier</a></i><span class='math'><sub ><span class='mathit'>opt</span></sub></span> <i ><a href='class#nt:class-name'>class-name</a></i> <span class='terminal'>::</span> <span class='terminal'>~</span> <i ><a href='class#nt:class-name'>class-name</a></i></pre><p >the second <i ><a href='class#nt:class-name'>class-name</a></i> is looked up in the same scope as the
first. [&nbsp;<i>Example:</i></p><pre class='codeblock'>
struct C {
  typedef int I;
};
typedef int I1, I2;
extern int* p;
extern int* q;
p-&gt;C::I::~I();      <span class='comment'>// <span class='texttt'>I</span> is looked up in the scope of <span class='texttt'>C</span>
</span>q-&gt;I1::~I2();       <span class='comment'>// <span class='texttt'>I2</span> is looked up in the scope of
</span>                    <span class='comment'>// the postfix-expression
</span>
struct A {
  ~A();
};
typedef A AB;
int main() {
  AB *p;
  p-&gt;AB::~AB();     <span class='comment'>// explicitly calls the destructor for <span class='texttt'>A</span>
</span>}
</pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;] [&nbsp;<i>Note:</i> <a href='basic.lookup.classref'>[basic.lookup.classref]</a> describes how name
lookup proceeds after the <span class='texttt'>.</span> and <span class='texttt'>-&gt;</span> operators. <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div id='class.qual'><h4 ><a class='secnum' href='#class.qual' style='min-width:118pt'>3.4.3.1</a> Class members <a class='abbr_ref' href='class.qual'>[class.qual]</a></h4><div class='para' id='class.qual-1'><div class='marginalizedparent'><a class='marginalized' href='#class.qual-1'>1</a></div><p ><span class='indexparent'><a class='index' id='lookup,class_member'></a></span>If the <i ><a href='expr.prim.general#nt:nested-name-specifier'>nested-name-specifier</a></i> of a <i ><a href='expr.prim.general#nt:qualified-id'>qualified-id</a></i>
nominates a class, the name specified after the
<i ><a href='expr.prim.general#nt:nested-name-specifier'>nested-name-specifier</a></i> is looked up in the scope of the
class (<a href='class.member.lookup'>[class.member.lookup]</a>), except for the cases listed below.
The name shall represent one or more members of that class or of one of
its base classes (Clause <a href='class.derived'>[class.derived]</a>). [&nbsp;<i>Note:</i> A class member
can be referred to using a <i ><a href='expr.prim.general#nt:qualified-id'>qualified-id</a></i> at any point in its
potential scope (<a href='basic.scope.class'>[basic.scope.class]</a>). <i>&nbsp;—&nbsp;end note</i>&nbsp;] The exceptions to
the name lookup rule above are the following:</p><ul class='itemize'><li id='class.qual-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.qual-1.1'>(1.1)</a></div><p >a destructor name is looked up as specified
in <a href='basic.lookup.qual'>[basic.lookup.qual]</a>;</p></li><li id='class.qual-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.qual-1.2'>(1.2)</a></div><p >a <i ><a href='class.conv.fct#nt:conversion-type-id'>conversion-type-id</a></i> of a
<i ><a href='class.conv.fct#nt:conversion-function-id'>conversion-function-id</a></i> is looked up
in the same manner as a <i ><a href='class.conv.fct#nt:conversion-type-id'>conversion-type-id</a></i> in a class member
access (see <a href='basic.lookup.classref'>[basic.lookup.classref]</a>);</p></li><li id='class.qual-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.qual-1.3'>(1.3)</a></div><p >the names in a <i ><a href='temp.names#nt:template-argument'>template-argument</a></i> of a
<i ><a href='temp.names#nt:template-id'>template-id</a></i> are looked up in the context in which the entire
<i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> occurs.</p></li><li id='class.qual-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.qual-1.4'>(1.4)</a></div><p >the lookup for a name specified in a
<i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> (<a href='namespace.udecl'>[namespace.udecl]</a>) also finds class or
enumeration names hidden within the same
scope (<a href='basic.scope.hiding'>[basic.scope.hiding]</a>).</p></li></ul></div><div class='para' id='class.qual-2'><div class='marginalizedparent'><a class='marginalized' href='#class.qual-2'>2</a></div><p >In a lookup in which the constructor is an acceptable lookup result and
the <i ><a href='expr.prim.general#nt:nested-name-specifier'>nested-name-specifier</a></i> nominates a class <span class='texttt'>C</span>:</p><ul class='itemize'><li id='class.qual-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.qual-2.1'>(2.1)</a></div><p >if the name specified after the <i ><a href='expr.prim.general#nt:nested-name-specifier'>nested-name-specifier</a></i>,
when looked up in <span class='texttt'>C</span>, is the injected-class-name of <span class='texttt'>C</span> (Clause <a href='class'>[class]</a>), or
</p></li><li id='class.qual-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.qual-2.2'>(2.2)</a></div><p >in a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> (<a href='namespace.udecl'>[namespace.udecl]</a>) that is a <i ><a href='class.mem#nt:member-declaration'>member-declaration</a></i>,
if the name specified after the <i ><a href='expr.prim.general#nt:nested-name-specifier'>nested-name-specifier</a></i> is the same as the
<i ><a href='lex.name#nt:identifier'>identifier</a></i> or the <i ><a href='temp.names#nt:simple-template-id'>simple-template-id</a></i>'s
<i ><a href='temp.names#nt:template-name'>template-name</a></i> in the last component of the <i ><a href='expr.prim.general#nt:nested-name-specifier'>nested-name-specifier</a></i>,
</p></li></ul><p >the name is instead considered to name the
constructor of class <span class='texttt'>C</span>. [&nbsp;<i>Note:</i> For example, the constructor
is not an acceptable lookup result in an
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> so the constructor would not be
used in place of the injected-class-name. <i>&nbsp;—&nbsp;end note</i>&nbsp;] Such a constructor
name shall be used only in the <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> of a declaration
that names a constructor or in a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i>. [&nbsp;<i>Example:</i></p><pre class='codeblock'>
struct A { A(); };
struct B: public A { B(); };

A::A() { }
B::B() { }

B::A ba;            <span class='comment'>// object of type <span class='texttt'>A</span>
</span>A::A a;             <span class='comment'>// error, <span class='texttt'>A::A</span> is not a type name
</span>struct A::A a2;     <span class='comment'>// object of type <span class='texttt'>A</span>
</span></pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;] </p></div><div class='para' id='class.qual-3'><div class='marginalizedparent'><a class='marginalized' href='#class.qual-3'>3</a></div><p >A class member name hidden by a name in a nested declarative region or
by the name of a derived class member can still be found if qualified by
the name of its class followed by the <span class='texttt'>::</span> operator.</p></div></div><div id='namespace.qual'><h4 ><a class='secnum' href='#namespace.qual' style='min-width:118pt'>3.4.3.2</a> Namespace members <a class='abbr_ref' href='namespace.qual'>[namespace.qual]</a></h4><div class='para' id='namespace.qual-1'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-1'>1</a></div><p ><span class='indexparent'><a class='index' id='lookup,namespace_member'></a></span>If the <i ><a href='expr.prim.general#nt:nested-name-specifier'>nested-name-specifier</a></i> of a <i ><a href='expr.prim.general#nt:qualified-id'>qualified-id</a></i>
nominates a namespace, the name specified after the
<i ><a href='expr.prim.general#nt:nested-name-specifier'>nested-name-specifier</a></i> is looked up in the scope of the
namespace.
If a <i ><a href='expr.prim.general#nt:qualified-id'>qualified-id</a></i> starts with <span class='texttt'>::</span>, the name after the
<span class='texttt'>::</span> is looked up in the global namespace. In either case,
the names in a <i ><a href='temp.names#nt:template-argument'>template-argument</a></i> of a
<i ><a href='temp.names#nt:template-id'>template-id</a></i> are looked up in the context in which the
entire <i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> occurs.</p></div><div class='para' id='namespace.qual-2'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-2'>2</a></div><p >For a namespace <span class='texttt'>X</span> and name <span class='texttt'>m</span>, the namespace-qualified lookup set
<span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>X</span>, <span class='mathalpha'>m</span>)</span> is defined as follows: Let <span class='math'><span class='mathalpha'>S</span>'(<span class='mathalpha'>X</span>, <span class='mathalpha'>m</span>)</span> be the set of all
declarations of <span class='texttt'>m</span> in <span class='texttt'>X</span> and the inline namespace set of
<span class='texttt'>X</span> (<a href='namespace.def'>[namespace.def]</a>). If <span class='math'><span class='mathalpha'>S</span>'(<span class='mathalpha'>X</span>, <span class='mathalpha'>m</span>)</span> is not empty, <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>X</span>, <span class='mathalpha'>m</span>)</span>
is <span class='math'><span class='mathalpha'>S</span>'(<span class='mathalpha'>X</span>, <span class='mathalpha'>m</span>)</span>; otherwise, <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>X</span>, <span class='mathalpha'>m</span>)</span> is the union of <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>N</span><sub ><span class='mathalpha'>i</span></sub>, <span class='mathalpha'>m</span>)</span> for
all namespaces <span class='math'><span class='mathalpha'>N</span><sub ><span class='mathalpha'>i</span></sub></span> nominated by <span class='grammarterm'>using-directives</span> in
<span class='texttt'>X</span> and its inline namespace set.</p></div><div class='para' id='namespace.qual-3'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-3'>3</a></div><p >Given <span class='texttt'>X::m</span> (where <span class='texttt'>X</span> is a user-declared namespace), or
given <span class='texttt'>::m</span> (where X is the global namespace), if
<span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>X</span>, <span class='mathalpha'>m</span>)</span> is the empty set, the program is ill-formed. Otherwise, if
<span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>X</span>, <span class='mathalpha'>m</span>)</span> has exactly one member, or if the context of the reference is
a <i ><a href='namespace.udecl#nt:using-declaration'>using-declaration</a></i> (<a href='namespace.udecl'>[namespace.udecl]</a>), <span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>X</span>, <span class='mathalpha'>m</span>)</span>
is the
required set of declarations of <span class='texttt'>m</span>. Otherwise if the use of
<span class='texttt'>m</span> is not one that allows a unique declaration to be chosen from
<span class='math'><span class='mathalpha'>S</span>(<span class='mathalpha'>X</span>, <span class='mathalpha'>m</span>)</span>, the program is ill-formed. [&nbsp;<i>Example:</i></p><pre class='codeblock'>
int x;
namespace Y {
  void f(float);
  void h(int);
}

namespace Z {
  void h(double);
}

namespace A {
  using namespace Y;
  void f(int);
  void g(int);
  int i;
}

namespace B {
  using namespace Z;
  void f(char);
  int i;
}

namespace AB {
  using namespace A;
  using namespace B;
  void g();
}

void h(){
  AB::g();          <span class='comment'>// <span class='texttt'>g</span> is declared directly in <span class='texttt'>AB,</span>
</span>                    <span class='comment'>// therefore <span class='texttt'>S</span> is { <span class='texttt'>AB::g()</span> } and <span class='texttt'>AB::g()</span> is chosen
</span>  AB::f(1);         <span class='comment'>// <span class='texttt'>f</span> is not declared directly in <span class='texttt'>AB</span> so the rules are
</span>                    <span class='comment'>// applied recursively to <span class='texttt'>A</span> and <span class='texttt'>B;</span>
</span>                    <span class='comment'>// namespace <span class='texttt'>Y</span> is not searched and <span class='texttt'>Y::f(float)</span>
</span>                    <span class='comment'>// is not considered;
</span>                    <span class='comment'>// <span class='texttt'>S</span> is { <span class='texttt'>A::f(int)</span>, <span class='texttt'>B::f(char)</span> } and overload
</span>                    <span class='comment'>// resolution chooses <span class='texttt'>A::f(int)</span>
</span>  AB::f('c');       <span class='comment'>// as above but resolution chooses <span class='texttt'>B::f(char)</span>
</span>
  AB::x++;          <span class='comment'>// <span class='texttt'>x</span> is not declared directly in <span class='texttt'>AB</span>, and
</span>                    <span class='comment'>// is not declared in <span class='texttt'>A</span> or <span class='texttt'>B</span> , so the rules are
</span>                    <span class='comment'>// applied recursively to <span class='texttt'>Y</span> and <span class='texttt'>Z</span>,
</span>                    <span class='comment'>// <span class='texttt'>S</span> is { } so the program is ill-formed
</span>  AB::i++;          <span class='comment'>// <span class='texttt'>i</span> is not declared directly in <span class='texttt'>AB</span> so the rules are
</span>                    <span class='comment'>// applied recursively to <span class='texttt'>A</span> and <span class='texttt'>B</span>,
</span>                    <span class='comment'>// <span class='texttt'>S</span> is { <span class='texttt'>A::i</span> , <span class='texttt'>B::i</span> } so the use is ambiguous
</span>                    <span class='comment'>// and the program is ill-formed
</span>  AB::h(16.8);      <span class='comment'>// <span class='texttt'>h</span> is not declared directly in <span class='texttt'>AB</span> and
</span>                    <span class='comment'>// not declared directly in <span class='texttt'>A</span> or <span class='texttt'>B</span> so the rules are
</span>                    <span class='comment'>// applied recursively to <span class='texttt'>Y</span> and <span class='texttt'>Z</span>,
</span>                    <span class='comment'>// <span class='texttt'>S</span> is { <span class='texttt'>Y::h(int)</span>, <span class='texttt'>Z::h(double)</span> } and overload
</span>                    <span class='comment'>// resolution chooses <span class='texttt'>Z::h(double)</span>
</span>}
</pre></div><div class='para' id='namespace.qual-4'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-4'>4</a></div><p >The same declaration found more than once is not an ambiguity (because
it is still a unique declaration). For example:</p><pre class='codeblock'>
namespace A {
  int a;
}

namespace B {
  using namespace A;
}

namespace C {
  using namespace A;
}

namespace BC {
  using namespace B;
  using namespace C;
}

void f(){
  BC::a++;          <span class='comment'>// OK: <span class='texttt'>S</span> is { <span class='texttt'>A::a</span>, <span class='texttt'>A::a</span> }
</span>}

namespace D {
  using A::a;
}

namespace BD {
  using namespace B;
  using namespace D;
}

void g(){
  BD::a++;          <span class='comment'>// OK: S is { <span class='texttt'> A::a</span>, <span class='texttt'> A::a</span> }
</span>}
</pre></div><div class='para' id='namespace.qual-5'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-5'>5</a></div><p >Because each referenced namespace is searched at most once, the
following is well-defined:</p><pre class='codeblock'>
namespace B {
  int b;
}

namespace A {
  using namespace B;
  int a;
}

namespace B {
  using namespace A;
}

void f(){
  A::a++;           <span class='comment'>// OK: <span class='texttt'>a</span> declared directly in <span class='texttt'>A</span>, <span class='texttt'>S</span> is {<span class='texttt'>A::a</span>}
</span>  B::a++;           <span class='comment'>// OK: both <span class='texttt'>A</span> and <span class='texttt'>B</span> searched (once), <span class='texttt'>S</span> is {<span class='texttt'>A::a</span>}
</span>  A::b++;           <span class='comment'>// OK: both <span class='texttt'>A</span> and <span class='texttt'>B</span> searched (once), <span class='texttt'>S</span> is {<span class='texttt'>B::b</span>}
</span>  B::b++;           <span class='comment'>// OK: <span class='texttt'>b</span> declared directly in <span class='texttt'>B</span>, <span class='texttt'>S</span> is {<span class='texttt'>B::b</span>}
</span>}
</pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;] </p></div><div class='para' id='namespace.qual-6'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-6'>6</a></div><p >During the lookup of a qualified namespace member name, if the lookup
finds more than one declaration of the member, and if one declaration
introduces a class name or enumeration name and the other declarations
either introduce the same variable, the same enumerator or a set of
functions, the non-type name hides the class or enumeration name if and
only if the declarations are from the same namespace; otherwise (the
declarations are from different namespaces), the program is ill-formed.
[&nbsp;<i>Example:</i></p><pre class='codeblock'>
namespace A {
  struct x { };
  int x;
  int y;
}

namespace B {
  struct y { };
}

namespace C {
  using namespace A;
  using namespace B;
  int i = C::x;     <span class='comment'>// OK, <span class='texttt'>A::x</span> (of type <span class='texttt'>int</span> )
</span>  int j = C::y;     <span class='comment'>// ambiguous, <span class='texttt'>A::y</span> or <span class='texttt'>B::y</span>
</span>}
</pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;] </p></div><div class='para' id='namespace.qual-7'><div class='marginalizedparent'><a class='marginalized' href='#namespace.qual-7'>7</a></div><p >In a declaration for a namespace member in which the
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> is a <i ><a href='expr.prim.general#nt:qualified-id'>qualified-id</a></i>, given that the
<i ><a href='expr.prim.general#nt:qualified-id'>qualified-id</a></i> for the namespace member has the form</p><pre class='bnf'><i ><a href='expr.prim.general#nt:nested-name-specifier'>nested-name-specifier</a></i> <i ><a href='expr.prim.general#nt:unqualified-id'>unqualified-id</a></i></pre><p >the
<i ><a href='expr.prim.general#nt:unqualified-id'>unqualified-id</a></i> shall name a member of the namespace
designated by the <i ><a href='expr.prim.general#nt:nested-name-specifier'>nested-name-specifier</a></i>
or of an element of the inline namespace set (<a href='namespace.def'>[namespace.def]</a>) of that namespace.
[&nbsp;<i>Example:</i></p><pre class='codeblock'>
namespace A {
  namespace B {
    void f1(int);
  }
  using namespace B;
}
void A::f1(int){ }  <span class='comment'>// ill-formed, <span class='texttt'>f1</span> is not a member of <span class='texttt'>A</span>
</span></pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;] However, in such namespace member declarations, the
<i ><a href='expr.prim.general#nt:nested-name-specifier'>nested-name-specifier</a></i> may rely on <i ><a href='namespace.udir#nt:using-directive'>using-directives</a></i>
to implicitly provide the initial part of the
<i ><a href='expr.prim.general#nt:nested-name-specifier'>nested-name-specifier</a></i>. [&nbsp;<i>Example:</i></p><pre class='codeblock'>
namespace A {
  namespace B {
    void f1(int);
  }
}

namespace C {
  namespace D {
    void f1(int);
  }
}

using namespace A;
using namespace C::D;
void B::f1(int){ }  <span class='comment'>// OK, defines <span class='texttt'>A::B::f1(int)</span>
</span></pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;] 
<span class='indexparent'><a class='index' id='lookup,qualified_name'></a></span>
</p></div></div></div><div id='lookup.elab'><h3 ><a class='secnum' href='#lookup.elab' style='min-width:103pt'>3.4.4</a> Elaborated type specifiers <a class='abbr_ref' href='basic.lookup.elab'>[basic.lookup.elab]</a></h3><p ><span class='indexparent'><a class='index' id='lookup,elaborated_type_specifier'></a></span><span class='indexparent'><a class='index' id='type_specifier,elaborated'></a></span></p><div class='para' id='lookup.elab-1'><div class='marginalizedparent'><a class='marginalized' href='#lookup.elab-1'>1</a></div><p >An <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> (<a href='dcl.type.elab'>[dcl.type.elab]</a>) may be
used to refer to a previously declared <i ><a href='class#nt:class-name'>class-name</a></i> or
<i ><a href='dcl.enum#nt:enum-name'>enum-name</a></i> even though the name has been hidden by a non-type
declaration (<a href='basic.scope.hiding'>[basic.scope.hiding]</a>).</p></div><div class='para' id='lookup.elab-2'><div class='marginalizedparent'><a class='marginalized' href='#lookup.elab-2'>2</a></div><p >If the <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> has no
<i ><a href='expr.prim.general#nt:nested-name-specifier'>nested-name-specifier</a></i>, and unless the
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> appears in a declaration with the
following form:</p><pre class='bnf'><i ><a href='class#nt:class-key'>class-key</a></i> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class='math'><sub ><span class='mathit'>opt</span></sub></span> <i ><a href='lex.name#nt:identifier'>identifier</a></i> <span class='terminal'>;</span></pre><p >the <i ><a href='lex.name#nt:identifier'>identifier</a></i> is looked up according
to <a href='basic.lookup.unqual'>[basic.lookup.unqual]</a> but ignoring any non-type names that have
been declared. If the <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> is introduced
by the <span class='texttt'>enum</span> keyword and this lookup does not find a previously
declared <i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i>, the <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i>
is ill-formed. If the <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> is introduced
by the <i ><a href='class#nt:class-key'>class-key</a></i> and this lookup does not find a previously
declared <i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i>, or if the
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> appears in a declaration with the
form:</p><pre class='bnf'><i ><a href='class#nt:class-key'>class-key</a></i> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class='math'><sub ><span class='mathit'>opt</span></sub></span> <i ><a href='lex.name#nt:identifier'>identifier</a></i> <span class='terminal'>;</span></pre><p >the <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> is a declaration that
introduces the <i ><a href='class#nt:class-name'>class-name</a></i> as described
in <a href='basic.scope.pdecl'>[basic.scope.pdecl]</a>.</p></div><div class='para' id='lookup.elab-3'><div class='marginalizedparent'><a class='marginalized' href='#lookup.elab-3'>3</a></div><p >If the <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> has a
<i ><a href='expr.prim.general#nt:nested-name-specifier'>nested-name-specifier</a></i>, qualified name lookup is performed, as
described in <a href='basic.lookup.qual'>[basic.lookup.qual]</a>, but ignoring any non-type names
that have been declared. If the name lookup does not find a previously
declared <i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i>, the <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i>
is ill-formed. [&nbsp;<i>Example:</i></p><pre class='codeblock'>
struct Node {
  struct Node* Next;            <span class='comment'>// OK: Refers to <span class='texttt'>Node</span> at global scope
</span>  struct Data* Data;            <span class='comment'>// OK: Declares type <span class='texttt'>Data</span>
</span>                                <span class='comment'>// at global scope and member <span class='texttt'>Data</span>
</span>};

struct Data {
  struct Node* Node;            <span class='comment'>// OK: Refers to <span class='texttt'>Node</span> at global scope
</span>  friend struct ::Glob;         <span class='comment'>// error: <span class='texttt'>Glob</span> is not declared
</span>                                <span class='comment'>// cannot introduce a qualified type (<a href='dcl.type.elab'>[dcl.type.elab]</a>)
</span>  friend struct Glob;           <span class='comment'>// OK: Refers to (as yet) undeclared <span class='texttt'>Glob</span>
</span>              <span class='comment'>// at global scope.
</span>  <span class='comment'>/* ... */</span>
};

struct Base {
  struct Data;                  <span class='comment'>// OK: Declares nested <span class='texttt'>Data</span>
</span>  struct ::Data*     thatData;  <span class='comment'>// OK: Refers to <span class='texttt'>::Data</span>
</span>  struct Base::Data* thisData;  <span class='comment'>// OK: Refers to nested <span class='texttt'>Data</span>
</span>  friend class ::Data;          <span class='comment'>// OK: global <span class='texttt'>Data</span> is a friend
</span>  friend class Data;            <span class='comment'>// OK: nested <span class='texttt'>Data</span> is a friend
</span>  struct Data <span class='texttt'>{ /* ... */ };</span>   <span class='comment'>// Defines nested <span class='texttt'>Data</span>
</span>};

struct Data;                    <span class='comment'>// OK: Redeclares <span class='texttt'>Data</span> at global scope
</span>struct ::Data;                  <span class='comment'>// error: cannot introduce a qualified type (<a href='dcl.type.elab'>[dcl.type.elab]</a>)
</span>struct Base::Data;              <span class='comment'>// error: cannot introduce a qualified type (<a href='dcl.type.elab'>[dcl.type.elab]</a>)
</span>struct Base::Datum;             <span class='comment'>// error: <span class='texttt'>Datum</span> undefined
</span>struct Base::Data* pBase;       <span class='comment'>// OK: refers to nested <span class='texttt'>Data</span>
</span></pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;] <span class='indexparent'><a class='index' id='lookup,elaborated_type_specifier'></a></span>
</p></div></div><div id='lookup.classref'><h3 ><a class='secnum' href='#lookup.classref' style='min-width:103pt'>3.4.5</a> Class member access <a class='abbr_ref' href='basic.lookup.classref'>[basic.lookup.classref]</a></h3><div class='para' id='lookup.classref-1'><div class='marginalizedparent'><a class='marginalized' href='#lookup.classref-1'>1</a></div><p ><span class='indexparent'><a class='index' id='lookup,class_member'></a></span>In a class member access expression (<a href='expr.ref'>[expr.ref]</a>), if the <span class='texttt'>.</span>
or <span class='texttt'>-&gt;</span> token is immediately followed by an <i ><a href='lex.name#nt:identifier'>identifier</a></i>
followed by a <span class='texttt'>&lt;</span>, the identifier must be looked up to determine
whether the <span class='texttt'>&lt;</span> is the beginning of a template argument
list (<a href='temp.names'>[temp.names]</a>) or a less-than operator. The identifier is first
looked up in the class of the object expression. If the identifier is
not found, it is then looked up in the context of the entire
<i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> and shall name a class template.</p></div><div class='para' id='lookup.classref-2'><div class='marginalizedparent'><a class='marginalized' href='#lookup.classref-2'>2</a></div><p >If the <i ><a href='expr.prim.general#nt:id-expression'>id-expression</a></i> in a class member
access (<a href='expr.ref'>[expr.ref]</a>) is an <i ><a href='expr.prim.general#nt:unqualified-id'>unqualified-id</a></i>, and the type of
the object expression is of a class type <span class='texttt'>C</span>, the
<i ><a href='expr.prim.general#nt:unqualified-id'>unqualified-id</a></i> is looked up in the scope of class <span class='texttt'>C</span>.
For a pseudo-destructor call (<a href='expr.pseudo'>[expr.pseudo]</a>),
the <i ><a href='expr.prim.general#nt:unqualified-id'>unqualified-id</a></i> is looked up in the context of the complete
<i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i>.</p></div><div class='para' id='lookup.classref-3'><div class='marginalizedparent'><a class='marginalized' href='#lookup.classref-3'>3</a></div><p >If the <i ><a href='expr.prim.general#nt:unqualified-id'>unqualified-id</a></i> is <span class='grammarterm'>~type-name</span>, the
<i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i> is looked up in the context of the entire
<i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i>. If the type <span class='texttt'>T</span> of the object
expression is of a class type <span class='texttt'>C</span>, the <i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i> is
also looked up in the scope of class <span class='texttt'>C</span>. At least one of the
lookups shall find a name that refers to (possibly cv-qualified)
<span class='texttt'>T</span>. [&nbsp;<i>Example:</i></p><pre class='codeblock'>
struct A { };

struct B {
  struct A { };
  void f(::A* a);
};

void B::f(::A* a) {
  a-&gt;~A();                      <span class='comment'>// OK: lookup in <span class='texttt'>*a</span> finds the injected-class-name
</span>}
</pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;]</p></div><div class='para' id='lookup.classref-4'><div class='marginalizedparent'><a class='marginalized' href='#lookup.classref-4'>4</a></div><p >If the <i ><a href='expr.prim.general#nt:id-expression'>id-expression</a></i> in a class member access is a
<i ><a href='expr.prim.general#nt:qualified-id'>qualified-id</a></i> of the form</p><p ><div class='indented'>
<span class='texttt'>class-name-or-namespace-name::...</span>
</div></p><p >the <span class='grammarterm'>class-name-or-namespace-name</span> following the <span class='texttt'>.</span> or
<span class='texttt'>-&gt;</span> operator is
first looked up in the class of the object expression and the name, if found,
is used. Otherwise it is looked up in the context of the entire
<i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i>. [&nbsp;<i>Note:</i> See <a href='basic.lookup.qual'>[basic.lookup.qual]</a>, which
describes the lookup of a name before <span class='texttt'>::</span>, which will only find a type
or namespace name. <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='lookup.classref-5'><div class='marginalizedparent'><a class='marginalized' href='#lookup.classref-5'>5</a></div><p >If the <i ><a href='expr.prim.general#nt:qualified-id'>qualified-id</a></i> has the form</p><p ><div class='indented'>
<span class='texttt'>::class-name-or-namespace-name::...</span>
</div></p><p >the <span class='grammarterm'>class-name-or-namespace-name</span> is looked up in global scope
as a <i ><a href='class#nt:class-name'>class-name</a></i> or <i ><a href='namespace.def#nt:namespace-name'>namespace-name</a></i>.</p></div><div class='para' id='lookup.classref-6'><div class='marginalizedparent'><a class='marginalized' href='#lookup.classref-6'>6</a></div><p >If the <i ><a href='expr.prim.general#nt:nested-name-specifier'>nested-name-specifier</a></i> contains a
<i ><a href='temp.names#nt:simple-template-id'>simple-template-id</a></i> (<a href='temp.names'>[temp.names]</a>), the names in its
<i ><a href='temp.names#nt:template-argument'>template-arguments</a></i> are looked up in the context in which the
entire <i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> occurs.</p></div><div class='para' id='lookup.classref-7'><div class='marginalizedparent'><a class='marginalized' href='#lookup.classref-7'>7</a></div><p >If the <i ><a href='expr.prim.general#nt:id-expression'>id-expression</a></i> is a <i ><a href='class.conv.fct#nt:conversion-function-id'>conversion-function-id</a></i>,
its <i ><a href='class.conv.fct#nt:conversion-type-id'>conversion-type-id</a></i>
is first looked up in the class of the object expression and the name, if
found, is used. Otherwise it is looked up in the context
of the entire <i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i>.
In each of these lookups, only names that denote types or templates whose
specializations are types are considered.
[&nbsp;<i>Example:</i>
</p><pre class='codeblock'>
struct A { };
namespace N {
  struct A {
    void g() { }
    template &lt;class T&gt; operator T();
  };
}

int main() {
  N::A a;
  a.operator A();               <span class='comment'>// calls <span class='texttt'>N::A::operator N::A</span>
</span>}
</pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;]</p></div></div><div id='lookup.udir'><h3 ><a class='secnum' href='#lookup.udir' style='min-width:103pt'>3.4.6</a> Using-directives and namespace aliases <a class='abbr_ref' href='basic.lookup.udir'>[basic.lookup.udir]</a></h3><div class='para' id='lookup.udir-1'><div class='marginalizedparent'><a class='marginalized' href='#lookup.udir-1'>1</a></div><p ><span class='indexparent'><a class='index' id='lookup,using-directives_and'></a></span><span class='indexparent'><a class='index' id='lookup,namespace_aliases_and'></a></span>In a <i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i> or <i ><a href='namespace.alias#nt:namespace-alias-definition'>namespace-alias-definition</a></i>,
during the lookup for a <i ><a href='namespace.def#nt:namespace-name'>namespace-name</a></i> or for a name in a
<i ><a href='expr.prim.general#nt:nested-name-specifier'>nested-name-specifier</a></i>
only namespace names are considered.<span class='indexparent'><a class='index' id='lookup,name'></a></span><span class='indexparent'><a class='index' id='scope,name_lookup_and'></a></span></p></div></div></div><div id='link'><h2 ><a class='secnum' href='#link' style='min-width:88pt'>3.5</a> Program and linkage <a class='abbr_ref' href='basic.link'>[basic.link]</a></h2><p ><span class='indexparent'><a class='index' id='linkage'></a></span></p><div class='para' id='link-1'><div class='marginalizedparent'><a class='marginalized' href='#link-1'>1</a></div><p ><span class='indexparent'><a class='index' id='program'></a></span>A <a class='hidden_link' href='#def:program' id='def:program'><i>program</i></a> consists of one or more <a class='hidden_link' href='#def:translation_units' id='def:translation_units'><i>translation
units</i></a> (Clause <a href='lex'>[lex]</a>) linked together. A translation unit consists
of a sequence of declarations.</p><pre class='bnf'><a id='nt:translation-unit'>translation-unit:</a>
    <i ><a href='dcl.dcl#nt:declaration-seq'>declaration-seq</a></i><span class='math'><sub ><span class='mathit'>opt</span></sub></span></pre></div><div class='para' id='link-2'><div class='marginalizedparent'><a class='marginalized' href='#link-2'>2</a></div><p ><span class='indexparent'><a class='index' id='linkage'></a></span><span class='indexparent'><a class='index' id='translation_unit'></a></span><span class='indexparent'><a class='index' id='linkage,internal'></a></span><span class='indexparent'><a class='index' id='linkage,external'></a></span>A name is said to have <a class='hidden_link' href='#def:linkage' id='def:linkage'><i>linkage</i></a> when it might denote the same
object, reference, function, type, template, namespace or value as a
name introduced by a declaration in another scope:</p><ul class='itemize'><li id='link-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-2.1'>(2.1)</a></div><p >When a name has <a class='hidden_link' href='#def:external_linkage' id='def:external_linkage'><i>external linkage</i></a><span class='indexparent'><a class='index' id='linkage,external'></a></span>,
the entity it denotes
can be referred to by names from scopes of other translation units or
from other scopes of the same translation unit.</p></li><li id='link-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-2.2'>(2.2)</a></div><p >When a name has <a class='hidden_link' href='#def:internal_linkage' id='def:internal_linkage'><i>internal linkage</i></a><span class='indexparent'><a class='index' id='linkage,internal'></a></span>,
the entity it denotes
can be referred to by names from other scopes in the same translation
unit.</p></li><li id='link-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-2.3'>(2.3)</a></div><p >When a name has <a class='hidden_link' href='#def:no_linkage' id='def:no_linkage'><i>no linkage</i></a><span class='indexparent'><a class='index' id='linkage,no'></a></span>, the entity it denotes
cannot be referred to by names from other scopes.
</p></li></ul></div><div class='para' id='link-3'><div class='marginalizedparent'><a class='marginalized' href='#link-3'>3</a></div><p ><span class='indexparent'><a class='index' id='linkage,static'></a></span><span class='indexparent'><a class='index' id='static,linkage_of'></a></span><span class='indexparent'><a class='index' id='linkage,const'></a></span><span class='indexparent'><a class='index' id='const,linkage_of'></a></span><span class='indexparent'><a class='index' id='linkage,inline'></a></span><span class='indexparent'><a class='index' id='inline,linkage_of'></a></span>A name having namespace scope (<a href='basic.scope.namespace'>[basic.scope.namespace]</a>) has internal
linkage if it is the name of</p><ul class='itemize'><li id='link-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-3.1'>(3.1)</a></div><p >a variable, function or function template that is
explicitly declared <span class='texttt'>static</span>; or,</p></li><li id='link-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-3.2'>(3.2)</a></div><p >a variable that is explicitly declared <span class='texttt'>const</span> or <span class='texttt'>constexpr</span>
and neither explicitly declared <span class='texttt'>extern</span> nor previously declared
to have external linkage; or</p></li><li id='link-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-3.3'>(3.3)</a></div><p >a data member of an anonymous union.
</p></li></ul></div><div class='para' id='link-4'><div class='marginalizedparent'><a class='marginalized' href='#link-4'>4</a></div><p >An unnamed namespace or a namespace declared directly or indirectly within an
unnamed namespace has internal linkage. All other namespaces have external linkage.
A name having namespace scope
that has not been given internal linkage above
has the same linkage as the enclosing namespace if it is the name of</p><ul class='itemize'><li id='link-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-4.1'>(4.1)</a></div><p >a variable; or</p></li><li id='link-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-4.2'>(4.2)</a></div><p >a function; or</p></li><li id='link-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-4.3'>(4.3)</a></div><p ><span class='indexparent'><a class='index' id='class,linkage_of'></a></span>a named class (Clause <a href='class'>[class]</a>), or an unnamed class defined in a
typedef declaration in which the class has the typedef name for linkage
purposes (<a href='dcl.typedef'>[dcl.typedef]</a>); or</p></li><li id='link-4.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-4.4'>(4.4)</a></div><p ><span class='indexparent'><a class='index' id='enumeration,linkage_of'></a></span>a named enumeration (<a href='dcl.enum'>[dcl.enum]</a>), or an unnamed enumeration defined
in a typedef declaration in which the enumeration has the typedef name
for linkage purposes (<a href='dcl.typedef'>[dcl.typedef]</a>); or</p></li><li id='link-4.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-4.5'>(4.5)</a></div><p >an enumerator belonging to an enumeration with linkage; or</p></li><li id='link-4.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-4.6'>(4.6)</a></div><p >a template.
</p></li></ul></div><div class='para' id='link-5'><div class='marginalizedparent'><a class='marginalized' href='#link-5'>5</a></div><p >In addition, a member function, static data member, a named class or
enumeration of class scope, or an unnamed class or enumeration defined
in a class-scope typedef declaration such that the class or enumeration
has the typedef name for linkage purposes (<a href='dcl.typedef'>[dcl.typedef]</a>), has
external linkage if the name of the class has external linkage.</p></div><div class='para' id='link-6'><div class='marginalizedparent'><a class='marginalized' href='#link-6'>6</a></div><p >The name of a function declared in block scope and the name of a variable declared by a
block scope <span class='texttt'>extern</span> declaration have linkage. If there is a visible declaration
of an entity with linkage having the same name and type, ignoring entities declared
outside the innermost enclosing namespace scope, the block scope declaration declares
that same entity and receives the linkage of the previous declaration. If there is more
than one such matching entity, the program is ill-formed. Otherwise, if no matching
entity is found, the block scope entity receives external linkage.[&nbsp;<i>Example:</i></p><pre class='codeblock'>
static void f();
static int i = 0;               <span class='comment'>// #1
</span>void g() {
  extern void f();              <span class='comment'>// internal linkage
</span>  int i;                        <span class='comment'>// #2 <span class='texttt'>i</span> has no linkage
</span>  {
    extern void f();            <span class='comment'>// internal linkage
</span>    extern int i;               <span class='comment'>// #3 external linkage
</span>  }
}
</pre><p >There are three objects named <span class='texttt'>i</span> in this program. The object with
internal linkage introduced by the declaration in global scope (line
<span class='texttt'>#1</span> ), the object with automatic storage duration and no linkage
introduced by the declaration on line <span class='texttt'>#2</span>, and the object with
static storage duration and external linkage introduced by the
declaration on line <span class='texttt'>#3</span>. <i>&nbsp;—&nbsp;end example</i>&nbsp;]</p></div><div class='para' id='link-7'><div class='marginalizedparent'><a class='marginalized' href='#link-7'>7</a></div><p >When a block scope declaration of an entity with linkage is not found to
refer to some other declaration, then that entity is a member of the
innermost enclosing namespace. However such a declaration does not
introduce the member name in its namespace scope. [&nbsp;<i>Example:</i></p><pre class='codeblock'>
namespace X {
  void p() {
    q();                        <span class='comment'>// error: <span class='texttt'>q</span> not yet declared
</span>    extern void q();            <span class='comment'>// <span class='texttt'>q</span> is a member of namespace <span class='texttt'>X</span>
</span>  }

  void middle() {
    q();                        <span class='comment'>// error: <span class='texttt'>q</span> not yet declared
</span>  }

  void q() <span class='texttt'>{ /* ... */ }</span>       <span class='comment'>// definition of <span class='texttt'>X::q</span>        
</span>}

void q() <span class='texttt'>{ /* ... */ }</span>         <span class='comment'>// some other, unrelated <span class='texttt'>q</span>
</span></pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;] </p></div><div class='para' id='link-8'><div class='marginalizedparent'><a class='marginalized' href='#link-8'>8</a></div><p ><span class='indexparent'><a class='index' id='linkage,no'></a></span>Names not covered by these rules have no linkage. Moreover, except as
noted, a name declared at block scope (<a href='basic.scope.local'>[basic.scope.local]</a>) has no
linkage. A type is said to have linkage if and only if:</p><ul class='itemize'><li id='link-8.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-8.1'>(8.1)</a></div><p >it is a class or enumeration type that is named (or has a name for
linkage purposes (<a href='dcl.typedef'>[dcl.typedef]</a>)) and the name has linkage; or</p></li><li id='link-8.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-8.2'>(8.2)</a></div><p >it is an unnamed class or enumeration member of a class with linkage; or</p></li><li id='link-8.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-8.3'>(8.3)</a></div><p >it is a specialization of a class template (<a href='temp'>[temp]</a>)<a class='footnotenum' href='#footnote-33'>33</a>;
or</p></li><li id='link-8.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-8.4'>(8.4)</a></div><p >it is a fundamental type (<a href='basic.fundamental'>[basic.fundamental]</a>); or</p></li><li id='link-8.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-8.5'>(8.5)</a></div><p >it is a compound type (<a href='basic.compound'>[basic.compound]</a>) other than a class or
enumeration, compounded exclusively from types that have linkage; or</p></li><li id='link-8.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-8.6'>(8.6)</a></div><p >it is a cv-qualified (<a href='basic.type.qualifier'>[basic.type.qualifier]</a>) version of a
type that has linkage.
</p></li></ul><p >A type without linkage shall not be used as the type of a variable or
function with external linkage unless
</p><ul class='itemize'><li id='link-8.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-8.1'>(8.1)</a></div><p >the entity has C language linkage (<a href='dcl.link'>[dcl.link]</a>), or</p></li><li id='link-8.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-8.2'>(8.2)</a></div><p >the entity is declared within an unnamed
namespace (<a href='namespace.def'>[namespace.def]</a>), or</p></li><li id='link-8.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-8.3'>(8.3)</a></div><p >the entity is not odr-used (<a href='basic.def.odr'>[basic.def.odr]</a>) or is defined in
the same translation unit.
</p></li></ul><p >[&nbsp;<i>Note:</i> In other words, a type without linkage contains a class or enumeration that
cannot be named outside its translation unit. An entity with external linkage declared
using such a type could not correspond to any other entity in another translation unit
of the program and thus must be defined in the
translation unit if it is odr-used. Also note that classes with linkage may contain members
whose types do not have linkage, and that typedef names are ignored in the determination
of whether a type has linkage. <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p><p >[&nbsp;<i>Example:</i>
</p><pre class='codeblock'>
template &lt;class T&gt; struct B {
  void g(T) { }
  void h(T);
  friend void i(B, T) { }
};

void f() {
  struct A { int x; };  <span class='comment'>// no linkage
</span>  A a = { 1 };
  B&lt;A&gt; ba;              <span class='comment'>// declares <span class='texttt'>B&lt;A&gt;::g(A)</span> and <span class='texttt'>B&lt;A&gt;::h(A)</span>
</span>  ba.g(a);              <span class='comment'>// OK
</span>  ba.h(a);              <span class='comment'>// error: <span class='texttt'>B&lt;A&gt;::h(A) not defined in the translation unit</span>
</span>  i(ba, a);             <span class='comment'>// OK
</span>}
</pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;]</p></div><div class='para' id='link-9'><div class='marginalizedparent'><a class='marginalized' href='#link-9'>9</a></div><p >Two names that are the same (Clause <a href='basic'>[basic]</a>) and that are declared
in different scopes shall denote the same variable, function,
type, enumerator, template or namespace if</p><ul class='itemize'><li id='link-9.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-9.1'>(9.1)</a></div><p >both names have external linkage or else both names have internal
linkage and are declared in the same translation unit; and</p></li><li id='link-9.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-9.2'>(9.2)</a></div><p >both names refer to members of the same namespace or to members,
not by inheritance, of the same class; and</p></li><li id='link-9.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-9.3'>(9.3)</a></div><p >when both names denote functions, the parameter-type-lists of the
functions (<a href='dcl.fct'>[dcl.fct]</a>) are identical; and</p></li><li id='link-9.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#link-9.4'>(9.4)</a></div><p >when both names denote function templates, the
signatures (<a href='temp.over.link'>[temp.over.link]</a>) are the same.
</p></li></ul></div><div class='para' id='link-10'><div class='marginalizedparent'><a class='marginalized' href='#link-10'>10</a></div><p ><span class='indexparent'><a class='index' id='consistency,type_declaration'></a></span><span class='indexparent'><a class='index' id='declaration,multiple'></a></span>After all adjustments of types (during which
typedefs (<a href='dcl.typedef'>[dcl.typedef]</a>) are replaced by their definitions), the
types specified by all declarations referring to a given variable or
function shall be identical, except that declarations for an array
object can specify array types that differ by the presence or absence of
a major array bound (<a href='dcl.array'>[dcl.array]</a>). A violation of this rule on type
identity does not require a diagnostic.</p></div><div class='para' id='link-11'><div class='marginalizedparent'><a class='marginalized' href='#link-11'>11</a></div><p >[&nbsp;<i>Note:</i> Linkage to non-C++ declarations can be achieved using a
<i ><a href='dcl.link#nt:linkage-specification'>linkage-specification</a></i> (<a href='dcl.link'>[dcl.link]</a>). <i>&nbsp;—&nbsp;end note</i>&nbsp;]<span class='indexparent'><a class='index' id='linkage'></a></span></p></div><div class='footnote' id='footnote-33'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-33'>33)</a></div><p >A class
template always has external linkage, and the
requirements of <a href='temp.arg.type'>[temp.arg.type]</a> and <a href='temp.arg.nontype'>[temp.arg.nontype]</a> ensure
that the template arguments will also have appropriate linkage.</p></div></div><div id='start'><h2 ><a class='secnum' href='#start' style='min-width:88pt'>3.6</a> Start and termination <a class='abbr_ref' href='basic.start'>[basic.start]</a></h2><div id='start.main'><h3 ><a class='secnum' href='#start.main' style='min-width:103pt'>3.6.1</a> Main function <a class='abbr_ref' href='basic.start.main'>[basic.start.main]</a></h3><div class='para' id='start.main-1'><div class='marginalizedparent'><a class='marginalized' href='#start.main-1'>1</a></div><p ><span class='indexparent'><a class='index' id='program,start'></a></span><span class='indexparent'><a class='index' id='main()'></a></span>A program shall contain a global function called <span class='texttt'>main</span>, which is the designated
start of the program. It is <span class='indexparent'><a class='index' id='defining_main_in_freestanding_environment'></a></span>implementation-defined
whether a program in a freestanding environment is required to define a <span class='texttt'>main</span>
function. [&nbsp;<i>Note:</i> In a freestanding environment, start-up and termination is
<span class='indexparent'><a class='index' id='start-up_and_termination_in_freestanding_environment'></a></span>implementation-defined; start-up contains the
execution of constructors for objects of namespace scope with static storage duration;
termination contains the execution of destructors for objects with static storage
duration. <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='start.main-2'><div class='marginalizedparent'><a class='marginalized' href='#start.main-2'>2</a></div><p >An implementation shall not predefine the <span class='texttt'>main</span> function. This
function shall not be overloaded. It shall have a return type of type
<span class='texttt'>int</span>, but otherwise its type is <span class='indexparent'><a class='index' id='parameters_to_main'></a></span>implementation-defined.
<span class='indexparent'><a class='index' id='main(),implementation-defined_parameters_to'></a></span>All implementations shall allow both of the following definitions of
<span class='texttt'>main</span>:</p><pre class='codeblock'>
int main() <span class='texttt'>{ /* ... */ }</span>
</pre><p >and</p><p ><span class='indexparent'><a class='index' id='argc'></a></span><span class='indexparent'><a class='index' id='argv'></a></span></p><pre class='codeblock'>
int main(int argc, char* argv[]) <span class='texttt'>{ /* ... */ }</span>
</pre><p ><span class='indexparent'><a class='index' id='main(),parameters_to'></a></span><span class='indexparent'><a class='index' id='environment,program'></a></span>In the latter form <span class='texttt'>argc</span> shall be the number of arguments passed
to the program from the environment in which the program is run. If
<span class='texttt'>argc</span> is nonzero these arguments shall be supplied in
<span class='texttt'>argv[0]</span> through <span class='texttt'>argv[argc-1]</span> as pointers to the initial
characters of null-terminated multibyte strings (<span class='textsc'>ntmbs</span>
s) (<a href='multibyte.strings'>[multibyte.strings]</a>) and <span class='texttt'>argv[0]</span> shall be the pointer to
the initial character of a <span class='textsc'>ntmbs</span> that represents the name used to
invoke the program or <span class='texttt'>""</span>. The value of <span class='texttt'>argc</span> shall be
non-negative. The value of <span class='texttt'>argv[argc]</span> shall be 0. [&nbsp;<i>Note:</i> It
is recommended that any further (optional) parameters be added after
<span class='texttt'>argv</span>. <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='start.main-3'><div class='marginalizedparent'><a class='marginalized' href='#start.main-3'>3</a></div><p >The function <span class='texttt'>main</span> shall not be used within
a program.
<span class='indexparent'><a class='index' id='main(),implementation-defined_linkage_of'></a></span>The linkage (<a href='basic.link'>[basic.link]</a>) of <span class='texttt'>main</span> is
<span class='indexparent'><a class='index' id='linkage_of_main'></a></span>implementation-defined. A program that defines <span class='texttt'>main</span> as
deleted or that declares <span class='texttt'>main</span> to be
<span class='texttt'>inline,</span> <span class='texttt'>static</span>, or <span class='texttt'>constexpr</span> is ill-formed. The name <span class='texttt'>main</span> is
not otherwise reserved. [&nbsp;<i>Example:</i> member functions, classes, and
enumerations can be called <span class='texttt'>main</span>, as can entities in other
namespaces. <i>&nbsp;—&nbsp;end example</i>&nbsp;]</p></div><div class='para' id='start.main-4'><div class='marginalizedparent'><a class='marginalized' href='#start.main-4'>4</a></div><p ><span class='indexparent'><a class='index' id='exit'></a></span><span class='indexparent'><a class='index' id='exit'></a></span><span class='indexparent'><a class='index' id='termination,program'></a></span>Terminating the program
without leaving the current block (e.g., by calling the function
<span class='texttt'>std::exit(int)</span> (<a href='support.start.term'>[support.start.term]</a>)) does not destroy any
objects with automatic storage duration (<a href='class.dtor'>[class.dtor]</a>). If
<span class='texttt'>std::exit</span> is called to end a program during the destruction of
an object with static or thread storage duration, the program has undefined
behavior.</p></div><div class='para' id='start.main-5'><div class='marginalizedparent'><a class='marginalized' href='#start.main-5'>5</a></div><p ><span class='indexparent'><a class='index' id='termination,program'></a></span><span class='indexparent'><a class='index' id='main(),return_from'></a></span>A return statement in <span class='texttt'>main</span> has the effect of leaving the main
function (destroying any objects with automatic storage duration) and
calling <span class='texttt'>std::exit</span> with the return value as the argument. If
control reaches the end of <span class='texttt'>main</span> without encountering a
<span class='texttt'>return</span> statement, the effect is that of executing</p><pre class='codeblock'>
return 0;
</pre></div></div><div id='start.init'><h3 ><a class='secnum' href='#start.init' style='min-width:103pt'>3.6.2</a> Initialization of non-local variables <a class='abbr_ref' href='basic.start.init'>[basic.start.init]</a></h3><div class='para' id='start.init-1'><div class='marginalizedparent'><a class='marginalized' href='#start.init-1'>1</a></div><p ><span class='indexparent'><a class='index' id='initialization'></a></span><span class='indexparent'><a class='index' id='initialization,static_and_thread'></a></span>There are two broad classes of named non-local variables: those with static storage
duration (<a href='basic.stc.static'>[basic.stc.static]</a>) and those with thread storage
duration (<a href='basic.stc.thread'>[basic.stc.thread]</a>). Non-local variables with static storage duration
are initialized as a consequence of program initiation. Non-local variables with
thread storage duration are initialized as a consequence of thread execution.
Within each of these phases of initiation, initialization occurs as follows.</p></div><div class='para' id='start.init-2'><div class='marginalizedparent'><a class='marginalized' href='#start.init-2'>2</a></div><p ><span class='indexparent'><a class='index' id='initialization,static_object'></a></span><span class='indexparent'><a class='index' id='initialization,dynamic'></a></span><span class='indexparent'><a class='index' id='initialization,run-time'></a></span><span class='indexparent'><a class='index' id='start,program'></a></span><span class='indexparent'><a class='index' id='initialization,order_of'></a></span>Variables with static storage duration (<a href='basic.stc.static'>[basic.stc.static]</a>) or thread storage
duration (<a href='basic.stc.thread'>[basic.stc.thread]</a>) shall be zero-initialized (<a href='dcl.init'>[dcl.init]</a>) before
any other initialization takes place.</p><p ><span class='indexparent'><a class='index' id='initialization,constant'></a></span><a class='hidden_link' href='#def:Constant_initialization' id='def:Constant_initialization'><i>Constant initialization</i></a> is performed:</p><ul class='itemize'><li id='start.init-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#start.init-2.1'>(2.1)</a></div><p >if each full-expression (including implicit conversions) that appears in
the initializer of a reference with static or thread storage duration is a
constant expression (<a href='expr.const'>[expr.const]</a>) and the reference is bound to an lvalue
designating an object with static storage duration or to a temporary (see <a href='class.temporary'>[class.temporary]</a>);</p></li><li id='start.init-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#start.init-2.2'>(2.2)</a></div><p >if an object with static or thread storage duration is initialized
by a constructor call, if the constructor is a <span class='texttt'>constexpr</span> constructor, if all constructor
arguments are constant expressions (including conversions), and if, after function
invocation substitution (<a href='dcl.constexpr'>[dcl.constexpr]</a>), every constructor call and full-expression in
the <i ><a href='class.base.init#nt:mem-initializer'>mem-initializers</a></i>
and in the <i ><a href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializers</a></i> for non-static data members
is a constant expression;</p></li><li id='start.init-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#start.init-2.3'>(2.3)</a></div><p >if an object with static or thread storage duration is not initialized by a constructor call
and if every full-expression that appears in its initializer is a constant expression.</p></li></ul><p >Together, zero-initialization and constant initialization are called <a class='hidden_link' href='#def:static_initialization' id='def:static_initialization'><i>static
initialization</i></a>; all other initialization is <a class='hidden_link' href='#def:dynamic_initialization' id='def:dynamic_initialization'><i>dynamic initialization</i></a>. Static
initialization shall be performed before any dynamic initialization takes place. Dynamic
initialization of a non-local variable with static storage duration is either ordered or
unordered. Definitions of explicitly specialized class template static data members have
ordered initialization. Other class template static data members (i.e., implicitly or
explicitly instantiated specializations) have unordered initialization. Other non-local
variables with static storage duration have ordered initialization. Variables with ordered
initialization defined within a single translation unit shall be initialized in the order of
their definitions in the translation unit. If a program starts a thread (<a href='thread.threads'>[thread.threads]</a>),
the subsequent initialization of a variable is unsequenced with respect to the initialization
of a variable defined in a different translation unit. Otherwise, the initialization of a
variable is indeterminately sequenced with respect to the initialization of a variable defined
in a different translation unit. If a program starts a thread, the subsequent unordered
initialization of a variable is unsequenced with respect to every other dynamic initialization.
Otherwise, the unordered initialization of a variable is indeterminately sequenced with respect
to every other dynamic initialization. [&nbsp;<i>Note:</i> This definition permits initialization of a
sequence of ordered variables concurrently with another sequence. <i>&nbsp;—&nbsp;end note</i>&nbsp;] [&nbsp;<i>Note:</i> The
initialization of local static variables is described in <a href='stmt.dcl'>[stmt.dcl]</a>. <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='start.init-3'><div class='marginalizedparent'><a class='marginalized' href='#start.init-3'>3</a></div><p >An implementation is permitted to perform the initialization of a
non-local variable with static storage duration as a static
initialization even if such initialization is not required to be done
statically, provided that</p><ul class='itemize'><li id='start.init-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#start.init-3.1'>(3.1)</a></div><p >the dynamic version of the initialization does not change the
value of any other object of namespace scope prior to its initialization, and</p></li><li id='start.init-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#start.init-3.2'>(3.2)</a></div><p >the static version of the initialization produces the same value
in the initialized variable as would be produced by the dynamic
initialization if all variables not required to be initialized statically
were initialized dynamically.
</p></li></ul><p >[&nbsp;<i>Note:</i> As a consequence, if the initialization of an object <span class='texttt'>obj1</span> refers to an
object <span class='texttt'>obj2</span> of namespace scope potentially requiring dynamic initialization and defined
later in the same translation unit, it is unspecified whether the value of <span class='texttt'>obj2</span> used
will be the value of the fully initialized <span class='texttt'>obj2</span> (because <span class='texttt'>obj2</span> was statically
initialized) or will be the value of <span class='texttt'>obj2</span> merely zero-initialized. For example,</p><pre class='codeblock'>
inline double fd() { return 1.0; }
extern double d1;
double d2 = d1;     <span class='comment'>// unspecified:
</span>                    <span class='comment'>// may be statically initialized to <span class='texttt'>0.0</span> or
</span>                    <span class='comment'>// dynamically initialized to <span class='texttt'>0.0</span> if <span class='texttt'>d1</span> is
</span>                    <span class='comment'>// dynamically initialized, or <span class='texttt'>1.0</span> otherwise
</span>double d1 = fd();   <span class='comment'>// may be initialized statically or dynamically to <span class='texttt'>1.0</span>
</span></pre><p ><i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='start.init-4'><div class='marginalizedparent'><a class='marginalized' href='#start.init-4'>4</a></div><p ><span class='indexparent'><a class='index' id='evaluation,unspecified_order_of'></a></span>It is <span class='indexparent'><a class='index' id='dynamic_initialization_of_static_objects_before_main'></a></span>implementation-defined whether the
dynamic initialization of a non-local variable with static storage duration is
done before the first statement of <span class='texttt'>main</span>. If the initialization is deferred to
some point in time after the first statement of <span class='texttt'>main</span>, it shall occur before the
first odr-use (<a href='basic.def.odr'>[basic.def.odr]</a>) of any function or variable
defined in the same translation unit as the variable
to be initialized.<a class='footnotenum' href='#footnote-34'>34</a>
[&nbsp;<i>Example:</i> </p><pre class='codeblock'>
<span class='comment'>// - File 1 -
</span>#include "a.h"
#include "b.h"
B b;
A::A(){
  b.Use();
}

<span class='comment'>// - File 2 -
</span>#include "a.h"
A a;

<span class='comment'>// - File 3 -
</span>#include "a.h"
#include "b.h"
extern A a;
extern B b;

int main() {
  a.Use();
  b.Use();
}
</pre><p >It is implementation-defined whether either <span class='texttt'>a</span> or <span class='texttt'>b</span> is
initialized before <span class='texttt'>main</span> is entered or whether the
initializations are delayed until <span class='texttt'>a</span> is first odr-used in
<span class='texttt'>main</span>. In particular, if <span class='texttt'>a</span> is initialized before
<span class='texttt'>main</span> is entered, it is not guaranteed that <span class='texttt'>b</span> will be
initialized before it is odr-used by the initialization of <span class='texttt'>a</span>, that
is, before <span class='texttt'>A::A</span> is called. If, however, <span class='texttt'>a</span> is initialized
at some point after the first statement of <span class='texttt'>main</span>, <span class='texttt'>b</span> will
be initialized prior to its use in <span class='texttt'>A::A</span>. <i>&nbsp;—&nbsp;end example</i>&nbsp;]</p></div><div class='para' id='start.init-5'><div class='marginalizedparent'><a class='marginalized' href='#start.init-5'>5</a></div><p >It is <span class='indexparent'><a class='index' id='dynamic_initialization_of_thread-local_objects_before_entry'></a></span>implementation-defined whether the
dynamic initialization of a non-local variable with static or
thread storage duration
is done before the first statement of the initial function of the thread. If the
initialization is deferred to some point in time after the first statement of the
initial function of the thread, it shall occur before the first
odr-use (<a href='basic.def.odr'>[basic.def.odr]</a>) of any variable with
thread storage duration defined in the same translation unit as the variable to be
initialized.</p></div><div class='para' id='start.init-6'><div class='marginalizedparent'><a class='marginalized' href='#start.init-6'>6</a></div><p >If the initialization of a non-local variable with static or thread storage duration
exits via
an exception, <span class='texttt'>std::terminate</span> is called (<a href='except.terminate'>[except.terminate]</a>).<span class='indexparent'><a class='index' id='program,start'></a></span></p></div><div class='footnote' id='footnote-34'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-34'>34)</a></div><p >A non-local variable with static storage duration
having initialization
with side-effects must be initialized even if it is not
odr-used (<a href='basic.def.odr'>[basic.def.odr]</a>, <a href='basic.stc.static'>[basic.stc.static]</a>).</p></div></div><div id='start.term'><h3 ><a class='secnum' href='#start.term' style='min-width:103pt'>3.6.3</a> Termination <a class='abbr_ref' href='basic.start.term'>[basic.start.term]</a></h3><div class='para' id='start.term-1'><div class='marginalizedparent'><a class='marginalized' href='#start.term-1'>1</a></div><p ><span class='indexparent'><a class='index' id='program,termination'></a></span><span class='indexparent'><a class='index' id='object,destructor_static'></a></span><span class='indexparent'><a class='index' id='main(),return_from'></a></span>Destructors (<a href='class.dtor'>[class.dtor]</a>) for initialized objects
(that is, objects whose lifetime (<a href='basic.life'>[basic.life]</a>) has begun)
with static storage duration
are called as a result of returning from <span class='texttt'>main</span> and as a result of calling
<span class='indexparent'><a class='index' id='exit'></a></span><span class='indexparent'><a class='index' id='exit'></a></span><span class='texttt'>std::exit</span> (<a href='support.start.term'>[support.start.term]</a>).
Destructors for initialized objects with thread storage duration within a given thread
are called as a result of returning from the initial function of that thread and as a
result of that thread calling <span class='texttt'>std::exit</span>.
The completions of the destructors for all initialized objects with thread storage
duration within that thread are sequenced before the initiation of the destructors of
any object with static storage duration.
If the completion of the constructor or dynamic initialization of an object with thread
storage duration is sequenced before that of another, the completion of the destructor
of the second is sequenced before the initiation of the destructor of the first.
If the completion of the constructor or dynamic initialization of an object with static
storage duration is sequenced before that of another, the completion of the destructor
of the second is sequenced before the initiation of the destructor of the first.
[&nbsp;<i>Note:</i> This definition permits concurrent destruction. <i>&nbsp;—&nbsp;end note</i>&nbsp;] If an object is
initialized statically, the object is destroyed in the same order as if
the object was dynamically initialized. For an object of array or class
type, all subobjects of that object are destroyed before any block-scope
object with static storage duration initialized during the construction
of the subobjects is destroyed.
If the destruction of an object with static or thread storage duration
exits via an exception,
<span class='texttt'>std::terminate</span> is called (<a href='except.terminate'>[except.terminate]</a>).</p></div><div class='para' id='start.term-2'><div class='marginalizedparent'><a class='marginalized' href='#start.term-2'>2</a></div><p >If a function contains a block-scope object of static or thread storage duration that has been
destroyed and the function is called during the destruction of an object with static or
thread storage duration, the program has undefined behavior if the flow of control
passes through the definition of the previously destroyed block-scope object. Likewise, the
behavior is undefined if the block-scope object is used indirectly (i.e., through a
pointer) after its destruction.</p></div><div class='para' id='start.term-3'><div class='marginalizedparent'><a class='marginalized' href='#start.term-3'>3</a></div><p ><span class='indexparent'><a class='index' id='atexit'></a></span><span class='indexparent'><a class='index' id='atexit'></a></span>If the completion of the initialization of an object with static storage
duration is sequenced before a call to <span class='texttt'>std::atexit</span> (see
<span class='texttt'>&lt;cstdlib&gt;</span>, <a href='support.start.term'>[support.start.term]</a>), the call to the function passed to
<span class='texttt'>std::atexit</span> is sequenced before the call to the destructor for the object. If a
call to <span class='texttt'>std::atexit</span> is sequenced before the completion of the initialization of
an object with static storage duration, the call to the destructor for the
object is sequenced before the call to the function passed to <span class='texttt'>std::atexit</span>. If a
call to <span class='texttt'>std::atexit</span> is sequenced before another call to <span class='texttt'>std::atexit</span>, the
call to the function passed to the second <span class='texttt'>std::atexit</span> call is sequenced before
the call to the function passed to the first <span class='texttt'>std::atexit</span> call.</p></div><div class='para' id='start.term-4'><div class='marginalizedparent'><a class='marginalized' href='#start.term-4'>4</a></div><p >If there is a use of a standard library object or function not permitted within signal
handlers (<a href='support.runtime'>[support.runtime]</a>) that does not happen before (<a href='intro.multithread'>[intro.multithread]</a>)
completion of destruction of objects with static storage duration and execution of
<span class='texttt'>std::atexit</span> registered functions (<a href='support.start.term'>[support.start.term]</a>), the program has
undefined behavior. [&nbsp;<i>Note:</i> If there is a use of an object with static storage
duration that does not happen before the object's destruction, the program has undefined
behavior. Terminating every thread before a call to <span class='texttt'>std::exit</span> or the exit from
<span class='texttt'>main</span> is sufficient, but not necessary, to satisfy these requirements. These
requirements permit thread managers as static-storage-duration objects. <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='start.term-5'><div class='marginalizedparent'><a class='marginalized' href='#start.term-5'>5</a></div><p ><span class='indexparent'><a class='index' id='abort'></a></span><span class='indexparent'><a class='index' id='abort'></a></span><span class='indexparent'><a class='index' id='termination,program'></a></span>Calling the function <span class='texttt'>std::abort()</span> declared in
<span class='indexparent'><a class='index' id='cstdlib'></a></span><span class='texttt'>&lt;cstdlib&gt;</span> terminates the program without executing any destructors
and without calling
the functions passed to <span class='texttt'>std::atexit()</span> or <span class='texttt'>std::at_quick_exit()</span>.<span class='indexparent'><a class='index' id='program,termination'></a></span></p></div></div></div><div id='stc'><h2 ><a class='secnum' href='#stc' style='min-width:88pt'>3.7</a> Storage duration <a class='abbr_ref' href='basic.stc'>[basic.stc]</a></h2><div class='para' id='stc-1'><div class='marginalizedparent'><a class='marginalized' href='#stc-1'>1</a></div><p ><span class='indexparent'><a class='index' id='storage_duration'></a></span>Storage duration is the property of an object that defines the minimum
potential lifetime of the storage containing the object. The storage
duration is determined by the construct used to create the object and is
one of the following:</p><ul class='itemize'><li id='stc-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc-1.1'>(1.1)</a></div><p >static storage duration
</p></li><li id='stc-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc-1.2'>(1.2)</a></div><p >thread storage duration
</p></li><li id='stc-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc-1.3'>(1.3)</a></div><p >automatic storage duration
</p></li><li id='stc-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc-1.4'>(1.4)</a></div><p >dynamic storage duration
</p></li></ul></div><div class='para' id='stc-2'><div class='marginalizedparent'><a class='marginalized' href='#stc-2'>2</a></div><p ><span class='indexparent'><a class='index' id='storage_duration,static'></a></span><span class='indexparent'><a class='index' id='storage_duration,thread'></a></span><span class='indexparent'><a class='index' id='storage_duration,automatic'></a></span><span class='indexparent'><a class='index' id='storage_duration,dynamic'></a></span>Static, thread, and automatic storage durations are associated with objects
introduced by declarations (<a href='basic.def'>[basic.def]</a>) and implicitly created by
the implementation (<a href='class.temporary'>[class.temporary]</a>). The dynamic storage duration
is associated with objects created with <span class='texttt'>operator</span>
<span class='texttt'>new</span> (<a href='expr.new'>[expr.new]</a>).</p></div><div class='para' id='stc-3'><div class='marginalizedparent'><a class='marginalized' href='#stc-3'>3</a></div><p >The storage duration categories apply to references as well. The
lifetime of a reference is its storage duration.</p></div><div id='stc.static'><h3 ><a class='secnum' href='#stc.static' style='min-width:103pt'>3.7.1</a> Static storage duration <a class='abbr_ref' href='basic.stc.static'>[basic.stc.static]</a></h3><div class='para' id='stc.static-1'><div class='marginalizedparent'><a class='marginalized' href='#stc.static-1'>1</a></div><p ><span class='indexparent'><a class='index' id='storage_duration,static'></a></span>All variables which do not have dynamic storage duration, do not have thread
storage duration, and are not local
have <a class='hidden_link' href='#def:static_storage_duration' id='def:static_storage_duration'><i>static storage duration</i></a>. The
storage for these entities shall last for the duration of the
program (<a href='basic.start.init'>[basic.start.init]</a>, <a href='basic.start.term'>[basic.start.term]</a>).</p></div><div class='para' id='stc.static-2'><div class='marginalizedparent'><a class='marginalized' href='#stc.static-2'>2</a></div><p >If a variable with static storage duration has initialization or a
destructor with side effects, it shall not be eliminated even if it
appears to be unused, except that a class object or its copy/move may be
eliminated as specified in <a href='class.copy'>[class.copy]</a>.</p></div><div class='para' id='stc.static-3'><div class='marginalizedparent'><a class='marginalized' href='#stc.static-3'>3</a></div><p ><span class='indexparent'><a class='index' id='object,local_static'></a></span>The keyword <span class='texttt'>static</span> can be used to declare a local variable with
static storage duration. [&nbsp;<i>Note:</i> <a href='stmt.dcl'>[stmt.dcl]</a> describes the
initialization of local <span class='texttt'>static</span> variables; <a href='basic.start.term'>[basic.start.term]</a>
describes the destruction of local <span class='texttt'>static</span> variables. <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='stc.static-4'><div class='marginalizedparent'><a class='marginalized' href='#stc.static-4'>4</a></div><p ><span class='indexparent'><a class='index' id='member,class_static'></a></span>The keyword <span class='texttt'>static</span> applied to a class data member in a class
definition gives the data member static storage duration.</p></div></div><div id='stc.thread'><h3 ><a class='secnum' href='#stc.thread' style='min-width:103pt'>3.7.2</a> Thread storage duration <a class='abbr_ref' href='basic.stc.thread'>[basic.stc.thread]</a></h3><div class='para' id='stc.thread-1'><div class='marginalizedparent'><a class='marginalized' href='#stc.thread-1'>1</a></div><p ><span class='indexparent'><a class='index' id='storage_duration,thread'></a></span>All variables declared with the <span class='texttt'>thread_local</span> keyword have <a class='hidden_link' href='#def:thread_storage_duration' id='def:thread_storage_duration'><i>thread
storage duration</i></a>. The storage for these entities shall last for the duration of
the thread in which they are created. There is a distinct object or reference
per thread, and use of the declared name refers to the entity associated with
the current thread.</p></div><div class='para' id='stc.thread-2'><div class='marginalizedparent'><a class='marginalized' href='#stc.thread-2'>2</a></div><p >A variable with thread storage duration shall be initialized before
its first odr-use (<a href='basic.def.odr'>[basic.def.odr]</a>) and, if constructed, shall be destroyed on thread exit.</p></div></div><div id='stc.auto'><h3 ><a class='secnum' href='#stc.auto' style='min-width:103pt'>3.7.3</a> Automatic storage duration <a class='abbr_ref' href='basic.stc.auto'>[basic.stc.auto]</a></h3><div class='para' id='stc.auto-1'><div class='marginalizedparent'><a class='marginalized' href='#stc.auto-1'>1</a></div><p ><span class='indexparent'><a class='index' id='storage_duration,automatic'></a></span><span class='indexparent'><a class='index' id='storage_duration,register'></a></span><span class='indexparent'><a class='index' id='storage_duration,local_object'></a></span>Block-scope variables explicitly declared <span class='texttt'>register</span> or
not explicitly declared <span class='texttt'>static</span> or <span class='texttt'>extern</span> have
<a class='hidden_link' href='#def:automatic_storage_duration' id='def:automatic_storage_duration'><i>automatic storage duration</i></a>. The storage
for these entities lasts until the block in which they are created exits.</p></div><div class='para' id='stc.auto-2'><div class='marginalizedparent'><a class='marginalized' href='#stc.auto-2'>2</a></div><p >[&nbsp;<i>Note:</i> 
These variables are initialized and destroyed as described in <a href='stmt.dcl'>[stmt.dcl]</a>.
<i>&nbsp;—&nbsp;end note</i>&nbsp;] </p></div><div class='para' id='stc.auto-3'><div class='marginalizedparent'><a class='marginalized' href='#stc.auto-3'>3</a></div><p >If a variable with automatic storage duration has initialization or a destructor with side
effects, it shall not be destroyed before the end of its block, nor
shall it be eliminated as an optimization even if it appears to be
unused, except that a class object or its copy/move may be eliminated as
specified in <a href='class.copy'>[class.copy]</a>.</p></div></div><div id='stc.dynamic'><h3 ><a class='secnum' href='#stc.dynamic' style='min-width:103pt'>3.7.4</a> Dynamic storage duration <a class='abbr_ref' href='basic.stc.dynamic'>[basic.stc.dynamic]</a></h3><p ><span class='indexparent'><a class='index' id='storage_duration,dynamic'></a></span></p><div class='para' id='stc.dynamic-1'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic-1'>1</a></div><p >Objects can be created dynamically during program
execution (<a href='intro.execution'>[intro.execution]</a>), using
<span class='indexparent'><a class='index' id='new'></a></span><i ><a href='expr.new#nt:new-expression'>new-expressions</a></i> (<a href='expr.new'>[expr.new]</a>), and destroyed using
<span class='indexparent'><a class='index' id='delete'></a></span><i ><a href='expr.delete#nt:delete-expression'>delete-expressions</a></i> (<a href='expr.delete'>[expr.delete]</a>). A C++ implementation
provides access to, and management of, dynamic storage via the global
<a class='hidden_link' href='#def:allocation_functions' id='def:allocation_functions'><i>allocation functions</i></a> <span class='texttt'>operator new</span> and <span class='texttt'>operator
new[]</span> and the global <a class='hidden_link' href='#def:deallocation_functions' id='def:deallocation_functions'><i>deallocation functions</i></a> <span class='texttt'>operator
delete</span> and <span class='texttt'>operator delete[]</span>.</p></div><div class='para' id='stc.dynamic-2'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic-2'>2</a></div><p >The library provides default definitions for the global allocation and
deallocation functions. Some global allocation and deallocation
functions are replaceable (<a href='new.delete'>[new.delete]</a>). A C++ program shall
provide at most one definition of a replaceable allocation or
deallocation function. Any such function definition replaces the default
version provided in the library (<a href='replacement.functions'>[replacement.functions]</a>). The
following allocation and deallocation functions (<a href='support.dynamic'>[support.dynamic]</a>)
are implicitly declared in global scope in each translation unit of a
program.</p><pre class='codeblock'>
void* operator new(std::size_t);
void* operator new[](std::size_t);
void operator delete(void*);
void operator delete[](void*);
</pre><p >These implicit declarations introduce only the function names
<span class='texttt'>operator</span> <span class='texttt'>new</span>, <span class='texttt'>operator</span> <span class='texttt'>new[]</span>,
<span class='texttt'>operator</span> <span class='texttt'>delete</span>, and <span class='texttt'>operator</span>
<span class='texttt'>delete[]</span>. [&nbsp;<i>Note:</i> The implicit declarations do not introduce
the names <span class='texttt'>std</span>,
<span class='texttt'>std<span class='discretionary'></span>::<span class='discretionary'></span>size_t</span>, or any other names that the library uses to
declare these names. Thus, a <i ><a href='expr.new#nt:new-expression'>new-expression</a></i>,
<i ><a href='expr.delete#nt:delete-expression'>delete-expression</a></i> or function call that refers to one of
these functions without including the header <span class='texttt'>&lt;new&gt;</span> is
well-formed. However, referring to <span class='texttt'>std</span>
or <span class='texttt'>std::size_t</span> is ill-formed unless the name has been declared
by including the appropriate header. <i>&nbsp;—&nbsp;end note</i>&nbsp;] Allocation and/or
deallocation functions can also be declared and defined for any
class (<a href='class.free'>[class.free]</a>).</p></div><div class='para' id='stc.dynamic-3'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic-3'>3</a></div><p >Any allocation and/or deallocation functions defined in a C++ program,
including the default versions in the library, shall conform to the
semantics specified in <a href='basic.stc.dynamic.allocation'>[basic.stc.dynamic.allocation]</a>
and <a href='basic.stc.dynamic.deallocation'>[basic.stc.dynamic.deallocation]</a>.</p></div><div id='stc.dynamic.allocation'><h4 ><a class='secnum' href='#stc.dynamic.allocation' style='min-width:118pt'>3.7.4.1</a> Allocation functions <a class='abbr_ref' href='basic.stc.dynamic.allocation'>[basic.stc.dynamic.allocation]</a></h4><div class='para' id='stc.dynamic.allocation-1'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.allocation-1'>1</a></div><p ><span class='indexparent'><a class='index' id='function,allocation'></a></span>An allocation function shall be a class member function or a global
function; a program is ill-formed if an allocation function is declared
in a namespace scope other than global scope or declared static in
global scope. The return type shall be <span class='texttt'>void*</span>. The first
parameter shall have type <span class='texttt'>std::size_t</span> (<a href='support.types'>[support.types]</a>). The
first parameter shall not have an associated default
argument (<a href='dcl.fct.default'>[dcl.fct.default]</a>). The value of the first parameter shall
be interpreted as the requested size of the allocation. An allocation
function can be a function template. Such a template shall declare its
return type and first parameter as specified above (that is, template
parameter types shall not be used in the return type and first parameter
type). Template allocation functions shall have two or more parameters.</p></div><div class='para' id='stc.dynamic.allocation-2'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.allocation-2'>2</a></div><p >The allocation function attempts to allocate the requested amount of
storage. If it is successful, it shall return the address of the start
of a block of storage whose length in bytes shall be at least as large
as the requested size. There are no constraints on the contents of the
allocated storage on return from the allocation function. The order,
contiguity, and initial value of storage allocated by successive calls
to an allocation function are unspecified. The pointer returned shall be
suitably aligned so that it can be converted to a pointer of any
complete object type with a fundamental alignment requirement (<a href='basic.align'>[basic.align]</a>)
and then used to access the object or array in the
storage allocated (until the storage is explicitly deallocated by a call
to a corresponding deallocation function). Even if the size of the space
requested is zero, the request can fail. If the request succeeds, the
value returned shall be a non-null pointer value (<a href='conv.ptr'>[conv.ptr]</a>)
<span class='texttt'>p0</span> different from any previously returned value <span class='texttt'>p1</span>,
unless that value <span class='texttt'>p1</span> was subsequently passed to an
<span class='texttt'>operator</span> <span class='texttt'>delete</span>. The effect of dereferencing a pointer
returned as a request for zero size is undefined.<a class='footnotenum' href='#footnote-35'>35</a></p></div><div class='para' id='stc.dynamic.allocation-3'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.allocation-3'>3</a></div><p >An allocation function that fails to allocate storage can invoke the
currently installed new-handler function (<a href='new.handler'>[new.handler]</a>), if any.
[&nbsp;<i>Note:</i>
<span class='indexparent'><a class='index' id='new_handler'></a></span>A program-supplied allocation function can obtain the address of the
currently installed <span class='texttt'>new_handler</span> using the
<span class='texttt'>std::get_new_handler</span> function (<a href='set.new.handler'>[set.new.handler]</a>). <i>&nbsp;—&nbsp;end note</i>&nbsp;]
If an allocation function declared with a non-throwing
<i ><a href='except.spec#nt:exception-specification'>exception-specification</a></i> (<a href='except.spec'>[except.spec]</a>)
fails to allocate storage, it shall return a null pointer. Any other
allocation function that fails to allocate storage shall indicate
failure only by throwing an exception of a type that would match a
handler (<a href='except.handle'>[except.handle]</a>) of type
<span class='texttt'>std::bad_alloc</span> (<a href='bad.alloc'>[bad.alloc]</a>).</p></div><div class='para' id='stc.dynamic.allocation-4'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.allocation-4'>4</a></div><p >A global allocation function is only called as the result of a new
expression (<a href='expr.new'>[expr.new]</a>), or called directly using the function call
syntax (<a href='expr.call'>[expr.call]</a>), or called indirectly through calls to the
functions in the C++ standard library. [&nbsp;<i>Note:</i> In particular, a
global allocation function is not called to allocate storage for objects
with static storage duration (<a href='basic.stc.static'>[basic.stc.static]</a>), for objects or references
with thread storage duration (<a href='basic.stc.thread'>[basic.stc.thread]</a>), for objects of
type <span class='texttt'>std::type_info</span> (<a href='expr.typeid'>[expr.typeid]</a>), or for the copy of an
object thrown by a <span class='texttt'>throw</span> expression (<a href='except.throw'>[except.throw]</a>).
<i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='footnote' id='footnote-35'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-35'>35)</a></div><p >The intent is
to have <span class='texttt'>operator new()</span> implementable by
calling <span class='texttt'>std::malloc()</span> or <span class='texttt'>std::calloc()</span>, so the rules are
substantially the same. C++ differs from C in requiring a zero request
to return a non-null pointer.</p></div></div><div id='stc.dynamic.deallocation'><h4 ><a class='secnum' href='#stc.dynamic.deallocation' style='min-width:118pt'>3.7.4.2</a> Deallocation functions <a class='abbr_ref' href='basic.stc.dynamic.deallocation'>[basic.stc.dynamic.deallocation]</a></h4><div class='para' id='stc.dynamic.deallocation-1'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.deallocation-1'>1</a></div><p ><span class='indexparent'><a class='index' id='function,deallocation'></a></span>Deallocation functions shall be class member functions or global
functions; a program is ill-formed if deallocation functions are
declared in a namespace scope other than global scope or declared static
in global scope.</p></div><div class='para' id='stc.dynamic.deallocation-2'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.deallocation-2'>2</a></div><p ><span class='indexparent'><a class='index' id='delete,overloading_and'></a></span>Each deallocation function shall return <span class='texttt'>void</span> and its first
parameter shall be <span class='texttt'>void*</span>. A deallocation function can have more
than one parameter. If a class <span class='texttt'>T</span> has a member deallocation
function named <span class='texttt'>operator</span> <span class='texttt'>delete</span> with exactly one
parameter, then that function is a usual (non-placement) deallocation
function. If class <span class='texttt'>T</span> does not declare such an <span class='texttt'>operator</span>
<span class='texttt'>delete</span> but does declare a member deallocation function named
<span class='texttt'>operator</span> <span class='texttt'>delete</span> with exactly two parameters, the second
of which has type <span class='texttt'>std::size_t</span> (<a href='support.types'>[support.types]</a>), then this
function is a usual deallocation function. Similarly, if a class
<span class='texttt'>T</span> has a member deallocation function named <span class='texttt'>operator</span>
<span class='texttt'>delete[]</span> with exactly one parameter, then that function is a
usual (non-placement) deallocation function. If class <span class='texttt'>T</span> does not
declare such an <span class='texttt'>operator</span> <span class='texttt'>delete[]</span> but does declare a
member deallocation function named <span class='texttt'>operator</span> <span class='texttt'>delete[]</span>
with exactly two parameters, the second of which has type
<span class='texttt'>std::size_t</span>, then this function is a usual deallocation
function. A deallocation function can be an instance of a function
template. Neither the first parameter nor the return type shall depend
on a template parameter. [&nbsp;<i>Note:</i> That is, a deallocation function
template shall have a first parameter of type <span class='texttt'>void*</span> and a return
type of <span class='texttt'>void</span> (as specified above). <i>&nbsp;—&nbsp;end note</i>&nbsp;] A deallocation
function template shall have two or more function parameters. A template
instance is never a usual deallocation function, regardless of its
signature.</p></div><div class='para' id='stc.dynamic.deallocation-3'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.deallocation-3'>3</a></div><p >If a deallocation function terminates by throwing an exception, the behavior is undefined.
The value of the first argument supplied to a deallocation function may
be a null pointer value; if so, and if the deallocation function is one
supplied in the standard library, the call has no effect. Otherwise,
the behavior is undefined if
the
value supplied to <span class='texttt'>operator</span> <span class='texttt'>delete(void*)</span> in the standard
library is not one of the values returned by a previous invocation of
either <span class='texttt'>operator</span> <span class='texttt'>new(std::size_t)</span> or <span class='texttt'>operator</span>
<span class='texttt'>new(std::size_t,</span> <span class='texttt'>const</span> <span class='texttt'>std::nothrow_t&amp;)</span> in the
standard library, and
the behavior is undefined if
the value supplied to <span class='texttt'>operator</span>
<span class='texttt'>delete[](void*)</span> in the standard library is not one of the
values returned by a previous invocation of either <span class='texttt'>operator</span>
<span class='texttt'>new[](std::size_t)</span> or <span class='texttt'>operator</span>
<span class='texttt'>new[](std::size_t,</span> <span class='texttt'>const</span> <span class='texttt'>std::nothrow_t&amp;)</span> in
the standard library.</p></div><div class='para' id='stc.dynamic.deallocation-4'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.deallocation-4'>4</a></div><p >If the argument given to a deallocation function in the standard library
is a pointer that is not the null pointer value (<a href='conv.ptr'>[conv.ptr]</a>), the
deallocation function shall deallocate the storage referenced by the
pointer, rendering invalid all pointers referring to any part of the
<a class='hidden_link' href='#def:deallocated_storage' id='def:deallocated_storage'><i>deallocated storage</i></a>.
<span class='indexparent'><a class='index' id='object,undefined_deleted'></a></span>The effect of using an invalid pointer value (including
passing it to a deallocation function) is undefined.<a class='footnotenum' href='#footnote-36'>36</a></p></div><div class='footnote' id='footnote-36'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-36'>36)</a></div><p >On some
implementations, it causes a system-generated runtime
fault.</p></div></div><div id='stc.dynamic.safety'><h4 ><a class='secnum' href='#stc.dynamic.safety' style='min-width:118pt'>3.7.4.3</a> Safely-derived pointers <a class='abbr_ref' href='basic.stc.dynamic.safety'>[basic.stc.dynamic.safety]</a></h4><div class='para' id='stc.dynamic.safety-1'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.safety-1'>1</a></div><p ><span class='indexparent'><a class='index' id='pointer,safely-derived'></a></span><span class='indexparent'><a class='index' id='pointer,to_traceable_object'></a></span>A <a class='hidden_link' href='#def:traceable_pointer_object' id='def:traceable_pointer_object'><i>traceable pointer object</i></a> is</p><ul class='itemize'><li id='stc.dynamic.safety-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-1.1'>(1.1)</a></div><p >an object of an object pointer
type (<a href='basic.compound'>[basic.compound]</a>), or
</p></li><li id='stc.dynamic.safety-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-1.2'>(1.2)</a></div><p >an object of an integral type that is at least as large as <span class='texttt'>std::intptr_t</span>,
or
</p></li><li id='stc.dynamic.safety-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-1.3'>(1.3)</a></div><p >a sequence of elements in an array of character type, where the size and alignment
of the sequence match those of some
object pointer type.
</p></li></ul></div><div class='para' id='stc.dynamic.safety-2'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.safety-2'>2</a></div><p ><span class='indexparent'><a class='index' id='safely-derived_pointer'></a></span>A pointer value is a <span class='grammarterm'>safely-derived pointer</span> to a dynamic object only if it
has an object pointer type and it is one of the following:</p><ul class='itemize'><li id='stc.dynamic.safety-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-2.1'>(2.1)</a></div><p >the value returned by a call to the C++ standard library implementation of
<span class='texttt'>::operator new(std<span class='discretionary'></span>::<span class='discretionary'></span>size_t)</span>;<a class='footnotenum' href='#footnote-37'>37</a></p></li><li id='stc.dynamic.safety-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-2.2'>(2.2)</a></div><p >the result of taking the address of an
object (or one of its subobjects) designated by an lvalue resulting from dereferencing
a safely-derived pointer value;</p></li><li id='stc.dynamic.safety-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-2.3'>(2.3)</a></div><p >the result of well-defined pointer arithmetic (<a href='expr.add'>[expr.add]</a>) using a safely-derived pointer
value;</p></li><li id='stc.dynamic.safety-2.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-2.4'>(2.4)</a></div><p >the result of a well-defined pointer
conversion (<a href='conv.ptr'>[conv.ptr]</a>, <a href='expr.cast'>[expr.cast]</a>) of a safely-derived pointer value;</p></li><li id='stc.dynamic.safety-2.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-2.5'>(2.5)</a></div><p >the result of a <span class='texttt'>reinterpret_cast</span> of a safely-derived pointer value;</p></li><li id='stc.dynamic.safety-2.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-2.6'>(2.6)</a></div><p >the result of a <span class='texttt'>reinterpret_cast</span> of an integer representation of a
safely-derived pointer value;</p></li><li id='stc.dynamic.safety-2.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-2.7'>(2.7)</a></div><p >the value of an object whose value was copied from a traceable pointer object,
where at the time of the copy the source object contained a copy of a safely-derived
pointer value.
</p></li></ul></div><div class='para' id='stc.dynamic.safety-3'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.safety-3'>3</a></div><p ><span class='indexparent'><a class='index' id='integer_representation'></a></span><span class='indexparent'><a class='index' id='safely-derived_pointer,integer_representation'></a></span><span class='indexparent'><a class='index' id='pointer,_integer_representation_of_safely-derived'></a></span>An integer value is an <span class='grammarterm'>integer representation of a safely-derived pointer</span>
only if its type is at least as large as <span class='texttt'>std::intptr_t</span> and it is one of the
following:</p><ul class='itemize'><li id='stc.dynamic.safety-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-3.1'>(3.1)</a></div><p >the result of a <span class='texttt'>reinterpret_cast</span> of a safely-derived pointer value;</p></li><li id='stc.dynamic.safety-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-3.2'>(3.2)</a></div><p >the result of a valid conversion of an integer representation of a safely-derived
pointer value;</p></li><li id='stc.dynamic.safety-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-3.3'>(3.3)</a></div><p >the value of an object whose value was copied from a traceable pointer object,
where at the time of the copy the source object contained an integer representation of a
safely-derived pointer value;</p></li><li id='stc.dynamic.safety-3.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#stc.dynamic.safety-3.4'>(3.4)</a></div><p >the result of an additive or bitwise operation, one of whose operands is an
integer representation of a safely-derived pointer value <span class='texttt'>P</span>, if that result
converted by <span class='texttt'>reinterpret_cast&lt;void*&gt;</span> would compare equal to a safely-derived
pointer computable from <span class='texttt'>reinterpret_cast&lt;void*&gt;(P)</span>.
</p></li></ul></div><div class='para' id='stc.dynamic.safety-4'><div class='marginalizedparent'><a class='marginalized' href='#stc.dynamic.safety-4'>4</a></div><p >An implementation may have <a class='hidden_link' href='#def:relaxed_pointer_safety' id='def:relaxed_pointer_safety'><i>relaxed pointer safety</i></a>, in which case the
validity of a pointer value does not depend on whether it is a safely-derived
pointer value. Alternatively, an implementation may have <a class='hidden_link' href='#def:strict_pointer_safety' id='def:strict_pointer_safety'><i>strict pointer
safety</i></a>, in which case a pointer value that is not a safely-derived pointer
value is an invalid pointer value unless
the referenced complete object is of
dynamic storage duration and has previously been declared
reachable (<a href='util.dynamic.safety'>[util.dynamic.safety]</a>). [&nbsp;<i>Note:</i>
the effect of using an invalid pointer value (including passing it to a
deallocation function) is undefined, see <a href='basic.stc.dynamic.deallocation'>[basic.stc.dynamic.deallocation]</a>.
This is true even if the unsafely-derived pointer value might compare equal to
some safely-derived pointer value. <i>&nbsp;—&nbsp;end note</i>&nbsp;] It is implementation
defined<span class='indexparent'><a class='index' id='whether_an_implementation_has_relaxed_or_strict_pointer_safety'></a></span> whether an implementation has relaxed or strict pointer safety.<span class='indexparent'><a class='index' id='pointer,safely-derived'></a></span><span class='indexparent'><a class='index' id='storage_duration,dynamic'></a></span></p></div><div class='footnote' id='footnote-37'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-37'>37)</a></div><p >This section does not impose restrictions
on dereferencing pointers to memory not allocated by <span class='texttt'>::operator new</span>. This
maintains the ability of many C++ implementations to use binary libraries and
components written in other languages. In particular, this applies to C binaries,
because dereferencing pointers to memory allocated by <span class='texttt'>malloc</span> is not restricted.</p></div></div></div><div id='stc.inherit'><h3 ><a class='secnum' href='#stc.inherit' style='min-width:103pt'>3.7.5</a> Duration of subobjects <a class='abbr_ref' href='basic.stc.inherit'>[basic.stc.inherit]</a></h3><div class='para' id='stc.inherit-1'><div class='marginalizedparent'><a class='marginalized' href='#stc.inherit-1'>1</a></div><p ><span class='indexparent'><a class='index' id='storage_duration,class_member'></a></span>The storage duration of member subobjects, base class subobjects and
array elements is that of their complete object (<a href='intro.object'>[intro.object]</a>).
<span class='indexparent'><a class='index' id='storage_duration'></a></span>
</p></div></div></div><div id='life'><h2 ><a class='secnum' href='#life' style='min-width:88pt'>3.8</a> Object lifetime <a class='abbr_ref' href='basic.life'>[basic.life]</a></h2><div class='para' id='life-1'><div class='marginalizedparent'><a class='marginalized' href='#life-1'>1</a></div><p ><span class='indexparent'><a class='index' id='object_lifetime'></a></span>The <a class='hidden_link' href='#def:lifetime' id='def:lifetime'><i>lifetime</i></a> of an object is a runtime property of the
object.
An object is said to have non-trivial initialization if it is of a class or
aggregate type and it or one of its members is initialized by a constructor
other than a trivial default constructor. [&nbsp;<i>Note:</i> initialization by a
trivial copy/move constructor is non-trivial initialization. <i>&nbsp;—&nbsp;end note</i>&nbsp;]
The lifetime of an object of type <span class='texttt'>T</span> begins when:</p><ul class='itemize'><li id='life-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-1.1'>(1.1)</a></div><p >storage with the proper alignment and size for type <span class='texttt'>T</span> is
obtained, and</p></li><li id='life-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-1.2'>(1.2)</a></div><p >if the object has non-trivial initialization, its initialization is complete.
</p></li></ul><p >The lifetime of an object of type <span class='texttt'>T</span> ends when:</p><ul class='itemize'><li id='life-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-1.1'>(1.1)</a></div><p >if <span class='texttt'>T</span> is a class type with a non-trivial
destructor (<a href='class.dtor'>[class.dtor]</a>), the destructor call starts, or</p></li><li id='life-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-1.2'>(1.2)</a></div><p >the storage which the object occupies is reused or released.
</p></li></ul></div><div class='para' id='life-2'><div class='marginalizedparent'><a class='marginalized' href='#life-2'>2</a></div><p >[&nbsp;<i>Note:</i> The lifetime of an array object starts as soon as storage with proper size and
alignment is obtained, and its lifetime ends when the storage which the
array occupies is reused or released. <a href='class.base.init'>[class.base.init]</a>
describes the lifetime of base and member subobjects. <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='life-3'><div class='marginalizedparent'><a class='marginalized' href='#life-3'>3</a></div><p >The properties ascribed to objects throughout this International
Standard apply for a given object only during its lifetime. [&nbsp;<i>Note:</i>
In particular, before the lifetime of an object starts and after its
lifetime ends there are significant restrictions on the use of the
object, as described below, in <a href='class.base.init'>[class.base.init]</a> and
in <a href='class.cdtor'>[class.cdtor]</a>. Also, the behavior of an object under construction
and destruction might not be the same as the behavior of an object whose
lifetime has started and not ended. <a href='class.base.init'>[class.base.init]</a>
and <a href='class.cdtor'>[class.cdtor]</a> describe the behavior of objects during the
construction and destruction phases. <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='life-4'><div class='marginalizedparent'><a class='marginalized' href='#life-4'>4</a></div><p >A program may end the lifetime of any object by reusing the storage
which the object occupies or by explicitly calling the destructor for an
object of a class type with a non-trivial destructor. For an object of a
class type with a non-trivial destructor, the program is not required to
call the destructor explicitly before the storage which the object
occupies is reused or released; however, if there is no explicit call to
the destructor or if a <i ><a href='expr.delete#nt:delete-expression'>delete-expression</a></i> (<a href='expr.delete'>[expr.delete]</a>)
is not used to release the storage, the destructor shall not be
implicitly called and any program that depends on the side effects
produced by the destructor has undefined behavior.</p></div><div class='para' id='life-5'><div class='marginalizedparent'><a class='marginalized' href='#life-5'>5</a></div><p >Before the lifetime of an object has started but after the storage which
the object will occupy has been allocated<a class='footnotenum' href='#footnote-38'>38</a>
or, after the lifetime of an object has ended and before the storage
which the object occupied is reused or released, any pointer that refers
to the storage location where the object will be or was located may be
used but only in limited ways.
For an object under construction or destruction, see <a href='class.cdtor'>[class.cdtor]</a>.
Otherwise, such
a pointer refers to allocated
storage (<a href='basic.stc.dynamic.deallocation'>[basic.stc.dynamic.deallocation]</a>), and using the pointer as
if the pointer were of type <span class='texttt'>void*</span>, is well-defined. Such a
pointer may be dereferenced but the resulting lvalue may only be used in
limited ways, as described below. The
program has undefined behavior if:</p><ul class='itemize'><li id='life-5.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-5.1'>(5.1)</a></div><p >the object will be or was of a class type with a non-trivial destructor
and the pointer is used as the operand of a <i ><a href='expr.delete#nt:delete-expression'>delete-expression</a></i>,</p></li><li id='life-5.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-5.2'>(5.2)</a></div><p >the pointer is used to access a non-static data member or call a
non-static member function of the object, or</p></li><li id='life-5.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-5.3'>(5.3)</a></div><p >the pointer is implicitly converted (<a href='conv.ptr'>[conv.ptr]</a>) to a pointer
to a base class type, or</p></li><li id='life-5.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-5.4'>(5.4)</a></div><p >the pointer is used as the operand of a
<span class='texttt'>static_cast</span> (<a href='expr.static.cast'>[expr.static.cast]</a>) (except when the conversion
is to <span class='texttt'>void*</span>, or to <span class='texttt'>void*</span> and subsequently to
<span class='texttt'>char*</span>, or <span class='texttt'>unsigned</span> <span class='texttt'>char*</span>), or</p></li><li id='life-5.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-5.5'>(5.5)</a></div><p >the pointer is used as the operand of a
<span class='texttt'>dynamic_cast</span> (<a href='expr.dynamic.cast'>[expr.dynamic.cast]</a>). [&nbsp;<i>Example:</i></p><pre class='codeblock'>
#include &lt;cstdlib&gt;

struct B {
  virtual void f();
  void mutate();
  virtual ~B();
};

struct D1 : B { void f(); };
struct D2 : B { void f(); };

void B::mutate() {
  new (this) D2;    <span class='comment'>// reuses storage — ends the lifetime of <span class='texttt'>*this</span>
</span>  f();              <span class='comment'>// undefined behavior
</span>  ... = this;       <span class='comment'>// OK, <span class='texttt'>this</span> points to valid memory
</span>}

void g() {
  void* p = std::malloc(sizeof(D1) + sizeof(D2));
  B* pb = new (p) D1;
  pb-&gt;mutate();
  &amp;pb;              <span class='comment'>// OK: <span class='texttt'>pb</span> points to valid memory
</span>  void* q = pb;     <span class='comment'>// OK: <span class='texttt'>pb</span> points to valid memory
</span>  pb-&gt;f();          <span class='comment'>// undefined behavior, lifetime of <span class='texttt'>*pb</span> has ended
</span>}
</pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;]
</p></li></ul></div><div class='para' id='life-6'><div class='marginalizedparent'><a class='marginalized' href='#life-6'>6</a></div><p >Similarly, before the lifetime of an object has started but after the
storage which the object will occupy has been allocated or, after the
lifetime of an object has ended and before the storage which the object
occupied is reused or released, any glvalue that refers to the original
object may be used but only in limited ways.
For an object under construction or destruction, see <a href='class.cdtor'>[class.cdtor]</a>.
Otherwise, such
a glvalue refers to
allocated storage (<a href='basic.stc.dynamic.deallocation'>[basic.stc.dynamic.deallocation]</a>), and using the
properties of the glvalue that do not depend on its value is
well-defined. The program has undefined behavior if:</p><ul class='itemize'><li id='life-6.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-6.1'>(6.1)</a></div><p >an lvalue-to-rvalue conversion (<a href='conv.lval'>[conv.lval]</a>) is applied to such a glvalue,</p></li><li id='life-6.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-6.2'>(6.2)</a></div><p >the glvalue is used to access a non-static data member or call a
non-static member function of the object, or</p></li><li id='life-6.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-6.3'>(6.3)</a></div><p >the glvalue is implicitly converted (<a href='conv.ptr'>[conv.ptr]</a>) to a reference
to a base class type, or</p></li><li id='life-6.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-6.4'>(6.4)</a></div><p >the glvalue is used as the operand of a
<span class='texttt'>static_cast</span> (<a href='expr.static.cast'>[expr.static.cast]</a>) except when the conversion
is ultimately to <a class='hidden_link' href='#def:cv' id='def:cv'><i>cv</i></a> <span class='texttt'>char&amp;</span> or <a class='hidden_link' href='#def:cv' id='def:cv'><i>cv</i></a>
<span class='texttt'>unsigned</span> <span class='texttt'>char&amp;</span>, or</p></li><li id='life-6.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-6.5'>(6.5)</a></div><p >the glvalue is used as the operand of a
<span class='texttt'>dynamic_cast</span> (<a href='expr.dynamic.cast'>[expr.dynamic.cast]</a>) or as the operand of
<span class='texttt'>typeid</span>.
</p></li></ul></div><div class='para' id='life-7'><div class='marginalizedparent'><a class='marginalized' href='#life-7'>7</a></div><p >If, after the lifetime of an object has ended and before the storage
which the object occupied is reused or released, a new object is created
at the storage location which the original object occupied, a pointer
that pointed to the original object, a reference that referred to the
original object, or the name of the original object will automatically
refer to the new object and, once the lifetime of the new object has
started, can be used to manipulate the new object, if:</p><ul class='itemize'><li id='life-7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-7.1'>(7.1)</a></div><p >the storage for the new object exactly overlays the storage
location which the original object occupied, and</p></li><li id='life-7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-7.2'>(7.2)</a></div><p >the new object is of the same type as the original object
(ignoring the top-level cv-qualifiers), and</p></li><li id='life-7.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-7.3'>(7.3)</a></div><p >the type of the original object is not const-qualified, and, if a
class type, does not contain any non-static data member whose type is
const-qualified or a reference type, and</p></li><li id='life-7.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#life-7.4'>(7.4)</a></div><p >the original object was a most derived object (<a href='intro.object'>[intro.object]</a>)
of type <span class='texttt'>T</span> and the new object is a most derived object of type
<span class='texttt'>T</span> (that is, they are not base class subobjects). [&nbsp;<i>Example:</i></p><pre class='codeblock'>
struct C {
  int i;
  void f();
  const C&amp; operator=( const C&amp; );
};

const C&amp; C::operator=( const C&amp; other) {
  if ( this != &amp;other ) {
    this-&gt;~C();                 <span class='comment'>// lifetime of <span class='texttt'>*this</span> ends
</span>    new (this) C(other);        <span class='comment'>// new object of type <span class='texttt'>C</span> created
</span>    f();                        <span class='comment'>// well-defined
</span>  }
  return *this;
}

C c1;
C c2;
c1 = c2;                        <span class='comment'>// well-defined
</span>c1.f();                         <span class='comment'>// well-defined; <span class='texttt'>c1</span> refers to a new object of type <span class='texttt'>C</span>
</span></pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;]
</p></li></ul></div><div class='para' id='life-8'><div class='marginalizedparent'><a class='marginalized' href='#life-8'>8</a></div><p >If a program ends the lifetime of an object of type <span class='texttt'>T</span> with
static (<a href='basic.stc.static'>[basic.stc.static]</a>), thread (<a href='basic.stc.thread'>[basic.stc.thread]</a>),
or automatic (<a href='basic.stc.auto'>[basic.stc.auto]</a>)
storage duration and if <span class='texttt'>T</span> has a non-trivial destructor,<a class='footnotenum' href='#footnote-39'>39</a>
the program must ensure that an object of the original type occupies
that same storage location when the implicit destructor call takes
place; otherwise the behavior of the program is undefined. This is true
even if the block is exited with an exception. [&nbsp;<i>Example:</i></p><pre class='codeblock'>
class T { };
struct B {
   ~B();
};

void h() {
   B b;
   new (&amp;b) T;
}                               <span class='comment'>// undefined behavior at block exit
</span></pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;] </p></div><div class='para' id='life-9'><div class='marginalizedparent'><a class='marginalized' href='#life-9'>9</a></div><p >Creating a new object at the storage location that a <span class='texttt'>const</span>
object with static, thread, or automatic storage duration occupies or, at the
storage location that such a <span class='texttt'>const</span> object used to occupy before
its lifetime ended results in undefined behavior. [&nbsp;<i>Example:</i></p><pre class='codeblock'>
struct B {
  B();
  ~B();
};

const B b;

void h() {
  b.~B();
  new (const_cast&lt;B*&gt;(&amp;b)) const B;             <span class='comment'>// undefined behavior
</span>}
</pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;] </p></div><div class='para' id='life-10'><div class='marginalizedparent'><a class='marginalized' href='#life-10'>10</a></div><p >In this section, “before” and “after” refer to the “happens before”
relation (<a href='intro.multithread'>[intro.multithread]</a>). [&nbsp;<i>Note:</i> Therefore, undefined behavior results
if an object that is being constructed in one thread is referenced from another
thread without adequate synchronization. <i>&nbsp;—&nbsp;end note</i>&nbsp;]<span class='indexparent'><a class='index' id='object_lifetime'></a></span></p></div><div class='footnote' id='footnote-38'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-38'>38)</a></div><p >For example, before the
construction of a global object of
non-POD class type (<a href='class.cdtor'>[class.cdtor]</a>).</p></div><div class='footnote' id='footnote-39'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-39'>39)</a></div><p >That
is, an object for which a destructor will be called
implicitly—upon exit from the block for an object with
automatic storage duration, upon exit from the thread for an object with
thread storage duration, or upon exit from the program for an object
with static storage duration.</p></div></div><div id='types'><h2 ><a class='secnum' href='#types' style='min-width:88pt'>3.9</a> Types <a class='abbr_ref' href='basic.types'>[basic.types]</a></h2><p ><span class='indexparent'><a class='index' id='type'></a></span></p><div class='para' id='types-1'><div class='marginalizedparent'><a class='marginalized' href='#types-1'>1</a></div><p >[&nbsp;<i>Note:</i>
<a href='basic.types'>[basic.types]</a> and the subclauses thereof
impose requirements on implementations regarding the representation
of types.
There are two kinds of types: fundamental types and compound types.
Types describe objects (<a href='intro.object'>[intro.object]</a>),
references (<a href='dcl.ref'>[dcl.ref]</a>),
or functions (<a href='dcl.fct'>[dcl.fct]</a>).
<i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='types-2'><div class='marginalizedparent'><a class='marginalized' href='#types-2'>2</a></div><p ><span class='indexparent'><a class='index' id='object,byte_copying_and'></a></span><span class='indexparent'><a class='index' id='type,trivially_copyable'></a></span>For any object (other than a base-class subobject) of trivially copyable type
<span class='texttt'>T</span>, whether or not the object holds a valid value of type
<span class='texttt'>T</span>, the underlying bytes (<a href='intro.memory'>[intro.memory]</a>) making up the
object can be copied into an array of <span class='texttt'>char</span> or <span class='texttt'>unsigned</span>
<span class='texttt'>char</span>.<a class='footnotenum' href='#footnote-40'>40</a>
If the content of the array of <span class='texttt'>char</span> or <span class='texttt'>unsigned</span>
<span class='texttt'>char</span> is copied back into the object, the object shall
subsequently hold its original value. [&nbsp;<i>Example:</i></p><pre class='codeblock'>
#define N sizeof(T)
char buf[N];
T obj;                          <span class='comment'>// <span class='texttt'>obj</span> initialized to its original value
</span>std::memcpy(buf, &amp;obj, N);      <span class='comment'>// between these two calls to <span class='texttt'>std::memcpy</span>,
</span>                                <span class='comment'>// <span class='texttt'>obj</span> might be modified
</span>std::memcpy(&amp;obj, buf, N);      <span class='comment'>// at this point, each subobject of <span class='texttt'>obj</span> of scalar type
</span>                                <span class='comment'>// holds its original value
</span></pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;] </p></div><div class='para' id='types-3'><div class='marginalizedparent'><a class='marginalized' href='#types-3'>3</a></div><p >For any trivially copyable type <span class='texttt'>T</span>, if two pointers to <span class='texttt'>T</span> point to
distinct <span class='texttt'>T</span> objects <span class='texttt'>obj1</span> and <span class='texttt'>obj2</span>, where neither
<span class='texttt'>obj1</span> nor <span class='texttt'>obj2</span> is a base-class subobject, if the underlying
bytes (<a href='intro.memory'>[intro.memory]</a>) making up
<span class='texttt'>obj1</span> are copied into <span class='texttt'>obj2</span>,<a class='footnotenum' href='#footnote-41'>41</a>
 <span class='texttt'>obj2</span> shall subsequently hold the same value as
<span class='texttt'>obj1</span>. [&nbsp;<i>Example:</i></p><pre class='codeblock'>
T* t1p;
T* t2p;
    <span class='comment'>// provided that <span class='texttt'>t2p</span> points to an initialized object ...
</span>std::memcpy(t1p, t2p, sizeof(T));
    <span class='comment'>// at this point, every subobject of trivially copyable type in <span class='texttt'>*t1p</span> contains
</span>    <span class='comment'>// the same value as the corresponding subobject in <span class='texttt'>*t2p</span>
</span></pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;]<span class='indexparent'><a class='index' id='object,byte_copying_and'></a></span></p></div><div class='para' id='types-4'><div class='marginalizedparent'><a class='marginalized' href='#types-4'>4</a></div><p >The <a class='hidden_link' href='#def:object_representation' id='def:object_representation'><i>object representation</i></a>
<span class='indexparent'><a class='index' id='representation,object'></a></span>of an object of type <span class='texttt'>T</span> is the
sequence of <a class='hidden_link' href='#def:N' id='def:N'><i>N</i></a> <span class='texttt'>unsigned</span> <span class='texttt'>char</span> objects taken up
by the object of type <span class='texttt'>T</span>, where <a class='hidden_link' href='#def:N' id='def:N'><i>N</i></a> equals
<span class='texttt'>sizeof(T)</span>. The
<span class='indexparent'><a class='index' id='representation,value'></a></span><a class='hidden_link' href='#def:value_representation' id='def:value_representation'><i>value representation</i></a>
of an object is the set of bits that hold
the value of type <span class='texttt'>T</span>. For trivially copyable types, the value representation is
a set of bits in the object representation that determines a
<a class='hidden_link' href='#def:value' id='def:value'><i>value</i></a>, which is one discrete element of an
<span class='indexparent'><a class='index' id='values_of_a_trivially_copyable_type'></a></span>implementation-defined set of values.<a class='footnotenum' href='#footnote-42'>42</a></p></div><div class='para' id='types-5'><div class='marginalizedparent'><a class='marginalized' href='#types-5'>5</a></div><p ><span class='indexparent'><a class='index' id='type,incomplete'></a></span>A class that has been declared but not defined, or an array of unknown
size or of incomplete element type, is an incompletely-defined object
type.<a class='footnotenum' href='#footnote-43'>43</a>
Incompletely-defined object types and the void types are incomplete
types (<a href='basic.fundamental'>[basic.fundamental]</a>). Objects shall not be defined to have an
incomplete type.</p></div><div class='para' id='types-6'><div class='marginalizedparent'><a class='marginalized' href='#types-6'>6</a></div><p >A class type (such as “<span class='texttt'>class X</span>”) might be incomplete at one
point in a translation unit and complete later on; the type
“<span class='texttt'>class X</span>” is the same type at both points. The declared type
of an array object might be an array of incomplete class type and
therefore incomplete; if the class type is completed later on in the
translation unit, the array type becomes complete; the array type at
those two points is the same type. The declared type of an array object
might be an array of unknown size and therefore be incomplete at one
point in a translation unit and complete later on; the array types at
those two points (“array of unknown bound of <span class='texttt'>T</span>” and “array of
N <span class='texttt'>T</span>”) are different types. The type of a pointer to array of
unknown size, or of a type defined by a <span class='texttt'>typedef</span> declaration to
be an array of unknown size, cannot be completed. [&nbsp;<i>Example:</i></p><p ><span class='indexparent'><a class='index' id='type,example_of_incomplete'></a></span></p><pre class='codeblock'>
class X;                        <span class='comment'>// <span class='texttt'>X</span> is an incomplete type
</span>extern X* xp;                   <span class='comment'>// <span class='texttt'>xp</span> is a pointer to an incomplete type
</span>extern int arr[];               <span class='comment'>// the type of arr is incomplete
</span>typedef int UNKA[];             <span class='comment'>// <span class='texttt'>UNKA</span> is an incomplete type
</span>UNKA* arrp;                     <span class='comment'>// <span class='texttt'>arrp</span> is a pointer to an incomplete type
</span>UNKA** arrpp;

void foo() {
  xp++;                         <span class='comment'>// ill-formed: <span class='texttt'>X</span> is incomplete
</span>  arrp++;                       <span class='comment'>// ill-formed: incomplete type
</span>  arrpp++;                      <span class='comment'>// OK: sizeof <span class='texttt'>UNKA*</span> is known
</span>}

struct X { int i; };            <span class='comment'>// now <span class='texttt'>X</span> is a complete type
</span>int  arr[10];                   <span class='comment'>// now the type of <span class='texttt'>arr</span> is complete
</span>
X x;
void bar() {
  xp = &amp;x;                      <span class='comment'>// OK; type is “pointer to <span class='texttt'>X</span>”
</span>  arrp = &amp;arr;                  <span class='comment'>// ill-formed: different types
</span>  xp++;                         <span class='comment'>// OK:  <span class='texttt'>X</span> is complete
</span>  arrp++;                       <span class='comment'>// ill-formed: <span class='texttt'>UNKA</span> can't be completed
</span>}
</pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;] </p></div><div class='para' id='types-7'><div class='marginalizedparent'><a class='marginalized' href='#types-7'>7</a></div><p >[&nbsp;<i>Note:</i> The rules for declarations and expressions describe in which
contexts incomplete types are prohibited. <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='types-8'><div class='marginalizedparent'><a class='marginalized' href='#types-8'>8</a></div><p ><span class='indexparent'><a class='index' id='object_type'></a></span>An <a class='hidden_link' href='#def:object_type' id='def:object_type'><i>object type</i></a> is a (possibly cv-qualified) type that is not
a function type, not a reference type, and not a void type.</p></div><div class='para' id='types-9'><div class='marginalizedparent'><a class='marginalized' href='#types-9'>9</a></div><p >Arithmetic types (<a href='basic.fundamental'>[basic.fundamental]</a>), enumeration types, pointer
types, pointer to member types (<a href='basic.compound'>[basic.compound]</a>),
<span class='texttt'>std::nullptr_t</span>,
and
cv-qualified versions of these
types (<a href='basic.type.qualifier'>[basic.type.qualifier]</a>) are collectively called
<span class='indexparent'><a class='index' id='scalar_type'></a></span><a class='hidden_link' href='#def:scalar_types' id='def:scalar_types'><i>scalar types</i></a>. Scalar types,
POD classes (Clause <a href='class'>[class]</a>), arrays of such types and
<span class='grammarterm'>cv-qualified</span> versions of these
types (<a href='basic.type.qualifier'>[basic.type.qualifier]</a>) are collectively called
<span class='indexparent'><a class='index' id='type,POD'></a></span><a class='hidden_link' href='#def:POD_types' id='def:POD_types'><i>POD types</i></a>.
Scalar types, trivially copyable class types (Clause <a href='class'>[class]</a>), arrays of
such types, and cv-qualified versions of these
types (<a href='basic.type.qualifier'>[basic.type.qualifier]</a>) are collectively called <a class='hidden_link' href='#def:trivially_copyable_types' id='def:trivially_copyable_types'><i>trivially
copyable types</i></a>.
Scalar types, trivial class types (Clause <a href='class'>[class]</a>),
arrays of such types and cv-qualified versions of these
types (<a href='basic.type.qualifier'>[basic.type.qualifier]</a>) are collectively called
<a class='hidden_link' href='#def:trivial_types' id='def:trivial_types'><i>trivial types</i></a>. Scalar types, standard-layout class
types (Clause <a href='class'>[class]</a>), arrays of such types and
cv-qualified versions of these types (<a href='basic.type.qualifier'>[basic.type.qualifier]</a>)
are collectively called <a class='hidden_link' href='#def:standard-layout_types' id='def:standard-layout_types'><i>standard-layout types</i></a>.</p></div><div class='para' id='types-10'><div class='marginalizedparent'><a class='marginalized' href='#types-10'>10</a></div><p >A type is a <a class='hidden_link' href='#def:literal_type' id='def:literal_type'><i>literal type</i></a> if it is:</p><ul class='itemize'><li id='types-10.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#types-10.1'>(10.1)</a></div><p >a scalar type; or
</p></li><li id='types-10.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#types-10.2'>(10.2)</a></div><p >a reference type referring to a literal type; or
</p></li><li id='types-10.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#types-10.3'>(10.3)</a></div><p >an array of literal type; or
</p></li><li id='types-10.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#types-10.4'>(10.4)</a></div><p >a class type (Clause <a href='class'>[class]</a>) that
has all of the following properties:
</p><ul class='itemize'><li id='types-10.4.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#types-10.4.1'>(10.4.1)</a></div><p >it has a trivial destructor,
</p></li><li id='types-10.4.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#types-10.4.2'>(10.4.2)</a></div><p >every constructor call and full-expression in the
<i ><a href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializers</a></i> for non-static data members
(if any) is a constant expression (<a href='expr.const'>[expr.const]</a>),
</p></li><li id='types-10.4.3'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#types-10.4.3'>(10.4.3)</a></div><p >it is an aggregate type (<a href='dcl.init.aggr'>[dcl.init.aggr]</a>) or has
at least one <span class='texttt'>constexpr</span> constructor or constructor template that is not a copy or move constructor, and
</p></li><li id='types-10.4.4'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#types-10.4.4'>(10.4.4)</a></div><p >all of its non-static data members and base classes are
of literal types.
</p></li></ul></li></ul></div><div class='para' id='types-11'><div class='marginalizedparent'><a class='marginalized' href='#types-11'>11</a></div><p ><span class='indexparent'><a class='index' id='layout-compatible_type'></a></span>If two types <span class='texttt'>T1</span> and <span class='texttt'>T2</span> are the same type, then
<span class='texttt'>T1</span> and <span class='texttt'>T2</span> are <span class='grammarterm'>layout-compatible</span> types.
[&nbsp;<i>Note:</i> Layout-compatible enumerations are described
in <a href='dcl.enum'>[dcl.enum]</a>. Layout-compatible standard-layout
structs and standard-layout unions are
described in <a href='class.mem'>[class.mem]</a>. <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='footnote' id='footnote-40'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-40'>40)</a></div><p >By using, for example, the library
functions (<a href='headers'>[headers]</a>) <span class='texttt'>std::memcpy</span> or <span class='texttt'>std::memmove</span>.</p></div><div class='footnote' id='footnote-41'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-41'>41)</a></div><p >By using, for example,
the library functions (<a href='headers'>[headers]</a>) <span class='texttt'>std::memcpy</span> or <span class='texttt'>std::memmove</span>.</p></div><div class='footnote' id='footnote-42'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-42'>42)</a></div><p >The
intent is that the memory model of C++ is compatible
with that of ISO/IEC 9899 Programming Language C.</p></div><div class='footnote' id='footnote-43'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-43'>43)</a></div><p >The size and layout of an instance of an incompletely-defined
object type is unknown.</p></div><div id='fundamental'><h3 ><a class='secnum' href='#fundamental' style='min-width:103pt'>3.9.1</a> Fundamental types <a class='abbr_ref' href='basic.fundamental'>[basic.fundamental]</a></h3><div class='para' id='fundamental-1'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-1'>1</a></div><p ><span class='indexparent'><a class='index' id='type,fundamental'></a></span><span class='indexparent'><a class='index' id='type,integral'></a></span><span class='indexparent'><a class='index' id='type,floating_point'></a></span><span class='indexparent'><a class='index' id='type,implementation-defined_'></a></span><span class='indexparent'><a class='index' id='type,Boolean'></a></span><span class='indexparent'><a class='index' id='type,char'></a></span><span class='indexparent'><a class='index' id='type,character'></a></span>Objects declared as characters (<span class='texttt'>char</span>) shall be large enough to
store any member of the implementation's basic character set. If a
character from this set is stored in a character object, the integral
value of that character object is equal to the value of the single
character literal form of that character. It is <span class='indexparent'><a class='index' id='signedness_of_char'></a></span>implementation-defined
whether a <span class='texttt'>char</span> object can hold negative values.
<span class='indexparent'><a class='index' id='char,implementation-defined_sign_of'></a></span><span class='indexparent'><a class='index' id='type,signed_char'></a></span><span class='indexparent'><a class='index' id='type,unsigned_char'></a></span>Characters can be explicitly declared <span class='texttt'>unsigned</span> or
<span class='texttt'>signed</span>.
<span class='indexparent'><a class='index' id='character,signed'></a></span>Plain <span class='texttt'>char</span>, <span class='texttt'>signed char</span>, and <span class='texttt'>unsigned char</span> are
three distinct types. A <span class='texttt'>char</span>, a <span class='texttt'>signed char</span>, and an
<span class='texttt'>unsigned char</span> occupy the same amount of storage and have the
same alignment requirements (<a href='basic.align'>[basic.align]</a>); that is, they have the
same object representation. For character types, all bits of the object
representation participate in the value representation. For unsigned
character types, all possible bit patterns of the value representation
represent numbers. These requirements do not hold for other types. In
any particular implementation, a plain <span class='texttt'>char</span> object can take on
either the same values as a <span class='texttt'>signed char</span> or an <span class='texttt'>unsigned
char</span>; which one is <span class='indexparent'><a class='index' id='representation_of_char'></a></span>implementation-defined.</p></div><div class='para' id='fundamental-2'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-2'>2</a></div><p ><span class='indexparent'><a class='index' id='type,standard_signed_integer'></a></span><span class='indexparent'><a class='index' id='standard_signed_integer_type'></a></span>There are five <a class='hidden_link' href='#def:standard_signed_integer_types' id='def:standard_signed_integer_types'><i>standard signed integer types</i></a> :
<span class='indexparent'><a class='index' id='type,signed_char'></a></span><span class='indexparent'><a class='index' id='type,short'></a></span><span class='indexparent'><a class='index' id='type,int'></a></span><span class='indexparent'><a class='index' id='type,long'></a></span><span class='indexparent'><a class='index' id='type,long_long'></a></span>“<span class='texttt'>signed char</span>”, “<span class='texttt'>short int</span>”, “<span class='texttt'>int</span>”,
“<span class='texttt'>long int</span>”, and “<span class='texttt'>long</span> <span class='texttt'>long</span> <span class='texttt'>int</span>”. In
this list, each type provides at least as much storage as those
preceding it in the list.
<span class='indexparent'><a class='index' id='type,extended_signed_integer'></a></span><span class='indexparent'><a class='index' id='extended_signed_integer_type'></a></span><span class='indexparent'><a class='index' id='type,signed_integer'></a></span><span class='indexparent'><a class='index' id='signed_integer_type'></a></span>There may also be <span class='indexparent'><a class='index' id='extended_signed_integer_types'></a></span>implementation-defined <a class='hidden_link' href='#def:extended_signed
integer_types' id='def:extended_signed
integer_types'><i>extended signed
integer types</i></a>. The standard and
extended signed integer types are collectively called <a class='hidden_link' href='#def:signed_integer_types' id='def:signed_integer_types'><i>signed integer types</i></a>.
<span class='indexparent'><a class='index' id='integral_type,implementation-defined_'></a></span>Plain
<span class='texttt'>int</span>s have the natural size suggested by the architecture of the
execution environment<a class='footnotenum' href='#footnote-44'>44</a>;
the other signed integer types are provided to meet special needs.</p></div><div class='para' id='fundamental-3'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-3'>3</a></div><p ><span class='indexparent'><a class='index' id='type,unsigned'></a></span>For each of the standard signed integer types,
there exists a corresponding (but different)
<span class='indexparent'><a class='index' id='type,standard_unsigned_integer'></a></span><span class='indexparent'><a class='index' id='standard_unsigned_integer_type'></a></span><a class='hidden_link' href='#def:standard_unsigned_integer_type' id='def:standard_unsigned_integer_type'><i>standard unsigned integer type</i></a>:
<span class='indexparent'><a class='index' id='type,unsigned_char'></a></span><span class='indexparent'><a class='index' id='type,unsigned_short'></a></span><span class='indexparent'><a class='index' id='type,unsigned_int'></a></span><span class='indexparent'><a class='index' id='type,unsigned_long'></a></span><span class='indexparent'><a class='index' id='type,unsigned_long_long'></a></span>“<span class='texttt'>unsigned char</span>”, “<span class='texttt'>unsigned short int</span>”,
“<span class='texttt'>unsigned int</span>”, “<span class='texttt'>unsigned long int</span>”, and
“<span class='texttt'>unsigned</span> <span class='texttt'>long</span> <span class='texttt'>long</span> <span class='texttt'>int</span>”, each of
which occupies the same amount of storage and has the same alignment
requirements (<a href='basic.align'>[basic.align]</a>) as the corresponding signed integer
type<a class='footnotenum' href='#footnote-45'>45</a>;
that is, each signed integer type has the same object representation as
its corresponding unsigned integer type.
<span class='indexparent'><a class='index' id='type,extended_unsigned_integer'></a></span><span class='indexparent'><a class='index' id='extended_unsigned_integer_type'></a></span><span class='indexparent'><a class='index' id='type,unsigned_integer'></a></span><span class='indexparent'><a class='index' id='unsigned_integer_type'></a></span>Likewise, for each of the extended signed integer types there exists a
corresponding <a class='hidden_link' href='#def:extended_unsigned_integer_type' id='def:extended_unsigned_integer_type'><i>extended unsigned integer type</i></a> with the same amount of storage and alignment
requirements. The standard and extended unsigned integer types are
collectively called <a class='hidden_link' href='#def:unsigned_integer_types' id='def:unsigned_integer_types'><i>unsigned integer types</i></a>. The range of non-negative
values of a <a class='hidden_link' href='#def:signed_integer' id='def:signed_integer'><i>signed integer</i></a> type is a subrange of the corresponding
<a class='hidden_link' href='#def:unsigned_integer' id='def:unsigned_integer'><i>unsigned integer</i></a> type, and the value
representation of each corresponding signed/unsigned type shall be the
same.
<span class='indexparent'><a class='index' id='type,standard_integer'></a></span><span class='indexparent'><a class='index' id='standard_integer_type'></a></span><span class='indexparent'><a class='index' id='type,extended_integer'></a></span><span class='indexparent'><a class='index' id='extended_integer_type'></a></span>The standard signed integer types and standard unsigned integer types
are collectively called the <a class='hidden_link' href='#def:standard_integer_types' id='def:standard_integer_types'><i>standard integer types</i></a>, and the extended
signed integer types and extended
unsigned integer types are collectively called the <a class='hidden_link' href='#def:extended_integer_types' id='def:extended_integer_types'><i>extended integer types</i></a>.</p></div><div class='para' id='fundamental-4'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-4'>4</a></div><p ><span class='indexparent'><a class='index' id='arithmetic,unsigned'></a></span>Unsigned integers, declared <span class='texttt'>unsigned</span>, shall obey the laws of
arithmetic modulo <span class='math'>2<sup ><span class='mathalpha'>n</span></sup></span> where <span class='math'><span class='mathalpha'>n</span></span> is the number of bits in the value
representation of that particular size of integer.<a class='footnotenum' href='#footnote-46'>46</a></p></div><div class='para' id='fundamental-5'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-5'>5</a></div><p ><span class='indexparent'><a class='index' id='type,char16_t'></a></span><span class='indexparent'><a class='index' id='type,char32_t'></a></span><span class='indexparent'><a class='index' id='wchar_t,implementation-defined'></a></span><span class='indexparent'><a class='index' id='type,wchar_t'></a></span><span class='indexparent'><a class='index' id='type,underlying_wchar_t'></a></span>Type <span class='texttt'>wchar_t</span> is a distinct type whose values can represent
distinct codes for all members of the largest extended character set
specified among the supported locales (<a href='locale'>[locale]</a>). Type
<span class='texttt'>wchar_t</span> shall have the same size, signedness, and alignment
requirements (<a href='basic.align'>[basic.align]</a>) as one of the other integral types,
called its <a class='hidden_link' href='#def:underlying_type' id='def:underlying_type'><i>underlying type</i></a>. Types <span class='texttt'>char16_t</span> and
<span class='texttt'>char32_t</span> denote distinct types with the same size, signedness,
and alignment as <span class='texttt'>uint_least16_t</span> and <span class='texttt'>uint_least32_t</span>,
respectively, in <span class='texttt'>&lt;stdint.h&gt;</span>, called the underlying types.</p></div><div class='para' id='fundamental-6'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-6'>6</a></div><p ><span class='indexparent'><a class='index' id='Boolean_type'></a></span>Values of type <span class='texttt'>bool</span> are either <span class='texttt'>true</span> or
<span class='texttt'>false</span>.<a class='footnotenum' href='#footnote-47'>47</a>
[&nbsp;<i>Note:</i> There are no <span class='texttt'>signed</span>, <span class='texttt'>unsigned</span>, <span class='texttt'>short</span>,
or <span class='texttt'>long bool</span> types or values. <i>&nbsp;—&nbsp;end note</i>&nbsp;] Values of type
<span class='texttt'>bool</span> participate in integral promotions (<a href='conv.prom'>[conv.prom]</a>).</p></div><div class='para' id='fundamental-7'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-7'>7</a></div><p >Types <span class='texttt'>bool</span>, <span class='texttt'>char</span>, <span class='texttt'>char16_t</span>, <span class='texttt'>char32_t</span>,
<span class='texttt'>wchar_t</span>, and the signed and unsigned integer types are
collectively called
<span class='indexparent'><a class='index' id='integral_type'></a></span><a class='hidden_link' href='#def:integral' id='def:integral'><i>integral</i></a> types.<a class='footnotenum' href='#footnote-48'>48</a>
A synonym for integral type is
<span class='indexparent'><a class='index' id='integer_type'></a></span><a class='hidden_link' href='#def:integer_type' id='def:integer_type'><i>integer type</i></a>. The representations of integral types shall
define values by use of  a pure binary numeration system.<a class='footnotenum' href='#footnote-49'>49</a>
[&nbsp;<i>Example:</i> this International Standard permits 2's complement, 1's
complement and signed magnitude representations for integral types.
<i>&nbsp;—&nbsp;end example</i>&nbsp;]</p></div><div class='para' id='fundamental-8'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-8'>8</a></div><p ><span class='indexparent'><a class='index' id='floating_point_type'></a></span>There are three <a class='hidden_link' href='#def:floating_point' id='def:floating_point'><i>floating point</i></a> types:
<span class='indexparent'><a class='index' id='type,float'></a></span><span class='texttt'>float</span>,
<span class='indexparent'><a class='index' id='type,double'></a></span><span class='texttt'>double</span>,
and
<span class='indexparent'><a class='index' id='type,long_double'></a></span><span class='texttt'>long double</span>. The type <span class='texttt'>double</span> provides at least as much
precision as <span class='texttt'>float</span>, and the type <span class='texttt'>long double</span> provides at
least as much precision as <span class='texttt'>double</span>. The set of values of the type
<span class='texttt'>float</span> is a subset of the set of values of the type
<span class='texttt'>double</span>; the set of values of the type <span class='texttt'>double</span> is a subset
of the set of values of the type <span class='texttt'>long</span> <span class='texttt'>double</span>. The value
representation of floating-point types is <span class='indexparent'><a class='index' id='value_representation_of_floating-point_types'></a></span>implementation-defined.
<span class='indexparent'><a class='index' id='floating_point_type,implementation-defined'></a></span><span class='indexparent'><a class='index' id='type,arithmetic'></a></span><a class='hidden_link' href='#def:Integral' id='def:Integral'><i>Integral</i></a> and <a class='hidden_link' href='#def:floating' id='def:floating'><i>floating</i></a> types are collectively
called <a class='hidden_link' href='#def:arithmetic' id='def:arithmetic'><i>arithmetic</i></a> types.
<span class='indexparent'><a class='index' id='numeric_limits'></a></span>Specializations of the standard template
<span class='texttt'>std::numeric_limits</span> (<a href='support.limits'>[support.limits]</a>) shall specify the
maximum and minimum values of each arithmetic type for an
implementation.</p></div><div class='para' id='fundamental-9'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-9'>9</a></div><p ><span class='indexparent'><a class='index' id='type,void'></a></span>The <span class='texttt'>void</span> type has an empty set of values. The <span class='texttt'>void</span> type
is an incomplete type that cannot be completed. It is used as the return
type for functions that do not return a value. Any expression can be
explicitly converted to type <a class='hidden_link' href='#def:cv' id='def:cv'><i>cv</i></a>
<span class='texttt'>void</span> (<a href='expr.cast'>[expr.cast]</a>). An expression of type <span class='texttt'>void</span> shall
be used only as an expression statement (<a href='stmt.expr'>[stmt.expr]</a>), as an operand
of a comma expression (<a href='expr.comma'>[expr.comma]</a>), as a second or third operand
of <span class='texttt'>?:</span> (<a href='expr.cond'>[expr.cond]</a>), as the operand of
<span class='texttt'>typeid</span> or <span class='texttt'>decltype</span>, as
the expression in a return statement (<a href='stmt.return'>[stmt.return]</a>) for a function
with the return type <span class='texttt'>void</span>, or as the operand of an explicit conversion
to type <i>cv</i> <span class='texttt'>void</span>.</p></div><div class='para' id='fundamental-10'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-10'>10</a></div><p >A value of type <span class='texttt'>std::nullptr_t</span> is a null pointer
constant (<a href='conv.ptr'>[conv.ptr]</a>). Such values participate in the pointer and the
pointer to member conversions (<a href='conv.ptr'>[conv.ptr]</a>, <a href='conv.mem'>[conv.mem]</a>).
<span class='texttt'>sizeof(std::nullptr_t)</span> shall be equal to <span class='texttt'>sizeof(void*)</span>.</p></div><div class='para' id='fundamental-11'><div class='marginalizedparent'><a class='marginalized' href='#fundamental-11'>11</a></div><p >[&nbsp;<i>Note:</i> 
Even if the implementation defines two or more basic types to have the
same value representation, they are nevertheless different types.
<i>&nbsp;—&nbsp;end note</i>&nbsp;] </p></div><div class='footnote' id='footnote-44'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-44'>44)</a></div><p >that is, large enough to contain any value in the range of
<span class='texttt'>INT_MIN</span> and <span class='texttt'>INT_MAX</span>, as defined in the header
<span class='texttt'>&lt;climits&gt;</span>.</p></div><div class='footnote' id='footnote-45'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-45'>45)</a></div><p >See <a href='dcl.type.simple'>[dcl.type.simple]</a> regarding the correspondence between types and
the sequences of <i ><a href='dcl.type#nt:type-specifier'>type-specifiers</a></i> that designate them.</p></div><div class='footnote' id='footnote-46'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-46'>46)</a></div><p >This implies that
unsigned arithmetic does not overflow because a result
that cannot be represented by the resulting unsigned integer type is
reduced modulo the number that is one greater than the largest value
that can be represented by the resulting unsigned integer type.</p></div><div class='footnote' id='footnote-47'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-47'>47)</a></div><p >Using a <span class='texttt'>bool</span> value in ways described by this International
Standard as “undefined,” such as by examining the value of an
uninitialized automatic object, might cause it to behave as if it is
neither <span class='texttt'>true</span> nor <span class='texttt'>false</span>.</p></div><div class='footnote' id='footnote-48'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-48'>48)</a></div><p >Therefore, enumerations (<a href='dcl.enum'>[dcl.enum]</a>) are not integral; however,
enumerations can be promoted to integral types as specified
in <a href='conv.prom'>[conv.prom]</a>.</p></div><div class='footnote' id='footnote-49'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-49'>49)</a></div><p >A positional
representation for integers that uses the binary digits 0
and 1, in which the values represented by successive bits are additive,
begin with 1, and are multiplied by successive integral power of 2,
except perhaps for the bit with the highest position. (Adapted from the
<i>American National Dictionary for Information Processing Systems</i>.)</p></div></div><div id='compound'><h3 ><a class='secnum' href='#compound' style='min-width:103pt'>3.9.2</a> Compound types <a class='abbr_ref' href='basic.compound'>[basic.compound]</a></h3><div class='para' id='compound-1'><div class='marginalizedparent'><a class='marginalized' href='#compound-1'>1</a></div><p ><span class='indexparent'><a class='index' id='type,compound'></a></span>Compound types can be constructed in the following ways:</p><ul class='itemize'><li id='compound-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#compound-1.1'>(1.1)</a></div><p ><span class='indexparent'><a class='index' id='type,array'></a></span><a class='hidden_link' href='#def:arrays' id='def:arrays'><i>arrays</i></a> of objects of a given type, <a href='dcl.array'>[dcl.array]</a>;</p></li><li id='compound-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#compound-1.2'>(1.2)</a></div><p ><span class='indexparent'><a class='index' id='type,function'></a></span><a class='hidden_link' href='#def:functions' id='def:functions'><i>functions</i></a>, which have parameters of given types and return
<span class='texttt'>void</span> or references or objects of a given type, <a href='dcl.fct'>[dcl.fct]</a>;</p></li><li id='compound-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#compound-1.3'>(1.3)</a></div><p ><span class='indexparent'><a class='index' id='type,pointer'></a></span><a class='hidden_link' href='#def:pointers' id='def:pointers'><i>pointers</i></a> to <span class='texttt'>void</span> or objects or functions (including
static members of classes) of a given type, <a href='dcl.ptr'>[dcl.ptr]</a>;</p></li><li id='compound-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#compound-1.4'>(1.4)</a></div><p ><span class='indexparent'><a class='index' id='reference'></a></span><span class='indexparent'><a class='index' id='reference,lvalue'></a></span><span class='indexparent'><a class='index' id='reference,rvalue'></a></span><span class='indexparent'><a class='index' id='lvalue_reference'></a></span><span class='indexparent'><a class='index' id='rvalue_reference'></a></span><a class='hidden_link' href='#def:references' id='def:references'><i>references</i></a> to objects or functions of a given
type, <a href='dcl.ref'>[dcl.ref]</a>. There are two types of references:
</p><ul class='itemize'><li id='compound-1.4.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#compound-1.4.1'>(1.4.1)</a></div><p ><a class='hidden_link' href='#def:lvalue_reference' id='def:lvalue_reference'><i>lvalue reference</i></a>
</p></li><li id='compound-1.4.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#compound-1.4.2'>(1.4.2)</a></div><p ><a class='hidden_link' href='#def:rvalue_reference' id='def:rvalue_reference'><i>rvalue reference</i></a>
</p></li></ul></li><li id='compound-1.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#compound-1.5'>(1.5)</a></div><p ><span class='indexparent'><a class='index' id='class'></a></span><a class='hidden_link' href='#def:classes' id='def:classes'><i>classes</i></a> containing a sequence of objects of various types
(Clause <a href='class'>[class]</a>), a set of types, enumerations and functions for
manipulating these objects (<a href='class.mfct'>[class.mfct]</a>), and a set of restrictions
on the access to these entities (Clause <a href='class.access'>[class.access]</a>);</p></li><li id='compound-1.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#compound-1.6'>(1.6)</a></div><p ><span class='indexparent'><a class='index' id='union'></a></span><a class='hidden_link' href='#def:unions' id='def:unions'><i>unions</i></a>, which are classes capable of containing objects of
different types at different times, <a href='class.union'>[class.union]</a>;</p></li><li id='compound-1.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#compound-1.7'>(1.7)</a></div><p ><span class='indexparent'><a class='index' id='enum'></a></span><a class='hidden_link' href='#def:enumerations' id='def:enumerations'><i>enumerations</i></a>, which comprise a set of named constant values.
Each distinct enumeration constitutes a different
<span class='indexparent'><a class='index' id='type,enumerated'></a></span><a class='hidden_link' href='#def:enumerated_type' id='def:enumerated_type'><i>enumerated type</i></a>, <a href='dcl.enum'>[dcl.enum]</a>;</p></li><li id='compound-1.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#compound-1.8'>(1.8)</a></div><p ><span class='indexparent'><a class='index' id='member_pointer_to'></a></span><span class='indexparent'><a class='index' id='pointer_to_member'></a></span><a class='hidden_link' href='#def:pointers_to_non-static' id='def:pointers_to_non-static'><i>pointers to non-static</i></a>
<a class='footnotenum' href='#footnote-50'>50</a>
<a class='hidden_link' href='#def:class_members' id='def:class_members'><i>class members</i></a>, which identify members of a given
type within objects of a given class, <a href='dcl.mptr'>[dcl.mptr]</a>.
</p></li></ul></div><div class='para' id='compound-2'><div class='marginalizedparent'><a class='marginalized' href='#compound-2'>2</a></div><p >These methods of constructing types can be applied recursively;
restrictions are mentioned in <a href='dcl.ptr'>[dcl.ptr]</a>, <a href='dcl.array'>[dcl.array]</a>,
<a href='dcl.fct'>[dcl.fct]</a>, and <a href='dcl.ref'>[dcl.ref]</a>.</p></div><div class='para' id='compound-3'><div class='marginalizedparent'><a class='marginalized' href='#compound-3'>3</a></div><p ><span class='indexparent'><a class='index' id='terminology,pointer'></a></span>The type of a pointer to <span class='texttt'>void</span> or a pointer to an object type is
called an <a class='hidden_link' href='#def:object_pointer_type' id='def:object_pointer_type'><i>object pointer type</i></a>. [&nbsp;<i>Note:</i> A pointer to <span class='texttt'>void</span>
does not have a pointer-to-object type, however, because <span class='texttt'>void</span> is not
an object type. <i>&nbsp;—&nbsp;end note</i>&nbsp;] The type of a pointer that can designate a function
is called a <a class='hidden_link' href='#def:function_pointer_type' id='def:function_pointer_type'><i>function pointer type</i></a>.
A pointer to objects of type <span class='texttt'>T</span> is referred to as a “pointer to
<span class='texttt'>T</span>.” [&nbsp;<i>Example:</i> a pointer to an object of type <span class='texttt'>int</span> is
referred to as “pointer to <span class='texttt'>int</span> ” and a pointer to an object of
class <span class='texttt'>X</span> is called a “pointer to <span class='texttt'>X</span>.” <i>&nbsp;—&nbsp;end example</i>&nbsp;]
Except for pointers to static members, text referring to “pointers”
does not apply to pointers to members. Pointers to incomplete types are
allowed although there are restrictions on what can be done with
them (<a href='basic.align'>[basic.align]</a>).
<span class='indexparent'><a class='index' id='address'></a></span>A valid value of an object
pointer type represents either the address of a byte in
memory (<a href='intro.memory'>[intro.memory]</a>) or a null pointer (<a href='conv.ptr'>[conv.ptr]</a>). If an
object of type <span class='texttt'>T</span> is located at an address <span class='texttt'>A</span>, a pointer
of type <a class='hidden_link' href='#def:cv' id='def:cv'><i>cv</i></a> <span class='texttt'>T*</span> whose value is the address <span class='texttt'>A</span> is
said to <a class='hidden_link' href='#def:point_to' id='def:point_to'><i>point to</i></a> that object, regardless of how the value was
obtained. [&nbsp;<i>Note:</i> For instance, the address one past the end of an
array (<a href='expr.add'>[expr.add]</a>) would be considered to point to an unrelated
object of the array's element type that might be located at that
address. There are further restrictions on pointers to objects with dynamic storage
duration; see <a href='basic.stc.dynamic.safety'>[basic.stc.dynamic.safety]</a>. <i>&nbsp;—&nbsp;end note</i>&nbsp;] The value representation of
pointer types is <span class='indexparent'><a class='index' id='value_representation_of_pointer_types'></a></span>implementation-defined. Pointers to
cv-qualified and cv-unqualified
versions (<a href='basic.type.qualifier'>[basic.type.qualifier]</a>) of layout-compatible types shall
have the same value representation and alignment
requirements (<a href='basic.align'>[basic.align]</a>).
[&nbsp;<i>Note:</i> Pointers to over-aligned types (<a href='basic.align'>[basic.align]</a>) have no special
representation, but their range of valid values is restricted by the extended
alignment requirement. This International Standard specifies only two ways
of obtaining such a pointer: taking the address of a valid object with
an over-aligned type, and using one of the runtime pointer alignment functions.
An implementation may provide other means of obtaining a valid pointer value
for an over-aligned type.<i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='compound-4'><div class='marginalizedparent'><a class='marginalized' href='#compound-4'>4</a></div><p ><span class='indexparent'><a class='index' id='pointer'></a></span><span class='indexparent'><a class='index' id='void*,type'></a></span>A pointer to <i>cv</i>-qualified (<a href='basic.type.qualifier'>[basic.type.qualifier]</a>) or <i>cv</i>-unqualified
<span class='texttt'>void</span>
can be used to point to objects of
unknown type. Such a pointer shall be able to hold any object pointer.
An object of type <i>cv</i>
<span class='texttt'>void*</span> shall have the same representation and alignment
requirements as <i>cv</i> <span class='texttt'>char*</span>.</p></div><div class='footnote' id='footnote-50'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-50'>50)</a></div><p >Static class members are objects or functions, and pointers to them are
ordinary pointers to objects or functions.</p></div></div><div id='type.qualifier'><h3 ><a class='secnum' href='#type.qualifier' style='min-width:103pt'>3.9.3</a> CV-qualifiers <a class='abbr_ref' href='basic.type.qualifier'>[basic.type.qualifier]</a></h3><div class='para' id='type.qualifier-1'><div class='marginalizedparent'><a class='marginalized' href='#type.qualifier-1'>1</a></div><p ><span class='indexparent'><a class='index' id='cv-qualifier'></a></span><span class='indexparent'><a class='index' id='const'></a></span><span class='indexparent'><a class='index' id='volatile'></a></span>A type mentioned in <a href='basic.fundamental'>[basic.fundamental]</a> and <a href='basic.compound'>[basic.compound]</a> is
a <a class='hidden_link' href='#def:cv-unqualified_type' id='def:cv-unqualified_type'><i>cv-unqualified type</i></a>. Each type which is a
cv-unqualified complete or incomplete object type or is
<span class='texttt'>void</span> (<a href='basic.types'>[basic.types]</a>) has three corresponding cv-qualified
versions of its type: a <span class='grammarterm'>const-qualified</span> version, a
<a class='hidden_link' href='#def:volatile-qualified' id='def:volatile-qualified'><i>volatile-qualified</i></a> version, and a
<a class='hidden_link' href='#def:const-volatile-qualified' id='def:const-volatile-qualified'><i>const-volatile-qualified</i></a> version. The term
<a class='hidden_link' href='#def:object_type' id='def:object_type'><i>object type</i></a> (<a href='intro.object'>[intro.object]</a>) includes the cv-qualifiers
specified when the object is created. The presence of a <span class='texttt'>const</span>
specifier in a <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> declares an object of
<a class='hidden_link' href='#def:const-qualified_object_type' id='def:const-qualified_object_type'><i>const-qualified object type</i></a>; such
object is called a <a class='hidden_link' href='#def:const_object' id='def:const_object'><i>const object</i></a>. The presence of a
<span class='texttt'>volatile</span> specifier in a <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> declares
an object of <span class='grammarterm'>volatile-qualified</span> <a class='hidden_link' href='#def:object_type' id='def:object_type'><i>object type</i></a>; such object
is called a <a class='hidden_link' href='#def:volatile_object' id='def:volatile_object'><i>volatile object</i></a>. The presence of both <span class='grammarterm'>cv-qualifiers</span> in a
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> declares an object of
<a class='hidden_link' href='#def:const-volatile-qualified_object_type' id='def:const-volatile-qualified_object_type'><i>const-volatile-qualified object type</i></a>;
such object is called a <a class='hidden_link' href='#def:const_volatile_object' id='def:const_volatile_object'><i>const volatile object</i></a>. The cv-qualified or
cv-unqualified versions of a type
are distinct types; however, they shall have the same representation and
alignment requirements (<a href='basic.types'>[basic.types]</a>).<a class='footnotenum' href='#footnote-51'>51</a></p></div><div class='para' id='type.qualifier-2'><div class='marginalizedparent'><a class='marginalized' href='#type.qualifier-2'>2</a></div><p ><span class='indexparent'><a class='index' id='array,const'></a></span>A compound type (<a href='basic.compound'>[basic.compound]</a>) is not cv-qualified by the
cv-qualifiers (if any) of the types from which it is compounded. Any
cv-qualifiers applied to an array type affect the array element type,
not the array type (<a href='dcl.array'>[dcl.array]</a>).</p></div><div class='para' id='type.qualifier-3'><div class='marginalizedparent'><a class='marginalized' href='#type.qualifier-3'>3</a></div><p ><span class='indexparent'><a class='index' id='class_object,const'></a></span>Each non-static, non-mutable, non-reference data member of a
const-qualified class object is const-qualified, each non-static,
non-reference data member of a volatile-qualified class object is
volatile-qualified and similarly for members of a const-volatile class.
See <a href='dcl.fct'>[dcl.fct]</a> and <a href='class.this'>[class.this]</a> regarding function
types that have <i ><a href='dcl.decl#nt:cv-qualifier'>cv-qualifiers</a></i>.</p></div><div class='para' id='type.qualifier-4'><div class='marginalizedparent'><a class='marginalized' href='#type.qualifier-4'>4</a></div><p >There is a partial ordering on cv-qualifiers, so that a type can be
said to be <span class='grammarterm'>more cv-qualified</span> than another.
Table <a href='#tab:relations.on.const.and.volatile'>[tab:relations.on.const.and.volatile]</a> shows the relations that
constitute this ordering.</p><div class='numberedTable' id='tab:relations.on.const.and.volatile'>Table <a href='#tab:relations.on.const.and.volatile'>9</a> — Relations on <span class='texttt'>const</span> and <span class='texttt'>volatile</span><br><table ><tr class='rowsep'><td class='center'>



<i>no cv-qualifier</i>    </td><td class='center'>&lt;</td><td class='center'> <span class='texttt'>const</span>           </td></tr><tr ><td class='center'>
<i>no cv-qualifier</i>    </td><td class='center'>&lt;</td><td class='center'> <span class='texttt'>volatile</span>        </td></tr><tr ><td class='center'>
<i>no cv-qualifier</i>    </td><td class='center'>&lt;</td><td class='center'> <span class='texttt'>const volatile</span>  </td></tr><tr ><td class='center'>
<span class='texttt'>const</span>               </td><td class='center'>&lt;</td><td class='center'> <span class='texttt'>const volatile</span>  </td></tr><tr ><td class='center'>
<span class='texttt'>volatile</span>            </td><td class='center'>&lt;</td><td class='center'> <span class='texttt'>const volatile</span>  </td></tr></table></div></div><div class='para' id='type.qualifier-5'><div class='marginalizedparent'><a class='marginalized' href='#type.qualifier-5'>5</a></div><p >In this International Standard, the notation <a class='hidden_link' href='#def:cv' id='def:cv'><i>cv</i></a> (or
<a class='hidden_link' href='#def:cv1' id='def:cv1'><i>cv1</i></a>, <a class='hidden_link' href='#def:cv2' id='def:cv2'><i>cv2</i></a>, etc.), used in the description of types,
represents an arbitrary set of cv-qualifiers, i.e., one of
{<span class='texttt'>const</span>}, {<span class='texttt'>volatile</span>}, {<span class='texttt'>const</span>,
<span class='texttt'>volatile</span>}, or the empty set. Cv-qualifiers applied to an array
type attach to the underlying element type, so the notation
“<a class='hidden_link' href='#def:cv' id='def:cv'><i>cv</i></a> <span class='texttt'>T</span>,” where <span class='texttt'>T</span> is an array type, refers to
an array whose elements are so-qualified. Such array types can be said
to be more (or less) cv-qualified than other types based on the
cv-qualification of the underlying element types.<span class='indexparent'><a class='index' id='type'></a></span></p></div><div class='footnote' id='footnote-51'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-51'>51)</a></div><p >The same representation
and alignment requirements are meant to imply
interchangeability as arguments to functions, return values from
functions, and non-static data members of unions.</p></div></div></div><div id='lval'><h2 ><a class='secnum' href='#lval' style='min-width:88pt'>3.10</a> Lvalues and rvalues <a class='abbr_ref' href='basic.lval'>[basic.lval]</a></h2><div class='para' id='lval-1'><div class='marginalizedparent'><a class='marginalized' href='#lval-1'>1</a></div><p >Expressions are categorized according to the taxonomy in Figure <a href='#fig:categories'>[fig:categories]</a>.</p><div class='figure' id='fig:categories'><svg width="361pt" height="182pt"
 viewBox="0.00 0.00 361.00 182.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g class="graph" transform="scale(1 1) rotate(0) translate(4 178)">
<title>categories</title>
<!-- expression -->
<g class="node"><title>expression</title>
<text text-anchor="middle" x="171.5" y="-150.8" font-family="Times,serif" font-size="24.00">expression</text>
</g>
<!-- glvalue -->
<g class="node"><title>glvalue</title>
<text text-anchor="middle" x="103.5" y="-80.8" font-family="Times,serif" font-size="24.00">glvalue</text>
</g>
<!-- expression&#45;&gt;glvalue -->
<g class="edge"><title>expression&#45;&gt;glvalue</title>
<path fill="none" stroke="black" d="M155.385,-139.885C146.956,-131.456 136.476,-120.976 127.146,-111.646"/>
<polygon fill="black" stroke="black" points="129.518,-109.068 119.972,-104.472 124.568,-114.018 129.518,-109.068"/>
</g>
<!-- rvalue -->
<g class="node"><title>rvalue</title>
<text text-anchor="middle" x="239.5" y="-80.8" font-family="Times,serif" font-size="24.00">rvalue</text>
</g>
<!-- expression&#45;&gt;rvalue -->
<g class="edge"><title>expression&#45;&gt;rvalue</title>
<path fill="none" stroke="black" d="M187.615,-139.885C196.044,-131.456 206.524,-120.976 215.854,-111.646"/>
<polygon fill="black" stroke="black" points="218.432,-114.018 223.028,-104.472 213.482,-109.068 218.432,-114.018"/>
</g>
<!-- lvalue -->
<g class="node"><title>lvalue</title>
<text text-anchor="middle" x="37.5" y="-10.8" font-family="Times,serif" font-size="24.00">lvalue</text>
</g>
<!-- glvalue&#45;&gt;lvalue -->
<g class="edge"><title>glvalue&#45;&gt;lvalue</title>
<path fill="none" stroke="black" d="M87.8589,-69.8849C79.7586,-61.5391 69.7074,-51.1834 60.7202,-41.9238"/>
<polygon fill="black" stroke="black" points="62.9636,-39.2099 53.4873,-34.4717 57.9405,-44.0853 62.9636,-39.2099"/>
</g>
<!-- xvalue -->
<g class="node"><title>xvalue</title>
<text text-anchor="middle" x="169.5" y="-10.8" font-family="Times,serif" font-size="24.00">xvalue</text>
</g>
<!-- glvalue&#45;&gt;xvalue -->
<g class="edge"><title>glvalue&#45;&gt;xvalue</title>
<path fill="none" stroke="black" d="M119.141,-69.8849C127.241,-61.5391 137.293,-51.1834 146.28,-41.9238"/>
<polygon fill="black" stroke="black" points="149.059,-44.0853 153.513,-34.4717 144.036,-39.2099 149.059,-44.0853"/>
</g>
<!-- rvalue&#45;&gt;xvalue -->
<g class="edge"><title>rvalue&#45;&gt;xvalue</title>
<path fill="none" stroke="black" d="M222.911,-69.8849C214.234,-61.4557 203.446,-50.9761 193.842,-41.6464"/>
<polygon fill="black" stroke="black" points="196.068,-38.9291 186.456,-34.4717 191.19,-43.9501 196.068,-38.9291"/>
</g>
<!-- prvalue -->
<g class="node"><title>prvalue</title>
<text text-anchor="middle" x="308.5" y="-10.8" font-family="Times,serif" font-size="24.00">prvalue</text>
</g>
<!-- rvalue&#45;&gt;prvalue -->
<g class="edge"><title>rvalue&#45;&gt;prvalue</title>
<path fill="none" stroke="black" d="M255.852,-69.8849C264.405,-61.4557 275.039,-50.9761 284.506,-41.6464"/>
<polygon fill="black" stroke="black" points="287.12,-43.9839 291.786,-34.4717 282.207,-38.9982 287.12,-43.9839"/>
</g>
</g>
</svg>
<br>Figure <a href='#fig:categories'>1</a> — Expression category taxonomy</div><ul class='itemize'><li id='lval-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lval-1.1'>(1.1)</a></div><p >An <a class='hidden_link' href='#def:lvalue' id='def:lvalue'><i>lvalue</i></a> (so called, historically, because lvalues could appear
on the left-hand side of an assignment expression) designates a function or an object.
[&nbsp;<i>Example:</i> If <span class='texttt'>E</span> is an expression of pointer type, then <span class='texttt'>*E</span> is
an lvalue expression referring to the object or function to which <span class='texttt'>E</span> points.
As another example, the result of calling a function whose return type is an
lvalue reference is an lvalue. <i>&nbsp;—&nbsp;end example</i>&nbsp;]</p></li><li id='lval-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lval-1.2'>(1.2)</a></div><p >An <a class='hidden_link' href='#def:xvalue' id='def:xvalue'><i>xvalue</i></a> (an “eXpiring” value) also refers to an object, usually near
the end of its lifetime (so that its resources may be moved, for example). An xvalue
is the result of certain kinds of expressions involving rvalue references (<a href='dcl.ref'>[dcl.ref]</a>).
[&nbsp;<i>Example:</i> The result of calling a function whose return type is an rvalue reference
is an xvalue. <i>&nbsp;—&nbsp;end example</i>&nbsp;]</p></li><li id='lval-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lval-1.3'>(1.3)</a></div><p >A <a class='hidden_link' href='#def:glvalue' id='def:glvalue'><i>glvalue</i></a> (“generalized” lvalue) is an lvalue or an xvalue.</p></li><li id='lval-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lval-1.4'>(1.4)</a></div><p >An <a class='hidden_link' href='#def:rvalue' id='def:rvalue'><i>rvalue</i></a> (so called, historically, because rvalues could appear
on the right-hand side of an assignment expression) is an xvalue, a temporary
object (<a href='class.temporary'>[class.temporary]</a>) or subobject thereof, or a value that is not
associated with an object.</p></li><li id='lval-1.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lval-1.5'>(1.5)</a></div><p >A <a class='hidden_link' href='#def:prvalue' id='def:prvalue'><i>prvalue</i></a> (“pure” rvalue) is an rvalue that is not an xvalue.
[&nbsp;<i>Example:</i> The result of calling a function whose return type is not a reference
is a prvalue. The value of a literal such as <span class='texttt'>12</span>, <span class='texttt'>7.3e5</span>, or <span class='texttt'>true</span>
is also a prvalue. <i>&nbsp;—&nbsp;end example</i>&nbsp;]
</p></li></ul><p >Every expression belongs to exactly one of the fundamental classifications in this
taxonomy: lvalue, xvalue, or prvalue. This property of an expression is called
its <a class='hidden_link' href='#def:value_category' id='def:value_category'><i>value category</i></a>. [&nbsp;<i>Note:</i> The discussion of each built-in operator in
Clause <a href='expr'>[expr]</a> indicates the category of the value it yields and the value categories
of the operands it expects. For example, the built-in assignment operators expect that
the left operand is an lvalue and that the right operand is a prvalue and yield an
lvalue as the result. User-defined operators are functions, and the categories of
values they expect and yield are determined by their parameter and return types. <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='lval-2'><div class='marginalizedparent'><a class='marginalized' href='#lval-2'>2</a></div><p >Whenever a glvalue appears in a context where a prvalue is expected, the glvalue is converted
to a prvalue; see <a href='conv.lval'>[conv.lval]</a>, <a href='conv.array'>[conv.array]</a>,
and <a href='conv.func'>[conv.func]</a>.
[&nbsp;<i>Note:</i>
An attempt to bind an rvalue reference to an lvalue is not such a context; see <a href='dcl.init.ref'>[dcl.init.ref]</a>.
<i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='lval-3'><div class='marginalizedparent'><a class='marginalized' href='#lval-3'>3</a></div><p >The discussion of reference initialization in <a href='dcl.init.ref'>[dcl.init.ref]</a> and of
temporaries in <a href='class.temporary'>[class.temporary]</a> indicates the behavior of lvalues
and rvalues in other significant contexts.</p></div><div class='para' id='lval-4'><div class='marginalizedparent'><a class='marginalized' href='#lval-4'>4</a></div><p >Class prvalues can have cv-qualified types; non-class
prvalues always have
cv-unqualified types.
Unless otherwise indicated (<a href='expr.call'>[expr.call]</a>), prvalues
shall always have complete types or the
<span class='texttt'>void</span> type; in addition to these types, glvalues can also have
incomplete types.</p></div><div class='para' id='lval-5'><div class='marginalizedparent'><a class='marginalized' href='#lval-5'>5</a></div><p >An lvalue for an object is necessary in order to modify the object
except that an rvalue of class type can also be used to modify its
referent under certain circumstances. [&nbsp;<i>Example:</i> a member function
called for an object (<a href='class.mfct'>[class.mfct]</a>) can modify the object.
<i>&nbsp;—&nbsp;end example</i>&nbsp;]</p></div><div class='para' id='lval-6'><div class='marginalizedparent'><a class='marginalized' href='#lval-6'>6</a></div><p >Functions cannot be modified, but pointers to functions can be
modifiable.</p></div><div class='para' id='lval-7'><div class='marginalizedparent'><a class='marginalized' href='#lval-7'>7</a></div><p >A pointer to an incomplete type can be modifiable. At some point in the
program when the pointed to type is complete, the object at which the
pointer points can also be modified.</p></div><div class='para' id='lval-8'><div class='marginalizedparent'><a class='marginalized' href='#lval-8'>8</a></div><p >The referent of a <span class='texttt'>const</span>-qualified expression shall not be
modified (through that expression), except that if it is of class type
and has a <span class='texttt'>mutable</span> component, that component can be
modified (<a href='dcl.type.cv'>[dcl.type.cv]</a>).</p></div><div class='para' id='lval-9'><div class='marginalizedparent'><a class='marginalized' href='#lval-9'>9</a></div><p >If an expression can be used to modify the object to which it refers,
the expression is called <a class='hidden_link' href='#def:modifiable' id='def:modifiable'><i>modifiable</i></a>. A program that attempts
to modify an object through a nonmodifiable lvalue or rvalue expression
is ill-formed.</p></div><div class='para' id='lval-10'><div class='marginalizedparent'><a class='marginalized' href='#lval-10'>10</a></div><p >If a program attempts to access the stored value of an object through a glvalue
of other than one of the following types the behavior is
undefined:<a class='footnotenum' href='#footnote-52'>52</a></p><ul class='itemize'><li id='lval-10.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lval-10.1'>(10.1)</a></div><p >the dynamic type of the object,</p></li><li id='lval-10.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lval-10.2'>(10.2)</a></div><p >a cv-qualified version of the dynamic type of the object,</p></li><li id='lval-10.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lval-10.3'>(10.3)</a></div><p >a type similar (as defined in <a href='conv.qual'>[conv.qual]</a>) to the dynamic type
of the object,</p></li><li id='lval-10.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lval-10.4'>(10.4)</a></div><p >a type that is the signed or unsigned type corresponding to the
dynamic type of the object,</p></li><li id='lval-10.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lval-10.5'>(10.5)</a></div><p >a type that is the signed or unsigned type corresponding to a
cv-qualified version of the dynamic type of the object,</p></li><li id='lval-10.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lval-10.6'>(10.6)</a></div><p >an aggregate or union type that includes one of the aforementioned types among its
elements or non-static data members (including, recursively, an element or non-static data member of a
subaggregate or contained union),</p></li><li id='lval-10.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lval-10.7'>(10.7)</a></div><p >a type that is a (possibly cv-qualified) base class type of the dynamic type of
the object,</p></li><li id='lval-10.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#lval-10.8'>(10.8)</a></div><p >a <span class='texttt'>char</span> or <span class='texttt'>unsigned</span> <span class='texttt'>char</span> type.
</p></li></ul></div><div class='footnote' id='footnote-52'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-52'>52)</a></div><p >The intent of this list is to specify those circumstances in which an
object may or may not be aliased.</p></div></div><div id='align'><h2 ><a class='secnum' href='#align' style='min-width:88pt'>3.11</a> Alignment <a class='abbr_ref' href='basic.align'>[basic.align]</a></h2><div class='para' id='align-1'><div class='marginalizedparent'><a class='marginalized' href='#align-1'>1</a></div><p ><span class='indexparent'><a class='index' id='alignment_requirement,implementation-defined'></a></span>Object types have <a class='hidden_link' href='#def:alignment_requirements' id='def:alignment_requirements'><i>alignment requirements</i></a> (<a href='basic.fundamental'>[basic.fundamental]</a>, <a href='basic.compound'>[basic.compound]</a>)
which place restrictions on the addresses at which an object of that type
may be allocated. An <a class='hidden_link' href='#def:alignment' id='def:alignment'><i>alignment</i></a> is an <span class='indexparent'><a class='index' id='alignment'></a></span>implementation-defined
integer value representing the number of bytes between successive addresses
at which a given object can be allocated. An object type imposes an alignment
requirement on every object of that type; stricter alignment can be requested
using the alignment specifier (<a href='dcl.align'>[dcl.align]</a>).</p></div><div class='para' id='align-2'><div class='marginalizedparent'><a class='marginalized' href='#align-2'>2</a></div><p ><span class='indexparent'><a class='index' id='fundamental_alignment'></a></span><span class='indexparent'><a class='index' id='alignment,fundamental'></a></span>A <a class='hidden_link' href='#def:fundamental_alignment' id='def:fundamental_alignment'><i>fundamental alignment</i></a> is represented by an alignment
less than or equal to the greatest alignment supported by the implementation in
all contexts, which is equal to
<span class='texttt'>alignof(std::max_align_t)</span> (<a href='support.types'>[support.types]</a>).
The alignment required for a type might be different when it is used as the type
of a complete object and when it is used as the type of a subobject. [&nbsp;<i>Example:</i>
</p><pre class='codeblock'>
struct B { long double d; };
struct D : virtual B { char c; }
</pre><p >When <span class='texttt'>D</span> is the type of a complete object, it will have a subobject of
type <span class='texttt'>B</span>, so it must be aligned appropriately for a <span class='texttt'>long double</span>.
If <span class='texttt'>D</span> appears as a subobject of another object that also has <span class='texttt'>B</span>
as a virtual base class, the <span class='texttt'>B</span> subobject might be part of a different
subobject, reducing the alignment requirements on the <span class='texttt'>D</span> subobject.
<i>&nbsp;—&nbsp;end example</i>&nbsp;] The result of the <span class='texttt'>alignof</span> operator reflects the alignment
requirement of the type in the complete-object case.</p></div><div class='para' id='align-3'><div class='marginalizedparent'><a class='marginalized' href='#align-3'>3</a></div><p ><span class='indexparent'><a class='index' id='extended_alignment'></a></span><span class='indexparent'><a class='index' id='alignment,extended'></a></span><span class='indexparent'><a class='index' id='over-aligned_type'></a></span><span class='indexparent'><a class='index' id='type,over-aligned'></a></span>An <a class='hidden_link' href='#def:extended_alignment' id='def:extended_alignment'><i>extended alignment</i></a> is represented by an alignment
greater than <span class='texttt'>alignof(std::max_align_t)</span>. It is implementation-defined
whether any extended alignments are supported and the contexts in which they are
supported (<a href='dcl.align'>[dcl.align]</a>). A type having an extended alignment
requirement is an <span class='grammarterm'>over-aligned type</span>. [&nbsp;<i>Note:</i>
every over-aligned type is or contains a class type
to which extended alignment applies (possibly through a non-static data member).
<i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='align-4'><div class='marginalizedparent'><a class='marginalized' href='#align-4'>4</a></div><p >Alignments are represented as values of the type <span class='texttt'>std::size_t</span>.
Valid alignments include only those values returned by an <span class='texttt'>alignof</span>
expression for the fundamental types plus an additional <span class='indexparent'><a class='index' id='alignment_additional_values'></a></span>implementation-defined
set of values, which may be empty.
Every alignment value shall be a non-negative integral power of two.</p></div><div class='para' id='align-5'><div class='marginalizedparent'><a class='marginalized' href='#align-5'>5</a></div><p >Alignments have an order from <a class='hidden_link' href='#def:weaker' id='def:weaker'><i>weaker</i></a> to
<a class='hidden_link' href='#def:stronger' id='def:stronger'><i>stronger</i></a> or <a class='hidden_link' href='#def:stricter' id='def:stricter'><i>stricter</i></a> alignments. Stricter
alignments have larger alignment values. An address that satisfies an alignment
requirement also satisfies any weaker valid alignment requirement.</p></div><div class='para' id='align-6'><div class='marginalizedparent'><a class='marginalized' href='#align-6'>6</a></div><p >The alignment requirement of a complete type can be queried using an
<span class='texttt'>alignof</span> expression (<a href='expr.alignof'>[expr.alignof]</a>). Furthermore,
the types <span class='texttt'>char</span>, <span class='texttt'>signed char</span>, and
<span class='texttt'>unsigned char</span> shall have the weakest alignment requirement.
[&nbsp;<i>Note:</i> This enables the character types to be used as the
underlying type for an aligned memory area (<a href='dcl.align'>[dcl.align]</a>).<i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='align-7'><div class='marginalizedparent'><a class='marginalized' href='#align-7'>7</a></div><p >Comparing alignments is meaningful and provides the obvious results:</p><ul class='itemize'><li id='align-7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#align-7.1'>(7.1)</a></div><p >Two alignments are equal when their numeric values are equal.
</p></li><li id='align-7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#align-7.2'>(7.2)</a></div><p >Two alignments are different when their numeric values are not equal.
</p></li><li id='align-7.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#align-7.3'>(7.3)</a></div><p >When an alignment is larger than another it represents a stricter alignment.
</p></li></ul></div><div class='para' id='align-8'><div class='marginalizedparent'><a class='marginalized' href='#align-8'>8</a></div><p >[&nbsp;<i>Note:</i> The runtime pointer alignment function (<a href='ptr.align'>[ptr.align]</a>)
can be used to obtain an aligned pointer within a buffer; the aligned-storage templates
in the library (<a href='meta.trans.other'>[meta.trans.other]</a>) can be used to obtain aligned storage.
<i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='align-9'><div class='marginalizedparent'><a class='marginalized' href='#align-9'>9</a></div><p >If a request for a specific extended alignment in a specific context is not
supported by an implementation, the program is ill-formed. Additionally, a
request for runtime allocation of dynamic storage for which the requested
alignment cannot be honored shall be treated as an allocation failure.
</p></div></div></div></div></body></html>