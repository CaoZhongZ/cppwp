<!DOCTYPE html><html lang='en'><head><title>[template.valarray]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>26</a> Numerics library <a class='abbr_ref' href='./#numerics'>[numerics]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>26.6</a> Numeric arrays <a class='abbr_ref' href='numarray#template.valarray'>[numarray]</a></h2><div id='template.valarray'><h3 ><a class='secnum' style='min-width:103pt'>26.6.2</a> Class template <span class='texttt'>valarray</span> <a class='abbr_ref'>[template.valarray]</a></h3><div id='overview'><h4 ><a class='secnum' href='#overview' style='min-width:118pt'>26.6.2.1</a> Class template <span class='texttt'>valarray</span> overview <a class='abbr_ref' href='template.valarray.overview'>[template.valarray.overview]</a></h4><p ><span class='indexparent'><a class='index' id='valarray'></a></span></p><pre class='codeblock'>
namespace std {
  template&lt;class T&gt; class valarray {
  public:
    typedef T value_type;

    <span class='comment'>// <a href='valarray.cons'>[valarray.cons]</a> construct/destroy:
</span>    valarray();
    explicit valarray(size_t);
    valarray(const T&amp;, size_t);
    valarray(const T*, size_t);
    valarray(const valarray&amp;);
    valarray(valarray&amp;&amp;) noexcept;
    valarray(const slice_array&lt;T&gt;&amp;);
    valarray(const gslice_array&lt;T&gt;&amp;);
    valarray(const mask_array&lt;T&gt;&amp;);
    valarray(const indirect_array&lt;T&gt;&amp;);
    valarray(initializer_list&lt;T&gt;);
    ~valarray();

    <span class='comment'>// <a href='valarray.assign'>[valarray.assign]</a> assignment:
</span>    valarray&lt;T&gt;&amp; operator=(const valarray&lt;T&gt;&amp;);
    valarray&lt;T&gt;&amp; operator=(valarray&lt;T&gt;&amp;&amp;) noexcept;
    valarray&amp; operator=(initializer_list&lt;T&gt;);
    valarray&lt;T&gt;&amp; operator=(const T&amp;);
    valarray&lt;T&gt;&amp; operator=(const slice_array&lt;T&gt;&amp;);
    valarray&lt;T&gt;&amp; operator=(const gslice_array&lt;T&gt;&amp;);
    valarray&lt;T&gt;&amp; operator=(const mask_array&lt;T&gt;&amp;);
    valarray&lt;T&gt;&amp; operator=(const indirect_array&lt;T&gt;&amp;);

    <span class='comment'>// <a href='valarray.access'>[valarray.access]</a> element access:
</span>    const T&amp;          operator[](size_t) const;
    T&amp;                operator[](size_t);

    <span class='comment'>// <a href='valarray.sub'>[valarray.sub]</a> subset operations:
</span>    valarray&lt;T&gt;       operator[](slice) const;
    slice_array&lt;T&gt;    operator[](slice);
    valarray&lt;T&gt;       operator[](const gslice&amp;) const;
    gslice_array&lt;T&gt;   operator[](const gslice&amp;);
    valarray&lt;T&gt;       operator[](const valarray&lt;bool&gt;&amp;) const;
    mask_array&lt;T&gt;     operator[](const valarray&lt;bool&gt;&amp;);
    valarray&lt;T&gt;       operator[](const valarray&lt;size_t&gt;&amp;) const;
    indirect_array&lt;T&gt; operator[](const valarray&lt;size_t&gt;&amp;);

    <span class='comment'>// <a href='valarray.unary'>[valarray.unary]</a> unary operators:
</span>    valarray&lt;T&gt; operator+() const;
    valarray&lt;T&gt; operator-() const;
    valarray&lt;T&gt; operator~() const;
    valarray&lt;bool&gt; operator!() const;

    <span class='comment'>// <a href='valarray.cassign'>[valarray.cassign]</a> computed assignment:
</span>    valarray&lt;T&gt;&amp; operator*= (const T&amp;);
    valarray&lt;T&gt;&amp; operator/= (const T&amp;);
    valarray&lt;T&gt;&amp; operator%= (const T&amp;);
    valarray&lt;T&gt;&amp; operator+= (const T&amp;);
    valarray&lt;T&gt;&amp; operator-= (const T&amp;);
    valarray&lt;T&gt;&amp; operator^= (const T&amp;);
    valarray&lt;T&gt;&amp; operator&amp;= (const T&amp;);
    valarray&lt;T&gt;&amp; operator|= (const T&amp;);
    valarray&lt;T&gt;&amp; operator&lt;&lt;=(const T&amp;);
    valarray&lt;T&gt;&amp; operator&gt;&gt;=(const T&amp;);

    valarray&lt;T&gt;&amp; operator*= (const valarray&lt;T&gt;&amp;);
    valarray&lt;T&gt;&amp; operator/= (const valarray&lt;T&gt;&amp;);
    valarray&lt;T&gt;&amp; operator%= (const valarray&lt;T&gt;&amp;);
    valarray&lt;T&gt;&amp; operator+= (const valarray&lt;T&gt;&amp;);
    valarray&lt;T&gt;&amp; operator-= (const valarray&lt;T&gt;&amp;);
    valarray&lt;T&gt;&amp; operator^= (const valarray&lt;T&gt;&amp;);
    valarray&lt;T&gt;&amp; operator|= (const valarray&lt;T&gt;&amp;);
    valarray&lt;T&gt;&amp; operator&amp;= (const valarray&lt;T&gt;&amp;);
    valarray&lt;T&gt;&amp; operator&lt;&lt;=(const valarray&lt;T&gt;&amp;);
    valarray&lt;T&gt;&amp; operator&gt;&gt;=(const valarray&lt;T&gt;&amp;);

    <span class='comment'>// <a href='valarray.members'>[valarray.members]</a> member functions:
</span>    void swap(valarray&amp;) noexcept;

    size_t size() const;

    T sum() const;
    T min() const;
    T max() const;

    valarray&lt;T&gt; shift (int) const;
    valarray&lt;T&gt; cshift(int) const;
    valarray&lt;T&gt; apply(T func(T)) const;
    valarray&lt;T&gt; apply(T func(const T&amp;)) const;
    void resize(size_t sz, T c = T());
  };
}
</pre><div class='para' id='overview-1'><div class='marginalizedparent'><a class='marginalized' href='#overview-1'>1</a></div><p >The
class template
<span class='texttt'>valarray&lt;T&gt;</span>
is a
one-dimensional smart array, with elements numbered sequentially from zero.
It is a representation of the mathematical concept
of an ordered set of values.
The illusion of higher dimensionality
may be produced by the familiar idiom of computed indices, together
with the powerful subsetting capabilities provided
by the generalized subscript operators.<a class='footnotenum' href='#footnote-282'>282</a></p></div><div class='para' id='overview-2'><div class='marginalizedparent'><a class='marginalized' href='#overview-2'>2</a></div><p >An implementation is permitted to qualify any of the functions declared in
<span class='texttt'>&lt;valarray&gt;</span>
as
<span class='texttt'>inline</span>.</p></div><div class='footnote' id='footnote-281'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-281'>281)</a></div><p >The intent is to specify
an array template that has the minimum functionality
necessary to address aliasing ambiguities and the proliferation of
temporaries.
Thus, the
<span class='texttt'>valarray</span>
template is neither a
matrix class nor a field class.
However, it is a very useful building block for designing such classes.</p></div></div><div id='valarray.cons'><h4 ><a class='secnum' href='#valarray.cons' style='min-width:118pt'>26.6.2.2</a> <span class='texttt'>valarray</span> constructors <a class='abbr_ref' href='valarray.cons'>[valarray.cons]</a></h4><p ><span class='indexparent'><a class='index' id='valarray,valarray'></a></span><code class='itemdecl'>
valarray();
</code></p><div class='itemdescr'></div><div class='para' id='valarray.cons-1'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cons-1'>1</a></div><div class='itemdescr'><p ><i>Effects:</i>
Constructs an object of class
<span class='texttt'>valarray&lt;T&gt;</span><a class='footnotenum' href='#footnote-283'>283</a>
which has zero length.<a class='footnotenum' href='#footnote-284'>284</a>
</p></div></div><p ><span class='indexparent'><a class='index' id='valarray,constructor'></a></span><code class='itemdecl'>
explicit valarray(size_t);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.cons-2'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cons-2'>2</a></div><div class='itemdescr'><p >The array created by this constructor has a length equal to the value of the argument.
The elements of the array are value-initialized (<a href='dcl.init'>[dcl.init]</a>).
</p></div></div><p ><span class='indexparent'><a class='index' id='valarray,constructor'></a></span><code class='itemdecl'>
valarray(const T&amp;, size_t);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.cons-3'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cons-3'>3</a></div><div class='itemdescr'><p >The array created by this constructor has a length equal to the second
argument.
The elements of the array are initialized with the value of the first argument.
</p></div></div><p ><span class='indexparent'><a class='index' id='valarray,constructor'></a></span><code class='itemdecl'>
valarray(const T*, size_t);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.cons-4'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cons-4'>4</a></div><div class='itemdescr'><p >The array created by this constructor has a length equal to the second
argument
<span class='texttt'>n</span>.
The values of the elements of the array are initialized with the
first
<span class='texttt'>n</span>
values pointed to by the first argument.<a class='footnotenum' href='#footnote-285'>285</a>
If the value of the second argument is greater than the number of values
pointed to by the first argument, the behavior is undefined.<span class='indexparent'><a class='index' id='undefined'></a></span>
</p></div></div><p ><span class='indexparent'><a class='index' id='valarray,constructor'></a></span><code class='itemdecl'>
valarray(const valarray&lt;T&gt;&amp;);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.cons-5'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cons-5'>5</a></div><div class='itemdescr'><p >The array created by this constructor has the same length as the argument
array.
The elements are initialized with the values of the corresponding
elements of the argument array.<a class='footnotenum' href='#footnote-286'>286</a>
</p></div></div><p ><span class='indexparent'><a class='index' id='valarray,constructor'></a></span><code class='itemdecl'>
valarray(valarray&lt;T&gt;&amp;&amp; v) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='valarray.cons-6'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cons-6'>6</a></div><div class='itemdescr'><p >The array created by this constructor has the same length as the argument
array.
The elements are initialized with the values of the corresponding
elements of the argument array.</p></div></div><div class='para' id='valarray.cons-7'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cons-7'>7</a></div><div class='itemdescr'><p ><i>Complexity:</i> Constant.
</p></div></div><p ><span class='indexparent'><a class='index' id='valarray,constructor'></a></span><code class='itemdecl'>
valarray(initializer_list&lt;T&gt; il);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.cons-8'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cons-8'>8</a></div><div class='itemdescr'><p ><i>Effects:</i> Same as <span class='texttt'>valarray(il.begin(), il.size())</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='valarray,constructor'></a></span><code class='itemdecl'>
valarray(const slice_array&lt;T&gt;&amp;);
valarray(const gslice_array&lt;T&gt;&amp;);
valarray(const mask_array&lt;T&gt;&amp;);
valarray(const indirect_array&lt;T&gt;&amp;);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.cons-9'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cons-9'>9</a></div><div class='itemdescr'><p >These conversion constructors convert one of the four reference templates
to a
<span class='texttt'>valarray</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='valarray,destructor'></a></span><code class='itemdecl'>
~valarray();
</code></p><div class='itemdescr'></div><div class='para' id='valarray.cons-10'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cons-10'>10</a></div><div class='itemdescr'><p >The destructor is applied to every element of
<span class='texttt'>*this</span>;
an implementation may return all allocated memory.
</p></div></div><div class='footnote' id='footnote-282'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-282'>282)</a></div><p >For convenience, such objects are referred
to as “arrays” throughout the
remainder of <a href='numarray'>[numarray]</a>.</p></div><div class='footnote' id='footnote-283'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-283'>283)</a></div><p >This default constructor is essential,
since arrays of
<span class='texttt'>valarray</span>
may be useful.
After initialization, the length of an empty array can be increased with the
<span class='texttt'>resize</span>
member function.</p></div><div class='footnote' id='footnote-284'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-284'>284)</a></div><p >This constructor is the
preferred method for converting a C array to a
<span class='texttt'>valarray</span>
object.</p></div><div class='footnote' id='footnote-285'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-285'>285)</a></div><p >This copy constructor creates
a distinct array rather than an alias.
Implementations in which arrays share storage are permitted, but they
shall implement a copy-on-reference mechanism to ensure that arrays are
conceptually distinct.</p></div></div><div id='valarray.assign'><h4 ><a class='secnum' href='#valarray.assign' style='min-width:118pt'>26.6.2.3</a> <span class='texttt'>valarray</span> assignment <a class='abbr_ref' href='valarray.assign'>[valarray.assign]</a></h4><p ><span class='indexparent'><a class='index' id='operator=,valarray'></a></span><code class='itemdecl'>
valarray&lt;T&gt;&amp; operator=(const valarray&lt;T&gt;&amp; v);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.assign-1'><div class='marginalizedparent'><a class='marginalized' href='#valarray.assign-1'>1</a></div><div class='itemdescr'><p >Each element of the
<span class='texttt'>*this</span>
array is assigned the value of the corresponding element of the argument
array.
If the length of <span class='texttt'>v</span> is not equal to the length of <span class='texttt'>*this</span>
, resizes <span class='texttt'>*this</span> to make the two arrays the same length,
as if by calling <span class='texttt'>resize(v.size())</span>, before performing the assignment.</p></div></div><div class='para' id='valarray.assign-2'><div class='marginalizedparent'><a class='marginalized' href='#valarray.assign-2'>2</a></div><div class='itemdescr'><p ><i>Postcondition:</i> <span class='texttt'>size() == v.size()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,valarray'></a></span><code class='itemdecl'>
valarray&lt;T&gt;&amp; operator=(valarray&lt;T&gt;&amp;&amp; v) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='valarray.assign-3'><div class='marginalizedparent'><a class='marginalized' href='#valarray.assign-3'>3</a></div><div class='itemdescr'><p ><i>Effects:</i> <span class='texttt'>*this</span> obtains the value of <span class='texttt'>v</span>.
If the length of <span class='texttt'>v</span> is not equal to the length of <span class='texttt'>*this</span>, resizes <span class='texttt'>*this</span> to make the two arrays the same length, as if by calling
<span class='texttt'>resize(v.size())</span>, before performing the assignment.</p></div></div><div class='para' id='valarray.assign-4'><div class='marginalizedparent'><a class='marginalized' href='#valarray.assign-4'>4</a></div><div class='itemdescr'><p ><i>Complexity:</i> Constant.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator='></a></span><code class='itemdecl'>
valarray&amp; operator=(initializer_list&lt;T&gt; il);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.assign-5'><div class='marginalizedparent'><a class='marginalized' href='#valarray.assign-5'>5</a></div><div class='itemdescr'><p ><i>Effects:</i> <span class='texttt'>*this = valarray(il)</span>.</p></div></div><div class='para' id='valarray.assign-6'><div class='marginalizedparent'><a class='marginalized' href='#valarray.assign-6'>6</a></div><div class='itemdescr'><p ><i>Returns:</i> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,valarray'></a></span><code class='itemdecl'>
valarray&lt;T&gt;&amp; operator=(const T&amp;);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.assign-7'><div class='marginalizedparent'><a class='marginalized' href='#valarray.assign-7'>7</a></div><div class='itemdescr'><p >The scalar assignment operator causes each element of the
<span class='texttt'>*this</span>
array to be assigned the value of the argument.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator='></a></span><code class='itemdecl'>
valarray&lt;T&gt;&amp; operator=(const slice_array&lt;T&gt;&amp;);
valarray&lt;T&gt;&amp; operator=(const gslice_array&lt;T&gt;&amp;);
valarray&lt;T&gt;&amp; operator=(const mask_array&lt;T&gt;&amp;);
valarray&lt;T&gt;&amp; operator=(const indirect_array&lt;T&gt;&amp;);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.assign-8'><div class='marginalizedparent'><a class='marginalized' href='#valarray.assign-8'>8</a></div><div class='itemdescr'><p ><i>Requires:</i> The length of the array to which the argument refers equals <span class='texttt'>size()</span>.</p></div></div><div class='para' id='valarray.assign-9'><div class='marginalizedparent'><a class='marginalized' href='#valarray.assign-9'>9</a></div><div class='itemdescr'><p >These operators allow the results of a generalized subscripting operation
to be assigned directly to a
<span class='texttt'>valarray</span>.</p></div></div><div class='para' id='valarray.assign-10'><div class='marginalizedparent'><a class='marginalized' href='#valarray.assign-10'>10</a></div><div class='itemdescr'><p >If the value of an element in the left-hand side of a valarray assignment
operator depends on the value of another element in that left-hand side,
the resulting behavior is undefined.
</p></div></div></div><div id='valarray.access'><h4 ><a class='secnum' href='#valarray.access' style='min-width:118pt'>26.6.2.4</a> <span class='texttt'>valarray</span> element access <a class='abbr_ref' href='valarray.access'>[valarray.access]</a></h4><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span><code class='itemdecl'>
const T&amp;  operator[](size_t) const;
T&amp; operator[](size_t);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.access-1'><div class='marginalizedparent'><a class='marginalized' href='#valarray.access-1'>1</a></div><div class='itemdescr'><p >The subscript operator
returns a reference to the corresponding element of the array.</p></div></div><div class='para' id='valarray.access-2'><div class='marginalizedparent'><a class='marginalized' href='#valarray.access-2'>2</a></div><div class='itemdescr'><p >Thus, the expression
<span class='texttt'>(a[i] = q, a[i]) == q</span>
evaluates as true for any non-constant
<span class='texttt'>valarray&lt;T&gt; a</span>,
any
<span class='texttt'>T q</span>,
and for any
<span class='texttt'>size_t i</span>
such that the value of
<span class='texttt'>i</span>
is less than the length of
<span class='texttt'>a</span>.</p></div></div><div class='para' id='valarray.access-3'><div class='marginalizedparent'><a class='marginalized' href='#valarray.access-3'>3</a></div><div class='itemdescr'><p >The expression
<span class='texttt'>&amp;a[i+j] == &amp;a[i] + j</span>
evaluates as true for all
<span class='texttt'>size_t i</span>
and
<span class='texttt'>size_t j</span>
such that
<span class='texttt'>i+j</span>
is less than the length of the array
<span class='texttt'>a</span>.</p></div></div><div class='para' id='valarray.access-4'><div class='marginalizedparent'><a class='marginalized' href='#valarray.access-4'>4</a></div><div class='itemdescr'><p >Likewise, the expression
<span class='texttt'>&amp;a[i] != &amp;b[j]</span>
evaluates as
<span class='texttt'>true</span>
for any two arrays
<span class='texttt'>a</span>
and
<span class='texttt'>b</span>
and for any
<span class='texttt'>size_t i</span>
and
<span class='texttt'>size_t j</span>
such that
<span class='texttt'>i</span>
is less than the length of
<span class='texttt'>a</span>
and
<span class='texttt'>j</span>
is less than the length of
<span class='texttt'>b</span>.
This property indicates an absence of aliasing and may be used to
advantage by optimizing compilers.<a class='footnotenum' href='#footnote-287'>287</a></p></div></div><div class='para' id='valarray.access-5'><div class='marginalizedparent'><a class='marginalized' href='#valarray.access-5'>5</a></div><div class='itemdescr'><p >The reference returned by the subscript operator for an array is
guaranteed to be valid until the member function
<span class='texttt'>resize(size_t, T)</span> (<a href='valarray.members'>[valarray.members]</a>) is called for that array or until the lifetime of
that array ends, whichever happens first.</p></div></div><div class='para' id='valarray.access-6'><div class='marginalizedparent'><a class='marginalized' href='#valarray.access-6'>6</a></div><div class='itemdescr'><p >If the subscript operator
is invoked with a
<span class='texttt'>size_t</span>
argument whose value is not
less than the length of the array, the behavior is undefined.<span class='indexparent'><a class='index' id='undefined'></a></span>
</p></div></div><div class='footnote' id='footnote-286'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-286'>286)</a></div><p >Compilers may take advantage
of inlining, constant propagation, loop fusion,
tracking of pointers obtained from
<span class='texttt'>operator new</span>,
and other
techniques to generate efficient
<span class='texttt'>valarray</span>s.</p></div></div><div id='valarray.sub'><h4 ><a class='secnum' href='#valarray.sub' style='min-width:118pt'>26.6.2.5</a> <span class='texttt'>valarray</span> subset operations <a class='abbr_ref' href='valarray.sub'>[valarray.sub]</a></h4><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span></p><div class='para' id='valarray.sub-1'><div class='marginalizedparent'><a class='marginalized' href='#valarray.sub-1'>1</a></div><p >The member <span class='texttt'>operator[]</span> is overloaded to provide several ways to select
sequences of elements from among those controlled by <span class='texttt'>*this</span>. Each of these
operations returns a subset of the array. The const-qualified versions return this
subset as a new <span class='texttt'>valarray</span> object. The non-const versions return a class
template object which has reference semantics to the original array, working in
conjunction with various overloads of <span class='texttt'>operator=</span> and other assigning
operators to allow selective replacement (slicing) of the controlled sequence.
In each case the selected element(s) must exist.</p><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span><code class='itemdecl'>
valarray&lt;T&gt; operator[](slice slicearr) const;
</code></p></div><div class='itemdescr'></div><div class='para' id='valarray.sub-2'><div class='marginalizedparent'><a class='marginalized' href='#valarray.sub-2'>2</a></div><div class='itemdescr'><p ><i>Returns:</i> An object of class <span class='texttt'>valarray&lt;T&gt;</span> containing those
elements of the controlled sequence designated by <span class='texttt'>slicearr</span>.
[&nbsp;<i>Example:</i>
</p><pre class='codeblock'>
const valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
<span class='comment'>// <span class='texttt'>v0[slice(2, 5, 3)]</span> returns <span class='texttt'>valarray&lt;char&gt;("cfilo", 5)</span>
</span></pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;]
</p></div></div><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span><code class='itemdecl'>
slice_array&lt;T&gt; operator[](slice slicearr);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.sub-3'><div class='marginalizedparent'><a class='marginalized' href='#valarray.sub-3'>3</a></div><div class='itemdescr'><p ><i>Returns:</i> An object that holds references to elements of the controlled
sequence selected by <span class='texttt'>slicearr</span>. [&nbsp;<i>Example:</i>
</p><pre class='codeblock'>
valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
valarray&lt;char&gt; v1("ABCDE", 5);
v0[slice(2, 5, 3)] = v1;
<span class='comment'>// <span class='texttt'>v0 == valarray&lt;char&gt;("abAdeBghCjkDmnEp", 16);</span>
</span></pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;]
</p></div></div><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span><code class='itemdecl'>
valarray&lt;T&gt; operator[](const gslice&amp; gslicearr) const;
</code></p><div class='itemdescr'></div><div class='para' id='valarray.sub-4'><div class='marginalizedparent'><a class='marginalized' href='#valarray.sub-4'>4</a></div><div class='itemdescr'><p ><i>Returns:</i> An object of class <span class='texttt'>valarray&lt;T&gt;</span> containing those
elements of the controlled sequence designated by <span class='texttt'>gslicearr</span>.
[&nbsp;<i>Example:</i>
</p><pre class='codeblock'>
const valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
const size_t lv[] = { 2, 3 };
const size_t dv[] = { 7, 2 };
const valarray&lt;size_t&gt; len(lv, 2), str(dv, 2);
<span class='comment'>// <span class='texttt'>v0[gslice(3, len, str)]</span> returns
</span><span class='comment'>// <span class='texttt'>valarray&lt;char&gt;("dfhkmo", 6)</span>
</span></pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;]
</p></div></div><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span><code class='itemdecl'>
gslice_array&lt;T&gt; operator[](const gslice&amp; gslicearr);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.sub-5'><div class='marginalizedparent'><a class='marginalized' href='#valarray.sub-5'>5</a></div><div class='itemdescr'><p ><i>Returns:</i> An object that holds references to elements of the controlled
sequence selected by <span class='texttt'>gslicearr</span>. [&nbsp;<i>Example:</i>
</p><pre class='codeblock'>
valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
valarray&lt;char&gt; v1("ABCDE", 5);
const size_t lv[] = { 2, 3 };
const size_t dv[] = { 7, 2 };
const valarray&lt;size_t&gt; len(lv, 2), str(dv, 2);
v0[gslice(3, len, str)] = v1;
<span class='comment'>// <span class='texttt'>v0 == valarray&lt;char&gt;("abcAeBgCijDlEnFp", 16)</span>
</span></pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;]
</p></div></div><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span><code class='itemdecl'>
valarray&lt;T&gt; operator[](const valarray&lt;bool&gt;&amp; boolarr) const;
</code></p><div class='itemdescr'></div><div class='para' id='valarray.sub-6'><div class='marginalizedparent'><a class='marginalized' href='#valarray.sub-6'>6</a></div><div class='itemdescr'><p ><i>Returns:</i> An object of class <span class='texttt'>valarray&lt;T&gt;</span> containing those
elements of the controlled sequence designated by <span class='texttt'>boolarr</span>.
[&nbsp;<i>Example:</i>
</p><pre class='codeblock'>
const valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
const bool vb[] = { false, false, true, true, false, true };
<span class='comment'>// <span class='texttt'>v0[valarray&lt;bool&gt;(vb, 6)]</span> returns
</span><span class='comment'>// <span class='texttt'>valarray&lt;char&gt;("cdf", 3)</span>
</span></pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;]
</p></div></div><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span><code class='itemdecl'>
mask_array&lt;T&gt; operator[](const valarray&lt;bool&gt;&amp; boolarr);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.sub-7'><div class='marginalizedparent'><a class='marginalized' href='#valarray.sub-7'>7</a></div><div class='itemdescr'><p ><i>Returns:</i> An object that holds references to elements of the controlled
sequence selected by <span class='texttt'>boolarr</span>. [&nbsp;<i>Example:</i>
</p><pre class='codeblock'>
valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
valarray&lt;char&gt; v1("ABC", 3);
const bool vb[] = { false, false, true, true, false, true };
v0[valarray&lt;bool&gt;(vb, 6)] = v1;
<span class='comment'>// <span class='texttt'>v0 == valarray&lt;char&gt;("abABeCghijklmnop", 16)</span>
</span></pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;]
</p></div></div><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span><code class='itemdecl'>
valarray&lt;T&gt; operator[](const valarray&lt;size_t&gt;&amp; indarr) const;
</code></p><div class='itemdescr'></div><div class='para' id='valarray.sub-8'><div class='marginalizedparent'><a class='marginalized' href='#valarray.sub-8'>8</a></div><div class='itemdescr'><p ><i>Returns:</i> An object of class <span class='texttt'>valarray&lt;T&gt;</span> containing those
elements of the controlled sequence designated by <span class='texttt'>indarr</span>.
[&nbsp;<i>Example:</i>
</p><pre class='codeblock'>
const valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
const size_t vi[] = { 7, 5, 2, 3, 8 };
<span class='comment'>// <span class='texttt'>v0[valarray&lt;size_t&gt;(vi, 5)]</span> returns
</span><span class='comment'>// <span class='texttt'>valarray&lt;char&gt;("hfcdi", 5)</span>
</span></pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;]
</p></div></div><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span><code class='itemdecl'>
indirect_array&lt;T&gt; operator[](const valarray&lt;size_t&gt;&amp; indarr);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.sub-9'><div class='marginalizedparent'><a class='marginalized' href='#valarray.sub-9'>9</a></div><div class='itemdescr'><p ><i>Returns:</i> An object that holds references to elements of the controlled
sequence selected by <span class='texttt'>indarr</span>. [&nbsp;<i>Example:</i>
</p><pre class='codeblock'>
valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
valarray&lt;char&gt; v1("ABCDE", 5);
const size_t vi[] = { 7, 5, 2, 3, 8 };
v0[valarray&lt;size_t&gt;(vi, 5)] = v1;
<span class='comment'>// <span class='texttt'>v0 == valarray&lt;char&gt;("abCDeBgAEjklmnop", 16)</span>
</span></pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;]
</p></div></div></div><div id='valarray.unary'><h4 ><a class='secnum' href='#valarray.unary' style='min-width:118pt'>26.6.2.6</a> <span class='texttt'>valarray</span> unary operators <a class='abbr_ref' href='valarray.unary'>[valarray.unary]</a></h4><p ><span class='indexparent'><a class='index' id='operator+,valarray'></a></span><span class='indexparent'><a class='index' id='operator-,valarray'></a></span><span class='indexparent'><a class='index' id='operator_,valarray'></a></span><span class='indexparent'><a class='index' id='operator!,valarray'></a></span><code class='itemdecl'>
valarray&lt;T&gt; operator+() const;
valarray&lt;T&gt; operator-() const;
valarray&lt;T&gt; operator~() const;
valarray&lt;bool&gt; operator!() const;
</code></p><div class='itemdescr'></div><div class='para' id='valarray.unary-1'><div class='marginalizedparent'><a class='marginalized' href='#valarray.unary-1'>1</a></div><div class='itemdescr'><p >Each of these operators may only be instantiated for a type <span class='texttt'>T</span>
to which the indicated operator can be applied and for which the indicated
operator returns a value which is of type <span class='texttt'>T</span> (<span class='texttt'>bool</span> for
<span class='texttt'>operator!</span>) or which may be unambiguously implicitly converted to type
<span class='texttt'>T</span> (<span class='texttt'>bool</span> for <span class='texttt'>operator!</span>).</p></div></div><div class='para' id='valarray.unary-2'><div class='marginalizedparent'><a class='marginalized' href='#valarray.unary-2'>2</a></div><div class='itemdescr'><p >Each of these operators returns an array whose length is equal to the length
of the array.
Each element of the returned array is initialized with the result of
applying the indicated operator to the corresponding element of the array.
</p></div></div></div><div id='valarray.cassign'><h4 ><a class='secnum' href='#valarray.cassign' style='min-width:118pt'>26.6.2.7</a> <span class='texttt'>valarray</span> computed assignment <a class='abbr_ref' href='valarray.cassign'>[valarray.cassign]</a></h4><p ><span class='indexparent'><a class='index' id='operator*=,valarray'></a></span><span class='indexparent'><a class='index' id='operator/=,valarray'></a></span><span class='indexparent'><a class='index' id='operator%=,valarray'></a></span><span class='indexparent'><a class='index' id='operator+=,valarray'></a></span><span class='indexparent'><a class='index' id='operator-=,valarray'></a></span><span class='indexparent'><a class='index' id='operator^=,valarray'></a></span><span class='indexparent'><a class='index' id='operator&=,valarray'></a></span><span class='indexparent'><a class='index' id='operator|=,valarray'></a></span><span class='indexparent'><a class='index' id='operator<<=,valarray'></a></span><span class='indexparent'><a class='index' id='operator>>=,valarray'></a></span><code class='itemdecl'>
valarray&lt;T&gt;&amp; operator*= (const valarray&lt;T&gt;&amp;);
valarray&lt;T&gt;&amp; operator/= (const valarray&lt;T&gt;&amp;);
valarray&lt;T&gt;&amp; operator%= (const valarray&lt;T&gt;&amp;);
valarray&lt;T&gt;&amp; operator+= (const valarray&lt;T&gt;&amp;);
valarray&lt;T&gt;&amp; operator-= (const valarray&lt;T&gt;&amp;);
valarray&lt;T&gt;&amp; operator^= (const valarray&lt;T&gt;&amp;);
valarray&lt;T&gt;&amp; operator&amp;= (const valarray&lt;T&gt;&amp;);
valarray&lt;T&gt;&amp; operator|= (const valarray&lt;T&gt;&amp;);
valarray&lt;T&gt;&amp; operator&lt;&lt;=(const valarray&lt;T&gt;&amp;);
valarray&lt;T&gt;&amp; operator&gt;&gt;=(const valarray&lt;T&gt;&amp;);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.cassign-1'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cassign-1'>1</a></div><div class='itemdescr'><p >Each of these operators may only be instantiated for a type <span class='texttt'>T</span>
to which the indicated operator can be applied.
Each of these operators
performs the indicated operation on each of its elements and the
corresponding element of the argument array.</p></div></div><div class='para' id='valarray.cassign-2'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cassign-2'>2</a></div><div class='itemdescr'><p >The array is then returned by reference.</p></div></div><div class='para' id='valarray.cassign-3'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cassign-3'>3</a></div><div class='itemdescr'><p >If the array and the
argument array do not have the same length, the behavior is undefined.<span class='indexparent'><a class='index' id='undefined'></a></span>
The appearance of an array on the left-hand side of a computed assignment
does <span class='texttt'>not</span> invalidate references or pointers.</p></div></div><div class='para' id='valarray.cassign-4'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cassign-4'>4</a></div><div class='itemdescr'><p >If the value of an element in the left-hand side of a valarray computed
assignment operator depends on the value of another element in that left
hand side, the resulting behavior is undefined.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator*=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator*='></a></span><span class='indexparent'><a class='index' id='operator/=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator/='></a></span><span class='indexparent'><a class='index' id='operator%=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator%='></a></span><span class='indexparent'><a class='index' id='operator+=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator+='></a></span><span class='indexparent'><a class='index' id='operator-=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator-='></a></span><span class='indexparent'><a class='index' id='operator^=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator^='></a></span><span class='indexparent'><a class='index' id='operator&=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator&='></a></span><span class='indexparent'><a class='index' id='operator|=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator|='></a></span><span class='indexparent'><a class='index' id='operator<<=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator<<='></a></span><span class='indexparent'><a class='index' id='operator>>=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator>>='></a></span><code class='itemdecl'>
valarray&lt;T&gt;&amp; operator*= (const T&amp;);
valarray&lt;T&gt;&amp; operator/= (const T&amp;);
valarray&lt;T&gt;&amp; operator%= (const T&amp;);
valarray&lt;T&gt;&amp; operator+= (const T&amp;);
valarray&lt;T&gt;&amp; operator-= (const T&amp;);
valarray&lt;T&gt;&amp; operator^= (const T&amp;);
valarray&lt;T&gt;&amp; operator&amp;= (const T&amp;);
valarray&lt;T&gt;&amp; operator|= (const T&amp;);
valarray&lt;T&gt;&amp; operator&lt;&lt;=(const T&amp;);
valarray&lt;T&gt;&amp; operator&gt;&gt;=(const T&amp;);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.cassign-5'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cassign-5'>5</a></div><div class='itemdescr'><p >Each of these operators may only be instantiated for a type <span class='texttt'>T</span>
to which the indicated operator can be applied.</p></div></div><div class='para' id='valarray.cassign-6'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cassign-6'>6</a></div><div class='itemdescr'><p >Each of these operators applies the indicated operation to each element
of the array and the non-array argument.</p></div></div><div class='para' id='valarray.cassign-7'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cassign-7'>7</a></div><div class='itemdescr'><p >The array is then returned by reference.</p></div></div><div class='para' id='valarray.cassign-8'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cassign-8'>8</a></div><div class='itemdescr'><p >The appearance of an array on the left-hand side of a computed assignment
does
<i>not</i>
invalidate references or pointers to the elements of the array.
</p></div></div></div><div id='valarray.members'><h4 ><a class='secnum' href='#valarray.members' style='min-width:118pt'>26.6.2.8</a> <span class='texttt'>valarray</span> member functions <a class='abbr_ref' href='valarray.members'>[valarray.members]</a></h4><p ><span class='indexparent'><a class='index' id='swap,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,swap'></a></span><code class='itemdecl'>
void swap(valarray&amp; v) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='valarray.members-1'><div class='marginalizedparent'><a class='marginalized' href='#valarray.members-1'>1</a></div><div class='itemdescr'><p ><i>Effects:</i> <span class='texttt'>*this</span> obtains the value of
<span class='texttt'>v</span>. <span class='texttt'>v</span> obtains the value of <span class='texttt'>*this</span>.</p></div></div><div class='para' id='valarray.members-2'><div class='marginalizedparent'><a class='marginalized' href='#valarray.members-2'>2</a></div><div class='itemdescr'><p ><i>Complexity:</i> Constant.
</p></div></div><p ><span class='indexparent'><a class='index' id='length,valarray'></a></span><code class='itemdecl'>
size_t size() const;
</code></p><div class='itemdescr'></div><div class='para' id='valarray.members-3'><div class='marginalizedparent'><a class='marginalized' href='#valarray.members-3'>3</a></div><div class='itemdescr'><p ><i>Returns:</i> The number of elements in the array.</p></div></div><div class='para' id='valarray.members-4'><div class='marginalizedparent'><a class='marginalized' href='#valarray.members-4'>4</a></div><div class='itemdescr'><p ><i>Complexity:</i> constant time.
</p></div></div><p ><span class='indexparent'><a class='index' id='sum,valarray'></a></span><code class='itemdecl'>
T sum() const;
</code></p><div class='itemdescr'><p >This function may only be instantiated for a type <span class='texttt'>T</span> to which
<span class='texttt'>operator+=</span>
can be applied.
This function returns the sum of all the elements of the array.</p></div><div class='para' id='valarray.members-5'><div class='marginalizedparent'><a class='marginalized' href='#valarray.members-5'>5</a></div><div class='itemdescr'><p >If the array has length 0, the behavior is undefined.<span class='indexparent'><a class='index' id='undefined'></a></span>
If the array has length 1,
<span class='texttt'>sum()</span>
returns the value of element 0.
Otherwise, the returned value is calculated by applying
<span class='texttt'>operator+=</span>
to a copy of an element of the array and
all other elements of the array in an unspecified order.<span class='indexparent'><a class='index' id='unspecified_behavior'></a></span>
</p></div></div><p ><span class='indexparent'><a class='index' id='min,valarray'></a></span><code class='itemdecl'>
T min() const;
</code></p><div class='itemdescr'></div><div class='para' id='valarray.members-6'><div class='marginalizedparent'><a class='marginalized' href='#valarray.members-6'>6</a></div><div class='itemdescr'><p >This function returns the minimum value contained in
<span class='texttt'>*this</span>.
The value returned for an array of length 0 is undefined.
For an array
of length 1, the value of element 0 is returned.
For all other array
lengths, the determination is made using
<span class='texttt'>operator&lt;</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='max,valarray'></a></span><code class='itemdecl'>
T max() const;
</code></p><div class='itemdescr'></div><div class='para' id='valarray.members-7'><div class='marginalizedparent'><a class='marginalized' href='#valarray.members-7'>7</a></div><div class='itemdescr'><p >This function returns the maximum value contained in
<span class='texttt'>*this</span>.
The value returned for an array of length 0 is undefined.
For an array
of length 1, the value of element 0 is returned.
For all other array
lengths, the determination is made using
<span class='texttt'>operator&lt;</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='shift,valarray'></a></span><code class='itemdecl'>
valarray&lt;T&gt; shift(int n) const;
</code></p><div class='itemdescr'></div><div class='para' id='valarray.members-8'><div class='marginalizedparent'><a class='marginalized' href='#valarray.members-8'>8</a></div><div class='itemdescr'><p >This function returns an object of class
<span class='texttt'>valarray&lt;T&gt;</span>
of length
<span class='texttt'>size()</span>,
each of whose elements
<i>I</i>
is
<span class='texttt'>(*this)[I + n]</span>
if
<span class='texttt'>I + n</span>
is non-negative and less than
<span class='texttt'>size()</span>,
otherwise
<span class='texttt'>T()</span>.
Thus if element zero is taken as the leftmost element,
a positive value of <span class='texttt'>n</span> shifts the elements left <span class='texttt'>n</span>
places, with zero fill.</p></div></div><div class='para' id='valarray.members-9'><div class='marginalizedparent'><a class='marginalized' href='#valarray.members-9'>9</a></div><div class='itemdescr'><p >[&nbsp;<i>Example:</i>
If the argument has the value -2,
the first two elements of the result will be value-initialized (<a href='dcl.init'>[dcl.init]</a>); the third element of the result will be assigned the value
of the first element of the argument; etc.
<i>&nbsp;—&nbsp;end example</i>&nbsp;]
<span class='indexparent'><a class='index' id='cshift,valarray'></a></span><code class='itemdecl'>
valarray&lt;T&gt; cshift(int n) const;
</code></p></div></div><div class='para' id='valarray.members-10'><div class='marginalizedparent'><a class='marginalized' href='#valarray.members-10'>10</a></div><div class='itemdescr'><p >This function returns an object of class
<span class='texttt'>valarray&lt;T&gt;</span>
of length
<span class='texttt'>size()</span>
that is a circular shift of <span class='texttt'>*this</span>. If element zero is taken as the leftmost element, a non-negative value of <span class='emph'>n</span> shifts the elements circularly left <span class='emph'>n</span> places and a negative value of <span class='emph'>n</span> shifts the elements circularly right <span class='emph'>-n</span> places.
</p></div></div><p ><span class='indexparent'><a class='index' id='apply,valarray'></a></span><code class='itemdecl'>
valarray&lt;T&gt; apply(T func(T)) const;
valarray&lt;T&gt; apply(T func(const T&amp;)) const;
</code></p><div class='itemdescr'></div><div class='para' id='valarray.members-11'><div class='marginalizedparent'><a class='marginalized' href='#valarray.members-11'>11</a></div><div class='itemdescr'><p >These functions return an array whose length is equal to the array.
Each element of the returned array is assigned
the value returned by applying the argument function to the
corresponding element of the array.</p><p ><span class='indexparent'><a class='index' id='resize,valarray'></a></span><code class='itemdecl'>
void resize(size_t sz, T c = T());
</code></p></div></div><div class='para' id='valarray.members-12'><div class='marginalizedparent'><a class='marginalized' href='#valarray.members-12'>12</a></div><div class='itemdescr'><p >This member function changes the length of the
<span class='texttt'>*this</span>
array to
<span class='texttt'>sz</span>
and then assigns to each element the value of the second argument.
Resizing invalidates all pointers and references to elements in the array.
</p></div></div></div></div></div></body></html>