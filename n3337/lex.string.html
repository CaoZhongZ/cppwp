<!DOCTYPE html><html lang='en'><head><title>[lex.string]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>2</a> Lexical conventions <a class='abbr_ref' href='./#lex'>[lex]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>2.14</a> Literals <a class='abbr_ref' href='lex.literal#lex.string'>[lex.literal]</a></h2><div id='lex.string'><h3 ><a class='secnum' style='min-width:103pt'>2.14.5</a> String literals <a class='abbr_ref'>[lex.string]</a></h3><p ><span class='indexparent'><a class='index' id='literal,string'></a></span></p><pre class='bnf'><a id='nt:string-literal'>string-literal:</a>
    <i ><a href='lex.string#nt:encoding-prefix'>encoding-prefix</a></i><span class='math'><sub ><span class='mathit'>opt</span></sub></span> <span class='terminal'>"</span> <i ><a href='lex.string#nt:s-char-sequence'>s-char-sequence</a></i><span class='math'><sub ><span class='mathit'>opt</span></sub></span> <span class='terminal'>"</span>
    <i ><a href='lex.string#nt:encoding-prefix'>encoding-prefix</a></i><span class='math'><sub ><span class='mathit'>opt</span></sub></span> <span class='terminal'>R</span> <i ><a href='lex.string#nt:raw-string'>raw-string</a></i></pre><pre class='bnf'><a id='nt:encoding-prefix'>encoding-prefix:</a>
  <span class='terminal'>u8</span>
  <span class='terminal'>u</span>
  <span class='terminal'>U</span>
  <span class='terminal'>L</span></pre><pre class='bnf'><a id='nt:s-char-sequence'>s-char-sequence:</a>
    <i ><a href='lex.string#nt:s-char'>s-char</a></i>
    <i ><a href='lex.string#nt:s-char-sequence'>s-char-sequence</a></i> <i ><a href='lex.string#nt:s-char'>s-char</a></i></pre><pre class='bnf'><a id='nt:s-char'>s-char:</a>
&#9;<span class='textnormal'>any member of the source character set except</span>
&#9;&#9;<span class='textnormal'>the double-quote <span class='terminal'>"</span>, backslash <span class='terminal'>\</span>, or new-line character</span>
&#9;<i ><a href='lex.ccon#nt:escape-sequence'>escape-sequence</a></i>
&#9;<i ><a href='lex.charset#nt:universal-character-name'>universal-character-name</a></i></pre><pre class='bnf'><a id='nt:raw-string'>raw-string:</a>
    <span class='terminal'>"</span> <i ><a href='lex.string#nt:d-char-sequence'>d-char-sequence</a></i><span class='math'><sub ><span class='mathit'>opt</span></sub></span> <span class='terminal'>(</span> <i ><a href='lex.string#nt:r-char-sequence'>r-char-sequence</a></i><span class='math'><sub ><span class='mathit'>opt</span></sub></span> <span class='terminal'>)</span> <i ><a href='lex.string#nt:d-char-sequence'>d-char-sequence</a></i><span class='math'><sub ><span class='mathit'>opt</span></sub></span> <span class='terminal'>"</span></pre><pre class='bnf'><a id='nt:r-char-sequence'>r-char-sequence:</a>
    <i ><a href='lex.string#nt:r-char'>r-char</a></i>
    <i ><a href='lex.string#nt:r-char-sequence'>r-char-sequence</a></i> <i ><a href='lex.string#nt:r-char'>r-char</a></i></pre><pre class='bnf'><a id='nt:r-char'>r-char:</a>
&#9;<span class='textnormal'>any member of the source character set, except</span>
&#9;&#9;<span class='textnormal'>a right parenthesis <span class='terminal'>)</span> followed by the initial <span class='rmfamily'></span><i> d-char-sequence</i></span>
&#9;&#9;<span class='textnormal'>(which may be empty) followed by a double quote <span class='terminal'>"</span>.</span></pre><pre class='bnf'><a id='nt:d-char-sequence'>d-char-sequence:</a>
    <i ><a href='lex.string#nt:d-char'>d-char</a></i>
    <i ><a href='lex.string#nt:d-char-sequence'>d-char-sequence</a></i> <i ><a href='lex.string#nt:d-char'>d-char</a></i></pre><pre class='bnf'><a id='nt:d-char'>d-char:</a>
&#9;<span class='textnormal'>any member of the basic source character set except:</span>
&#9;&#9;<span class='textnormal'>space, the left parenthesis <span class='terminal'>(</span>, the right parenthesis <span class='terminal'>)</span>, the backslash <span class='terminal'>\</span>,</span>
&#9;&#9;<span class='textnormal'>and the control characters representing horizontal tab,</span>
&#9;&#9;<span class='textnormal'>vertical tab, form feed, and newline.</span></pre><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><p ><span class='indexparent'><a class='index' id='literal,string'></a></span><span class='indexparent'><a class='index' id='literal,string,narrow'></a></span><span class='indexparent'><a class='index' id='literal,string,wide'></a></span><span class='indexparent'><a class='index' id='literal,string,char16_t'></a></span><span class='indexparent'><a class='index' id='literal,string,char32_t'></a></span><span class='indexparent'><a class='index' id='character_string'></a></span>A string literal is a sequence of characters (as defined
in <a href='lex.ccon'>[lex.ccon]</a>) surrounded by double quotes, optionally prefixed by
<span class='texttt'>R</span>,
<span class='texttt'>u8</span>,
<span class='texttt'>u8R</span>,
<span class='texttt'>u</span>,
<span class='texttt'>uR</span>,
<span class='texttt'>U</span>,
<span class='texttt'>UR</span>,
<span class='texttt'>L</span>,
or <span class='texttt'>LR</span>,
as in
<span class='texttt'>"..."</span>,
<span class='texttt'>R"(...)"</span>,
<span class='texttt'>u8"..."</span>,
<span class='texttt'>u8R"**(...)**"</span>,
<span class='texttt'>u"..."</span>,
<span class='texttt'>uR"*~(...)*~"</span>,
<span class='texttt'>U"..."</span>,
<span class='texttt'>UR"zzz(...)zzz"</span>,
<span class='texttt'>L"..."</span>,
or <span class='texttt'>LR"(...)"</span>,
respectively.</p></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><p >A string literal that has an <span class='texttt'>R</span> in the prefix is a <a class='hidden_link' href='#def:raw_string_literal' id='def:raw_string_literal'><i>raw string literal</i></a>. The
<i ><a href='lex.string#nt:d-char-sequence'>d-char-sequence</a></i> serves as a delimiter. The terminating
<i ><a href='lex.string#nt:d-char-sequence'>d-char-sequence</a></i> of a <i ><a href='lex.string#nt:raw-string'>raw-string</a></i> is the same sequence of
characters as the initial <i ><a href='lex.string#nt:d-char-sequence'>d-char-sequence</a></i>. A <i ><a href='lex.string#nt:d-char-sequence'>d-char-sequence</a></i>
shall consist of at most 16 characters.</p></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><p >[&nbsp;<i>Note:</i> The characters <span class='texttt'>'('</span> and <span class='texttt'>')'</span> are permitted in a
<i ><a href='lex.string#nt:raw-string'>raw-string</a></i>. Thus, <span class='texttt'>R"delimiter((a|b))delimiter"</span> is equivalent to
<span class='texttt'>"(a|b)"</span>. <i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><p >[&nbsp;<i>Note:</i> A source-file new-line in a raw string literal results in a new-line in the
resulting execution <a class='hidden_link' href='#def:string-literal' id='def:string-literal'><i>string-literal</i></a>. Assuming no
whitespace at the beginning of lines in the following example, the assert will succeed:</p><pre class='codeblock'>
const char *p = R"(a\
b
c)";
assert(std::strcmp(p, "a\\\nb\nc") == 0);
</pre><p ><i>&nbsp;—&nbsp;end note</i>&nbsp;]</p></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><p >[&nbsp;<i>Example:</i> The raw string</p><pre class='codeblock'>
R"a(
)\
a"
)a"
</pre><p >is equivalent to <span class='texttt'>"\n)\\\na\"\n"</span>. The raw string</p><pre class='codeblock'>
R"(??)"
</pre><p >is equivalent to <span class='texttt'>"\?\?"</span>. The raw string</p><pre class='codeblock'>
R"#(
)??="
)#"
</pre><p >is equivalent to <span class='texttt'>"\n)\?\?=\"\n"</span>. <i>&nbsp;—&nbsp;end example</i>&nbsp;]</p></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><p ><span class='indexparent'><a class='index' id='string,type_of'></a></span><span class='indexparent'><a class='index' id='literal,string,narrow'></a></span>After translation phase 6, a string literal that does not begin with an <i ><a href='lex.string#nt:encoding-prefix'>encoding-prefix</a></i> is an ordinary string literal, and is initialized with the given characters.</p></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><p >A string literal that begins with <span class='texttt'>u8</span>, such as <span class='texttt'>u8"asdf"</span>, is a UTF-8 string literal and is initialized with the given characters as encoded in UTF-8.</p></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><p >Ordinary string literals and UTF-8 string literals are
also referred to as narrow
string literals. A narrow string literal has type
<span class='indexparent'><a class='index' id='literal,string,type_of'></a></span>“array of <a class='hidden_link' href='#def:n' id='def:n'><i>n</i></a> <span class='texttt'>const char</span>”, where <a class='hidden_link' href='#def:n' id='def:n'><i>n</i></a> is the size of
the string as defined below, and has static storage
duration (<a href='basic.stc'>[basic.stc]</a>).</p></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><p ><span class='indexparent'><a class='index' id='literal,string,char16_t'></a></span>A string literal that begins with <span class='texttt'>u</span>, such as <span class='texttt'>u"asdf"</span>, is
a <span class='texttt'>char16_t</span> string literal. A <span class='texttt'>char16_t</span> string literal has
type “array of <a class='hidden_link' href='#def:n' id='def:n'><i>n</i></a> <span class='texttt'>const char16_t</span>”, where <a class='hidden_link' href='#def:n' id='def:n'><i>n</i></a> is the
size of the string as defined below; it has static storage duration and
is initialized with the given characters. A single <i ><a href='lex.ccon#nt:c-char'>c-char</a></i> may
produce more than one <span class='texttt'>char16_t</span> character in the form of
surrogate pairs.</p></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><p ><span class='indexparent'><a class='index' id='literal,string,char32_t'></a></span>A string literal that begins with <span class='texttt'>U</span>, such as <span class='texttt'>U"asdf"</span>, is
a <span class='texttt'>char32_t</span> string literal. A <span class='texttt'>char32_t</span> string literal has
type “array of <a class='hidden_link' href='#def:n' id='def:n'><i>n</i></a> <span class='texttt'>const char32_t</span>”, where <a class='hidden_link' href='#def:n' id='def:n'><i>n</i></a> is the
size of the string as defined below; it has static storage duration and
is initialized with the given characters.</p></div><div class='para' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><p ><span class='indexparent'><a class='index' id='literal,string,wide'></a></span>A string literal that begins with
<span class='texttt'>L</span>,
such as <span class='texttt'>L"asdf"</span>,
is a wide string literal.
<span class='indexparent'><a class='index' id='stddef.h'></a></span><span class='indexparent'><a class='index' id='wchar_t'></a></span><span class='indexparent'><a class='index' id='literal,string,wide'></a></span><span class='indexparent'><a class='index' id='prefix,L'></a></span>A wide string literal has type “array of <a class='hidden_link' href='#def:n' id='def:n'><i>n</i></a> <span class='texttt'>const
wchar_t</span>”, where <a class='hidden_link' href='#def:n' id='def:n'><i>n</i></a> is the size of the string as defined below; it
has static storage duration and is initialized with the given
characters.</p></div><div class='para' id='12'><div class='marginalizedparent'><a class='marginalized' href='#12'>12</a></div><p ><span class='indexparent'><a class='index' id='literal,string,implementation-defined'></a></span><span class='indexparent'><a class='index' id='string,distinct'></a></span>Whether all string literals are distinct (that is, are stored in
nonoverlapping objects) is <span class='indexparent'><a class='index' id='distinctness_of_string_literals'></a></span>implementation-defined.
<span class='indexparent'><a class='index' id='literal,string,undefined_change_to'></a></span>The effect of attempting to modify a string literal is undefined.</p></div><div class='para' id='13'><div class='marginalizedparent'><a class='marginalized' href='#13'>13</a></div><p ><span class='indexparent'><a class='index' id='concatenation,string'></a></span>In translation phase 6 (<a href='lex.phases'>[lex.phases]</a>), adjacent string literals are concatenated. If
both string literals have the same <i ><a href='lex.string#nt:encoding-prefix'>encoding-prefix</a></i>, the resulting concatenated string literal has
that <i ><a href='lex.string#nt:encoding-prefix'>encoding-prefix</a></i>. If one string literal has no <i ><a href='lex.string#nt:encoding-prefix'>encoding-prefix</a></i>, it is treated as a string literal of
the same <i ><a href='lex.string#nt:encoding-prefix'>encoding-prefix</a></i> as the other operand. If a UTF-8 string literal token is adjacent to a
wide string literal token, the program is ill-formed. Any other concatenations are
conditionally supported with <span class='indexparent'><a class='index' id='concatenation_of_some_types_of_string_literals'></a></span>implementation-defined
behavior. [&nbsp;<i>Note:</i> This
concatenation is an interpretation, not a conversion.
Because the interpretation happens in translation phase 6 (after each character from a
literal has been translated into a value from the appropriate character set), a string
literal's initial rawness has no effect on the interpretation or well-formedness of the
concatenation.
<i>&nbsp;—&nbsp;end note</i>&nbsp;]
Table <a href='#tab:lex.string.concat'>[tab:lex.string.concat]</a> has some examples of valid concatenations.</p><div class='numberedTable' id='tab:lex.string.concat'>Table <a href='#tab:lex.string.concat'>8</a> — String literal concatenations<br><table ><tr class='rowsep'><td colspan='2' class='center'>Source</td><td class='left'>
Means </td><td colspan='2' class='border center'>Source</td><td class='left'>
Means </td><td colspan='2' class='border center'>Source</td><td class='left'>
Means </td></tr><tr ><td class='left'>
<span class='texttt'>u"a"</span> </td><td class='left'> <span class='texttt'>u"b"</span> </td><td class='left'> <span class='texttt'>u"ab"</span> </td><td class='border left'>
<span class='texttt'>U"a"</span> </td><td class='left'> <span class='texttt'>U"b"</span> </td><td class='left'> <span class='texttt'>U"ab"</span> </td><td class='border left'>
<span class='texttt'>L"a"</span> </td><td class='left'> <span class='texttt'>L"b"</span> </td><td class='left'> <span class='texttt'>L"ab"</span> </td></tr><tr ><td class='left'>
<span class='texttt'>u"a"</span> </td><td class='left'> <span class='texttt'>"b"</span>  </td><td class='left'> <span class='texttt'>u"ab"</span> </td><td class='border left'>
<span class='texttt'>U"a"</span> </td><td class='left'> <span class='texttt'>"b"</span>  </td><td class='left'> <span class='texttt'>U"ab"</span> </td><td class='border left'>
<span class='texttt'>L"a"</span> </td><td class='left'> <span class='texttt'>"b"</span>  </td><td class='left'> <span class='texttt'>L"ab"</span> </td></tr><tr ><td class='left'>
<span class='texttt'>"a"</span>  </td><td class='left'> <span class='texttt'>u"b"</span> </td><td class='left'> <span class='texttt'>u"ab"</span> </td><td class='border left'>
<span class='texttt'>"a"</span>  </td><td class='left'> <span class='texttt'>U"b"</span> </td><td class='left'> <span class='texttt'>U"ab"</span> </td><td class='border left'>
<span class='texttt'>"a"</span>  </td><td class='left'> <span class='texttt'>L"b"</span> </td><td class='left'> <span class='texttt'>L"ab"</span> </td></tr></table></div><p >Characters in concatenated strings are kept distinct.</p><p >[&nbsp;<i>Example:</i>
</p><pre class='codeblock'>
"\xA" "B"
</pre><p >contains the two characters <span class='texttt'>'\xA'</span> and <span class='texttt'>'B'</span>
after concatenation (and not the single hexadecimal character
<span class='texttt'>'\xAB'</span>).
<i>&nbsp;—&nbsp;end example</i>&nbsp;]</p></div><div class='para' id='14'><div class='marginalizedparent'><a class='marginalized' href='#14'>14</a></div><p ><span class='indexparent'><a class='index' id='0'></a></span><span class='indexparent'><a class='index' id='0,string_terminator'></a></span><span class='indexparent'><a class='index' id='0,null_character'></a></span>After any necessary concatenation, in translation phase
7 (<a href='lex.phases'>[lex.phases]</a>), <span class='texttt'>'\0'</span> is appended to every
string literal so that programs that scan a string can find its end.</p></div><div class='para' id='15'><div class='marginalizedparent'><a class='marginalized' href='#15'>15</a></div><p ><span class='indexparent'><a class='index' id='encoding,multibyte'></a></span>Escape sequences and universal-character-names in non-raw string literals
have the same meaning as in character literals (<a href='lex.ccon'>[lex.ccon]</a>), except that
the single quote <span class='texttt'>'</span> is representable either by itself or by the escape sequence
<span class='texttt'>\'</span>, and the double quote <span class='texttt'>"</span> shall be preceded by a
<span class='texttt'>\</span>.
<span class='indexparent'><a class='index' id='string,sizeof'></a></span>In a narrow string literal, a universal-character-name may map to more
than one <span class='texttt'>char</span> element due to <a class='hidden_link' href='#def:multibyte_encoding' id='def:multibyte_encoding'><i>multibyte encoding</i></a>. The
size of a <span class='texttt'>char32_t</span> or wide string literal is the total number of
escape sequences, universal-character-names, and other characters, plus
one for the terminating <span class='texttt'>U'\0'</span> or
<span class='texttt'>L'\0'</span>. The size of a <span class='texttt'>char16_t</span> string
literal is the total number of escape sequences,
universal-character-names, and other characters, plus one for each
character requiring a surrogate pair, plus one for the terminating
<span class='texttt'>u'\0'</span>. [&nbsp;<i>Note:</i> The size of a <span class='texttt'>char16_t</span>
string literal is the number of code units, not the number of
characters. <i>&nbsp;—&nbsp;end note</i>&nbsp;] Within <span class='texttt'>char32_t</span> and <span class='texttt'>char16_t</span>
literals, any universal-character-names shall be within the range
<span class='texttt'>0x0</span> to <span class='texttt'>0x10FFFF</span>. The size of a narrow string literal is
the total number of escape sequences and other characters, plus at least
one for the multibyte encoding of each universal-character-name, plus
one for the terminating <span class='texttt'>'\0'</span>.</p></div></div></div></body></html>