<!DOCTYPE html><html lang='en'><head><title>[stmt.select]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>6</a> Statements <a class='abbr_ref' href='./#stmt.stmt'>[stmt.stmt]</a></h1><div id='stmt.select'><h2 ><a class='secnum' style='min-width:88pt'>6.4</a> Selection statements <a class='abbr_ref'>[stmt.select]</a></h2><p ><span class='indexparent'><a class='index' id='statement,selection'></a></span></p><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><p >Selection statements choose one of several flows of control.</p><p ><span class='indexparent'><a class='index' id='statement,if'></a></span><span class='indexparent'><a class='index' id='statement,switch'></a></span></p><pre class='bnf'><a id='nt:selection-statement'>selection-statement:</a>
    <span class='terminal'>if (</span> <i ><a href='stmt.select#nt:condition'>condition</a></i> <span class='terminal'>)</span> <i ><a href='stmt.stmt#nt:statement'>statement</a></i>
    <span class='terminal'>if (</span> <i ><a href='stmt.select#nt:condition'>condition</a></i> <span class='terminal'>)</span> <i ><a href='stmt.stmt#nt:statement'>statement</a></i> <span class='terminal'>else</span> <i ><a href='stmt.stmt#nt:statement'>statement</a></i>
    <span class='terminal'>switch (</span> <i ><a href='stmt.select#nt:condition'>condition</a></i> <span class='terminal'>)</span> <i ><a href='stmt.stmt#nt:statement'>statement</a></i></pre><pre class='bnf'><a id='nt:condition'>condition:</a>
    <i ><a href='expr.comma#nt:expression'>expression</a></i>
    <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class='math'><sub ><span class='mathit'>opt</span></sub></span> <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> <i ><a href='dcl.decl#nt:declarator'>declarator</a></i> <span class='terminal'>=</span> <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>
    <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class='math'><sub ><span class='mathit'>opt</span></sub></span> <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> <i ><a href='dcl.decl#nt:declarator'>declarator</a></i> <i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i></pre><p >See <a href='dcl.meaning'>[dcl.meaning]</a> for the optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> in a condition.
In Clause <a href='stmt.stmt'>[stmt.stmt]</a>, the term <a class='hidden_link' href='#def:substatement' id='def:substatement'><i>substatement</i></a> refers to
the contained <i ><a href='stmt.stmt#nt:statement'>statement</a></i> or <i ><a href='stmt.stmt#nt:statement'>statements</a></i> that appear
in the syntax notation.
<span class='indexparent'><a class='index' id='scope,selection-statement'></a></span>The substatement in a <i ><a href='stmt.select#nt:selection-statement'>selection-statement</a></i> (each substatement,
in the <span class='texttt'>else</span> form of the <span class='texttt'>if</span> statement) implicitly defines
a block scope (<a href='basic.scope'>[basic.scope]</a>). If the substatement in a
selection-statement is a single statement and not a
<span class='grammarterm'>compound-statement,</span> it is as if it was rewritten to be a
compound-statement containing the original substatement.
[&nbsp;<i>Example:</i></p><pre class='codeblock'>
if (x)
  int i;
</pre><p >can be equivalently rewritten as</p><pre class='codeblock'>
if (x) {
  int i;
}
</pre><p >Thus after the <span class='texttt'>if</span> statement, <span class='texttt'>i</span> is no longer in scope.
<i>&nbsp;—&nbsp;end example</i>&nbsp;]</p></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><p ><span class='indexparent'><a class='index' id='condition,rules_for'></a></span>The rules for <i ><a href='stmt.select#nt:condition'>conditions</a></i> apply both to
<i ><a href='stmt.select#nt:selection-statement'>selection-statements</a></i> and to the <span class='texttt'>for</span> and <span class='texttt'>while</span>
statements (<a href='stmt.iter'>[stmt.iter]</a>). The <i ><a href='dcl.decl#nt:declarator'>declarator</a></i> shall not
specify a function or an array. If the <span class='texttt'>auto</span> <span class='rmfamily'></span><i> type-specifier</i> appears in
the <span class='rmfamily'></span><i> type-specifier-seq</i>,
the type of the identifier being declared is deduced from the initializer as described in <a href='dcl.spec.auto'>[dcl.spec.auto]</a>.</p></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><p ><span class='indexparent'><a class='index' id='statement,declaration_in_if'></a></span><span class='indexparent'><a class='index' id='statement,declaration_in_switch'></a></span>A name introduced by a declaration in a <i ><a href='stmt.select#nt:condition'>condition</a></i> (either
introduced by the <i ><a href='dcl.type#nt:type-specifier-seq'>type-specifier-seq</a></i> or the
<i ><a href='dcl.decl#nt:declarator'>declarator</a></i> of the condition) is in scope from its point of
declaration until the end of the substatements controlled by the
condition. If the name is re-declared in the outermost block of a
substatement controlled by the condition, the declaration that
re-declares the name is ill-formed.
[&nbsp;<i>Example:</i></p><pre class='codeblock'>
if (int x = f()) {
  int x;            <span class='comment'>// ill-formed, redeclaration of <span class='texttt'>x</span>
</span>}
else {
  int x;            <span class='comment'>// ill-formed, redeclaration of <span class='texttt'>x</span>
</span>}
</pre><p ><i>&nbsp;—&nbsp;end example</i>&nbsp;]</p></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><p >The value of a <i ><a href='stmt.select#nt:condition'>condition</a></i> that is an initialized declaration
in a statement other than a <span class='texttt'>switch</span> statement is the value of the
declared variable
contextually converted to <span class='texttt'>bool</span> (Clause <a href='conv'>[conv]</a>).
If that
conversion is ill-formed, the program is ill-formed. The value of a
<i ><a href='stmt.select#nt:condition'>condition</a></i> that is an initialized declaration in a
<span class='texttt'>switch</span> statement is the value of the declared variable if it has
integral or enumeration type, or of that variable implicitly converted
to integral or enumeration type otherwise. The value of a
<i ><a href='stmt.select#nt:condition'>condition</a></i> that is an expression is the value of the
expression, contextually converted to <span class='texttt'>bool</span>
for statements other
than <span class='texttt'>switch</span>;
if that conversion is ill-formed, the program is
ill-formed. The value of the condition will be referred to as simply
“the condition” where the usage is unambiguous.</p></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><p >If a <i ><a href='stmt.select#nt:condition'>condition</a></i> can be syntactically resolved as either an
expression or the declaration of a block-scope name, it is interpreted as a
declaration.</p></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><p >In the <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> of a <i ><a href='stmt.select#nt:condition'>condition</a></i>, each
<i ><a href='dcl.spec#nt:decl-specifier'>decl-specifier</a></i> shall be either a <i ><a href='dcl.type#nt:type-specifier'>type-specifier</a></i>
or <span class='texttt'>constexpr</span>.</p></div><div id='stmt.if'><h3 ><a class='secnum' href='#stmt.if' style='min-width:103pt'>6.4.1</a> The <span class='texttt'>if</span> statement <a class='abbr_ref' href='stmt.if'>[stmt.if]</a></h3><p ><span class='indexparent'><a class='index' id='statement,if'></a></span></p><div class='para' id='stmt.if-1'><div class='marginalizedparent'><a class='marginalized' href='#stmt.if-1'>1</a></div><p >If the condition (<a href='stmt.select'>[stmt.select]</a>) yields <span class='texttt'>true</span> the first
substatement is executed. If the <span class='texttt'>else</span> part of the selection
statement is present and the condition yields <span class='texttt'>false</span>, the second
substatement is executed. In the second form of <span class='texttt'>if</span> statement
(the one including <span class='texttt'>else</span>), if the first substatement is also an
<span class='texttt'>if</span> statement then that inner <span class='texttt'>if</span> statement shall contain
an <span class='texttt'>else</span> part.<a class='footnotenum' href='#footnote-85'>85</a></p></div><div class='footnote' id='footnote-85'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-85'>85)</a></div><p >In other words, the <span class='texttt'>else</span> is associated with the nearest un-elsed
<span class='texttt'>if</span>.</p></div></div><div id='stmt.switch'><h3 ><a class='secnum' href='#stmt.switch' style='min-width:103pt'>6.4.2</a> The <span class='texttt'>switch</span> statement <a class='abbr_ref' href='stmt.switch'>[stmt.switch]</a></h3><p ><span class='indexparent'><a class='index' id='statement,switch'></a></span></p><div class='para' id='stmt.switch-1'><div class='marginalizedparent'><a class='marginalized' href='#stmt.switch-1'>1</a></div><p >The <span class='texttt'>switch</span> statement causes control to be transferred to one of
several statements depending on the value of a condition.</p></div><div class='para' id='stmt.switch-2'><div class='marginalizedparent'><a class='marginalized' href='#stmt.switch-2'>2</a></div><p >The condition shall be of integral type, enumeration type, or of a class
type for which a single non-explicit conversion function to integral or enumeration
type exists (<a href='class.conv'>[class.conv]</a>). If the condition is of class type, the
condition is converted by calling that conversion function, and the
result of the conversion is used in place of the original condition for
the remainder of this section. Integral promotions are performed. Any
statement within the <span class='texttt'>switch</span> statement can be labeled with one or
more case labels as follows:</p><pre class='bnf'><span class='indexparent'><a class='index' id='label,case'></a></span><span class='terminal'>case</span> <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i> <span class='terminal'>:</span></pre><p >where the <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i> shall be
a converted constant expression (<a href='expr.const'>[expr.const]</a>) of the
promoted type of the switch condition. No two of the case constants in
the same switch shall have the same value after conversion to the
promoted type of the switch condition.</p></div><div class='para' id='stmt.switch-3'><div class='marginalizedparent'><a class='marginalized' href='#stmt.switch-3'>3</a></div><p ><span class='indexparent'><a class='index' id='label,default'></a></span>There shall be at most one label of the form</p><pre class='codeblock'>
default :
</pre><p >within a <span class='texttt'>switch</span> statement.</p></div><div class='para' id='stmt.switch-4'><div class='marginalizedparent'><a class='marginalized' href='#stmt.switch-4'>4</a></div><p >Switch statements can be nested; a <span class='texttt'>case</span> or <span class='texttt'>default</span> label
is associated with the smallest switch enclosing it.</p></div><div class='para' id='stmt.switch-5'><div class='marginalizedparent'><a class='marginalized' href='#stmt.switch-5'>5</a></div><p >When the <span class='texttt'>switch</span> statement is executed, its condition is
evaluated and compared with each case constant.
<span class='indexparent'><a class='index' id='label,case'></a></span>If one of the case constants is equal to the value of the condition,
control is passed to the statement following the matched case label. If
no case constant matches the condition, and if there is a
<span class='indexparent'><a class='index' id='label,default'></a></span><span class='texttt'>default</span> label, control passes to the statement labeled by the
default label. If no case matches and if there is no <span class='texttt'>default</span>
then none of the statements in the switch is executed.</p></div><div class='para' id='stmt.switch-6'><div class='marginalizedparent'><a class='marginalized' href='#stmt.switch-6'>6</a></div><p ><span class='texttt'>case</span> and <span class='texttt'>default</span> labels in themselves do not alter the
flow of control, which continues unimpeded across such labels. To exit
from a switch, see <span class='texttt'>break</span>, <a href='stmt.break'>[stmt.break]</a>.
[&nbsp;<i>Note:</i>
Usually, the substatement that is the subject of a switch is compound
and <span class='texttt'>case</span> and <span class='texttt'>default</span> labels appear on the top-level
statements contained within the (compound) substatement, but this is not
required.
<span class='indexparent'><a class='index' id='statement,declaration_in_switch'></a></span>Declarations can appear in the substatement of a
<span class='grammarterm'>switch-statement</span>.
<i>&nbsp;—&nbsp;end note</i>&nbsp;]<span class='indexparent'><a class='index' id='statement,selection'></a></span></p></div></div></div></div></body></html>