<!DOCTYPE html><html lang='en'><head><title>[fs.path.type.cvt]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>30</a> Input/output library <a class='abbr_ref' href='./#input.output'>[input.output]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>30.11</a> File systems <a class='abbr_ref' href='filesystems#fs.path.type.cvt'>[filesystems]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>30.11.7</a> Class <span class='texttt'>path</span> <a class='abbr_ref' href='fs.class.path#fs.path.type.cvt'>[fs.class.path]</a></h3><h4 ><a class='secnum' style='min-width:118pt'>30.11.7.2</a> <span class='texttt'>path</span> conversions <a class='abbr_ref' href='fs.path.cvt#fs.path.type.cvt'>[fs.path.cvt]</a></h4><h4 ><a class='secnum' style='min-width:133pt'>30.11.7.2.2</a> <span class='texttt'>path</span> type and encoding conversions <a class='abbr_ref'>[fs.path.type.cvt]</a></h4><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3b306cd7198c3d7657620c1f448bdef04c98dc0e/source/iostreams.tex#L11435'>#</a></div><div id='1.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:native_encoding' id='def:native_encoding'><i >native encoding</i></a> of a narrow character string is
the operating system dependent current encoding
for pathnames (<a href='fs.class.path'>[fs.class.path]</a>)<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>The <a class='hidden_link' href='#def:native_encoding_' id='def:native_encoding_'><i >native encoding</i></a> for wide character strings is
the implementation-defined execution
wide-character set encoding (<a href='lex.charset'>[lex.charset]</a>)<a class='hidden_link' href='#1.sentence-2'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3b306cd7198c3d7657620c1f448bdef04c98dc0e/source/iostreams.tex#L11443'>#</a></div><div id='2.sentence-1' class='sentence'>For member function arguments that take character sequences representing
paths and for member functions returning strings, value type and encoding
conversion is performed if the value type of the argument or return value differs from
<span class='texttt'>path&#x200b;::&#x200b;value_&shy;type</span><a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>For the argument or return value, the method of conversion and the encoding
to be converted to is determined
by its value type:
<ul class='itemize'><li id='2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.1'>(2.1)</a></div><div id='2.1.sentence-1' class='sentence'><span class='texttt'>char</span>: The encoding is the native narrow encoding<a class='hidden_link' href='#2.1.sentence-1'>.</a></div> <div id='2.1.sentence-2' class='sentence'>The method of conversion, if any, is operating system dependent<a class='hidden_link' href='#2.1.sentence-2'>.</a></div> <div id='2.1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#2.1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='2.1.sentence-3' class='sentence'>For POSIX-based operating systems <span class='texttt'>path&#x200b;::&#x200b;value_&shy;type</span> is <span class='texttt'>char</span>
so no conversion from <span class='texttt'>char</span> value type arguments or to <span class='texttt'>char</span>
value type return values is performed<a class='hidden_link' href='#2.1.sentence-3'>.</a></div> <div id='2.1.sentence-4' class='sentence'>For Windows-based operating systems, the
native narrow encoding is determined by calling a Windows API function<a class='hidden_link' href='#2.1.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='2.1.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#2.1.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='2.1.sentence-5' class='sentence'>This results in behavior identical to other C and C++
standard library functions that perform file operations using narrow character
strings to identify paths<a class='hidden_link' href='#2.1.sentence-5'>.</a></div> <div id='2.1.sentence-6' class='sentence'>Changing this behavior would be surprising and error
prone<a class='hidden_link' href='#2.1.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </li><li id='2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.2'>(2.2)</a></div><div id='2.2.sentence-1' class='sentence'><span class='texttt'>wchar_&shy;t</span>: The encoding is the native wide encoding<a class='hidden_link' href='#2.2.sentence-1'>.</a></div> <div id='2.2.sentence-2' class='sentence'>The method of conversion is unspecified<a class='hidden_link' href='#2.2.sentence-2'>.</a></div> <div id='2.2.note-3' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#2.2.note-3'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='2.2.sentence-3' class='sentence'>For Windows-based operating systems <span class='texttt'>path&#x200b;::&#x200b;value_&shy;type</span> is <span class='texttt'>wchar_&shy;t</span>
so no conversion from <span class='texttt'>wchar_&shy;t</span> value type arguments or to <span class='texttt'>wchar_&shy;t</span>
value type return values is performed<a class='hidden_link' href='#2.2.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </li><li id='2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.3'>(2.3)</a></div><div id='2.3.sentence-1' class='sentence'><span class='texttt'>char16_&shy;t</span>: The encoding is UTF-16<a class='hidden_link' href='#2.3.sentence-1'>.</a></div> <div id='2.3.sentence-2' class='sentence'>The method of conversion
is unspecified<a class='hidden_link' href='#2.3.sentence-2'>.</a></div></li><li id='2.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.4'>(2.4)</a></div><div id='2.4.sentence-1' class='sentence'><span class='texttt'>char32_&shy;t</span>: The encoding is UTF-32<a class='hidden_link' href='#2.4.sentence-1'>.</a></div> <div id='2.4.sentence-2' class='sentence'>The method of conversion
is unspecified<a class='hidden_link' href='#2.4.sentence-2'>.</a></div></li></ul></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3b306cd7198c3d7657620c1f448bdef04c98dc0e/source/iostreams.tex#L11480'>#</a></div><div id='3.sentence-1' class='sentence'>If the encoding being converted to has no representation for source
characters, the resulting converted characters, if any, are unspecified<a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>Implementations should not modify member function arguments
if already of type <span class='texttt'>path&#x200b;::&#x200b;value_&shy;type</span><a class='hidden_link' href='#3.sentence-2'>.</a></div></div></div></body></html>