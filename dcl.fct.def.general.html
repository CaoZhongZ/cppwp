<!DOCTYPE html><html lang='en'><head><title>[dcl.fct.def.general]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>8</a> Declarators <a class='abbr_ref' href='./#dcl.decl'>[dcl.decl]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>8.4</a> Function definitions <a class='abbr_ref' href='dcl.fct.def#general'>[dcl.fct.def]</a></h2><div id='dcl.fct.def.general'><h3 ><a class='secnum' style='min-width:103pt'>8.4.1</a> In general <a class='abbr_ref'>[dcl.fct.def.general]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/declarators.tex#L1994'>#</a></div><p ><span class='indexparent'><a class='index' id='body,function'></a></span>Function definitions have the form</p><p ><span class='indexparent'><a class='index' id='function-definition'></a></span></p><pre class='bnf'><a class='nontermdef' id='nt:function-definition'>function-definition:</a>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-texatom" style=""><span id="MJXc-Node-6" class="mjx-mrow"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span id="MJXc-Node-8" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span id="MJXc-Node-9" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i><span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-texatom" style=""><span id="MJXc-Node-6" class="mjx-mrow"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span id="MJXc-Node-8" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span id="MJXc-Node-9" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.decl#nt:declarator'>declarator</a></i> <i ><a href='class.mem#nt:virt-specifier-seq'>virt-specifier-seq</a></i><span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-texatom" style=""><span id="MJXc-Node-6" class="mjx-mrow"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span id="MJXc-Node-8" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span id="MJXc-Node-9" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.fct.def.general#nt:function-body'>function-body</a></i>
</pre><pre class='bnf'><a class='nontermdef' id='nt:function-body'>function-body:</a>
&#9;<i ><a href='class.base.init#nt:ctor-initializer'>ctor-initializer</a></i><span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-1" class="mjx-math"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-texatom" style=""><span id="MJXc-Node-6" class="mjx-mrow"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span id="MJXc-Node-8" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span id="MJXc-Node-9" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='stmt.block#nt:compound-statement'>compound-statement</a></i>
&#9;<i ><a href='except#nt:function-try-block'>function-try-block</a></i>
&#9;<span class='terminal'>= default ;</span>
&#9;<span class='terminal'>= delete ;</span>
</pre><p >Any informal reference to the body of a function should be interpreted as a reference to
the non-terminal <i ><a href='dcl.fct.def.general#nt:function-body'>function-body</a></i>.
The optional <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> in a <i ><a href='dcl.fct.def.general#nt:function-definition'>function-definition</a></i>
appertains to the function.
A <i ><a href='class.mem#nt:virt-specifier-seq'>virt-specifier-seq</a></i> can be part of a <i ><a href='dcl.fct.def.general#nt:function-definition'>function-definition</a></i>
only if it is a <i ><a href='class.mem#nt:member-declaration'>member-declaration</a></i> (<a href='class.mem'>[class.mem]</a>).</p></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/declarators.tex#L2020'>#</a></div><p >In a <i ><a href='dcl.fct.def.general#nt:function-definition'>function-definition</a></i>,
either <span class='texttt'>void</span> <i ><a href='dcl.decl#nt:declarator'>declarator</a></i> <span class='texttt'>;</span>
or <i ><a href='dcl.decl#nt:declarator'>declarator</a></i> <span class='texttt'>;</span>
shall be a well-formed function declaration
as described in <a href='dcl.fct'>[dcl.fct]</a>.
A function shall be defined only in namespace or class scope.</p></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/declarators.tex#L2028'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
a simple example of a complete function definition is</p><p ><span class='indexparent'><a class='index' id='example,function_definition'></a></span></p><pre class='codeblock'>
int max(int a, int b, int c) {
  int m = (a &gt; b) ? a : b;
  return (m &gt; c) ? m : c;
}</pre><p >Here
<span class='texttt'>int</span>
is the
<i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i>;
<span class='texttt'>max(int</span>
<span class='texttt'>a,</span>
<span class='texttt'>int</span>
<span class='texttt'>b,</span>
<span class='texttt'>int</span>
<span class='texttt'>c)</span>
is the
<i ><a href='dcl.decl#nt:declarator'>declarator</a></i>;
<span class='texttt'>{ /* ...&nbsp;*/ }</span>
is the
<i ><a href='dcl.fct.def.general#nt:function-body'>function-body</a></i>.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/declarators.tex#L2057'>#</a></div><p ><span class='indexparent'><a class='index' id='initializer,base_class'></a></span><span class='indexparent'><a class='index' id='initializer,member'></a></span><span class='indexparent'><a class='index' id='definition,constructor'></a></span>A
<i ><a href='class.base.init#nt:ctor-initializer'>ctor-initializer</a></i>
is used only in a constructor; see <a href='class.ctor'>[class.ctor]</a> and <a href='class.init'>[class.init]</a>.</p></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/declarators.tex#L2065'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
A <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i> affects the type of <span class='texttt'>this</span>
in the body of a member function; see <a href='dcl.ref'>[dcl.ref]</a>.
<i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/declarators.tex#L2071'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><i>Note:</i>
Unused parameters need not be named.
For example,</p><p ><span class='indexparent'><a class='index' id='example,unnamed_parameter'></a></span></p><pre class='codeblock'>
void print(int a, int) {
  std::printf("a = %d\n",a);
}</pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/declarators.tex#L2084'>#</a></div><p >In the <i ><a href='dcl.fct.def.general#nt:function-body'>function-body</a></i>, a
<span class='grammarterm'>function-local predefined variable</span> denotes a block-scope object of static
storage duration that is implicitly defined (see <a href='basic.scope.block'>[basic.scope.block]</a>).</p></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d2263429a07205edf8d2ffcd6d41cfe5d61544f8/source/declarators.tex#L2089'>#</a></div><p >The function-local predefined variable <span class='texttt'>_&shy;_&shy;func_&shy;_&shy;</span> is
defined as if a definition of the form
</p><pre class='codeblock'>
static const char __func__[] = "<span class='grammarterm'>function-name</span>";</pre><p >had been provided, where <span class='grammarterm'>function-name</span> is an <span class='indexparent'><a class='index' id='string_resulting_from___func__'></a></span>implementation-defined string.
It is unspecified whether such a variable has an address
distinct from that of any other object in the program.<a class='footnotenum' href='#footnote-103'>103</a>
[<span style='white-space:nowrap'>&thinsp;</span><i>Example:</i>
</p><pre class='codeblock'>
struct S {
  S() : s(__func__) { }             <span class='comment'>// OK
</span>  const char* s;
};
void f(const char* s = __func__);   <span class='comment'>// error: <span class='texttt'>_&shy;_&shy;func_&shy;_&shy;</span> is undeclared
</span></pre><p ><i><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</i><span style='white-space:nowrap'>&thinsp;</span>]</p></div><div class='footnote' id='footnote-103'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-103'>103)</a></div><p >Implementations are
permitted to provide additional predefined variables with names that are reserved to the
implementation (<a href='lex.name'>[lex.name]</a>). If a predefined variable is not
odr-used (<a href='basic.def.odr'>[basic.def.odr]</a>), its string value need not be present in the program image.</p></div></div></div></body></html>