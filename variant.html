<!DOCTYPE html><html lang='en'><head><title>[variant]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>19</a> General utilities library <a class='abbr_ref' href='./#utilities'>[utilities]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>19.7</a> Variants <a class='abbr_ref'>[variant]</a></h2><div id='general' class='section'><h3 ><a class='secnum' href='#general' style='min-width:103pt'>19.7.1</a> In general <a class='abbr_ref' href='variant.general'>[variant.general]</a></h3><div class='para' id='general-1'><div class='marginalizedparent'><a class='marginalized' href='#general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L3694'>#</a></div><div id='general-1.sentence-1' class='sentence'>A variant object holds and manages the lifetime of a value<a class='hidden_link' href='#general-1.sentence-1'>.</a></div> <div id='general-1.sentence-2' class='sentence'>If the <span class='texttt'>variant</span> holds a value, that value's type has to be one
of the template argument types given to variant<a class='hidden_link' href='#general-1.sentence-2'>.</a></div> <div id='general-1.sentence-3' class='sentence'>These template arguments are called alternatives<a class='hidden_link' href='#general-1.sentence-3'>.</a></div></div></div><div id='syn' class='section'><h3 ><a class='secnum' href='#syn' style='min-width:103pt'>19.7.2</a> Header <span class='texttt'>&lt;variant&gt;</span> synopsis <a class='abbr_ref' href='variant.syn'>[variant.syn]</a></h3><span class='indexparent'><a class='index' id=':<variant>'></a></span>
<pre class='codeblock'>
<span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='comment' style='font-style:italic;font-family:serif;'>// <a href='#variant'>[variant.variant]</a>, class template <span class='tcode_in_codeblock'>variant</span></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>class</span> variant;

  <span class='comment' style='font-style:italic;font-family:serif;'>// <a href='#helper'>[variant.helper]</a>, variant helper classes</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> variant_size;                   <span class='comment' style='font-style:italic;font-family:serif;'>// not defined</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> variant_size<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> T<span class='anglebracket'>&gt;</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> variant_size<span class='anglebracket'>&lt;</span><span class='keyword'>volatile</span> T<span class='anglebracket'>&gt;</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> variant_size<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> <span class='keyword'>volatile</span> T<span class='anglebracket'>&gt;</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
    <span class='keyword'>inline</span> <span class='keyword'>constexpr</span> size_t variant_size_v <span class='operator'>=</span> variant_size<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>:</span><span class='operator'>:</span>value;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>struct</span> variant_size<span class='anglebracket'>&lt;</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> variant_alternative;  <span class='comment' style='font-style:italic;font-family:serif;'>// not defined</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> variant_alternative<span class='anglebracket'>&lt;</span>I, <span class='keyword'>const</span> T<span class='anglebracket'>&gt;</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> variant_alternative<span class='anglebracket'>&lt;</span>I, <span class='keyword'>volatile</span> T<span class='anglebracket'>&gt;</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> variant_alternative<span class='anglebracket'>&lt;</span>I, <span class='keyword'>const</span> <span class='keyword'>volatile</span> T<span class='anglebracket'>&gt;</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
    <span class='keyword'>using</span> variant_alternative_t <span class='operator'>=</span> <span class='keyword'>typename</span> variant_alternative<span class='anglebracket'>&lt;</span>I, T<span class='anglebracket'>&gt;</span><span class='operator'>:</span><span class='operator'>:</span>type;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>struct</span> variant_alternative<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;

  <span class='keyword'>inline</span> <span class='keyword'>constexpr</span> size_t variant_npos <span class='operator'>=</span> <span class='operator'>-</span><span class='literal'>1</span>;

  <span class='comment' style='font-style:italic;font-family:serif;'>// <a href='#get'>[variant.get]</a>, value access</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> holds_alternative<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> get<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span> get<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> add_pointer_t<span class='anglebracket'>&lt;</span>variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
      get_if<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> add_pointer_t<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
      get_if<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> add_pointer_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>
      get_if<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> add_pointer_t<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> T<span class='anglebracket'>&gt;</span>
      get_if<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

  <span class='comment' style='font-style:italic;font-family:serif;'>// <a href='#relops'>[variant.relops]</a>, relational operators</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>!</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

  <span class='comment' style='font-style:italic;font-family:serif;'>// <a href='#visit'>[variant.visit]</a>, visitation</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Visitor, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Variants<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='textit'><span class='texttt'>see below</span></span> visit<span class='parenthesis'>(</span>Visitor<span class='operator'>&amp;</span><span class='operator'>&amp;</span>, Variants<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R, <span class='keyword'>class</span> Visitor, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Variants<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> R visit<span class='parenthesis'>(</span>Visitor<span class='operator'>&amp;</span><span class='operator'>&amp;</span>, Variants<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;

  <span class='comment' style='font-style:italic;font-family:serif;'>// <a href='#monostate'>[variant.monostate]</a>, class <span class='tcode_in_codeblock'>monostate</span></span>
  <span class='keyword'>struct</span> monostate;

  <span class='comment' style='font-style:italic;font-family:serif;'>// <a href='#monostate.relops'>[variant.monostate.relops]</a>, <span class='tcode_in_codeblock'>monostate</span> relational operators</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span>monostate, monostate<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>!</span><span class='operator'>=</span><span class='parenthesis'>(</span>monostate, monostate<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='parenthesis'>(</span>monostate, monostate<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>monostate, monostate<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='parenthesis'>(</span>monostate, monostate<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='operator'>=</span><span class='parenthesis'>(</span>monostate, monostate<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

  <span class='comment' style='font-style:italic;font-family:serif;'>// <a href='#specalg'>[variant.specalg]</a>, specialized algorithms</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
    <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='textit'><span class='texttt'>see below</span></span><span class='parenthesis'>)</span>;

  <span class='comment' style='font-style:italic;font-family:serif;'>// <a href='#bad.access'>[variant.bad.access]</a>, class <span class='tcode_in_codeblock'>bad_&shy;variant_&shy;access</span></span>
  <span class='keyword'>class</span> bad_variant_access;

  <span class='comment' style='font-style:italic;font-family:serif;'>// <a href='#hash'>[variant.hash]</a>, hash support</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> hash;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> hash<span class='anglebracket'>&lt;</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> hash<span class='anglebracket'>&lt;</span>monostate<span class='anglebracket'>&gt;</span>;
<span class='curlybracket'>}</span>
</pre><span class='indexparent'><a class='index' id='lib:variant'></a></span></div><div id='variant' class='section'><h3 ><a class='secnum' href='#variant' style='min-width:103pt'>19.7.3</a> Class template <span class='texttt'>variant</span> <a class='abbr_ref' href='variant.variant'>[variant.variant]</a></h3><pre class='codeblock'>
<span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> variant <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='comment' style='font-style:italic;font-family:serif;'>// <a href='#ctor'>[variant.ctor]</a>, constructors</span>
    <span class='keyword'>constexpr</span> variant<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='textit'><span class='texttt'>see below</span></span><span class='parenthesis'>)</span>;
    <span class='keyword'>constexpr</span> variant<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>constexpr</span> variant<span class='parenthesis'>(</span>variant<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='textit'><span class='texttt'>see below</span></span><span class='parenthesis'>)</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> variant<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='textit'><span class='texttt'>see below</span></span><span class='parenthesis'>)</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> variant<span class='parenthesis'>(</span>in_place_type_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> variant<span class='parenthesis'>(</span>in_place_type_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> variant<span class='parenthesis'>(</span>in_place_index_t<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> variant<span class='parenthesis'>(</span>in_place_index_t<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;

    <span class='comment' style='font-style:italic;font-family:serif;'>// <a href='#dtor'>[variant.dtor]</a>, destructor</span>
    <span class='operator'>~</span>variant<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

    <span class='comment' style='font-style:italic;font-family:serif;'>// <a href='#assign'>[variant.assign]</a>, assignment</span>
    <span class='keyword'>constexpr</span> variant<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>constexpr</span> variant<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>variant<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='textit'><span class='texttt'>see below</span></span><span class='parenthesis'>)</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> variant<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='textit'><span class='texttt'>see below</span></span><span class='parenthesis'>)</span>;

    <span class='comment' style='font-style:italic;font-family:serif;'>// <a href='#mod'>[variant.mod]</a>, modifiers</span>
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      T<span class='operator'>&amp;</span> emplace<span class='parenthesis'>(</span>Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      T<span class='operator'>&amp;</span> emplace<span class='parenthesis'>(</span>initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> emplace<span class='parenthesis'>(</span>Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> emplace<span class='parenthesis'>(</span>initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;

    <span class='comment' style='font-style:italic;font-family:serif;'>// <a href='#status'>[variant.status]</a>, value status</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> valueless_by_exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> size_t index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;

    <span class='comment' style='font-style:italic;font-family:serif;'>// <a href='#swap'>[variant.swap]</a>, swap</span>
    <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>variant<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='textit'><span class='texttt'>see below</span></span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</pre><div class='para' id='variant-1'><div class='marginalizedparent'><a class='marginalized' href='#variant-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L3868'>#</a></div><div id='variant-1.sentence-1' class='sentence'>Any instance of <span class='texttt'>variant</span> at any given time either holds a value
of one of its alternative types, or it holds no value<a class='hidden_link' href='#variant-1.sentence-1'>.</a></div> <div id='variant-1.sentence-2' class='sentence'>When an instance of <span class='texttt'>variant</span> holds a value of alternative type <span class='texttt'>T</span>,
it means that a value of type <span class='texttt'>T</span>, referred to as the <span class='texttt'>variant</span>
object's <a class='hidden_link' href='#def:contained_value,variant' id='def:contained_value,variant'><i >contained value</i></a>, is allocated within the storage of the
<span class='texttt'>variant</span> object<a class='hidden_link' href='#variant-1.sentence-2'>.</a></div> <div id='variant-1.sentence-3' class='sentence'>Implementations are not permitted to use additional storage, such as dynamic
memory, to allocate the contained value<a class='hidden_link' href='#variant-1.sentence-3'>.</a></div> <div id='variant-1.sentence-4' class='sentence'>The contained value shall be allocated in a region of the <span class='texttt'>variant</span>
storage suitably aligned for all types in <span class='texttt'>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#variant-1.sentence-4'>.</a></div></div><div class='para' id='variant-2'><div class='marginalizedparent'><a class='marginalized' href='#variant-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L3880'>#</a></div><div id='variant-2.sentence-1' class='sentence'>All types in <span class='texttt'>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> shall be (possibly cv-qualified)
object types that are not arrays<a class='hidden_link' href='#variant-2.sentence-1'>.</a></div></div><div class='para' id='variant-3'><div class='marginalizedparent'><a class='marginalized' href='#variant-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L3884'>#</a></div><div id='variant-3.sentence-1' class='sentence'>A program that instantiates the definition of <span class='texttt'>variant</span> with
no template arguments is ill-formed<a class='hidden_link' href='#variant-3.sentence-1'>.</a></div></div><div id='ctor' class='section'><h4 ><a class='secnum' href='#ctor' style='min-width:118pt'>19.7.3.1</a> Constructors <a class='abbr_ref' href='variant.ctor'>[variant.ctor]</a></h4><div class='para' id='ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#ctor-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L3890'>#</a></div><div id='ctor-1.sentence-1' class='sentence'>In the descriptions that follow, let <span class='math'><span class='mathalpha'>i</span></span> be in the range <span class='texttt'>[</span><span class='texttt'><span class='literal'>0</span>, <span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Types<span class='parenthesis'>)</span></span><span class='texttt'>)</span>,
and <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> be the <span class="mjx-chtml"><span class="mjx-math" aria-label="i^\text{th}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> type in <span class='texttt'>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#ctor-1.sentence-1'>.</a></div> <span class='indexparent'><a class='index' id='lib:variant,constructor'></a></span></div><div class='itemdecl' id='ctor-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#ctor-itemdecl:1'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> variant<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='textit'><span class='texttt'>see below</span></span><span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#ctor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L3900'>#</a></div><div id='ctor-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Constructs a <span class='texttt'>variant</span> holding a value-initialized value of type <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_0"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span><a class='hidden_link' href='#ctor-2.sentence-1'>.</a></div></div></div><div class='para' id='ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#ctor-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L3904'>#</a></div><div id='ctor-3.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>valueless_&shy;by_&shy;exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>false</span></span> and <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>0</span></span><a class='hidden_link' href='#ctor-3.sentence-1'>.</a></div></div></div><div class='para' id='ctor-4'><div class='marginalizedparent'><a class='marginalized' href='#ctor-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L3908'>#</a></div><div id='ctor-4.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exception thrown by the value-initialization of <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_0"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span><a class='hidden_link' href='#ctor-4.sentence-1'>.</a></div></div></div><div class='para' id='ctor-5'><div class='marginalizedparent'><a class='marginalized' href='#ctor-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L3912'>#</a></div><div id='ctor-5.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall be <span class='texttt'><span class='keyword'>constexpr</span></span> if and only if the
value-initialization of the alternative type <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_0"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span> would satisfy the
requirements for a constexpr function<a class='hidden_link' href='#ctor-5.sentence-1'>.</a></div> <div id='ctor-5.sentence-2' class='sentence'>The expression inside <span class='texttt'><span class='keyword'>noexcept</span></span> is equivalent to
<span class='texttt'>is_&shy;nothrow_&shy;default_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_0"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#ctor-5.sentence-2'>.</a></div> <div id='ctor-5.sentence-3' class='sentence'>This function shall not participate in overload resolution unless
<span class='texttt'>is_&shy;default_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_0"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ctor-5.sentence-3'>.</a></div> <div id='ctor-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#ctor-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='ctor-5.sentence-4' class='sentence'>See also class <span class='texttt'>monostate</span><a class='hidden_link' href='#ctor-5.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><span class='indexparent'><a class='index' id='lib:variant,constructor_'></a></span><div class='itemdecl' id='ctor-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#ctor-itemdecl:2'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> variant<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='operator'>&amp;</span> w<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='ctor-6'><div class='marginalizedparent'><a class='marginalized' href='#ctor-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L3930'>#</a></div><div id='ctor-6.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
If <span class='texttt'>w</span> holds a value, initializes the <span class='texttt'>variant</span> to hold the same
alternative as <span class='texttt'>w</span> and direct-initializes the contained value
with <span class='texttt'>get<span class='anglebracket'>&lt;</span>j<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span>, where <span class='texttt'>j</span> is <span class='texttt'>w<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#ctor-6.sentence-1'>.</a></div> <div id='ctor-6.sentence-2' class='sentence'>Otherwise, initializes the <span class='texttt'>variant</span> to not hold a value<a class='hidden_link' href='#ctor-6.sentence-2'>.</a></div></div></div><div class='para' id='ctor-7'><div class='marginalizedparent'><a class='marginalized' href='#ctor-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L3937'>#</a></div><div id='ctor-7.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exception thrown by direct-initializing any <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#ctor-7.sentence-1'>.</a></div></div></div><div class='para' id='ctor-8'><div class='marginalizedparent'><a class='marginalized' href='#ctor-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L3941'>#</a></div><div id='ctor-8.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This constructor shall be defined as deleted unless
<span class='texttt'>is_&shy;copy_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#ctor-8.sentence-1'>.</a></div> <div id='ctor-8.sentence-2' class='sentence'>If <span class='texttt'>is_&shy;trivially_&shy;copy_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span> for all <span class='math'><span class='mathalpha'>i</span></span>, this constructor is trivial<a class='hidden_link' href='#ctor-8.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:variant,constructor__'></a></span><div class='itemdecl' id='ctor-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#ctor-itemdecl:3'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> variant<span class='parenthesis'>(</span>variant<span class='operator'>&amp;</span><span class='operator'>&amp;</span> w<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='textit'><span class='texttt'>see below</span></span><span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='ctor-9'><div class='marginalizedparent'><a class='marginalized' href='#ctor-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L3955'>#</a></div><div id='ctor-9.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
If <span class='texttt'>w</span> holds a value, initializes the <span class='texttt'>variant</span> to hold the same
alternative as <span class='texttt'>w</span> and direct-initializes the contained value with
<span class='texttt'>get<span class='anglebracket'>&lt;</span>j<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>:</span><span class='operator'>:</span>move<span class='parenthesis'>(</span>w<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>, where <span class='texttt'>j</span> is <span class='texttt'>w<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#ctor-9.sentence-1'>.</a></div> <div id='ctor-9.sentence-2' class='sentence'>Otherwise, initializes the <span class='texttt'>variant</span> to not hold a value<a class='hidden_link' href='#ctor-9.sentence-2'>.</a></div></div></div><div class='para' id='ctor-10'><div class='marginalizedparent'><a class='marginalized' href='#ctor-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L3962'>#</a></div><div id='ctor-10.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exception thrown by move-constructing any <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#ctor-10.sentence-1'>.</a></div></div></div><div class='para' id='ctor-11'><div class='marginalizedparent'><a class='marginalized' href='#ctor-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L3966'>#</a></div><div id='ctor-11.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
The expression inside <span class='texttt'><span class='keyword'>noexcept</span></span> is equivalent to the logical AND of
<span class='texttt'>is_&shy;nothrow_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#ctor-11.sentence-1'>.</a></div> <div id='ctor-11.sentence-2' class='sentence'>This function shall not participate in overload resolution unless
<span class='texttt'>is_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#ctor-11.sentence-2'>.</a></div> <div id='ctor-11.sentence-3' class='sentence'>If <span class='texttt'>is_&shy;trivially_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span> for all <span class='math'><span class='mathalpha'>i</span></span>, this constructor is trivial<a class='hidden_link' href='#ctor-11.sentence-3'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:variant,constructor___'></a></span><div class='itemdecl' id='ctor-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#ctor-itemdecl:4'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> variant<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='textit'><span class='texttt'>see below</span></span><span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='ctor-12'><div class='marginalizedparent'><a class='marginalized' href='#ctor-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L3982'>#</a></div><div id='ctor-12.sentence-1' class='sentence'>Let <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span> be a type that is determined as follows:
build an imaginary function <span class='texttt'><span class='textit'>FUN</span><span class='parenthesis'>(</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='parenthesis'>)</span></span>
for each alternative type <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>
for which <span class='texttt'><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> x<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span></span> <span class='texttt'><span class='curlybracket'>{</span>std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>t<span class='parenthesis'>)</span><span class='curlybracket'>}</span>;</span>
is well-formed for some invented variable <span class='texttt'>x</span> and,
if <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is <span class='mathit'>cv</span> <span class='texttt'><span class='keyword'>bool</span></span>, <span class='texttt'>remove_&shy;cvref_&shy;t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#ctor-12.sentence-1'>.</a></div> <div id='ctor-12.sentence-2' class='sentence'>The overload <span class='texttt'><span class='textit'>FUN</span><span class='parenthesis'>(</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span><span class='parenthesis'>)</span></span> selected by overload
resolution for the expression <span class='texttt'><span class='textit'>FUN</span><span class='parenthesis'>(</span>std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>&#x200b;t<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> defines
the alternative <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span> which is the type of the contained value after
construction<a class='hidden_link' href='#ctor-12.sentence-2'>.</a></div></div></div><div class='para' id='ctor-13'><div class='marginalizedparent'><a class='marginalized' href='#ctor-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L3994'>#</a></div><div id='ctor-13.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Initializes <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> to hold the alternative type <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span> and
direct-initializes the contained value as if direct-non-list-initializing it
with <span class='texttt'>std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>t<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ctor-13.sentence-1'>.</a></div></div></div><div class='para' id='ctor-14'><div class='marginalizedparent'><a class='marginalized' href='#ctor-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4000'>#</a></div><div id='ctor-14.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>holds_&shy;alternative<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ctor-14.sentence-1'>.</a></div></div></div><div class='para' id='ctor-15'><div class='marginalizedparent'><a class='marginalized' href='#ctor-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4004'>#</a></div><div id='ctor-15.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exception thrown by the initialization of the selected alternative <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span><a class='hidden_link' href='#ctor-15.sentence-1'>.</a></div></div></div><div class='para' id='ctor-16'><div class='marginalizedparent'><a class='marginalized' href='#ctor-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4008'>#</a></div><div id='ctor-16.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall not participate in overload resolution unless
<ul class='itemize'><li id='ctor-16.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-16.1'>(16.1)</a></div><div id='ctor-16.1.sentence-1' class='sentence'><span class='texttt'><span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Types<span class='parenthesis'>)</span></span> is nonzero,</div></li><li id='ctor-16.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-16.2'>(16.2)</a></div><div id='ctor-16.2.sentence-1' class='sentence'><span class='texttt'>is_&shy;same_&shy;v<span class='anglebracket'>&lt;</span>remove_&shy;cvref_&shy;t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, variant<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</div></li><li id='ctor-16.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-16.3'>(16.3)</a></div><div id='ctor-16.3.sentence-1' class='sentence'><span class='texttt'>remove_&shy;cvref_&shy;t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is neither a specialization
  of <span class='texttt'>in_&shy;place_&shy;type_&shy;t</span> nor a specialization
  of <span class='texttt'>in_&shy;place_&shy;index_&shy;t</span>,</div></li><li id='ctor-16.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-16.4'>(16.4)</a></div><div id='ctor-16.4.sentence-1' class='sentence'><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>, and</div></li><li id='ctor-16.5'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-16.5'>(16.5)</a></div><div id='ctor-16.5.sentence-1' class='sentence'>the expression <span class='texttt'><span class='textit'>FUN</span><span class='parenthesis'>(</span></span>&#x200b;<span class='texttt'>std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>t<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
  (with <span class='texttt'><span class='textit'>FUN</span></span> being the above-mentioned set of
  imaginary functions) is well-formed<a class='hidden_link' href='#ctor-16.5.sentence-1'>.</a></div></li></ul></div></div></div><div class='para' id='ctor-17'><div class='marginalizedparent'><a class='marginalized' href='#ctor-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4032'>#</a></div><div id='ctor-17.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#ctor-17.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='ctor-17.sentence-1' class='sentence'><pre class='codeblock'>
variant<span class='anglebracket'>&lt;</span>string, string<span class='anglebracket'>&gt;</span> v<span class='parenthesis'>(</span><span class='literal'>"abc"</span><span class='parenthesis'>)</span>;
</pre>
is ill-formed, as both alternative types have an equally viable constructor
for the argument<a class='hidden_link' href='#ctor-17.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div class='para' id='ctor-18'><div class='marginalizedparent'><a class='marginalized' href='#ctor-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4040'>#</a></div><div id='ctor-18.sentence-1' class='sentence'>The expression inside <span class='texttt'><span class='keyword'>noexcept</span></span> is equivalent to
<span class='texttt'>is_&shy;nothrow_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>, T<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#ctor-18.sentence-1'>.</a></div> <div id='ctor-18.sentence-2' class='sentence'>If <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>'s selected constructor is a constexpr constructor,
this constructor shall be a constexpr constructor<a class='hidden_link' href='#ctor-18.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:variant,constructor____'></a></span><div class='itemdecl' id='ctor-itemdecl:5'><div class='marginalizedparent'><a class='itemDeclLink' href='#ctor-itemdecl:5'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> variant<span class='parenthesis'>(</span>in_place_type_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='ctor-19'><div class='marginalizedparent'><a class='marginalized' href='#ctor-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4053'>#</a></div><div id='ctor-19.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Initializes the contained value as if direct-non-list-initializing
an object of type <span class='texttt'>T</span>
with the arguments <span class='texttt'>std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#ctor-19.sentence-1'>.</a></div></div></div><div class='para' id='ctor-20'><div class='marginalizedparent'><a class='marginalized' href='#ctor-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4059'>#</a></div><div id='ctor-20.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>holds_&shy;alternative<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ctor-20.sentence-1'>.</a></div></div></div><div class='para' id='ctor-21'><div class='marginalizedparent'><a class='marginalized' href='#ctor-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4063'>#</a></div><div id='ctor-21.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exception thrown by calling the selected constructor of <span class='texttt'>T</span><a class='hidden_link' href='#ctor-21.sentence-1'>.</a></div></div></div><div class='para' id='ctor-22'><div class='marginalizedparent'><a class='marginalized' href='#ctor-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4067'>#</a></div><div id='ctor-22.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall not participate in overload resolution unless there is
exactly one occurrence of <span class='texttt'>T</span> in <span class='texttt'>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> and
<span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ctor-22.sentence-1'>.</a></div> <div id='ctor-22.sentence-2' class='sentence'>If <span class='texttt'>T</span>'s selected constructor is a constexpr constructor, this
constructor shall be a constexpr constructor<a class='hidden_link' href='#ctor-22.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:variant,constructor_____'></a></span><div class='itemdecl' id='ctor-itemdecl:6'><div class='marginalizedparent'><a class='itemDeclLink' href='#ctor-itemdecl:6'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> variant<span class='parenthesis'>(</span>in_place_type_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span> il, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='ctor-23'><div class='marginalizedparent'><a class='marginalized' href='#ctor-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4083'>#</a></div><div id='ctor-23.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Initializes the contained value as if direct-non-list-initializing
an object of type <span class='texttt'>T</span>
with the arguments <span class='texttt'>il, std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#ctor-23.sentence-1'>.</a></div></div></div><div class='para' id='ctor-24'><div class='marginalizedparent'><a class='marginalized' href='#ctor-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4089'>#</a></div><div id='ctor-24.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>holds_&shy;alternative<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ctor-24.sentence-1'>.</a></div></div></div><div class='para' id='ctor-25'><div class='marginalizedparent'><a class='marginalized' href='#ctor-25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4093'>#</a></div><div id='ctor-25.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exception thrown by calling the selected constructor of <span class='texttt'>T</span><a class='hidden_link' href='#ctor-25.sentence-1'>.</a></div></div></div><div class='para' id='ctor-26'><div class='marginalizedparent'><a class='marginalized' href='#ctor-26'>26</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4097'>#</a></div><div id='ctor-26.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall not participate in overload resolution unless there is
exactly one occurrence of <span class='texttt'>T</span> in <span class='texttt'>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> and
<span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, initializer_&shy;list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ctor-26.sentence-1'>.</a></div> <div id='ctor-26.sentence-2' class='sentence'>If <span class='texttt'>T</span>'s selected constructor is a constexpr constructor, this
constructor shall be a constexpr constructor<a class='hidden_link' href='#ctor-26.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:variant,constructor______'></a></span><div class='itemdecl' id='ctor-itemdecl:7'><div class='marginalizedparent'><a class='itemDeclLink' href='#ctor-itemdecl:7'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> variant<span class='parenthesis'>(</span>in_place_index_t<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='ctor-27'><div class='marginalizedparent'><a class='marginalized' href='#ctor-27'>27</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4112'>#</a></div><div id='ctor-27.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Initializes the contained value as if direct-non-list-initializing
an object of type <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_I"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>
with the arguments <span class='texttt'>std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#ctor-27.sentence-1'>.</a></div></div></div><div class='para' id='ctor-28'><div class='marginalizedparent'><a class='marginalized' href='#ctor-28'>28</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4118'>#</a></div><div id='ctor-28.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'>I</span><a class='hidden_link' href='#ctor-28.sentence-1'>.</a></div></div></div><div class='para' id='ctor-29'><div class='marginalizedparent'><a class='marginalized' href='#ctor-29'>29</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4122'>#</a></div><div id='ctor-29.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exception thrown by calling the selected constructor of <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_I"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span><a class='hidden_link' href='#ctor-29.sentence-1'>.</a></div></div></div><div class='para' id='ctor-30'><div class='marginalizedparent'><a class='marginalized' href='#ctor-30'>30</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4126'>#</a></div><div id='ctor-30.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall not participate in overload resolution unless
<ul class='itemize'><li id='ctor-30.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-30.1'>(30.1)</a></div><div id='ctor-30.1.sentence-1' class='sentence'><span class='texttt'>I</span> is less than <span class='texttt'><span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Types<span class='parenthesis'>)</span></span> and</div></li><li id='ctor-30.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-30.2'>(30.2)</a></div><div id='ctor-30.2.sentence-1' class='sentence'><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_I"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ctor-30.2.sentence-1'>.</a></div></li></ul></div> <div id='ctor-30.sentence-2' class='sentence'>
If <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_I"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>'s selected constructor is a constexpr constructor, this
constructor shall be a constexpr constructor<a class='hidden_link' href='#ctor-30.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:variant,constructor_______'></a></span><div class='itemdecl' id='ctor-itemdecl:8'><div class='marginalizedparent'><a class='itemDeclLink' href='#ctor-itemdecl:8'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> variant<span class='parenthesis'>(</span>in_place_index_t<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>, initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span> il, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='ctor-31'><div class='marginalizedparent'><a class='marginalized' href='#ctor-31'>31</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4146'>#</a></div><div id='ctor-31.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Initializes the contained value as if direct-non-list-initializing
an object of type <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_I"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>
with the arguments <span class='texttt'>il, std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#ctor-31.sentence-1'>.</a></div></div></div><div class='para' id='ctor-32'><div class='marginalizedparent'><a class='marginalized' href='#ctor-32'>32</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4152'>#</a></div><div id='ctor-32.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'>I</span><a class='hidden_link' href='#ctor-32.sentence-1'>.</a></div></div></div><div class='para' id='ctor-33'><div class='marginalizedparent'><a class='marginalized' href='#ctor-33'>33</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4156'>#</a></div><div id='ctor-33.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall not participate in overload resolution unless
<ul class='itemize'><li id='ctor-33.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-33.1'>(33.1)</a></div><div id='ctor-33.1.sentence-1' class='sentence'><span class='texttt'>I</span> is less than <span class='texttt'><span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Types<span class='parenthesis'>)</span></span> and</div></li><li id='ctor-33.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-33.2'>(33.2)</a></div><div id='ctor-33.2.sentence-1' class='sentence'><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_I"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>, initializer_&shy;list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ctor-33.2.sentence-1'>.</a></div></li></ul></div> <div id='ctor-33.sentence-2' class='sentence'>
If <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_I"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>'s selected constructor is a constexpr constructor, this
constructor shall be a constexpr constructor<a class='hidden_link' href='#ctor-33.sentence-2'>.</a></div></div></div></div><div id='dtor' class='section'><h4 ><a class='secnum' href='#dtor' style='min-width:118pt'>19.7.3.2</a> Destructor <a class='abbr_ref' href='variant.dtor'>[variant.dtor]</a></h4><span class='indexparent'><a class='index' id='lib:variant,destructor'></a></span><div class='itemdecl' id='dtor-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#dtor-itemdecl:1'>🔗</a></div><code class='itemdeclcode'><span class='operator'>~</span>variant<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='dtor-1'><div class='marginalizedparent'><a class='marginalized' href='#dtor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4177'>#</a></div><div id='dtor-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
If <span class='texttt'>valueless_&shy;by_&shy;exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>false</span></span>,
destroys the currently contained value<a class='hidden_link' href='#dtor-1.sentence-1'>.</a></div></div></div><div class='para' id='dtor-2'><div class='marginalizedparent'><a class='marginalized' href='#dtor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4182'>#</a></div><div id='dtor-2.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
If <span class='texttt'>is_&shy;trivially_&shy;destructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> for all <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>,
then this destructor is trivial<a class='hidden_link' href='#dtor-2.sentence-1'>.</a></div></div></div></div><div id='assign' class='section'><h4 ><a class='secnum' href='#assign' style='min-width:118pt'>19.7.3.3</a> Assignment <a class='abbr_ref' href='variant.assign'>[variant.assign]</a></h4><span class='indexparent'><a class='index' id='lib:operator=,variant'></a></span><span class='indexparent'><a class='index' id='lib:variant,operator='></a></span><div class='itemdecl' id='assign-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#assign-itemdecl:1'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> variant<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='assign-1'><div class='marginalizedparent'><a class='marginalized' href='#assign-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4196'>#</a></div><div id='assign-1.sentence-1' class='sentence'>Let <span class='math'><span class='mathalpha'>j</span></span> be <span class='texttt'>rhs<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#assign-1.sentence-1'>.</a></div></div></div><div class='para' id='assign-2'><div class='marginalizedparent'><a class='marginalized' href='#assign-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4199'>#</a></div><div id='assign-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
<ul class='itemize'><li id='assign-2.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-2.1'>(2.1)</a></div><div id='assign-2.1.sentence-1' class='sentence'>If neither <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> nor <span class='texttt'>rhs</span> holds a value, there is no effect<a class='hidden_link' href='#assign-2.1.sentence-1'>.</a></div></li><li id='assign-2.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-2.2'>(2.2)</a></div><div id='assign-2.2.sentence-1' class='sentence'>Otherwise, if <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> holds a value but <span class='texttt'>rhs</span> does not, destroys the value
contained in <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> and sets <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> to not hold a value<a class='hidden_link' href='#assign-2.2.sentence-1'>.</a></div></li><li id='assign-2.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-2.3'>(2.3)</a></div><div id='assign-2.3.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='math'><span class='mathalpha'>j</span></span></span>, assigns the value contained in <span class='texttt'>rhs</span>
to the value contained in <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#assign-2.3.sentence-1'>.</a></div></li><li id='assign-2.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-2.4'>(2.4)</a></div><div id='assign-2.4.sentence-1' class='sentence'>Otherwise, if either <span class='texttt'>is_&shy;nothrow_&shy;copy_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span> or
<span class='texttt'>is_&shy;nothrow_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,
equivalent to <span class='texttt'>emplace<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>j</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>j</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#assign-2.4.sentence-1'>.</a></div></li><li id='assign-2.5'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-2.5'>(2.5)</a></div><div id='assign-2.5.sentence-1' class='sentence'>Otherwise, equivalent to <span class='texttt'><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>variant<span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#assign-2.5.sentence-1'>.</a></div></li></ul></div></div></div><div class='para' id='assign-3'><div class='marginalizedparent'><a class='marginalized' href='#assign-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4219'>#</a></div><div id='assign-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#assign-3.sentence-1'>.</a></div></div></div><div class='para' id='assign-4'><div class='marginalizedparent'><a class='marginalized' href='#assign-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4222'>#</a></div><div id='assign-4.sentence-1' class='sentence'><span class='textit'>Ensures:</span> <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> rhs<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#assign-4.sentence-1'>.</a></div></div></div><div class='para' id='assign-5'><div class='marginalizedparent'><a class='marginalized' href='#assign-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4225'>#</a></div><div id='assign-5.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This operator shall be defined as deleted unless
<span class='texttt'>is_&shy;copy_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>
<span class='texttt'>is_&shy;copy_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#assign-5.sentence-1'>.</a></div> <div id='assign-5.sentence-2' class='sentence'>If <span class='texttt'>is_&shy;trivially_&shy;copy_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>
<span class='texttt'>is_&shy;trivially_&shy;copy_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>
<span class='texttt'>is_&shy;trivially_&shy;destructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span>
is true for all <span class='math'><span class='mathalpha'>i</span></span>, this assignment operator is trivial<a class='hidden_link' href='#assign-5.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator=,variant_'></a></span><span class='indexparent'><a class='index' id='lib:variant,operator=_'></a></span><div class='itemdecl' id='assign-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#assign-itemdecl:2'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> variant<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>variant<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='textit'><span class='texttt'>see below</span></span><span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='assign-6'><div class='marginalizedparent'><a class='marginalized' href='#assign-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4243'>#</a></div><div id='assign-6.sentence-1' class='sentence'>Let <span class='math'><span class='mathalpha'>j</span></span> be <span class='texttt'>rhs<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#assign-6.sentence-1'>.</a></div></div></div><div class='para' id='assign-7'><div class='marginalizedparent'><a class='marginalized' href='#assign-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4246'>#</a></div><div id='assign-7.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
<ul class='itemize'><li id='assign-7.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-7.1'>(7.1)</a></div><div id='assign-7.1.sentence-1' class='sentence'>If neither <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> nor <span class='texttt'>rhs</span> holds a value, there is no effect<a class='hidden_link' href='#assign-7.1.sentence-1'>.</a></div></li><li id='assign-7.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-7.2'>(7.2)</a></div><div id='assign-7.2.sentence-1' class='sentence'>Otherwise, if <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> holds a value but <span class='texttt'>rhs</span> does not, destroys the value
contained in <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> and sets <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> to not hold a value<a class='hidden_link' href='#assign-7.2.sentence-1'>.</a></div></li><li id='assign-7.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-7.3'>(7.3)</a></div><div id='assign-7.3.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='math'><span class='mathalpha'>j</span></span></span>, assigns <span class='texttt'>get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>j</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>:</span><span class='operator'>:</span>move<span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> to
the value contained in <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#assign-7.3.sentence-1'>.</a></div></li><li id='assign-7.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-7.4'>(7.4)</a></div><div id='assign-7.4.sentence-1' class='sentence'>Otherwise, equivalent to <span class='texttt'>emplace<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>j</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>j</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>:</span><span class='operator'>:</span>move<span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#assign-7.4.sentence-1'>.</a></div></li></ul></div></div></div><div class='para' id='assign-8'><div class='marginalizedparent'><a class='marginalized' href='#assign-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4261'>#</a></div><div id='assign-8.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#assign-8.sentence-1'>.</a></div></div></div><div class='para' id='assign-9'><div class='marginalizedparent'><a class='marginalized' href='#assign-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4264'>#</a></div><div id='assign-9.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall not participate in overload resolution unless
<span class='texttt'>is_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>
<span class='texttt'>is_&shy;move_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span> is
<span class='texttt'><span class='literal'>true</span></span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#assign-9.sentence-1'>.</a></div> <div id='assign-9.sentence-2' class='sentence'>If <span class='texttt'>is_&shy;trivially_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>
<span class='texttt'>is_&shy;trivially_&shy;move_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>
<span class='texttt'>is_&shy;trivially_&shy;destructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span>
is true for all <span class='math'><span class='mathalpha'>i</span></span>, this assignment operator is trivial<a class='hidden_link' href='#assign-9.sentence-2'>.</a></div> <div id='assign-9.sentence-3' class='sentence'>The expression inside <span class='texttt'><span class='keyword'>noexcept</span></span> is equivalent to:
<span class='texttt'>is_&shy;nothrow_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_&shy;nothrow_&shy;move_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#assign-9.sentence-3'>.</a></div> <div id='assign-9.sentence-4' class='sentence'><ul class='itemize'><li id='assign-9.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-9.1'>(9.1)</a></div><div id='assign-9.1.sentence-1' class='sentence'>If an exception is thrown during the call to <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>'s move construction
(with <span class='math'><span class='mathalpha'>j</span></span> being <span class='texttt'>rhs<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>, the <span class='texttt'>variant</span> will hold no value<a class='hidden_link' href='#assign-9.1.sentence-1'>.</a></div></li><li id='assign-9.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-9.2'>(9.2)</a></div><div id='assign-9.2.sentence-1' class='sentence'>If an exception is thrown during the call to <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>'s move assignment,
the state of the contained value is as defined by the exception safety
guarantee of <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>'s move assignment; <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> will be <span class='math'><span class='mathalpha'>j</span></span><a class='hidden_link' href='#assign-9.2.sentence-1'>.</a></div></li></ul></div></div></div><span class='indexparent'><a class='index' id='lib:operator=,variant__'></a></span><span class='indexparent'><a class='index' id='lib:variant,operator=__'></a></span><div class='itemdecl' id='assign-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#assign-itemdecl:3'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> variant<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='textit'><span class='texttt'>see below</span></span><span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='assign-10'><div class='marginalizedparent'><a class='marginalized' href='#assign-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4291'>#</a></div><div id='assign-10.sentence-1' class='sentence'>Let <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span> be a type that is determined as follows:
build an imaginary function <span class='texttt'><span class='textit'>FUN</span><span class='parenthesis'>(</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='parenthesis'>)</span></span>
for each alternative type <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>
for which <span class='texttt'><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> x<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span></span> <span class='texttt'><span class='curlybracket'>{</span>std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>t<span class='parenthesis'>)</span><span class='curlybracket'>}</span>;</span>
is well-formed for some invented variable <span class='texttt'>x</span> and,
if <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is <span class='mathit'>cv</span> <span class='texttt'><span class='keyword'>bool</span></span>, <span class='texttt'>remove_&shy;cvref_&shy;t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#assign-10.sentence-1'>.</a></div> <div id='assign-10.sentence-2' class='sentence'>The overload <span class='texttt'><span class='textit'>FUN</span><span class='parenthesis'>(</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span><span class='parenthesis'>)</span></span> selected by overload
resolution for the expression <span class='texttt'><span class='textit'>FUN</span><span class='parenthesis'>(</span>std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>&#x200b;t<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> defines
the alternative <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span> which is the type of the contained value after
assignment<a class='hidden_link' href='#assign-10.sentence-2'>.</a></div></div></div><div class='para' id='assign-11'><div class='marginalizedparent'><a class='marginalized' href='#assign-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4303'>#</a></div><div id='assign-11.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
<ul class='itemize'><li id='assign-11.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-11.1'>(11.1)</a></div><div id='assign-11.1.sentence-1' class='sentence'>If <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> holds a <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>, assigns <span class='texttt'>std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>t<span class='parenthesis'>)</span></span> to
the value contained in <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#assign-11.1.sentence-1'>.</a></div></li><li id='assign-11.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-11.2'>(11.2)</a></div><div id='assign-11.2.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>is_&shy;nothrow_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>, T<span class='anglebracket'>&gt;</span> <span class='operator'>|</span><span class='operator'>|</span></span>
<span class='texttt'><span class='operator'>!</span>is_&shy;nothrow_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
equivalent to <span class='texttt'>emplace<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>j</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>t<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#assign-11.2.sentence-1'>.</a></div></li><li id='assign-11.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-11.3'>(11.3)</a></div><div id='assign-11.3.sentence-1' class='sentence'>Otherwise, equivalent to <span class='texttt'><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>variant<span class='parenthesis'>(</span>std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>t<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#assign-11.3.sentence-1'>.</a></div></li></ul></div></div></div><div class='para' id='assign-12'><div class='marginalizedparent'><a class='marginalized' href='#assign-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4317'>#</a></div><div id='assign-12.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>holds_&shy;alternative<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>, with <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>
selected by the imaginary function overload resolution described above<a class='hidden_link' href='#assign-12.sentence-1'>.</a></div></div></div><div class='para' id='assign-13'><div class='marginalizedparent'><a class='marginalized' href='#assign-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4322'>#</a></div><div id='assign-13.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#assign-13.sentence-1'>.</a></div></div></div><div class='para' id='assign-14'><div class='marginalizedparent'><a class='marginalized' href='#assign-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4325'>#</a></div><div id='assign-14.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall not participate in overload resolution unless
<ul class='itemize'><li id='assign-14.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-14.1'>(14.1)</a></div><div id='assign-14.1.sentence-1' class='sentence'><span class='texttt'>is_&shy;same_&shy;v<span class='anglebracket'>&lt;</span>remove_&shy;cvref_&shy;t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, variant<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</div></li><li id='assign-14.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-14.2'>(14.2)</a></div><div id='assign-14.2.sentence-1' class='sentence'><span class='texttt'>is_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span><span class='operator'>&amp;</span>, T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>, T<span class='anglebracket'>&gt;</span></span>
  is <span class='texttt'><span class='literal'>true</span></span>, and</div></li><li id='assign-14.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-14.3'>(14.3)</a></div><div id='assign-14.3.sentence-1' class='sentence'>the expression <span class='texttt'><span class='textit'>FUN</span><span class='parenthesis'>(</span>std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>t<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
  (with <span class='texttt'><span class='textit'>FUN</span></span> being the above-mentioned set
  of imaginary functions) is well-formed<a class='hidden_link' href='#assign-14.3.sentence-1'>.</a></div></li></ul></div></div></div><div class='para' id='assign-15'><div class='marginalizedparent'><a class='marginalized' href='#assign-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4342'>#</a></div><div id='assign-15.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#assign-15.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='assign-15.sentence-1' class='sentence'><pre class='codeblock'>
variant<span class='anglebracket'>&lt;</span>string, string<span class='anglebracket'>&gt;</span> v;
v <span class='operator'>=</span> <span class='literal'>"abc"</span>;
</pre>
is ill-formed, as both alternative types have an equally viable constructor
for the argument<a class='hidden_link' href='#assign-15.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div class='para' id='assign-16'><div class='marginalizedparent'><a class='marginalized' href='#assign-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4351'>#</a></div><div id='assign-16.sentence-1' class='sentence'>The expression inside <span class='texttt'><span class='keyword'>noexcept</span></span> is equivalent to:
<pre class='codeblock'>
is_nothrow_assignable_v<span class='anglebracket'>&lt;</span>T<span class="mjx-chtml"><span class="mjx-math" aria-label="_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span><span class='operator'>&amp;</span>, T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_nothrow_constructible_v<span class='anglebracket'>&lt;</span>T<span class="mjx-chtml"><span class="mjx-math" aria-label="_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>, T<span class='anglebracket'>&gt;</span>
</pre>
<ul class='itemize'><li id='assign-16.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-16.1'>(16.1)</a></div><div id='assign-16.1.sentence-1' class='sentence'>If an exception is thrown during the assignment of <span class='texttt'>std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>t<span class='parenthesis'>)</span></span>
to the value contained in <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span>, the state of the contained value and
<span class='texttt'>t</span> are as defined by the exception safety guarantee of the assignment
expression; <span class='texttt'>valueless_&shy;by_&shy;exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> will be <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#assign-16.1.sentence-1'>.</a></div></li><li id='assign-16.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-16.2'>(16.2)</a></div><div id='assign-16.2.sentence-1' class='sentence'>If an exception is thrown during the initialization of the contained value,
the <span class='texttt'>variant</span> object might not hold a value<a class='hidden_link' href='#assign-16.2.sentence-1'>.</a></div></li></ul></div></div></div></div><div id='mod' class='section'><h4 ><a class='secnum' href='#mod' style='min-width:118pt'>19.7.3.4</a> Modifiers <a class='abbr_ref' href='variant.mod'>[variant.mod]</a></h4><span class='indexparent'><a class='index' id='lib:emplace,variant'></a></span><span class='indexparent'><a class='index' id='lib:variant,emplace'></a></span><div class='itemdecl' id='mod-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#mod-itemdecl:1'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span> T<span class='operator'>&amp;</span> emplace<span class='parenthesis'>(</span>Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='mod-1'><div class='marginalizedparent'><a class='marginalized' href='#mod-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4374'>#</a></div><div id='mod-1.sentence-1' class='sentence'>Let <span class='math'><span class='mathalpha'>I</span></span> be the zero-based index of <span class='texttt'>T</span> in <span class='texttt'>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#mod-1.sentence-1'>.</a></div></div></div><div class='para' id='mod-2'><div class='marginalizedparent'><a class='marginalized' href='#mod-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4377'>#</a></div><div id='mod-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to: <span class='texttt'><span class='keyword'>return</span> emplace<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>I</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;</span></div></div></div><div class='para' id='mod-3'><div class='marginalizedparent'><a class='marginalized' href='#mod-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4381'>#</a></div><div id='mod-3.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall not participate in overload resolution unless
<span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>, and <span class='texttt'>T</span> occurs
exactly once in <span class='texttt'>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#mod-3.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:emplace,variant_'></a></span><span class='indexparent'><a class='index' id='lib:variant,emplace_'></a></span><div class='itemdecl' id='mod-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#mod-itemdecl:2'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span> T<span class='operator'>&amp;</span> emplace<span class='parenthesis'>(</span>initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span> il, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='mod-4'><div class='marginalizedparent'><a class='marginalized' href='#mod-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4394'>#</a></div><div id='mod-4.sentence-1' class='sentence'>Let <span class='math'><span class='mathalpha'>I</span></span> be the zero-based index of <span class='texttt'>T</span> in <span class='texttt'>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#mod-4.sentence-1'>.</a></div></div></div><div class='para' id='mod-5'><div class='marginalizedparent'><a class='marginalized' href='#mod-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4397'>#</a></div><div id='mod-5.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to: <span class='texttt'><span class='keyword'>return</span> emplace<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>I</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>il, std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;</span></div></div></div><div class='para' id='mod-6'><div class='marginalizedparent'><a class='marginalized' href='#mod-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4401'>#</a></div><div id='mod-6.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall not participate in overload resolution unless
<span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, initializer_&shy;list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
and <span class='texttt'>T</span> occurs exactly once in <span class='texttt'>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#mod-6.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:emplace,variant__'></a></span><span class='indexparent'><a class='index' id='lib:variant,emplace__'></a></span><div class='itemdecl' id='mod-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#mod-itemdecl:3'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> emplace<span class='parenthesis'>(</span>Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='mod-7'><div class='marginalizedparent'><a class='marginalized' href='#mod-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4415'>#</a></div><div id='mod-7.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
<span class='texttt'>I <span class='anglebracket'>&lt;</span> <span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Types<span class='parenthesis'>)</span></span><a class='hidden_link' href='#mod-7.sentence-1'>.</a></div></div></div><div class='para' id='mod-8'><div class='marginalizedparent'><a class='marginalized' href='#mod-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4419'>#</a></div><div id='mod-8.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Destroys the currently contained value if <span class='texttt'>valueless_&shy;by_&shy;exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#mod-8.sentence-1'>.</a></div> <div id='mod-8.sentence-2' class='sentence'>Then initializes the contained value as if direct-non-list-initializing
a value of type <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_I"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>
with the arguments <span class='texttt'>std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#mod-8.sentence-2'>.</a></div></div></div><div class='para' id='mod-9'><div class='marginalizedparent'><a class='marginalized' href='#mod-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4427'>#</a></div><div id='mod-9.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'>I</span><a class='hidden_link' href='#mod-9.sentence-1'>.</a></div></div></div><div class='para' id='mod-10'><div class='marginalizedparent'><a class='marginalized' href='#mod-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4431'>#</a></div><div id='mod-10.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
A reference to the new contained value<a class='hidden_link' href='#mod-10.sentence-1'>.</a></div></div></div><div class='para' id='mod-11'><div class='marginalizedparent'><a class='marginalized' href='#mod-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4435'>#</a></div><div id='mod-11.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exception thrown during the initialization of the contained value<a class='hidden_link' href='#mod-11.sentence-1'>.</a></div></div></div><div class='para' id='mod-12'><div class='marginalizedparent'><a class='marginalized' href='#mod-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4439'>#</a></div><div id='mod-12.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall not participate in overload resolution unless
<span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_I"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#mod-12.sentence-1'>.</a></div> <div id='mod-12.sentence-2' class='sentence'>If an exception is thrown during the initialization of the contained value,
the <span class='texttt'>variant</span> might not hold a value<a class='hidden_link' href='#mod-12.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:emplace,variant___'></a></span><span class='indexparent'><a class='index' id='lib:variant,emplace___'></a></span><div class='itemdecl' id='mod-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#mod-itemdecl:4'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> emplace<span class='parenthesis'>(</span>initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span> il, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='mod-13'><div class='marginalizedparent'><a class='marginalized' href='#mod-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4454'>#</a></div><div id='mod-13.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
<span class='texttt'>I <span class='anglebracket'>&lt;</span> <span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Types<span class='parenthesis'>)</span></span><a class='hidden_link' href='#mod-13.sentence-1'>.</a></div></div></div><div class='para' id='mod-14'><div class='marginalizedparent'><a class='marginalized' href='#mod-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4458'>#</a></div><div id='mod-14.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Destroys the currently contained value if <span class='texttt'>valueless_&shy;by_&shy;exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#mod-14.sentence-1'>.</a></div> <div id='mod-14.sentence-2' class='sentence'>Then initializes the contained value as if direct-non-list-initializing
a value of type <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_I"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>
with the arguments <span class='texttt'>il, std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#mod-14.sentence-2'>.</a></div></div></div><div class='para' id='mod-15'><div class='marginalizedparent'><a class='marginalized' href='#mod-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4466'>#</a></div><div id='mod-15.sentence-1' class='sentence'><span class='textit'>Ensures:</span> 
<span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'>I</span><a class='hidden_link' href='#mod-15.sentence-1'>.</a></div></div></div><div class='para' id='mod-16'><div class='marginalizedparent'><a class='marginalized' href='#mod-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4470'>#</a></div><div id='mod-16.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
A reference to the new contained value<a class='hidden_link' href='#mod-16.sentence-1'>.</a></div></div></div><div class='para' id='mod-17'><div class='marginalizedparent'><a class='marginalized' href='#mod-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4474'>#</a></div><div id='mod-17.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exception thrown during the initialization of the contained value<a class='hidden_link' href='#mod-17.sentence-1'>.</a></div></div></div><div class='para' id='mod-18'><div class='marginalizedparent'><a class='marginalized' href='#mod-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4478'>#</a></div><div id='mod-18.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall not participate in overload resolution unless
<span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_I"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>, initializer_&shy;list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#mod-18.sentence-1'>.</a></div> <div id='mod-18.sentence-2' class='sentence'>If an exception is thrown during the initialization of the contained value,
the <span class='texttt'>variant</span> might not hold a value<a class='hidden_link' href='#mod-18.sentence-2'>.</a></div></div></div></div><div id='status' class='section'><h4 ><a class='secnum' href='#status' style='min-width:118pt'>19.7.3.5</a> Value status <a class='abbr_ref' href='variant.status'>[variant.status]</a></h4><span class='indexparent'><a class='index' id='lib:valueless_by_exception,variant'></a></span><span class='indexparent'><a class='index' id='lib:variant,valueless_by_exception'></a></span><div class='itemdecl' id='status-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#status-itemdecl:1'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>bool</span> valueless_by_exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='status-1'><div class='marginalizedparent'><a class='marginalized' href='#status-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4494'>#</a></div><div id='status-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Returns <span class='texttt'><span class='literal'>false</span></span> if and only if the <span class='texttt'>variant</span> holds a value<a class='hidden_link' href='#status-1.sentence-1'>.</a></div></div></div><div class='para' id='status-2'><div class='marginalizedparent'><a class='marginalized' href='#status-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4498'>#</a></div><div id='status-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#status-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='status-2.sentence-1' class='sentence'>A <span class='texttt'>variant</span> might not hold a value if an exception is thrown during a
type-changing assignment or emplacement<a class='hidden_link' href='#status-2.sentence-1'>.</a></div> <div id='status-2.sentence-2' class='sentence'>The latter means that even a
<span class='texttt'>variant<span class='anglebracket'>&lt;</span><span class='keyword'>float</span>, <span class='keyword'>int</span><span class='anglebracket'>&gt;</span></span> can become <span class='texttt'>valueless_&shy;by_&shy;exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, for
instance by
<pre class='codeblock'>
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span> <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>throw</span> <span class='literal'>42</span>; <span class='curlybracket'>}</span><span class='curlybracket'>}</span>;
variant<span class='anglebracket'>&lt;</span><span class='keyword'>float</span>, <span class='keyword'>int</span><span class='anglebracket'>&gt;</span> v<span class='curlybracket'>{</span><span class='literal'>12.f</span><span class='curlybracket'>}</span>;
v<span class='operator'>.</span>emplace<span class='anglebracket'>&lt;</span><span class='literal'>1</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>S<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</pre></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><span class='indexparent'><a class='index' id='lib:index,variant'></a></span><span class='indexparent'><a class='index' id='lib:variant,index'></a></span><div class='itemdecl' id='status-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#status-itemdecl:2'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> size_t index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='status-3'><div class='marginalizedparent'><a class='marginalized' href='#status-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4518'>#</a></div><div id='status-3.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
If <span class='texttt'>valueless_&shy;by_&shy;exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>, returns <span class='texttt'>variant_&shy;npos</span><a class='hidden_link' href='#status-3.sentence-1'>.</a></div> <div id='status-3.sentence-2' class='sentence'>Otherwise, returns the zero-based index of the alternative of the contained value<a class='hidden_link' href='#status-3.sentence-2'>.</a></div></div></div></div><div id='swap' class='section'><h4 ><a class='secnum' href='#swap' style='min-width:118pt'>19.7.3.6</a> Swap <a class='abbr_ref' href='variant.swap'>[variant.swap]</a></h4><span class='indexparent'><a class='index' id='lib:swap,variant'></a></span><span class='indexparent'><a class='index' id='lib:variant,swap'></a></span><div class='itemdecl' id='swap-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#swap-itemdecl:1'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>void</span> swap<span class='parenthesis'>(</span>variant<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='textit'><span class='texttt'>see below</span></span><span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='swap-1'><div class='marginalizedparent'><a class='marginalized' href='#swap-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4532'>#</a></div><div id='swap-1.sentence-1' class='sentence'><span class='textit'>Requires:</span> Lvalues of type <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> shall be swappable (<a href='swappable.requirements'>[swappable.requirements]</a>) and
<span class='texttt'>is_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span> shall be <span class='texttt'><span class='literal'>true</span></span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#swap-1.sentence-1'>.</a></div></div></div><div class='para' id='swap-2'><div class='marginalizedparent'><a class='marginalized' href='#swap-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4536'>#</a></div><div id='swap-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
<ul class='itemize'><li id='swap-2.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#swap-2.1'>(2.1)</a></div><div id='swap-2.1.sentence-1' class='sentence'>If <span class='texttt'>valueless_&shy;by_&shy;exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='operator'>.</span>valueless_&shy;by_&shy;exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> no effect<a class='hidden_link' href='#swap-2.1.sentence-1'>.</a></div></li><li id='swap-2.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#swap-2.2'>(2.2)</a></div><div id='swap-2.2.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> rhs<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, calls <span class='texttt'>swap<span class='parenthesis'>(</span>get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>, get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> where <span class='math'><span class='mathalpha'>i</span></span> is <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#swap-2.2.sentence-1'>.</a></div></li><li id='swap-2.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#swap-2.3'>(2.3)</a></div><div id='swap-2.3.sentence-1' class='sentence'>Otherwise, exchanges values of <span class='texttt'>rhs</span> and <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#swap-2.3.sentence-1'>.</a></div></li></ul></div></div></div><div class='para' id='swap-3'><div class='marginalizedparent'><a class='marginalized' href='#swap-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4547'>#</a></div><div id='swap-3.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
If <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> rhs<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
any exception thrown by <span class='texttt'>swap<span class='parenthesis'>(</span>get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>, get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#swap-3.sentence-1'>.</a></div> <div id='swap-3.sentence-2' class='sentence'>Otherwise, any exception thrown by the move constructor
of <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> or <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>
with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> and <span class='math'><span class='mathalpha'>j</span></span> being <span class='texttt'>rhs<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#swap-3.sentence-2'>.</a></div></div></div><div class='para' id='swap-4'><div class='marginalizedparent'><a class='marginalized' href='#swap-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4556'>#</a></div><div id='swap-4.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
If an exception is thrown during the call to function <span class='texttt'>swap<span class='parenthesis'>(</span>get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>, get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>,
the states of the contained values of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> and of <span class='texttt'>rhs</span> are
determined by the exception safety guarantee of <span class='texttt'>swap</span> for lvalues of
<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#swap-4.sentence-1'>.</a></div> <div id='swap-4.sentence-2' class='sentence'>If an exception is thrown during the exchange of the values of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span>
and <span class='texttt'>rhs</span>, the states of the values of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> and of <span class='texttt'>rhs</span>
are determined by the exception safety guarantee of <span class='texttt'>variant</span>'s move constructor<a class='hidden_link' href='#swap-4.sentence-2'>.</a></div> <div id='swap-4.sentence-3' class='sentence'>The expression inside <span class='texttt'><span class='keyword'>noexcept</span></span> is equivalent to the logical AND of
<span class='texttt'>is_&shy;nothrow_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_&shy;nothrow_&shy;swappable_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#swap-4.sentence-3'>.</a></div></div></div></div></div><div id='helper' class='section'><h3 ><a class='secnum' href='#helper' style='min-width:103pt'>19.7.4</a> <span class='texttt'>variant</span> helper classes <a class='abbr_ref' href='variant.helper'>[variant.helper]</a></h3><span class='indexparent'><a class='index' id='lib:variant_size'></a></span><div class='itemdecl' id='helper-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#helper-itemdecl:1'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> variant_size;
</code></div><div class='itemdescr'></div><div class='para' id='helper-1'><div class='marginalizedparent'><a class='marginalized' href='#helper-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4577'>#</a></div><div id='helper-1.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
All specializations of <span class='texttt'>variant_&shy;size</span> shall satisfy the
<span class='textit'>Cpp17UnaryTypeTrait</span> requirements (<a href='meta.rqmts'>[meta.rqmts]</a>)
with a base characteristic of <span class='texttt'>integral_&shy;constant<span class='anglebracket'>&lt;</span>size_&shy;t, N<span class='anglebracket'>&gt;</span></span> for some <span class='texttt'>N</span><a class='hidden_link' href='#helper-1.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:variant_size_'></a></span><div class='itemdecl' id='helper-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#helper-itemdecl:2'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> variant_size<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> T<span class='anglebracket'>&gt;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> variant_size<span class='anglebracket'>&lt;</span><span class='keyword'>volatile</span> T<span class='anglebracket'>&gt;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> variant_size<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> <span class='keyword'>volatile</span> T<span class='anglebracket'>&gt;</span>;
</code></div><div class='itemdescr'></div><div class='para' id='helper-2'><div class='marginalizedparent'><a class='marginalized' href='#helper-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4592'>#</a></div><div id='helper-2.sentence-1' class='sentence'>Let <span class='texttt'>VS</span> denote <span class='texttt'>variant_&shy;size<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> of the cv-unqualified
type <span class='texttt'>T</span><a class='hidden_link' href='#helper-2.sentence-1'>.</a></div> <div id='helper-2.sentence-2' class='sentence'>Then each of the three templates shall satisfy the
<span class='textit'>Cpp17UnaryTypeTrait</span> requirements (<a href='meta.rqmts'>[meta.rqmts]</a>) with a
base characteristic of <span class='texttt'>integral_&shy;constant<span class='anglebracket'>&lt;</span>size_&shy;t, VS<span class='operator'>:</span><span class='operator'>:</span>value<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#helper-2.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:variant_size__'></a></span><div class='itemdecl' id='helper-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#helper-itemdecl:3'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>struct</span> variant_size<span class='anglebracket'>&lt;</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span> <span class='operator'>:</span> integral_constant<span class='anglebracket'>&lt;</span>size_t, <span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Types<span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
</code></div><span class='indexparent'><a class='index' id='lib:variant_alternative'></a></span><div class='itemdecl' id='helper-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#helper-itemdecl:4'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> variant_alternative<span class='anglebracket'>&lt;</span>I, <span class='keyword'>const</span> T<span class='anglebracket'>&gt;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> variant_alternative<span class='anglebracket'>&lt;</span>I, <span class='keyword'>volatile</span> T<span class='anglebracket'>&gt;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> variant_alternative<span class='anglebracket'>&lt;</span>I, <span class='keyword'>const</span> <span class='keyword'>volatile</span> T<span class='anglebracket'>&gt;</span>;
</code></div><div class='itemdescr'></div><div class='para' id='helper-3'><div class='marginalizedparent'><a class='marginalized' href='#helper-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4614'>#</a></div><div id='helper-3.sentence-1' class='sentence'>Let <span class='texttt'>VA</span> denote <span class='texttt'>variant_&shy;alternative<span class='anglebracket'>&lt;</span>I, T<span class='anglebracket'>&gt;</span></span> of the
cv-unqualified type <span class='texttt'>T</span><a class='hidden_link' href='#helper-3.sentence-1'>.</a></div> <div id='helper-3.sentence-2' class='sentence'>Then each of the three templates shall
meet the <span class='textit'>Cpp17TransformationTrait</span> requirements (<a href='meta.rqmts'>[meta.rqmts]</a>) with a
member typedef <span class='texttt'>type</span> that names the following type:
<ul class='itemize'><li id='helper-3.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#helper-3.1'>(3.1)</a></div><div id='helper-3.1.sentence-1' class='sentence'>for the first specialization, <span class='texttt'>add_&shy;const_&shy;t<span class='anglebracket'>&lt;</span>VA<span class='operator'>:</span><span class='operator'>:</span>type<span class='anglebracket'>&gt;</span></span>,</div></li><li id='helper-3.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#helper-3.2'>(3.2)</a></div><div id='helper-3.2.sentence-1' class='sentence'>for the second specialization, <span class='texttt'>add_&shy;volatile_&shy;t<span class='anglebracket'>&lt;</span>VA<span class='operator'>:</span><span class='operator'>:</span>type<span class='anglebracket'>&gt;</span></span>, and</div></li><li id='helper-3.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#helper-3.3'>(3.3)</a></div><div id='helper-3.3.sentence-1' class='sentence'>for the third specialization, <span class='texttt'>add_&shy;cv_&shy;t<span class='anglebracket'>&lt;</span>VA<span class='operator'>:</span><span class='operator'>:</span>type<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#helper-3.3.sentence-1'>.</a></div></li></ul></div></div></div><span class='indexparent'><a class='index' id='lib:variant_alternative_'></a></span><div class='itemdecl' id='helper-itemdecl:5'><div class='marginalizedparent'><a class='itemDeclLink' href='#helper-itemdecl:5'>🔗</a></div><code class='itemdeclcode'>variant_alternative<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>:</span><span class='operator'>:</span>type
</code></div><div class='itemdescr'></div><div class='para' id='helper-4'><div class='marginalizedparent'><a class='marginalized' href='#helper-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4632'>#</a></div><div id='helper-4.sentence-1' class='sentence'><span class='textit'>Requires:</span> <span class='texttt'>I <span class='anglebracket'>&lt;</span> <span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Types<span class='parenthesis'>)</span></span><a class='hidden_link' href='#helper-4.sentence-1'>.</a></div> <div id='helper-4.sentence-2' class='sentence'>The program is ill-formed if <span class='texttt'>I</span> is out of bounds<a class='hidden_link' href='#helper-4.sentence-2'>.</a></div></div></div><div class='para' id='helper-5'><div class='marginalizedparent'><a class='marginalized' href='#helper-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4636'>#</a></div><div id='helper-5.sentence-1' class='sentence'><span class='textit'>Value:</span> The type <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_I"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span><a class='hidden_link' href='#helper-5.sentence-1'>.</a></div></div></div></div><div id='get' class='section'><h3 ><a class='secnum' href='#get' style='min-width:103pt'>19.7.5</a> Value access <a class='abbr_ref' href='variant.get'>[variant.get]</a></h3><span class='indexparent'><a class='index' id='lib:holds_alternative'></a></span>
<span class='indexparent'><a class='index' id='lib:variant,holds_alternative'></a></span><div class='itemdecl' id='get-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#get-itemdecl:1'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> holds_alternative<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='get-1'><div class='marginalizedparent'><a class='marginalized' href='#get-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4650'>#</a></div><div id='get-1.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
The type <span class='texttt'>T</span> occurs exactly once in <span class='texttt'>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#get-1.sentence-1'>.</a></div> <div id='get-1.sentence-2' class='sentence'>Otherwise, the program is ill-formed<a class='hidden_link' href='#get-1.sentence-2'>.</a></div></div></div><div class='para' id='get-2'><div class='marginalizedparent'><a class='marginalized' href='#get-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4655'>#</a></div><div id='get-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'><span class='literal'>true</span></span> if <span class='texttt'>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is equal to the zero-based index of <span class='texttt'>T</span> in <span class='texttt'>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#get-2.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:get,variant'></a></span><span class='indexparent'><a class='index' id='lib:variant,get'></a></span><div class='itemdecl' id='get-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#get-itemdecl:2'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>const</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>const</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='get-3'><div class='marginalizedparent'><a class='marginalized' href='#get-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4673'>#</a></div><div id='get-3.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
<span class='texttt'>I <span class='anglebracket'>&lt;</span> <span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Types<span class='parenthesis'>)</span></span><a class='hidden_link' href='#get-3.sentence-1'>.</a></div> <div id='get-3.sentence-2' class='sentence'>Otherwise, the program is ill-formed<a class='hidden_link' href='#get-3.sentence-2'>.</a></div></div></div><div class='para' id='get-4'><div class='marginalizedparent'><a class='marginalized' href='#get-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4678'>#</a></div><div id='get-4.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
If <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'>I</span>, returns a reference to the object stored in
the <span class='texttt'>variant</span><a class='hidden_link' href='#get-4.sentence-1'>.</a></div> <div id='get-4.sentence-2' class='sentence'>Otherwise, throws an exception of type <span class='texttt'>bad_&shy;variant_&shy;access</span><a class='hidden_link' href='#get-4.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:get,variant_'></a></span><span class='indexparent'><a class='index' id='lib:variant,get_'></a></span><div class='itemdecl' id='get-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#get-itemdecl:3'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> get<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span> get<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> get<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='get-5'><div class='marginalizedparent'><a class='marginalized' href='#get-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4693'>#</a></div><div id='get-5.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
The type <span class='texttt'>T</span> occurs exactly once in <span class='texttt'>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#get-5.sentence-1'>.</a></div> <div id='get-5.sentence-2' class='sentence'>Otherwise, the program is ill-formed<a class='hidden_link' href='#get-5.sentence-2'>.</a></div></div></div><div class='para' id='get-6'><div class='marginalizedparent'><a class='marginalized' href='#get-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4698'>#</a></div><div id='get-6.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
If <span class='texttt'>v</span> holds a value of type <span class='texttt'>T</span>, returns a reference to that value<a class='hidden_link' href='#get-6.sentence-1'>.</a></div> <div id='get-6.sentence-2' class='sentence'>Otherwise, throws an exception of type <span class='texttt'>bad_&shy;variant_&shy;access</span><a class='hidden_link' href='#get-6.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:get_if'></a></span><span class='indexparent'><a class='index' id='lib:variant,get_if'></a></span><div class='itemdecl' id='get-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#get-itemdecl:4'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> add_pointer_t<span class='anglebracket'>&lt;</span>variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
    get_if<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span> v<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t I, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> add_pointer_t<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> variant_alternative_t<span class='anglebracket'>&lt;</span>I, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
    get_if<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span> v<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='get-7'><div class='marginalizedparent'><a class='marginalized' href='#get-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4716'>#</a></div><div id='get-7.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
<span class='texttt'>I <span class='anglebracket'>&lt;</span> <span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Types<span class='parenthesis'>)</span></span><a class='hidden_link' href='#get-7.sentence-1'>.</a></div> <div id='get-7.sentence-2' class='sentence'>Otherwise, the program is ill-formed<a class='hidden_link' href='#get-7.sentence-2'>.</a></div></div></div><div class='para' id='get-8'><div class='marginalizedparent'><a class='marginalized' href='#get-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4721'>#</a></div><div id='get-8.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
A pointer to the value stored in the <span class='texttt'>variant</span>, if <span class='texttt'>v <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>nullptr</span></span>
and <span class='texttt'>v<span class='operator'>-</span><span class='anglebracket'>&gt;</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> I</span><a class='hidden_link' href='#get-8.sentence-1'>.</a></div> <div id='get-8.sentence-2' class='sentence'>Otherwise, returns <span class='texttt'><span class='literal'>nullptr</span></span><a class='hidden_link' href='#get-8.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:get_if_'></a></span><span class='indexparent'><a class='index' id='lib:variant,get_if_'></a></span><div class='itemdecl' id='get-itemdecl:5'><div class='marginalizedparent'><a class='itemDeclLink' href='#get-itemdecl:5'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> add_pointer_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>
    get_if<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span> v<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> add_pointer_t<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> T<span class='anglebracket'>&gt;</span>
    get_if<span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span> v<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='get-9'><div class='marginalizedparent'><a class='marginalized' href='#get-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4739'>#</a></div><div id='get-9.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
The type <span class='texttt'>T</span> occurs exactly once in <span class='texttt'>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#get-9.sentence-1'>.</a></div> <div id='get-9.sentence-2' class='sentence'>Otherwise, the program is ill-formed<a class='hidden_link' href='#get-9.sentence-2'>.</a></div></div></div><div class='para' id='get-10'><div class='marginalizedparent'><a class='marginalized' href='#get-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4744'>#</a></div><div id='get-10.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to: <span class='texttt'><span class='keyword'>return</span> get_&shy;if<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span>;</span> with <span class='math'><span class='mathalpha'>i</span></span> being the zero-based
index of <span class='texttt'>T</span> in <span class='texttt'>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#get-10.sentence-1'>.</a></div></div></div></div><div id='relops' class='section'><h3 ><a class='secnum' href='#relops' style='min-width:103pt'>19.7.6</a> Relational operators <a class='abbr_ref' href='variant.relops'>[variant.relops]</a></h3><span class='indexparent'><a class='index' id='lib:operator==,variant'></a></span><span class='indexparent'><a class='index' id='lib:variant,operator=='></a></span><div class='itemdecl' id='relops-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#relops-itemdecl:1'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v, <span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> w<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='relops-1'><div class='marginalizedparent'><a class='marginalized' href='#relops-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4759'>#</a></div><div id='relops-1.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
<span class='texttt'>get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span> is a valid expression returning a type that is
convertible to <span class='texttt'><span class='keyword'>bool</span></span>, for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#relops-1.sentence-1'>.</a></div></div></div><div class='para' id='relops-2'><div class='marginalizedparent'><a class='marginalized' href='#relops-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4764'>#</a></div><div id='relops-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
If <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> w<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>false</span></span>;
otherwise if <span class='texttt'>v<span class='operator'>.</span>valueless_&shy;by_&shy;exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>true</span></span>;
otherwise <span class='texttt'>get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span> with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#relops-2.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator!=,variant'></a></span><span class='indexparent'><a class='index' id='lib:variant,operator!='></a></span><div class='itemdecl' id='relops-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#relops-itemdecl:2'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>!</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v, <span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> w<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='relops-3'><div class='marginalizedparent'><a class='marginalized' href='#relops-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4778'>#</a></div><div id='relops-3.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
<span class='texttt'>get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span> is a valid expression returning a type that is
convertible to <span class='texttt'><span class='keyword'>bool</span></span>, for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#relops-3.sentence-1'>.</a></div></div></div><div class='para' id='relops-4'><div class='marginalizedparent'><a class='marginalized' href='#relops-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4783'>#</a></div><div id='relops-4.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
If <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> w<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>true</span></span>;
otherwise if <span class='texttt'>v<span class='operator'>.</span>valueless_&shy;by_&shy;exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>false</span></span>;
otherwise <span class='texttt'>get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span> with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#relops-4.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator<,variant'></a></span><span class='indexparent'><a class='index' id='lib:variant,operator<'></a></span><div class='itemdecl' id='relops-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#relops-itemdecl:3'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v, <span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> w<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='relops-5'><div class='marginalizedparent'><a class='marginalized' href='#relops-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4797'>#</a></div><div id='relops-5.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
<span class='texttt'>get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span> get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span> is a valid expression returning a type that is
convertible to <span class='texttt'><span class='keyword'>bool</span></span>, for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#relops-5.sentence-1'>.</a></div></div></div><div class='para' id='relops-6'><div class='marginalizedparent'><a class='marginalized' href='#relops-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4802'>#</a></div><div id='relops-6.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
If <span class='texttt'>w<span class='operator'>.</span>valueless_&shy;by_&shy;exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>false</span></span>;
otherwise if <span class='texttt'>v<span class='operator'>.</span>valueless_&shy;by_&shy;exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>true</span></span>;
otherwise, if <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span> w<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>true</span></span>;
otherwise if <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='anglebracket'>&gt;</span> w<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>false</span></span>;
otherwise <span class='texttt'>get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span> get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span> with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#relops-6.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator>,variant'></a></span><span class='indexparent'><a class='index' id='lib:variant,operator>'></a></span><div class='itemdecl' id='relops-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#relops-itemdecl:4'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v, <span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> w<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='relops-7'><div class='marginalizedparent'><a class='marginalized' href='#relops-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4818'>#</a></div><div id='relops-7.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
<span class='texttt'>get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span> <span class='anglebracket'>&gt;</span> get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span> is a valid expression returning a type that is
convertible to <span class='texttt'><span class='keyword'>bool</span></span>, for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#relops-7.sentence-1'>.</a></div></div></div><div class='para' id='relops-8'><div class='marginalizedparent'><a class='marginalized' href='#relops-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4823'>#</a></div><div id='relops-8.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
If <span class='texttt'>v<span class='operator'>.</span>valueless_&shy;by_&shy;exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>false</span></span>;
otherwise if <span class='texttt'>w<span class='operator'>.</span>valueless_&shy;by_&shy;exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>true</span></span>;
otherwise, if <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='anglebracket'>&gt;</span> w<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>true</span></span>;
otherwise if <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span> w<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>false</span></span>;
otherwise <span class='texttt'>get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span> <span class='anglebracket'>&gt;</span> get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span> with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#relops-8.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator<=,variant'></a></span><span class='indexparent'><a class='index' id='lib:variant,operator<='></a></span><div class='itemdecl' id='relops-itemdecl:5'><div class='marginalizedparent'><a class='itemDeclLink' href='#relops-itemdecl:5'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v, <span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> w<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='relops-9'><div class='marginalizedparent'><a class='marginalized' href='#relops-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4839'>#</a></div><div id='relops-9.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
<span class='texttt'>get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span><span class='operator'>=</span> get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span> is a valid expression returning a type that is
convertible to <span class='texttt'><span class='keyword'>bool</span></span>, for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#relops-9.sentence-1'>.</a></div></div></div><div class='para' id='relops-10'><div class='marginalizedparent'><a class='marginalized' href='#relops-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4844'>#</a></div><div id='relops-10.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
If <span class='texttt'>v<span class='operator'>.</span>valueless_&shy;by_&shy;exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>true</span></span>;
otherwise if <span class='texttt'>w<span class='operator'>.</span>valueless_&shy;by_&shy;exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>false</span></span>;
otherwise, if <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span> w<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>true</span></span>;
otherwise if <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='anglebracket'>&gt;</span> w<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>false</span></span>;
otherwise <span class='texttt'>get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span><span class='operator'>=</span> get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span> with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#relops-10.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator>=,variant'></a></span><span class='indexparent'><a class='index' id='lib:variant,operator>='></a></span><div class='itemdecl' id='relops-itemdecl:6'><div class='marginalizedparent'><a class='itemDeclLink' href='#relops-itemdecl:6'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v, <span class='keyword'>const</span> variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> w<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='relops-11'><div class='marginalizedparent'><a class='marginalized' href='#relops-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4860'>#</a></div><div id='relops-11.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
<span class='texttt'>get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span> <span class='anglebracket'>&gt;</span><span class='operator'>=</span> get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span> is a valid expression returning a type that is
convertible to <span class='texttt'><span class='keyword'>bool</span></span>, for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#relops-11.sentence-1'>.</a></div></div></div><div class='para' id='relops-12'><div class='marginalizedparent'><a class='marginalized' href='#relops-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4865'>#</a></div><div id='relops-12.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
If <span class='texttt'>w<span class='operator'>.</span>valueless_&shy;by_&shy;exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>true</span></span>;
otherwise if <span class='texttt'>v<span class='operator'>.</span>valueless_&shy;by_&shy;exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>false</span></span>;
otherwise, if <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='anglebracket'>&gt;</span> w<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>true</span></span>;
otherwise if <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span> w<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>false</span></span>;
otherwise <span class='texttt'>get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span> <span class='anglebracket'>&gt;</span><span class='operator'>=</span> get<span class='anglebracket'>&lt;</span><span class='math'><span class='mathalpha'>i</span></span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span> with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>v<span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#relops-12.sentence-1'>.</a></div></div></div></div><div id='visit' class='section'><h3 ><a class='secnum' href='#visit' style='min-width:103pt'>19.7.7</a> Visitation <a class='abbr_ref' href='variant.visit'>[variant.visit]</a></h3><span class='indexparent'><a class='index' id='lib:visit'></a></span><span class='indexparent'><a class='index' id='lib:variant,visit'></a></span><div class='itemdecl' id='visit-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#visit-itemdecl:1'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Visitor, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Variants<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='textit'><span class='texttt'>see below</span></span> visit<span class='parenthesis'>(</span>Visitor<span class='operator'>&amp;</span><span class='operator'>&amp;</span> vis, Variants<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> vars<span class='parenthesis'>)</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R, <span class='keyword'>class</span> Visitor, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Variants<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> R visit<span class='parenthesis'>(</span>Visitor<span class='operator'>&amp;</span><span class='operator'>&amp;</span> vis, Variants<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> vars<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='visit-1'><div class='marginalizedparent'><a class='marginalized' href='#visit-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4886'>#</a></div><div id='visit-1.sentence-1' class='sentence'>Let <span class='math'><span class='mathalpha'>n</span></span> be <span class='texttt'><span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Variants<span class='parenthesis'>)</span></span><a class='hidden_link' href='#visit-1.sentence-1'>.</a></div> <div id='visit-1.sentence-2' class='sentence'>Let <span class='texttt'>m</span> be a pack of <span class='math'><span class='mathalpha'>n</span></span>
values of type <span class='texttt'>size_&shy;t</span><a class='hidden_link' href='#visit-1.sentence-2'>.</a></div> <div id='visit-1.sentence-3' class='sentence'>Such a pack is called valid if <span class="mjx-chtml"><span class="mjx-math" aria-label="0 \leq{}
\texttt{m}_i &lt; \texttt{variant_size_v&lt;remove_reference_t&lt;Variants}_i\texttt{&gt;&gt;}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">≤</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">m</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&lt;</span></span><span class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">variant_size_v<span class='anglebracket'>&lt;</span>remove_reference_t<span class='anglebracket'>&lt;</span>Variants</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.22em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;"><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span></span></span></span></span></span></span> for
all <span class="mjx-chtml"><span class="mjx-math" aria-label="0 \leq {}i &lt; n"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">≤</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&lt;</span></span><span class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span><a class='hidden_link' href='#visit-1.sentence-3'>.</a></div> <div id='visit-1.sentence-4' class='sentence'>For each valid pack <span class='math'><span class='texttt'>m</span></span>, let <span class='math'><span class='mathalpha'>e</span>(<span class='texttt'>m</span>)</span>
denote the expression:
<pre class='codeblock'>
<span class='textit'>INVOKE</span><span class='parenthesis'>(</span>std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>Visitor<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>vis<span class='parenthesis'>)</span>, get<span class='anglebracket'>&lt;</span>m<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>Variants<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>vars<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='comment' style='font-style:italic;font-family:serif;'>// see <a href='func.require'>[func.require]</a></span>
</pre>
for the first form and
<pre class='codeblock'>
<span class='textit'>INVOKE</span><span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>Visitor<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>vis<span class='parenthesis'>)</span>, get<span class='anglebracket'>&lt;</span>m<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>Variants<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>vars<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='comment' style='font-style:italic;font-family:serif;'>// see <a href='func.require'>[func.require]</a></span>
</pre>
for the second form<a class='hidden_link' href='#visit-1.sentence-4'>.</a></div></div></div><div class='para' id='visit-2'><div class='marginalizedparent'><a class='marginalized' href='#visit-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4901'>#</a></div><div id='visit-2.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
For each valid pack <span class='texttt'>m</span>, <span class='math'><span class='mathalpha'>e</span>(<span class='texttt'>m</span>)</span> shall be a valid expression<a class='hidden_link' href='#visit-2.sentence-1'>.</a></div> <div id='visit-2.sentence-2' class='sentence'>All such expressions shall be of the same type and value category;
otherwise, the program is ill-formed<a class='hidden_link' href='#visit-2.sentence-2'>.</a></div></div></div><div class='para' id='visit-3'><div class='marginalizedparent'><a class='marginalized' href='#visit-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4907'>#</a></div><div id='visit-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='math'><span class='mathalpha'>e</span>(<span class='texttt'>m</span>)</span>, where <span class='texttt'>m</span> is the pack for which
<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{m}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">m</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is <span class='texttt'>vars<span class="mjx-chtml"><span class="mjx-math" aria-label="_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='operator'>.</span>index<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> for all <span class="mjx-chtml"><span class="mjx-math" aria-label="0 \leq {}i &lt; n"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">≤</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&lt;</span></span><span class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span><a class='hidden_link' href='#visit-3.sentence-1'>.</a></div> <div id='visit-3.sentence-2' class='sentence'>The return type is <span class='math'><span class='texttt'><span class='keyword'>decltype</span><span class='parenthesis'>(</span></span><span class='mathalpha'>e</span>(<span class='texttt'>m</span>)<span class='texttt'><span class='parenthesis'>)</span></span></span>
for the first form<a class='hidden_link' href='#visit-3.sentence-2'>.</a></div></div></div><div class='para' id='visit-4'><div class='marginalizedparent'><a class='marginalized' href='#visit-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4913'>#</a></div><div id='visit-4.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
<span class='texttt'>bad_&shy;variant_&shy;access</span> if any <span class='texttt'>variant</span> in <span class='texttt'>vars</span> is <span class='texttt'>valueless_&shy;by_&shy;exception<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#visit-4.sentence-1'>.</a></div></div></div><div class='para' id='visit-5'><div class='marginalizedparent'><a class='marginalized' href='#visit-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4917'>#</a></div><div id='visit-5.sentence-1' class='sentence'><span class='textit'>Complexity:</span> 
For <span class="mjx-chtml"><span class="mjx-math" aria-label="n \leq {}1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">≤</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span>, the invocation of the callable object is
implemented in constant time, i.e., for <span class="mjx-chtml"><span class="mjx-math" aria-label="n = 1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span><span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span>, it does not depend on
the number of alternative types of <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{Variants}_0"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">Variants</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span><a class='hidden_link' href='#visit-5.sentence-1'>.</a></div> <div id='visit-5.sentence-2' class='sentence'>For <span class="mjx-chtml"><span class="mjx-math" aria-label="n &gt; 1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&gt;</span></span><span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span>, the invocation of the callable object has
no complexity requirements<a class='hidden_link' href='#visit-5.sentence-2'>.</a></div></div></div></div><div id='monostate' class='section'><h3 ><a class='secnum' href='#monostate' style='min-width:103pt'>19.7.8</a> Class <span class='texttt'>monostate</span> <a class='abbr_ref' href='variant.monostate'>[variant.monostate]</a></h3><div id='lib:monostate'>
<div class='itemdecl' id='monostate-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#monostate-itemdecl:1'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>struct</span> monostate<span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
</code></div>
</div><div class='itemdescr'></div><div class='para' id='monostate-1'><div class='marginalizedparent'><a class='marginalized' href='#monostate-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4935'>#</a></div><div id='monostate-1.sentence-1' class='sentence'>The class <span class='texttt'>monostate</span> can serve as a first alternative type for
a <span class='texttt'>variant</span> to make the <span class='texttt'>variant</span> type default constructible<a class='hidden_link' href='#monostate-1.sentence-1'>.</a></div></div></div></div><div id='monostate.relops' class='section'><h3 ><a class='secnum' href='#monostate.relops' style='min-width:103pt'>19.7.9</a> <span class='texttt'>monostate</span> relational operators <a class='abbr_ref' href='variant.monostate.relops'>[variant.monostate.relops]</a></h3><span class='indexparent'><a class='index' id='lib:operator==,monostate'></a></span><span class='indexparent'><a class='index' id='lib:operator!=,monostate'></a></span><span class='indexparent'><a class='index' id='lib:operator<,monostate'></a></span><span class='indexparent'><a class='index' id='lib:operator>,monostate'></a></span><span class='indexparent'><a class='index' id='lib:operator<=,monostate'></a></span><span class='indexparent'><a class='index' id='lib:operator>=,monostate'></a></span><div class='itemdecl' id='monostate.relops-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#monostate.relops-itemdecl:1'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span>monostate, monostate<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>true</span>; <span class='curlybracket'>}</span>
<span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>!</span><span class='operator'>=</span><span class='parenthesis'>(</span>monostate, monostate<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>false</span>; <span class='curlybracket'>}</span>
<span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='parenthesis'>(</span>monostate, monostate<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>false</span>; <span class='curlybracket'>}</span>
<span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>monostate, monostate<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>false</span>; <span class='curlybracket'>}</span>
<span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='parenthesis'>(</span>monostate, monostate<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>true</span>; <span class='curlybracket'>}</span>
<span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='operator'>=</span><span class='parenthesis'>(</span>monostate, monostate<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>true</span>; <span class='curlybracket'>}</span>
</code></div><div class='itemdescr'></div><div class='para' id='monostate.relops-1'><div class='marginalizedparent'><a class='marginalized' href='#monostate.relops-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4959'>#</a></div><div id='monostate.relops-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#monostate.relops-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='monostate.relops-1.sentence-1' class='sentence'><span class='texttt'>monostate</span> objects have only a single state; they thus always compare equal<a class='hidden_link' href='#monostate.relops-1.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div></div><div id='specalg' class='section'><h3 ><a class='secnum' href='#specalg' style='min-width:103pt'>19.7.10</a> Specialized algorithms <a class='abbr_ref' href='variant.specalg'>[variant.specalg]</a></h3><span class='indexparent'><a class='index' id='lib:swap,variant_'></a></span><div class='itemdecl' id='specalg-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#specalg-itemdecl:1'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> v, variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> w<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='textit'><span class='texttt'>see below</span></span><span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='specalg-1'><div class='marginalizedparent'><a class='marginalized' href='#specalg-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4973'>#</a></div><div id='specalg-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to <span class='texttt'>v<span class='operator'>.</span>swap<span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span><a class='hidden_link' href='#specalg-1.sentence-1'>.</a></div></div></div><div class='para' id='specalg-2'><div class='marginalizedparent'><a class='marginalized' href='#specalg-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4976'>#</a></div><div id='specalg-2.sentence-1' class='sentence'><span class='textit'>Remarks:</span> This function shall not participate in overload resolution
unless <span class='texttt'>is_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_&shy;swappable_&shy;v<span class='anglebracket'>&lt;</span><span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#specalg-2.sentence-1'>.</a></div> <div id='specalg-2.sentence-2' class='sentence'>The expression inside <span class='texttt'><span class='keyword'>noexcept</span></span> is equivalent to <span class='texttt'><span class='keyword'>noexcept</span><span class='parenthesis'>(</span>v<span class='operator'>.</span>swap<span class='parenthesis'>(</span>w<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#specalg-2.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:bad_variant_access'></a></span></div><div id='bad.access' class='section'><h3 ><a class='secnum' href='#bad.access' style='min-width:103pt'>19.7.11</a> Class <span class='texttt'>bad_&shy;variant_&shy;access</span> <a class='abbr_ref' href='variant.bad.access'>[variant.bad.access]</a></h3><pre class='codeblock'>
<span class='keyword'>class</span> bad_variant_access <span class='operator'>:</span> <span class='keyword'>public</span> exception <span class='curlybracket'>{</span>
<span class='keyword'>public</span><span class='operator'>:</span>
  bad_variant_access<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> what<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span> <span class='keyword'>override</span>;
<span class='curlybracket'>}</span>;
</pre><div class='para' id='bad.access-1'><div class='marginalizedparent'><a class='marginalized' href='#bad.access-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L4994'>#</a></div><div id='bad.access-1.sentence-1' class='sentence'>Objects of type <span class='texttt'>bad_&shy;variant_&shy;access</span> are thrown to report invalid
accesses to the value of a <span class='texttt'>variant</span> object<a class='hidden_link' href='#bad.access-1.sentence-1'>.</a></div> <span class='indexparent'><a class='index' id='lib:bad_variant_access,constructor'></a></span></div><div class='itemdecl' id='bad.access-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#bad.access-itemdecl:1'>🔗</a></div><code class='itemdeclcode'>bad_variant_access<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='bad.access-2'><div class='marginalizedparent'><a class='marginalized' href='#bad.access-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L5004'>#</a></div><div id='bad.access-2.sentence-1' class='sentence'>Constructs a <span class='texttt'>bad_&shy;variant_&shy;access</span> object<a class='hidden_link' href='#bad.access-2.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:what,bad_variant_access'></a></span><span class='indexparent'><a class='index' id='lib:bad_variant_access,what'></a></span><div class='itemdecl' id='bad.access-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#bad.access-itemdecl:2'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> what<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span> <span class='keyword'>override</span>;
</code></div><div class='itemdescr'></div><div class='para' id='bad.access-3'><div class='marginalizedparent'><a class='marginalized' href='#bad.access-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L5014'>#</a></div><div id='bad.access-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> An <span class='indexparent'><a class='index' id=':return_value_of_bad_variant_access::what'></a></span>implementation-defined <span class='textsc'>ntbs</span><a class='hidden_link' href='#bad.access-3.sentence-1'>.</a></div></div></div></div><div id='hash' class='section'><h3 ><a class='secnum' href='#hash' style='min-width:103pt'>19.7.12</a> Hash support <a class='abbr_ref' href='variant.hash'>[variant.hash]</a></h3><span class='indexparent'><a class='index' id='lib:hash,variant'></a></span><div class='itemdecl' id='hash-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#hash-itemdecl:1'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Types<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> hash<span class='anglebracket'>&lt;</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;
</code></div><div class='itemdescr'></div><div class='para' id='hash-1'><div class='marginalizedparent'><a class='marginalized' href='#hash-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L5026'>#</a></div><div id='hash-1.sentence-1' class='sentence'>The specialization <span class='texttt'>hash<span class='anglebracket'>&lt;</span>variant<span class='anglebracket'>&lt;</span>Types<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span> is enabled (<a href='unord.hash'>[unord.hash]</a>)
if and only if every specialization in <span class='texttt'>hash<span class='anglebracket'>&lt;</span>remove_&shy;const_&shy;t<span class='anglebracket'>&lt;</span>Types<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> is enabled<a class='hidden_link' href='#hash-1.sentence-1'>.</a></div> <div id='hash-1.sentence-2' class='sentence'>The member functions are not guaranteed to be <span class='texttt'><span class='keyword'>noexcept</span></span><a class='hidden_link' href='#hash-1.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:hash,monostate'></a></span><div class='itemdecl' id='hash-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#hash-itemdecl:2'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> hash<span class='anglebracket'>&lt;</span>monostate<span class='anglebracket'>&gt;</span>;
</code></div><div class='itemdescr'></div><div class='para' id='hash-2'><div class='marginalizedparent'><a class='marginalized' href='#hash-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/5e37f798131c38a4c609af2b8c70ce0b7a6f102f/source/utilities.tex#L5038'>#</a></div><div id='hash-2.sentence-1' class='sentence'>The specialization is enabled (<a href='unord.hash'>[unord.hash]</a>)<a class='hidden_link' href='#hash-2.sentence-1'>.</a></div></div></div></div></div></body></html>