<!DOCTYPE html><html lang='en'><head><title>[class.rel.eq]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>15</a> Special member functions <a class='abbr_ref' href='./#special'>[special]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>15.9</a> Comparisons <a class='abbr_ref' href='class.compare#class.rel.eq'>[class.compare]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>15.9.3</a> Other comparison operators <a class='abbr_ref'>[class.rel.eq]</a></h3><span class='indexparent'><a class='index' id=':operator,relational,defaulted'></a></span><span class='indexparent'><a class='index' id=':operator,equality,defaulted'></a></span><span class='indexparent'><a class='index' id=':operator,inequality,defaulted'></a></span><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3b306cd7198c3d7657620c1f448bdef04c98dc0e/source/special.tex#L3431'>#</a></div><div id='1.sentence-1' class='sentence'>A defaulted relational (<a href='expr.rel'>[expr.rel]</a>) or equality (<a href='expr.eq'>[expr.eq]</a>) operator function
for some operator <span class='texttt'>@</span>
shall have a declared return type <span class='texttt'>bool</span><a class='hidden_link' href='#1.sentence-1'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3b306cd7198c3d7657620c1f448bdef04c98dc0e/source/special.tex#L3436'>#</a></div><div id='2.sentence-1' class='sentence'>The operator function with parameters <span class='texttt'>x</span> and <span class='texttt'>y</span>
is defined as deleted if</div><div id='2.sentence-2' class='sentence'><ul class='itemize'><li id='2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.1'>(2.1)</a></div><div id='2.1.sentence-1' class='sentence'>overload resolution (<a href='over.match'>[over.match]</a>),
as applied to <span class='texttt'>x &lt;=&gt; y</span>
(also considering synthesized candidates with reversed order of parameters (<a href='over.match.oper'>[over.match.oper]</a>)),
results in an ambiguity
or a function that is deleted or inaccessible from the operator function,
or</div></li><li id='2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.2'>(2.2)</a></div><div id='2.2.sentence-1' class='sentence'>the operator <span class='texttt'>@</span>
cannot be applied to the return type of <span class='texttt'>x &lt;=&gt; y</span> or <span class='texttt'>y &lt;=&gt; x</span><a class='hidden_link' href='#2.2.sentence-1'>.</a></div></li></ul></div><div id='2.sentence-3' class='sentence'>Otherwise, the operator function yields
<span class='texttt'>x &lt;=&gt; y @ 0</span>
if an <span class='texttt'>operator&lt;=&gt;</span>
with the original order of parameters was selected, or
<span class='texttt'>0 @ y &lt;=&gt; x</span>
otherwise<a class='hidden_link' href='#2.sentence-3'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3b306cd7198c3d7657620c1f448bdef04c98dc0e/source/special.tex#L3461'>#</a></div><div id='3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct C {
  friend std::strong_equality operator&lt;=&gt;(const C&amp;, const C&amp;);
  friend bool operator==(const C&amp; x, const C&amp; y) = default; <span class='comment'>// OK, returns <span class='tcode_in_codeblock'>x &lt;=&gt; y == 0</span>
</span>  bool operator&lt;(const C&amp;) = default;                       <span class='comment'>// OK, function is deleted
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div></body></html>