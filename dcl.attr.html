<!DOCTYPE html><html lang='en'><head><title>[dcl.attr]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>9</a> Declarations <a class='abbr_ref' href='./#dcl.dcl'>[dcl.dcl]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>9.11</a> Attributes <a class='abbr_ref'>[dcl.attr]</a></h2><span class='indexparent'><a class='index' id=':attribute'></a></span><div id='grammar' class='section'><h3 ><a class='secnum' href='#grammar' style='min-width:103pt'>9.11.1</a> Attribute syntax and semantics <a class='abbr_ref' href='dcl.attr.grammar'>[dcl.attr.grammar]</a></h3><div class='para' id='grammar-1'><div class='marginalizedparent'><a class='marginalized' href='#grammar-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L7803'>#</a></div><div id='grammar-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':attribute,syntax_and_semantics'></a></span>Attributes specify additional information for various source constructs
such as types, variables, names, blocks, or translation units<a class='hidden_link' href='#grammar-1.sentence-1'>.</a></div><pre class='bnf'><a class='nontermdef' href='#nt:attribute-specifier-seq' id='nt:attribute-specifier-seq'>attribute-specifier-seq:</a>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="Subscript o p t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier'>attribute-specifier</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:attribute-specifier' id='nt:attribute-specifier'>attribute-specifier:</a>
&#9;<span class='terminal'>[</span> <span class='terminal'>[</span> <i ><a href='dcl.attr.grammar#nt:attribute-using-prefix'>attribute-using-prefix</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="Subscript o p t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i> <span class='terminal'>]</span> <span class='terminal'>]</span>
&#9;<i ><a href='dcl.attr.contract.syn#nt:contract-attribute-specifier'>contract-attribute-specifier</a></i>
&#9;<i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:alignment-specifier' id='nt:alignment-specifier'>alignment-specifier:</a>
&#9;<span class='terminal'>alignas (</span> <i ><a href='dcl.name#nt:type-id'>type-id</a></i> <span class='terminal'>...</span><span class="mjx-chtml"><span class="mjx-math" aria-label="Subscript o p t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>)</span>
&#9;<span class='terminal'>alignas (</span> <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i> <span class='terminal'>...</span><span class="mjx-chtml"><span class="mjx-math" aria-label="Subscript o p t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>)</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:attribute-using-prefix' id='nt:attribute-using-prefix'>attribute-using-prefix:</a>
&#9;<span class='terminal'>using</span> <i ><a href='dcl.attr.grammar#nt:attribute-namespace'>attribute-namespace</a></i> <span class='terminal'>:</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:attribute-list' id='nt:attribute-list'>attribute-list:</a>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute'>attribute</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="Subscript o p t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i> <span class='terminal'>,</span> <i ><a href='dcl.attr.grammar#nt:attribute'>attribute</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="Subscript o p t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute'>attribute</a></i> <span class='terminal'>...</span>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i> <span class='terminal'>,</span> <i ><a href='dcl.attr.grammar#nt:attribute'>attribute</a></i> <span class='terminal'>...</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:attribute' id='nt:attribute'>attribute:</a>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> <i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="Subscript o p t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:attribute-token' id='nt:attribute-token'>attribute-token:</a>
&#9;<i ><a href='lex.name#nt:identifier'>identifier</a></i>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-scoped-token'>attribute-scoped-token</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:attribute-scoped-token' id='nt:attribute-scoped-token'>attribute-scoped-token:</a>
&#9;<i ><a href='dcl.attr.grammar#nt:attribute-namespace'>attribute-namespace</a></i> <span class='terminal'>::</span> <i ><a href='lex.name#nt:identifier'>identifier</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:attribute-namespace' id='nt:attribute-namespace'>attribute-namespace:</a>
&#9;<i ><a href='lex.name#nt:identifier'>identifier</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:attribute-argument-clause' id='nt:attribute-argument-clause'>attribute-argument-clause:</a>
&#9;<span class='terminal'>(</span> <i ><a href='dcl.attr.grammar#nt:balanced-token-seq'>balanced-token-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="Subscript o p t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>)</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:balanced-token-seq' id='nt:balanced-token-seq'>balanced-token-seq:</a>
&#9;<i ><a href='dcl.attr.grammar#nt:balanced-token'>balanced-token</a></i>
&#9;<i ><a href='dcl.attr.grammar#nt:balanced-token-seq'>balanced-token-seq</a></i> <i ><a href='dcl.attr.grammar#nt:balanced-token'>balanced-token</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:balanced-token' id='nt:balanced-token'>balanced-token:</a>
&#9;<span class='terminal'>(</span> <i ><a href='dcl.attr.grammar#nt:balanced-token-seq'>balanced-token-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="Subscript o p t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>)</span>
&#9;<span class='terminal'>[</span> <i ><a href='dcl.attr.grammar#nt:balanced-token-seq'>balanced-token-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="Subscript o p t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>]</span>
&#9;<span class='terminal'>{</span> <i ><a href='dcl.attr.grammar#nt:balanced-token-seq'>balanced-token-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="Subscript o p t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>}</span>
&#9;<span class='textnormal'>any <span class='grammarterm'><i ><a href='lex.token#nt:token'>token</a></i></span> other than a parenthesis, a bracket, or a brace</span>
</pre></div><div class='para' id='grammar-2'><div class='marginalizedparent'><a class='marginalized' href='#grammar-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L7879'>#</a></div><div id='grammar-2.sentence-1' class='sentence'>If an <i ><a href='dcl.attr.grammar#nt:attribute-specifier'>attribute-specifier</a></i>
contains an <i ><a href='dcl.attr.grammar#nt:attribute-using-prefix'>attribute-using-prefix</a></i>,
the <i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i> following that <i ><a href='dcl.attr.grammar#nt:attribute-using-prefix'>attribute-using-prefix</a></i>
shall not contain an <i ><a href='dcl.attr.grammar#nt:attribute-scoped-token'>attribute-scoped-token</a></i>
and every <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> in that <i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i>
is treated as if
its <i ><a href='lex.name#nt:identifier'>identifier</a></i> were prefixed with <span class='texttt'>N&#x200b;::&#x200b;</span>,
where <span class='texttt'>N</span> is the <i ><a href='dcl.attr.grammar#nt:attribute-namespace'>attribute-namespace</a></i>
specified in the <i ><a href='dcl.attr.grammar#nt:attribute-using-prefix'>attribute-using-prefix</a></i><a class='hidden_link' href='#grammar-2.sentence-1'>.</a></div> <div id='grammar-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#grammar-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='grammar-2.sentence-2' class='sentence'>This rule imposes no constraints on how
an <i ><a href='dcl.attr.grammar#nt:attribute-using-prefix'>attribute-using-prefix</a></i>
affects the tokens in an <i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i><a class='hidden_link' href='#grammar-2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='grammar-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#grammar-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
[[using CC: opt(1), debug]]         <span class='comment'>// same as <span class='tcode_in_codeblock'>[[CC&#x200b;::&#x200b;opt(1), CC&#x200b;::&#x200b;debug]]</span>
</span>  void f() {}
[[using CC: opt(1)]] [[CC::debug]]  <span class='comment'>// same as <span class='tcode_in_codeblock'>[[CC&#x200b;::&#x200b;opt(1)]] [[CC&#x200b;::&#x200b;debug]]</span>
</span>  void g() {}
[[using CC: CC::opt(1)]]            <span class='comment'>// error: cannot combine <span class='tcode_in_codeblock'>using</span> and scoped attribute token
</span>  void h() {}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='grammar-3'><div class='marginalizedparent'><a class='marginalized' href='#grammar-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L7905'>#</a></div><div id='grammar-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#grammar-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='grammar-3.sentence-1' class='sentence'>For each individual attribute, the form of the
<i ><a href='dcl.attr.grammar#nt:balanced-token-seq'>balanced-token-seq</a></i> will be specified<a class='hidden_link' href='#grammar-3.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='grammar-4'><div class='marginalizedparent'><a class='marginalized' href='#grammar-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L7909'>#</a></div><div id='grammar-4.sentence-1' class='sentence'>In an <i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i>, an ellipsis may appear only if that
<i ><a href='dcl.attr.grammar#nt:attribute'>attribute</a></i>'s specification permits it<a class='hidden_link' href='#grammar-4.sentence-1'>.</a></div> <div id='grammar-4.sentence-2' class='sentence'>An <i ><a href='dcl.attr.grammar#nt:attribute'>attribute</a></i> followed
by an ellipsis is a <a href='temp.variadic#def:pack_expansion'>pack expansion</a><a class='hidden_link' href='#grammar-4.sentence-2'>.</a></div> <div id='grammar-4.sentence-3' class='sentence'>An <i ><a href='dcl.attr.grammar#nt:attribute-specifier'>attribute-specifier</a></i> that contains no <i ><a href='dcl.attr.grammar#nt:attribute'>attribute</a></i><span class='textit'>s</span> has no
effect<a class='hidden_link' href='#grammar-4.sentence-3'>.</a></div> <div id='grammar-4.sentence-4' class='sentence'>The order in which the <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i><span class='textit'>s</span> appear in an
<i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i> is not significant<a class='hidden_link' href='#grammar-4.sentence-4'>.</a></div> <div id='grammar-4.sentence-5' class='sentence'>If a
<a href='lex.key'>keyword</a>
or an <a href='lex.digraph'>alternative token</a> that satisfies the syntactic requirements
of an <i ><a href='lex.name#nt:identifier'>identifier</a></i> is
contained in
an <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i>, it is considered an identifier<a class='hidden_link' href='#grammar-4.sentence-5'>.</a></div> <div id='grammar-4.sentence-6' class='sentence'>No
<a href='basic.lookup'>name lookup</a> is performed on any of the identifiers contained in an
<i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i><a class='hidden_link' href='#grammar-4.sentence-6'>.</a></div> <div id='grammar-4.sentence-7' class='sentence'>The <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> determines additional
requirements on the <i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i> (if any)<a class='hidden_link' href='#grammar-4.sentence-7'>.</a></div></div><div class='para' id='grammar-5'><div class='marginalizedparent'><a class='marginalized' href='#grammar-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L7925'>#</a></div><div id='grammar-5.sentence-1' class='sentence'>Each <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> is said to <a class='hidden_link' href='#def:appertain' id='def:appertain'><i >appertain</i></a> to some entity or
statement, identified by the syntactic context where it appears
(<a href='stmt.stmt'>[stmt.stmt]</a>, <a href='dcl.dcl'>[dcl.dcl]</a>,
<a href='dcl.decl'>[dcl.decl]</a>)<a class='hidden_link' href='#grammar-5.sentence-1'>.</a></div> <div id='grammar-5.sentence-2' class='sentence'>If an <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> that appertains to some
entity or statement contains an <i ><a href='dcl.attr.grammar#nt:attribute'>attribute</a></i> or <i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i> that
is not allowed to apply to that
entity or statement, the program is ill-formed<a class='hidden_link' href='#grammar-5.sentence-2'>.</a></div> <div id='grammar-5.sentence-3' class='sentence'>If an <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i>
appertains to a <a href='class.friend'>friend declaration</a>, that declaration shall be a
definition<a class='hidden_link' href='#grammar-5.sentence-3'>.</a></div> <div id='grammar-5.sentence-4' class='sentence'>No <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> shall appertain to an
<a href='temp.explicit'>explicit instantiation</a><a class='hidden_link' href='#grammar-5.sentence-4'>.</a></div></div><div class='para' id='grammar-6'><div class='marginalizedparent'><a class='marginalized' href='#grammar-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L7937'>#</a></div><div id='grammar-6.sentence-1' class='sentence'>For an <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i>
(including an <i ><a href='dcl.attr.grammar#nt:attribute-scoped-token'>attribute-scoped-token</a></i>)
not specified in this document, the
behavior is <span class='indexparent'><a class='index' id=':behavior_of_non-standard_attributes'></a></span>implementation-defined<a class='hidden_link' href='#grammar-6.sentence-1'>.</a></div> <div id='grammar-6.sentence-2' class='sentence'>Any <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> that is not recognized by the implementation
is ignored<a class='hidden_link' href='#grammar-6.sentence-2'>.</a></div> <div id='grammar-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#grammar-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='grammar-6.sentence-3' class='sentence'>Each implementation should choose a distinctive name for the
<i ><a href='dcl.attr.grammar#nt:attribute-namespace'>attribute-namespace</a></i> in an <i ><a href='dcl.attr.grammar#nt:attribute-scoped-token'>attribute-scoped-token</a></i><a class='hidden_link' href='#grammar-6.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='grammar-7'><div class='marginalizedparent'><a class='marginalized' href='#grammar-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L7949'>#</a></div><div id='grammar-7.sentence-1' class='sentence'>Two consecutive left square bracket tokens shall appear only
when introducing an <i ><a href='dcl.attr.grammar#nt:attribute-specifier'>attribute-specifier</a></i> or
within the <i ><a href='dcl.attr.grammar#nt:balanced-token-seq'>balanced-token-seq</a></i> of
an <i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i><a class='hidden_link' href='#grammar-7.sentence-1'>.</a></div> <div id='grammar-7.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#grammar-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='grammar-7.sentence-2' class='sentence'>If two consecutive left square brackets appear
where an <i ><a href='dcl.attr.grammar#nt:attribute-specifier'>attribute-specifier</a></i> is not allowed, the program is ill-formed even
if the brackets match an alternative grammar production<a class='hidden_link' href='#grammar-7.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>   <div id='grammar-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#grammar-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int p[10];
void f() {
  int x = 42, y[5];
  int(p[[x] { return x; }()]);  <span class='comment'>// error: invalid attribute on a nested <span class='grammarterm'>declarator-id</span> and
</span>                                <span class='comment'>// not a function-style cast of an element of <span class='tcode_in_codeblock'>p</span>.
</span>  y[[] { return 2; }()] = 2;    <span class='comment'>// error even though attributes are not allowed in this context.
</span>  int i [[vendor::attr([[]])]]; <span class='comment'>// well-formed implementation-defined attribute.
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='dcl.align' class='section'><h3 ><a class='secnum' href='#dcl.align' style='min-width:103pt'>9.11.2</a> Alignment specifier <a class='abbr_ref' href='dcl.align'>[dcl.align]</a></h3><span class='indexparent'><a class='index' id=':attribute,alignment'></a></span>
<span class='indexparent'><a class='index' id=':alignas'></a></span><div class='para' id='dcl.align-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl.align-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L7973'>#</a></div><div id='dcl.align-1.sentence-1' class='sentence'>An <i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i>
may be applied to a variable
or to a class data member, but it shall not be applied to a bit-field, a function
parameter, or an <i ><a href='except#nt:exception-declaration'>exception-declaration</a></i> (<a href='except.handle'>[except.handle]</a>)<a class='hidden_link' href='#dcl.align-1.sentence-1'>.</a></div> <div id='dcl.align-1.sentence-2' class='sentence'>An <i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i> may also be applied to the declaration or
definition of a class (in an
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> or
<i ><a href='class#nt:class-head'>class-head</a></i>, respectively) and to the
declaration or definition of an enumeration (in an
<i ><a href='dcl.enum#nt:opaque-enum-declaration'>opaque-enum-declaration</a></i> or <i ><a href='dcl.enum#nt:enum-head'>enum-head</a></i>,
respectively)<a class='hidden_link' href='#dcl.align-1.sentence-2'>.</a></div> <div id='dcl.align-1.sentence-3' class='sentence'>An <i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i> with an ellipsis is a <a href='temp.variadic#def:pack_expansion'>pack expansion</a><a class='hidden_link' href='#dcl.align-1.sentence-3'>.</a></div></div><div class='para' id='dcl.align-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl.align-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L7987'>#</a></div><div id='dcl.align-2.sentence-1' class='sentence'>When the <i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i> is of the form
<span class='texttt'>alignas(</span> <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i> <span class='texttt'>)</span>:
<ul class='itemize'><li id='dcl.align-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.align-2.1'>(2.1)</a></div><div id='dcl.align-2.1.sentence-1' class='sentence'>the <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i> shall be an integral constant expression</div></li><li id='dcl.align-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dcl.align-2.2'>(2.2)</a></div><div id='dcl.align-2.2.sentence-1' class='sentence'>if the constant expression does not evaluate to an alignment
value (<a href='basic.align'>[basic.align]</a>), or evaluates to an extended alignment and
the implementation does not support that alignment in the context of the
declaration, the program is ill-formed<a class='hidden_link' href='#dcl.align-2.2.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='dcl.align-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl.align-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L7999'>#</a></div><div id='dcl.align-3.sentence-1' class='sentence'>An <i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i> of the form
<span class='texttt'>alignas(</span> <i ><a href='dcl.name#nt:type-id'>type-id</a></i> <span class='texttt'>)</span> has the same
effect as <span class='texttt'>alignas(&#x200b;<span class='link'>alignofexpr.alignof</span>(</span> <i ><a href='dcl.name#nt:type-id'>type-id</a></i> <span class='texttt'>))</span><a class='hidden_link' href='#dcl.align-3.sentence-1'>.</a></div></div><div class='para' id='dcl.align-4'><div class='marginalizedparent'><a class='marginalized' href='#dcl.align-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8004'>#</a></div><div id='dcl.align-4.sentence-1' class='sentence'>The alignment requirement of an entity is the strictest nonzero alignment
specified by its <i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i><span class='textit'>s</span>, if any;
otherwise, the <i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i><span class='textit'>s</span> have no effect<a class='hidden_link' href='#dcl.align-4.sentence-1'>.</a></div></div><div class='para' id='dcl.align-5'><div class='marginalizedparent'><a class='marginalized' href='#dcl.align-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8009'>#</a></div><div id='dcl.align-5.sentence-1' class='sentence'>The combined effect of all <i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i><span class='textit'>s</span> in a declaration shall not
specify an alignment that is less strict than the alignment that would
be required for the entity being declared if all <i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i><span class='textit'>s</span>
appertaining to that entity
were omitted<a class='hidden_link' href='#dcl.align-5.sentence-1'>.</a></div> <div id='dcl.align-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.align-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct alignas(8) S {};
struct alignas(1) U {
  S s;
};  <span class='comment'>// error: <span class='tcode_in_codeblock'>U</span> specifies an alignment that is less strict than if the <span class='tcode_in_codeblock'>alignas(1)</span> were omitted.
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.align-6'><div class='marginalizedparent'><a class='marginalized' href='#dcl.align-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8024'>#</a></div><div id='dcl.align-6.sentence-1' class='sentence'>If the defining declaration of an entity has an
<i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i>, any non-defining
declaration of that entity shall either specify equivalent alignment or have no
<i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i><a class='hidden_link' href='#dcl.align-6.sentence-1'>.</a></div> <div id='dcl.align-6.sentence-2' class='sentence'>Conversely, if any declaration of an entity has an
<i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i>,
every defining
declaration of that entity shall specify an equivalent alignment<a class='hidden_link' href='#dcl.align-6.sentence-2'>.</a></div> <div id='dcl.align-6.sentence-3' class='sentence'>No diagnostic is required if declarations of an entity have
different <i ><a href='dcl.attr.grammar#nt:alignment-specifier'>alignment-specifier</a></i><span class='textit'>s</span>
in different translation units<a class='hidden_link' href='#dcl.align-6.sentence-3'>.</a></div> <div id='dcl.align-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.align-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='comment'>// Translation unit #1:
</span>struct S { int x; } s, *p = &amp;s;

<span class='comment'>// Translation unit #2:
</span>struct alignas(16) S;           <span class='comment'>// error: definition of <span class='tcode_in_codeblock'>S</span> lacks alignment, no diagnostic required
</span>extern S* p;</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.align-7'><div class='marginalizedparent'><a class='marginalized' href='#dcl.align-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8047'>#</a></div><div id='dcl.align-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.align-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='dcl.align-7.sentence-1' class='sentence'>An aligned buffer with an alignment requirement
of <span class='texttt'>A</span> and holding <span class='texttt'>N</span> elements of type <span class='texttt'>T</span>
can be declared as:
<pre class='codeblock'>
alignas(T) alignas(A) T buffer[N];</pre>
Specifying <span class='texttt'>alignas(T)</span> ensures
that the final requested alignment will not be weaker than <span class='texttt'>alignof(T)</span>,
and therefore the program will not be ill-formed<a class='hidden_link' href='#dcl.align-7.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dcl.align-8'><div class='marginalizedparent'><a class='marginalized' href='#dcl.align-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8059'>#</a></div><div id='dcl.align-8.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dcl.align-8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
alignas(double) void f();                           <span class='comment'>// error: alignment applied to function
</span>alignas(double) unsigned char c[sizeof(double)];    <span class='comment'>// array of characters, suitably aligned for a <span class='tcode_in_codeblock'>double</span>
</span>extern unsigned char c[sizeof(double)];             <span class='comment'>// no <span class='tcode_in_codeblock'>alignas</span> necessary
</span>alignas(float)
  extern unsigned char c[sizeof(double)];           <span class='comment'>// error: different alignment in declaration
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='depend' class='section'><h3 ><a class='secnum' href='#depend' style='min-width:103pt'>9.11.3</a> Carries dependency attribute <a class='abbr_ref' href='dcl.attr.depend'>[dcl.attr.depend]</a></h3><span class='indexparent'><a class='index' id=':attribute,carries_dependency'></a></span><div class='para' id='depend-1'><div class='marginalizedparent'><a class='marginalized' href='#depend-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8073'>#</a></div><div id='depend-1.sentence-1' class='sentence'>The <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> <span class='texttt'>carries_&shy;dependency</span> specifies
dependency propagation into and out of functions<a class='hidden_link' href='#depend-1.sentence-1'>.</a></div> <div id='depend-1.sentence-2' class='sentence'>It shall appear at most once
in each <i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i> and no
<i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i> shall be present<a class='hidden_link' href='#depend-1.sentence-2'>.</a></div> <div id='depend-1.sentence-3' class='sentence'>The attribute may be
applied to the <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> of a
<i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i> in a function declaration or lambda, in
which case it specifies that the initialization of the parameter
<a href='intro.multithread#def:carries_a_dependency'>carries a dependency</a> to each <a href='conv.lval'>lvalue-to-rvalue
conversion</a> of that object<a class='hidden_link' href='#depend-1.sentence-3'>.</a></div> <div id='depend-1.sentence-4' class='sentence'>The attribute may also be applied
to the <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> of a function declaration, in which case it
specifies that the return value, if any, carries a dependency to the evaluation
of the function call expression<a class='hidden_link' href='#depend-1.sentence-4'>.</a></div></div><div class='para' id='depend-2'><div class='marginalizedparent'><a class='marginalized' href='#depend-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8087'>#</a></div><div id='depend-2.sentence-1' class='sentence'>The first declaration of a function shall specify the <span class='texttt'>carries_&shy;dependency</span> attribute for its
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> if any declaration of the function specifies the
<span class='texttt'>carries_&shy;dependency</span> attribute<a class='hidden_link' href='#depend-2.sentence-1'>.</a></div> <div id='depend-2.sentence-2' class='sentence'>Furthermore, the first declaration of a function shall specify
the <span class='texttt'>carries_&shy;dependency</span> attribute for a parameter if any declaration of that function
specifies the <span class='texttt'>carries_&shy;dependency</span> attribute for that parameter<a class='hidden_link' href='#depend-2.sentence-2'>.</a></div> <div id='depend-2.sentence-3' class='sentence'>If a function or one of its
parameters is declared with the <span class='texttt'>carries_&shy;dependency</span> attribute in its first declaration in one
translation unit and the same function or one of its parameters is declared without the
<span class='texttt'>carries_&shy;dependency</span> attribute in its first declaration in another translation unit, the
program is ill-formed, no diagnostic required<a class='hidden_link' href='#depend-2.sentence-3'>.</a></div></div><div class='para' id='depend-3'><div class='marginalizedparent'><a class='marginalized' href='#depend-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8098'>#</a></div><div id='depend-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#depend-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='depend-3.sentence-1' class='sentence'>The <span class='texttt'>carries_&shy;dependency</span> attribute does not change the meaning of the
program, but may result in generation of more efficient code<a class='hidden_link' href='#depend-3.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='depend-4'><div class='marginalizedparent'><a class='marginalized' href='#depend-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8102'>#</a></div><div id='depend-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#depend-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
/* Translation unit A. */

struct foo { int* a; int* b; };
std::atomic&lt;struct foo *&gt; foo_head[10];
int foo_array[10][10];

[[carries_dependency]] struct foo* f(int i) {
  return foo_head[i].load(memory_order::consume);
}

int g(int* x, int* y [[carries_dependency]]) {
  return kill_dependency(foo_array[*x][*y]);
}

/* Translation unit B. */

[[carries_dependency]] struct foo* f(int i);
int g(int* x, int* y [[carries_dependency]]);

int c = 3;

void h(int i) {
  struct foo* p;

  p = f(i);
  do_something_with(g(&amp;c, p-&gt;a));
  do_something_with(g(p-&gt;a, &amp;c));
}</pre><div id='depend-4.sentence-1' class='sentence'>The <span class='texttt'>carries_&shy;dependency</span> attribute on function <span class='texttt'>f</span> means that the
return value carries a dependency out of <span class='texttt'>f</span>, so that the implementation
need not constrain ordering upon return from <span class='texttt'>f</span><a class='hidden_link' href='#depend-4.sentence-1'>.</a></div> <div id='depend-4.sentence-2' class='sentence'>Implementations of
<span class='texttt'>f</span> and its caller may choose to preserve dependencies instead of emitting
hardware memory ordering instructions (a<a class='hidden_link' href='#depend-4.sentence-2'>.</a></div> <div id='depend-4.sentence-3' class='sentence'>k<a class='hidden_link' href='#depend-4.sentence-3'>.</a></div> <div id='depend-4.sentence-4' class='sentence'>a<a class='hidden_link' href='#depend-4.sentence-4'>.</a></div> <div id='depend-4.sentence-5' class='sentence'>&nbsp;fences)<a class='hidden_link' href='#depend-4.sentence-5'>.</a></div> <div id='depend-4.sentence-6' class='sentence'>Function <span class='texttt'>g</span>'s second parameter has a <span class='texttt'>carries_&shy;dependency</span> attribute,
but its first parameter does not<a class='hidden_link' href='#depend-4.sentence-6'>.</a></div> <div id='depend-4.sentence-7' class='sentence'>Therefore, function <span class='texttt'>h</span>'s first call to
<span class='texttt'>g</span> carries a dependency into <span class='texttt'>g</span>, but its second call does not<a class='hidden_link' href='#depend-4.sentence-7'>.</a></div> <div id='depend-4.sentence-8' class='sentence'>The
implementation might need to insert a fence prior to the second call to
<span class='texttt'>g</span><a class='hidden_link' href='#depend-4.sentence-8'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  </div></div><div id='contract' class='section'><h3 ><a class='secnum' href='#contract' style='min-width:103pt'>9.11.4</a> Contract attributes <a class='abbr_ref' href='dcl.attr.contract'>[dcl.attr.contract]</a></h3><span class='indexparent'><a class='index' id=':attribute,contracts'></a></span><div id='contract.syn' class='section'><h4 ><a class='secnum' href='#contract.syn' style='min-width:118pt'>9.11.4.1</a> Syntax <a class='abbr_ref' href='dcl.attr.contract.syn'>[dcl.attr.contract.syn]</a></h4><div class='para' id='contract.syn-1'><div class='marginalizedparent'><a class='marginalized' href='#contract.syn-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8154'>#</a></div><div id='contract.syn-1.sentence-1' class='sentence'>Contract attributes are used to specify
preconditions, postconditions, and assertions for functions<a class='hidden_link' href='#contract.syn-1.sentence-1'>.</a></div><pre class='bnf'><a class='nontermdef' href='#nt:contract-attribute-specifier' id='nt:contract-attribute-specifier'>contract-attribute-specifier:</a>
&#9;<span class='terminal'>[</span> <span class='terminal'>[</span> <span class='terminal'>expects</span> <i ><a href='dcl.attr.contract.syn#nt:contract-level'>contract-level</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="Subscript o p t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>:</span> <i ><a href='expr.cond#nt:conditional-expression'>conditional-expression</a></i> <span class='terminal'>]</span> <span class='terminal'>]</span>
&#9;<span class='terminal'>[</span> <span class='terminal'>[</span> <span class='terminal'>ensures</span> <i ><a href='dcl.attr.contract.syn#nt:contract-level'>contract-level</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="Subscript o p t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='lex.name#nt:identifier'>identifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="Subscript o p t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>:</span> <i ><a href='expr.cond#nt:conditional-expression'>conditional-expression</a></i> <span class='terminal'>]</span> <span class='terminal'>]</span>
&#9;<span class='terminal'>[</span> <span class='terminal'>[</span> <span class='terminal'>assert</span> <i ><a href='dcl.attr.contract.syn#nt:contract-level'>contract-level</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="Subscript o p t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>:</span> <i ><a href='expr.cond#nt:conditional-expression'>conditional-expression</a></i> <span class='terminal'>]</span> <span class='terminal'>]</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:contract-level' id='nt:contract-level'>contract-level:</a>
&#9;<span class='terminal'>default</span>
&#9;<span class='terminal'>audit</span>
&#9;<span class='terminal'>axiom</span>
</pre><div id='contract.syn-1.sentence-2' class='sentence'>An ambiguity between
a <i ><a href='dcl.attr.contract.syn#nt:contract-level'>contract-level</a></i> and an <i ><a href='lex.name#nt:identifier'>identifier</a></i>
is resolved in favor of <i ><a href='dcl.attr.contract.syn#nt:contract-level'>contract-level</a></i><a class='hidden_link' href='#contract.syn-1.sentence-2'>.</a></div></div><div class='para' id='contract.syn-2'><div class='marginalizedparent'><a class='marginalized' href='#contract.syn-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8177'>#</a></div><div id='contract.syn-2.sentence-1' class='sentence'>A <i ><a href='dcl.attr.contract.syn#nt:contract-attribute-specifier'>contract-attribute-specifier</a></i> using <span class='texttt'>expects</span>
is a <a class='hidden_link' href='#def:precondition' id='def:precondition'><i >precondition</i></a><a class='hidden_link' href='#contract.syn-2.sentence-1'>.</a></div> <div id='contract.syn-2.sentence-2' class='sentence'>It expresses a function's expectation on its arguments and/or
the state of other objects using a predicate
that is intended to hold upon entry into the function<a class='hidden_link' href='#contract.syn-2.sentence-2'>.</a></div> <div id='contract.syn-2.sentence-3' class='sentence'>The attribute may be applied to the function type of a function declaration<a class='hidden_link' href='#contract.syn-2.sentence-3'>.</a></div></div><div class='para' id='contract.syn-3'><div class='marginalizedparent'><a class='marginalized' href='#contract.syn-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8185'>#</a></div><div id='contract.syn-3.sentence-1' class='sentence'>A <i ><a href='dcl.attr.contract.syn#nt:contract-attribute-specifier'>contract-attribute-specifier</a></i> using <span class='texttt'>ensures</span>
is a <a class='hidden_link' href='#def:postcondition' id='def:postcondition'><i >postcondition</i></a><a class='hidden_link' href='#contract.syn-3.sentence-1'>.</a></div> <div id='contract.syn-3.sentence-2' class='sentence'>It expresses a condition that a function should ensure
for the return value and/or the state of objects
using a predicate that is intended to hold upon exit from the function<a class='hidden_link' href='#contract.syn-3.sentence-2'>.</a></div> <div id='contract.syn-3.sentence-3' class='sentence'>The attribute may be applied to the function type of a function declaration<a class='hidden_link' href='#contract.syn-3.sentence-3'>.</a></div> <div id='contract.syn-3.sentence-4' class='sentence'>A postcondition may introduce an identifier to represent
the glvalue result or the prvalue result object of the function<a class='hidden_link' href='#contract.syn-3.sentence-4'>.</a></div> <div id='contract.syn-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#contract.syn-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int f(char * c)
  [[ensures res: res &gt; 0 &amp;&amp; c != nullptr]];

int g(double * p)
  [[ensures audit res: res != 0 &amp;&amp; p != nullptr &amp;&amp; *p &lt;= 0.0]];</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='contract.syn-4'><div class='marginalizedparent'><a class='marginalized' href='#contract.syn-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8204'>#</a></div><div id='contract.syn-4.sentence-1' class='sentence'>A <i ><a href='dcl.attr.contract.syn#nt:contract-attribute-specifier'>contract-attribute-specifier</a></i> using <span class='texttt'>assert</span>
is an <a class='hidden_link' href='#def:assertion' id='def:assertion'><i >assertion</i></a><a class='hidden_link' href='#contract.syn-4.sentence-1'>.</a></div> <div id='contract.syn-4.sentence-2' class='sentence'>It expresses a condition that is intended to be satisfied
where it appears in a function body<a class='hidden_link' href='#contract.syn-4.sentence-2'>.</a></div> <div id='contract.syn-4.sentence-3' class='sentence'>The attribute may be applied to a null statement (<a href='stmt.expr'>[stmt.expr]</a>)<a class='hidden_link' href='#contract.syn-4.sentence-3'>.</a></div> <div id='contract.syn-4.sentence-4' class='sentence'>An assertion is checked by evaluating its predicate
as part of the evaluation of the null statement
it applies to<a class='hidden_link' href='#contract.syn-4.sentence-4'>.</a></div></div><div class='para' id='contract.syn-5'><div class='marginalizedparent'><a class='marginalized' href='#contract.syn-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8214'>#</a></div><div id='contract.syn-5.sentence-1' class='sentence'>Preconditions, postconditions, and assertions
are collectively called <a class='hidden_link' href='#def:contract' id='def:contract'><i >contracts</i></a><a class='hidden_link' href='#contract.syn-5.sentence-1'>.</a></div> <div id='contract.syn-5.sentence-2' class='sentence'>The <i ><a href='expr.cond#nt:conditional-expression'>conditional-expression</a></i> in a contract
is contextually converted to <span class='texttt'>bool</span> (<a href='conv'>[conv]</a>);
the converted expression is called
the <a class='hidden_link' href='#def:contract,predicate' id='def:contract,predicate'><i >predicate</i></a> of the contract<a class='hidden_link' href='#contract.syn-5.sentence-2'>.</a></div> <div id='contract.syn-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#contract.syn-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='contract.syn-5.sentence-3' class='sentence'>The predicate of a contract is potentially evaluated (<a href='basic.def.odr'>[basic.def.odr]</a>)<a class='hidden_link' href='#contract.syn-5.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='contract.syn-6'><div class='marginalizedparent'><a class='marginalized' href='#contract.syn-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8225'>#</a></div><div id='contract.syn-6.sentence-1' class='sentence'>The only side effects of a predicate
that are allowed in a <i ><a href='dcl.attr.contract.syn#nt:contract-attribute-specifier'>contract-attribute-specifier</a></i>
are modifications of non-volatile objects
whose lifetime began and ended within the evaluation of the predicate<a class='hidden_link' href='#contract.syn-6.sentence-1'>.</a></div> <div id='contract.syn-6.sentence-2' class='sentence'>An evaluation of a predicate that exits via an exception
invokes the function <span class='texttt'>std&#x200b;::&#x200b;terminate</span> (<a href='except.terminate'>[except.terminate]</a>)<a class='hidden_link' href='#contract.syn-6.sentence-2'>.</a></div> <div id='contract.syn-6.sentence-3' class='sentence'>The behavior of any other side effect is undefined<a class='hidden_link' href='#contract.syn-6.sentence-3'>.</a></div> <div id='contract.syn-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#contract.syn-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void push(int x, queue &amp; q)
  [[expects: !q.full()]]
  [[ensures: !q.empty()]]
{
  <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span>
  [[assert: q.is_valid()]];
  <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span>
}

int min = -42;
constexpr int max = 42;

constexpr int g(int x)
  [[expects: min &lt;= x]]                         <span class='comment'>// error
</span>  [[expects: x &lt; max]]                          <span class='comment'>// OK
</span>{
  <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span>
  [[assert: 2*x &lt; max]];
  [[assert: ++min &gt; 0]];                        <span class='comment'>// undefined behavior
</span>  <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span>
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='contract.cond' class='section'><h4 ><a class='secnum' href='#contract.cond' style='min-width:118pt'>9.11.4.2</a> Contract conditions <a class='abbr_ref' href='dcl.attr.contract.cond'>[dcl.attr.contract.cond]</a></h4><div class='para' id='contract.cond-1'><div class='marginalizedparent'><a class='marginalized' href='#contract.cond-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8261'>#</a></div><div id='contract.cond-1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:contract_condition' id='def:contract_condition'><i >contract condition</i></a> is a precondition or a postcondition<a class='hidden_link' href='#contract.cond-1.sentence-1'>.</a></div> <div id='contract.cond-1.sentence-2' class='sentence'>The first declaration of a function shall specify
all contract conditions (if any) of the function<a class='hidden_link' href='#contract.cond-1.sentence-2'>.</a></div> <div id='contract.cond-1.sentence-3' class='sentence'>Subsequent declarations shall either specify no contract conditions
or the same list of contract conditions;
no diagnostic is required
if corresponding conditions will always evaluate to the same value<a class='hidden_link' href='#contract.cond-1.sentence-3'>.</a></div> <div id='contract.cond-1.sentence-4' class='sentence'>The list of contract conditions of a function shall be the same
if the declarations of that function appear in different translation units;
no diagnostic required<a class='hidden_link' href='#contract.cond-1.sentence-4'>.</a></div> <div id='contract.cond-1.sentence-5' class='sentence'>If a friend declaration
is the first declaration of the function in a translation unit
and has a contract condition,
the declaration shall be a definition and
shall be the only declaration of the function in the translation unit<a class='hidden_link' href='#contract.cond-1.sentence-5'>.</a></div></div><div class='para' id='contract.cond-2'><div class='marginalizedparent'><a class='marginalized' href='#contract.cond-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8278'>#</a></div><div id='contract.cond-2.sentence-1' class='sentence'>Two lists of contract conditions are the same
if they consist of the same contract conditions in the same order<a class='hidden_link' href='#contract.cond-2.sentence-1'>.</a></div> <div id='contract.cond-2.sentence-2' class='sentence'>Two contract conditions are the same
if their contract levels are the same and their predicates are the same<a class='hidden_link' href='#contract.cond-2.sentence-2'>.</a></div> <div id='contract.cond-2.sentence-3' class='sentence'>Two predicates contained in <i ><a href='dcl.attr.contract.syn#nt:contract-attribute-specifier'>contract-attribute-specifier</a></i><span class='textit'>s</span>
are the same
if they would satisfy the one-definition rule (<a href='basic.def.odr'>[basic.def.odr]</a>)
were they to appear in function definitions,
except for renaming of parameters,
return value identifiers (if any),
and template parameters<a class='hidden_link' href='#contract.cond-2.sentence-3'>.</a></div></div><div class='para' id='contract.cond-3'><div class='marginalizedparent'><a class='marginalized' href='#contract.cond-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8291'>#</a></div><div id='contract.cond-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#contract.cond-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='contract.cond-3.sentence-1' class='sentence'>A function pointer cannot include contract conditions<a class='hidden_link' href='#contract.cond-3.sentence-1'>.</a></div> <div id='contract.cond-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#contract.cond-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
typedef int (*fpt)() [[ensures r: r != 0]];     <span class='comment'>// error: contract condition not on a function declaration
</span>
int g(int x)
  [[expects: x &gt;= 0]]
  [[ensures r: r &gt; x]]
{
  return x+1;
}

int (*pf)(int) = g;                             <span class='comment'>// OK
</span>int x = pf(5);                                  <span class='comment'>// contract conditions of <span class='tcode_in_codeblock'>g</span> are checked
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='contract.cond-4'><div class='marginalizedparent'><a class='marginalized' href='#contract.cond-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8311'>#</a></div><div id='contract.cond-4.sentence-1' class='sentence'>The predicate of a contract condition has the same semantic restrictions
as if it appeared as the first <i ><a href='stmt.expr#nt:expression-statement'>expression-statement</a></i>
in the body of the function it applies to<a class='hidden_link' href='#contract.cond-4.sentence-1'>.</a></div> <div id='contract.cond-4.sentence-2' class='sentence'>Additional access restrictions apply to names appearing in
a contract condition of a member function of class <span class='texttt'>C</span>:
<ul class='itemize'><li id='contract.cond-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#contract.cond-4.1'>(4.1)</a></div><div id='contract.cond-4.1.sentence-1' class='sentence'>Friendship is not considered (<a href='class.friend'>[class.friend]</a>)<a class='hidden_link' href='#contract.cond-4.1.sentence-1'>.</a></div></li><li id='contract.cond-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#contract.cond-4.2'>(4.2)</a></div><div id='contract.cond-4.2.sentence-1' class='sentence'>For a contract condition of a public member function,
no member of <span class='texttt'>C</span> or of an enclosing class of <span class='texttt'>C</span> is accessible
unless it is a public member of <span class='texttt'>C</span>,
or a member of a base class
accessible as a public member of <span class='texttt'>C</span> (<a href='class.access.base'>[class.access.base]</a>)<a class='hidden_link' href='#contract.cond-4.2.sentence-1'>.</a></div></li><li id='contract.cond-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#contract.cond-4.3'>(4.3)</a></div><div id='contract.cond-4.3.sentence-1' class='sentence'>For a contract condition of a protected member function,
no member of <span class='texttt'>C</span> or of an enclosing class of <span class='texttt'>C</span> is accessible
unless it is a public or protected member of <span class='texttt'>C</span>,
or a member of a base class
accessible as a public or protected member of <span class='texttt'>C</span><a class='hidden_link' href='#contract.cond-4.3.sentence-1'>.</a></div></li></ul></div> <div id='contract.cond-4.sentence-3' class='sentence'>
For names appearing in a contract condition of a non-member function,
friendship is not considered<a class='hidden_link' href='#contract.cond-4.sentence-3'>.</a></div> <div id='contract.cond-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#contract.cond-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
class X {
public:
  int v() const;
  void f() [[expects: x &gt; 0]];                  <span class='comment'>// error: <span class='tcode_in_codeblock'>x</span> is private
</span>  void g() [[expects: v() &gt; 0]];                <span class='comment'>// OK
</span>  friend void r(int z) [[expects: z &gt; 0]];      <span class='comment'>// OK
</span>  friend void s(int z) [[expects: z &gt; x]];      <span class='comment'>// error: <span class='tcode_in_codeblock'>x</span> is private
</span>protected:
  int w();
  void h() [[expects: x &gt; 0]];                  <span class='comment'>// error: <span class='tcode_in_codeblock'>x</span> is private
</span>  void i() [[ensures: y &gt; 0]];                  <span class='comment'>// OK
</span>  void j() [[ensures: w() &gt; 0]];                <span class='comment'>// OK
</span>  int y;
private:
  void k() [[expects: x &gt; 0]];                  <span class='comment'>// OK
</span>  int x;
};

class Y : public X {
public:
  void a() [[expects: v() &gt; 0]];                <span class='comment'>// OK
</span>  void b() [[ensures: w() &gt; 0]];                <span class='comment'>// error: <span class='tcode_in_codeblock'>w</span> is protected
</span>protected:
  void c() [[expects: w() &gt; 0]];                <span class='comment'>// OK
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='contract.cond-5'><div class='marginalizedparent'><a class='marginalized' href='#contract.cond-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8362'>#</a></div><div id='contract.cond-5.sentence-1' class='sentence'>A precondition is checked by evaluating its predicate
immediately before starting evaluation of the function body<a class='hidden_link' href='#contract.cond-5.sentence-1'>.</a></div> <div id='contract.cond-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#contract.cond-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='contract.cond-5.sentence-3' class='sentence'>The function body includes
the <i ><a href='except#nt:function-try-block'>function-try-block</a></i> and
the <i ><a href='class.base.init#nt:ctor-initializer'>ctor-initializer</a></i><a class='hidden_link' href='#contract.cond-5.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='contract.cond-5.sentence-2' class='sentence'>
A postcondition is checked by evaluating its predicate
immediately before returning control to the caller of the function<a class='hidden_link' href='#contract.cond-5.sentence-2'>.</a></div> <div id='contract.cond-5.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#contract.cond-5.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='contract.cond-5.sentence-4' class='sentence'>The lifetime of local variables and temporaries has ended<a class='hidden_link' href='#contract.cond-5.sentence-4'>.</a></div> <div id='contract.cond-5.sentence-5' class='sentence'>Exiting via an exception or via <span class='texttt'>longjmp</span> (<a href='csetjmp.syn'>[csetjmp.syn]</a>)
is not considered returning control to the caller of the function<a class='hidden_link' href='#contract.cond-5.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='contract.cond-6'><div class='marginalizedparent'><a class='marginalized' href='#contract.cond-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8378'>#</a></div><div id='contract.cond-6.sentence-1' class='sentence'>If a function has multiple preconditions,
their evaluation (if any) will be performed
in the order they appear lexically<a class='hidden_link' href='#contract.cond-6.sentence-1'>.</a></div> <div id='contract.cond-6.sentence-2' class='sentence'>If a function has multiple postconditions,
their evaluation (if any) will be performed
in the order they appear lexically<a class='hidden_link' href='#contract.cond-6.sentence-2'>.</a></div> <div id='contract.cond-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#contract.cond-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void f(int * p)
  [[expects: p != nullptr]]                     <span class='comment'>// #1
</span>  [[ensures: *p == 1]]                          <span class='comment'>// #3
</span>  [[expects: *p == 0]]                          <span class='comment'>// #2
</span>{
  *p = 1;
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='contract.cond-7'><div class='marginalizedparent'><a class='marginalized' href='#contract.cond-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8397'>#</a></div><div id='contract.cond-7.sentence-1' class='sentence'>If a postcondition odr-uses (<a href='basic.def.odr'>[basic.def.odr]</a>)
a parameter in its predicate
and the function body makes direct or indirect modifications of
the value of that parameter,
the behavior is undefined<a class='hidden_link' href='#contract.cond-7.sentence-1'>.</a></div> <div id='contract.cond-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#contract.cond-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int f(int x)
  [[ensures r: r == x]]
{
  return ++x;                   <span class='comment'>// undefined behavior
</span>}

int g(int * p)
  [[ensures r: p != nullptr]]
{
  *p = 42;                      <span class='comment'>// OK, <span class='tcode_in_codeblock'>p</span> is not modified
</span>}

int h(int x)
  [[ensures r: r == x]]
{
  potentially_modify(x);        <span class='comment'>// undefined behavior if <span class='tcode_in_codeblock'>x</span> is modified
</span>  return x;
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='contract.check' class='section'><h4 ><a class='secnum' href='#contract.check' style='min-width:118pt'>9.11.4.3</a> Checking contracts <a class='abbr_ref' href='dcl.attr.contract.check'>[dcl.attr.contract.check]</a></h4><div class='para' id='contract.check-1'><div class='marginalizedparent'><a class='marginalized' href='#contract.check-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8428'>#</a></div><div id='contract.check-1.sentence-1' class='sentence'>If the <i ><a href='dcl.attr.contract.syn#nt:contract-level'>contract-level</a></i>
of a <i ><a href='dcl.attr.contract.syn#nt:contract-attribute-specifier'>contract-attribute-specifier</a></i> is absent,
it is assumed to be <span class='texttt'>default</span><a class='hidden_link' href='#contract.check-1.sentence-1'>.</a></div> <div id='contract.check-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#contract.check-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='contract.check-1.sentence-2' class='sentence'>A <span class='texttt'>default</span> <i ><a href='dcl.attr.contract.syn#nt:contract-level'>contract-level</a></i> is expected to be used
for those contracts where
the cost of run-time checking is assumed to be
small (or at least not expensive) compared to
the cost of executing the function<a class='hidden_link' href='#contract.check-1.sentence-2'>.</a></div> <div id='contract.check-1.sentence-3' class='sentence'>An <span class='texttt'>audit</span> <i ><a href='dcl.attr.contract.syn#nt:contract-level'>contract-level</a></i> is expected to be used
for those contracts where
the cost of run-time checking is assumed to be
large (or at least significant) compared to
the cost of executing the function<a class='hidden_link' href='#contract.check-1.sentence-3'>.</a></div> <div id='contract.check-1.sentence-4' class='sentence'>An <span class='texttt'>axiom</span> <i ><a href='dcl.attr.contract.syn#nt:contract-level'>contract-level</a></i> is expected to be used
for those contracts that are formal comments
and are not evaluated at run-time<a class='hidden_link' href='#contract.check-1.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='contract.check-2'><div class='marginalizedparent'><a class='marginalized' href='#contract.check-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8448'>#</a></div><div id='contract.check-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#contract.check-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='contract.check-2.sentence-1' class='sentence'>Multiple contract conditions may be applied to a function type
with the same or different <i ><a href='dcl.attr.contract.syn#nt:contract-level'>contract-level</a></i><span class='textit'>s</span><a class='hidden_link' href='#contract.check-2.sentence-1'>.</a></div> <div id='contract.check-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#contract.check-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int z;

bool is_prime(int k);

void f(int x)
  [[expects: x &gt; 0]]
  [[expects audit: is_prime(x)]]
  [[ensures: z &gt; 10]]
{
  <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span>
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='contract.check-3'><div class='marginalizedparent'><a class='marginalized' href='#contract.check-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8469'>#</a></div><div id='contract.check-3.sentence-1' class='sentence'>A translation may be performed
with one of the following <a class='hidden_link' href='#def:build_level' id='def:build_level'><i >build levels</i></a>:
<a class='hidden_link' href='#def:off' id='def:off'><i>off</i></a>, <a class='hidden_link' href='#def:default' id='def:default'><i>default</i></a>, or <a class='hidden_link' href='#def:audit' id='def:audit'><i>audit</i></a><a class='hidden_link' href='#contract.check-3.sentence-1'>.</a></div> <div id='contract.check-3.sentence-2' class='sentence'>A translation with build level set to <a class='hidden_link' href='#def:off' id='def:off'><i>off</i></a>
performs no checking for any contract<a class='hidden_link' href='#contract.check-3.sentence-2'>.</a></div> <div id='contract.check-3.sentence-3' class='sentence'>A translation with build level set to <a class='hidden_link' href='#def:default' id='def:default'><i>default</i></a>
performs checking for <span class='texttt'>default</span> contracts<a class='hidden_link' href='#contract.check-3.sentence-3'>.</a></div> <div id='contract.check-3.sentence-4' class='sentence'>A translation with build level set to <a class='hidden_link' href='#def:audit' id='def:audit'><i>audit</i></a>
performs checking for <span class='texttt'>default</span> and <span class='texttt'>audit</span> contracts<a class='hidden_link' href='#contract.check-3.sentence-4'>.</a></div> <div id='contract.check-3.sentence-5' class='sentence'>If no build level is explicitly selected, the build level is <a class='hidden_link' href='#def:default' id='def:default'><i>default</i></a><a class='hidden_link' href='#contract.check-3.sentence-5'>.</a></div> <div id='contract.check-3.sentence-6' class='sentence'>The mechanism for selecting the build level is
<span class='indexparent'><a class='index' id=':mechanism_for_selecting_the_build_level'></a></span>implementation-defined<a class='hidden_link' href='#contract.check-3.sentence-6'>.</a></div> <div id='contract.check-3.sentence-7' class='sentence'>The translation of a program consisting of translation units
where the build level is not the same in all translation units
is conditionally-supported<a class='hidden_link' href='#contract.check-3.sentence-7'>.</a></div> <div id='contract.check-3.sentence-8' class='sentence'>There should be no programmatic way of setting, modifying, or querying
the build level of a translation unit<a class='hidden_link' href='#contract.check-3.sentence-8'>.</a></div></div><div class='para' id='contract.check-4'><div class='marginalizedparent'><a class='marginalized' href='#contract.check-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8488'>#</a></div><div id='contract.check-4.sentence-1' class='sentence'>During constant expression evaluation (<a href='expr.const'>[expr.const]</a>),
only predicates of checked contracts are evaluated<a class='hidden_link' href='#contract.check-4.sentence-1'>.</a></div> <div id='contract.check-4.sentence-2' class='sentence'>In other contexts,
it is unspecified whether the predicate for a contract
that is not checked under the current build level is evaluated;
if the predicate of such a contract
would evaluate to <span class='texttt'>false</span>, the behavior is undefined<a class='hidden_link' href='#contract.check-4.sentence-2'>.</a></div></div><div class='para' id='contract.check-5'><div class='marginalizedparent'><a class='marginalized' href='#contract.check-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8497'>#</a></div><div id='contract.check-5.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:violation_handler' id='def:violation_handler'><i >violation handler</i></a> of a program is a function of type
“<span class='texttt'>noexcept</span><span class="mjx-chtml"><span class="mjx-math" aria-label="Subscript o p t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> function of
(lvalue reference to <span class='texttt'>const std&#x200b;::&#x200b;contract_&shy;violation</span>)
returning <span class='texttt'>void</span>”, and is specified in an
<span class='indexparent'><a class='index' id=':specification_of_violation_handler'></a></span>implementation-defined manner<a class='hidden_link' href='#contract.check-5.sentence-1'>.</a></div> <div id='contract.check-5.sentence-2' class='sentence'>The violation handler is invoked
when the predicate of a checked contract evaluates to <span class='texttt'>false</span>
(called a <a class='hidden_link' href='#def:contract_violation' id='def:contract_violation'><i >contract violation</i></a>)<a class='hidden_link' href='#contract.check-5.sentence-2'>.</a></div> <div id='contract.check-5.sentence-3' class='sentence'>There should be no programmatic way of
setting or modifying the violation handler<a class='hidden_link' href='#contract.check-5.sentence-3'>.</a></div> <div id='contract.check-5.sentence-4' class='sentence'>It is <span class='indexparent'><a class='index' id=':argument_for_violation_handler'></a></span>implementation-defined
how the violation handler is established for a program and
how
the <span class='texttt'>std&#x200b;::&#x200b;contract_&shy;violation</span> (<a href='support.contract.cviol'>[support.contract.cviol]</a>) argument value
is set,
except as specified below<a class='hidden_link' href='#contract.check-5.sentence-4'>.</a></div> <div id='contract.check-5.sentence-5' class='sentence'>If a precondition is violated, the source location of the violation is
<span class='indexparent'><a class='index' id=':source_location_of_precondition_violation'></a></span>implementation-defined<a class='hidden_link' href='#contract.check-5.sentence-5'>.</a></div> <div id='contract.check-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#contract.check-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='contract.check-5.sentence-8' class='sentence'>Implementations are encouraged but not required to report the caller site<a class='hidden_link' href='#contract.check-5.sentence-8'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='contract.check-5.sentence-6' class='sentence'>
If a postcondition is violated, the source location of the violation is
the source location of the function definition<a class='hidden_link' href='#contract.check-5.sentence-6'>.</a></div> <div id='contract.check-5.sentence-7' class='sentence'>If an assertion is violated, the source location of the violation is
the source location of the statement to which the assertion is applied<a class='hidden_link' href='#contract.check-5.sentence-7'>.</a></div></div><div class='para' id='contract.check-6'><div class='marginalizedparent'><a class='marginalized' href='#contract.check-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8524'>#</a></div><div id='contract.check-6.sentence-1' class='sentence'>If a user-provided violation handler exits by throwing an exception
and a contract is violated on a call to a function
with a non-throwing exception specification,
then the behavior is as if the exception escaped the function body<a class='hidden_link' href='#contract.check-6.sentence-1'>.</a></div> <div id='contract.check-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#contract.check-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='contract.check-6.sentence-2' class='sentence'>The function <span class='texttt'>std&#x200b;::&#x200b;terminate</span> is invoked (<a href='except.terminate'>[except.terminate]</a>)<a class='hidden_link' href='#contract.check-6.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='contract.check-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#contract.check-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void f(int x) noexcept [[expects: x &gt; 0]];

void g() {
  f(0);                                         <span class='comment'>// <span class='tcode_in_codeblock'>std&#x200b;::&#x200b;terminate()</span> if violation handler throws
</span>  <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span>
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='contract.check-7'><div class='marginalizedparent'><a class='marginalized' href='#contract.check-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8543'>#</a></div><div id='contract.check-7.sentence-1' class='sentence'>A translation may be performed with one of the following
<a class='hidden_link' href='#def:violation_continuation_mode' id='def:violation_continuation_mode'><i >violation continuation modes</i></a>:
<a class='hidden_link' href='#def:off' id='def:off'><i>off</i></a> or <a class='hidden_link' href='#def:on' id='def:on'><i>on</i></a><a class='hidden_link' href='#contract.check-7.sentence-1'>.</a></div> <div id='contract.check-7.sentence-2' class='sentence'>A translation with violation continuation mode set to <a class='hidden_link' href='#def:off' id='def:off'><i>off</i></a>
terminates execution
by invoking the function <span class='texttt'>std&#x200b;::&#x200b;terminate</span> (<a href='except.terminate'>[except.terminate]</a>)
after completing the execution of the violation handler<a class='hidden_link' href='#contract.check-7.sentence-2'>.</a></div> <div id='contract.check-7.sentence-3' class='sentence'>A translation with a violation continuation mode set to <a class='hidden_link' href='#def:on' id='def:on'><i>on</i></a>
continues execution after completing the execution of the violation handler<a class='hidden_link' href='#contract.check-7.sentence-3'>.</a></div> <div id='contract.check-7.sentence-4' class='sentence'>If no continuation mode is explicitly selected,
the default continuation mode is <a class='hidden_link' href='#def:off' id='def:off'><i>off</i></a><a class='hidden_link' href='#contract.check-7.sentence-4'>.</a></div> <div id='contract.check-7.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#contract.check-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='contract.check-7.sentence-5' class='sentence'>A continuation mode set to <a class='hidden_link' href='#def:on' id='def:on'><i>on</i></a> provides the opportunity
to install a logging handler to instrument a pre-existing code base
and fix errors before enforcing checks<a class='hidden_link' href='#contract.check-7.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='contract.check-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#contract.check-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void f(int x) [[expects: x &gt; 0]];

void g() {
  f(0);         <span class='comment'>// <span class='tcode_in_codeblock'>std&#x200b;::&#x200b;terminate()</span> after handler if continuation mode is off;
</span>                <span class='comment'>// proceeds after handler if continuation mode is on
</span>  <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span>
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div></div><div id='deprecated' class='section'><h3 ><a class='secnum' href='#deprecated' style='min-width:103pt'>9.11.5</a> Deprecated attribute <a class='abbr_ref' href='dcl.attr.deprecated'>[dcl.attr.deprecated]</a></h3><span class='indexparent'><a class='index' id=':attribute,deprecated'></a></span><div class='para' id='deprecated-1'><div class='marginalizedparent'><a class='marginalized' href='#deprecated-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8577'>#</a></div><div id='deprecated-1.sentence-1' class='sentence'>The <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> <span class='texttt'>deprecated</span> can be used to mark names and entities
whose use is still allowed, but is discouraged for some reason<a class='hidden_link' href='#deprecated-1.sentence-1'>.</a></div> <div id='deprecated-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#deprecated-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='deprecated-1.sentence-4' class='sentence'>In particular,
<span class='texttt'>deprecated</span> is appropriate for names and entities that are deemed obsolescent or
unsafe<a class='hidden_link' href='#deprecated-1.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='deprecated-1.sentence-2' class='sentence'> It shall appear at most once in each <i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i><a class='hidden_link' href='#deprecated-1.sentence-2'>.</a></div> <div id='deprecated-1.sentence-3' class='sentence'>An
<i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i> may be present and, if present, it shall have the form:
<pre class='codeblock'>
( <span class='grammarterm'>string-literal</span> )</pre>
<div id='deprecated-1.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#deprecated-1.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='deprecated-1.sentence-5' class='sentence'>The <i ><a href='lex.string#nt:string-literal'>string-literal</a></i> in the <i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i>
could be used to explain the rationale for deprecation and/or to suggest a replacing entity<a class='hidden_link' href='#deprecated-1.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div class='para' id='deprecated-2'><div class='marginalizedparent'><a class='marginalized' href='#deprecated-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8590'>#</a></div><div id='deprecated-2.sentence-1' class='sentence'>The attribute may be applied to the declaration of
a class,
a <i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i>,
a variable,
a non-static data member,
a function,
a namespace,
an enumeration,
an enumerator, or
a template specialization<a class='hidden_link' href='#deprecated-2.sentence-1'>.</a></div></div><div class='para' id='deprecated-3'><div class='marginalizedparent'><a class='marginalized' href='#deprecated-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8602'>#</a></div><div id='deprecated-3.sentence-1' class='sentence'>A name or entity declared without the <span class='texttt'>deprecated</span> attribute can later be redeclared
with the attribute and vice-versa<a class='hidden_link' href='#deprecated-3.sentence-1'>.</a></div> <div id='deprecated-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#deprecated-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='deprecated-3.sentence-3' class='sentence'>Thus, an entity initially declared without the
attribute can be marked as deprecated by a subsequent redeclaration<a class='hidden_link' href='#deprecated-3.sentence-3'>.</a></div> <div id='deprecated-3.sentence-4' class='sentence'>However, after an entity
is marked as deprecated, later redeclarations do not un-deprecate the entity<a class='hidden_link' href='#deprecated-3.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='deprecated-3.sentence-2' class='sentence'>
Redeclarations using different forms of the attribute (with or without the
<i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i> or with different
<i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i><span class='textit'>s</span>) are allowed<a class='hidden_link' href='#deprecated-3.sentence-2'>.</a></div></div><div class='para' id='deprecated-4'><div class='marginalizedparent'><a class='marginalized' href='#deprecated-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8611'>#</a></div><div id='deprecated-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#deprecated-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='deprecated-4.sentence-1' class='sentence'>Implementations may use the <span class='texttt'>deprecated</span> attribute to produce a diagnostic
message in case the program refers to a name or entity other than to declare it, after a
declaration that specifies the attribute<a class='hidden_link' href='#deprecated-4.sentence-1'>.</a></div> <div id='deprecated-4.sentence-2' class='sentence'>The diagnostic message may include the text provided
within the <i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i> of any <span class='texttt'>deprecated</span> attribute applied
to the name or entity<a class='hidden_link' href='#deprecated-4.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='fallthrough' class='section'><h3 ><a class='secnum' href='#fallthrough' style='min-width:103pt'>9.11.6</a> Fallthrough attribute <a class='abbr_ref' href='dcl.attr.fallthrough'>[dcl.attr.fallthrough]</a></h3><span class='indexparent'><a class='index' id=':attribute,fallthrough'></a></span><div class='para' id='fallthrough-1'><div class='marginalizedparent'><a class='marginalized' href='#fallthrough-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8621'>#</a></div><div id='fallthrough-1.sentence-1' class='sentence'>The <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> <span class='texttt'>fallthrough</span>
may be applied to a <a href='stmt.expr#def:null_statement'>null statement</a>;
<span class='indexparent'><a class='index' id=':statement,fallthrough'></a></span>
such a statement is a fallthrough statement<a class='hidden_link' href='#fallthrough-1.sentence-1'>.</a></div> <div id='fallthrough-1.sentence-2' class='sentence'>The <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> <span class='texttt'>fallthrough</span>
shall appear at most once in each <i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i> and
no <i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i> shall be present<a class='hidden_link' href='#fallthrough-1.sentence-2'>.</a></div> <div id='fallthrough-1.sentence-3' class='sentence'>A fallthrough statement may only appear within
an enclosing <a href='stmt.switch'><span class='texttt'>switch</span> statement</a><a class='hidden_link' href='#fallthrough-1.sentence-3'>.</a></div> <div id='fallthrough-1.sentence-4' class='sentence'>The next statement that would be executed after a fallthrough statement
shall be a labeled statement whose label is a case label or
default label for the same <span class='texttt'>switch</span> statement<a class='hidden_link' href='#fallthrough-1.sentence-4'>.</a></div> <div id='fallthrough-1.sentence-5' class='sentence'>The program is ill-formed if there is no such statement<a class='hidden_link' href='#fallthrough-1.sentence-5'>.</a></div></div><div class='para' id='fallthrough-2'><div class='marginalizedparent'><a class='marginalized' href='#fallthrough-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8636'>#</a></div><div id='fallthrough-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#fallthrough-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='fallthrough-2.sentence-1' class='sentence'>The use of a fallthrough statement is intended to suppress
a warning that an implementation might otherwise issue
for a case or default label that is reachable
from another case or default label along some path of execution<a class='hidden_link' href='#fallthrough-2.sentence-1'>.</a></div> <div id='fallthrough-2.sentence-2' class='sentence'>Implementations should issue a warning
if a fallthrough statement is not dynamically reachable<a class='hidden_link' href='#fallthrough-2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='fallthrough-3'><div class='marginalizedparent'><a class='marginalized' href='#fallthrough-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8646'>#</a></div><div id='fallthrough-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#fallthrough-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void f(int n) {
  void g(), h(), i();
  switch (n) {
  case 1:
  case 2:
    g();
    [[fallthrough]];
  case 3:                       <span class='comment'>// warning on fallthrough discouraged
</span>    h();
  case 4:                       <span class='comment'>// implementation may warn on fallthrough
</span>    i();
    [[fallthrough]];            <span class='comment'>// ill-formed
</span>  }
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='likelihood' class='section'><h3 ><a class='secnum' href='#likelihood' style='min-width:103pt'>9.11.7</a> Likelihood attributes <a class='abbr_ref' href='dcl.attr.likelihood'>[dcl.attr.likelihood]</a></h3><span class='indexparent'><a class='index' id=':attribute,likely'></a></span>
<span class='indexparent'><a class='index' id=':attribute,unlikely'></a></span><div class='para' id='likelihood-1'><div class='marginalizedparent'><a class='marginalized' href='#likelihood-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8670'>#</a></div><div id='likelihood-1.sentence-1' class='sentence'>The <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i>s
<span class='texttt'>likely</span> and <span class='texttt'>unlikely</span>
may be applied to labels or statements<a class='hidden_link' href='#likelihood-1.sentence-1'>.</a></div> <div id='likelihood-1.sentence-2' class='sentence'>The <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i>s
<span class='texttt'>likely</span> and <span class='texttt'>unlikely</span>
shall appear at most once in each <i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i>
and no <i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i> shall be present<a class='hidden_link' href='#likelihood-1.sentence-2'>.</a></div> <div id='likelihood-1.sentence-3' class='sentence'>The <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> <span class='texttt'>likely</span>
shall not appear in an <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i>
that contains the <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> <span class='texttt'>unlikely</span><a class='hidden_link' href='#likelihood-1.sentence-3'>.</a></div></div><div class='para' id='likelihood-2'><div class='marginalizedparent'><a class='marginalized' href='#likelihood-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8682'>#</a></div><div id='likelihood-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#likelihood-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='likelihood-2.sentence-1' class='sentence'>The use of the <span class='texttt'>likely</span> attribute
is intended to allow implementations to optimize for
the case where paths of execution including it
are arbitrarily more likely
than any alternative path of execution
that does not include such an attribute on a statement or label<a class='hidden_link' href='#likelihood-2.sentence-1'>.</a></div> <div id='likelihood-2.sentence-2' class='sentence'>The use of the <span class='texttt'>unlikely</span> attribute
is intended to allow implementations to optimize for
the case where paths of execution including it
are arbitrarily more unlikely
than any alternative path of execution
that does not include such an attribute on a statement or label<a class='hidden_link' href='#likelihood-2.sentence-2'>.</a></div> <div id='likelihood-2.sentence-3' class='sentence'>A path of execution includes a label
if and only if it contains a jump to that label<a class='hidden_link' href='#likelihood-2.sentence-3'>.</a></div> <div id='likelihood-2.sentence-4' class='sentence'>Excessive usage of either of these attributes
is liable to result in performance degradation<a class='hidden_link' href='#likelihood-2.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='likelihood-3'><div class='marginalizedparent'><a class='marginalized' href='#likelihood-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8702'>#</a></div><div id='likelihood-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#likelihood-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void g(int);
int f(int n) {
  if (n &gt; 5) [[unlikely]] {     <span class='comment'>// <span class='tcode_in_codeblock'>n &gt; 5</span> is considered to be arbitrarily unlikely
</span>    g(0);
    return n * 2 + 1;
  }

  switch (n) {
  case 1:
    g(1);
    [[fallthrough]];

  [[likely]] case 2:            <span class='comment'>// <span class='tcode_in_codeblock'>n == 2</span> is considered to be arbitrarily more
</span>    g(2);                       <span class='comment'>// likely than any other value of <span class='tcode_in_codeblock'>n</span>
</span>    break;
  }
  return 3;
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='unused' class='section'><h3 ><a class='secnum' href='#unused' style='min-width:103pt'>9.11.8</a> Maybe unused attribute <a class='abbr_ref' href='dcl.attr.unused'>[dcl.attr.unused]</a></h3><span class='indexparent'><a class='index' id=':attribute,maybe_unused'></a></span><div class='para' id='unused-1'><div class='marginalizedparent'><a class='marginalized' href='#unused-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8729'>#</a></div><div id='unused-1.sentence-1' class='sentence'>The <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> <span class='texttt'>maybe_&shy;unused</span>
indicates that a name or entity is possibly intentionally unused<a class='hidden_link' href='#unused-1.sentence-1'>.</a></div> <div id='unused-1.sentence-2' class='sentence'>It shall appear at most once in each <i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i> and
no <i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i> shall be present<a class='hidden_link' href='#unused-1.sentence-2'>.</a></div></div><div class='para' id='unused-2'><div class='marginalizedparent'><a class='marginalized' href='#unused-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8735'>#</a></div><div id='unused-2.sentence-1' class='sentence'>The attribute may be applied to the declaration of a class,
a <i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i>, a variable, a non-static data member,
a function, an enumeration, or an enumerator<a class='hidden_link' href='#unused-2.sentence-1'>.</a></div></div><div class='para' id='unused-3'><div class='marginalizedparent'><a class='marginalized' href='#unused-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8740'>#</a></div><div id='unused-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#unused-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='unused-3.sentence-1' class='sentence'>For an entity marked <span class='texttt'>maybe_&shy;unused</span>, implementations
should not emit a warning that the entity is unused, or
that the entity is used despite the presence of the attribute<a class='hidden_link' href='#unused-3.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='unused-4'><div class='marginalizedparent'><a class='marginalized' href='#unused-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8747'>#</a></div><div id='unused-4.sentence-1' class='sentence'>A name or entity declared without the <span class='texttt'>maybe_&shy;unused</span> attribute
can later be redeclared with the attribute
and vice versa<a class='hidden_link' href='#unused-4.sentence-1'>.</a></div> <div id='unused-4.sentence-2' class='sentence'>An entity is considered marked
after the first declaration that marks it<a class='hidden_link' href='#unused-4.sentence-2'>.</a></div></div><div class='para' id='unused-5'><div class='marginalizedparent'><a class='marginalized' href='#unused-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8754'>#</a></div><div id='unused-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#unused-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
[[maybe_unused]] void f([[maybe_unused]] bool thing1,
                        [[maybe_unused]] bool thing2) {
  [[maybe_unused]] bool b = thing1 &amp;&amp; thing2;
  assert(b);
}</pre> <div id='unused-5.sentence-1' class='sentence'>
Implementations should not warn that <span class='texttt'>b</span> is unused,
whether or not <span class='texttt'>NDEBUG</span> is defined<a class='hidden_link' href='#unused-5.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='nodiscard' class='section'><h3 ><a class='secnum' href='#nodiscard' style='min-width:103pt'>9.11.9</a> Nodiscard attribute <a class='abbr_ref' href='dcl.attr.nodiscard'>[dcl.attr.nodiscard]</a></h3><span class='indexparent'><a class='index' id=':attribute,nodiscard'></a></span><div class='para' id='nodiscard-1'><div class='marginalizedparent'><a class='marginalized' href='#nodiscard-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8770'>#</a></div><div id='nodiscard-1.sentence-1' class='sentence'>The <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> <span class='texttt'>nodiscard</span>
may be applied to the <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i>
in a function declaration or to the declaration of a class or enumeration<a class='hidden_link' href='#nodiscard-1.sentence-1'>.</a></div> <div id='nodiscard-1.sentence-2' class='sentence'>It shall appear at most once in each <i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i> and
no <i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i> shall be present<a class='hidden_link' href='#nodiscard-1.sentence-2'>.</a></div></div><div class='para' id='nodiscard-2'><div class='marginalizedparent'><a class='marginalized' href='#nodiscard-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8777'>#</a></div><div id='nodiscard-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#nodiscard-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='nodiscard-2.sentence-1' class='sentence'>A nodiscard call is a function call expression that
calls a function previously declared <span class='texttt'>nodiscard</span>, or
whose return type is a possibly cv-qualified class or enumeration type
marked <span class='texttt'>nodiscard</span><a class='hidden_link' href='#nodiscard-2.sentence-1'>.</a></div> <div id='nodiscard-2.sentence-2' class='sentence'>Appearance of a nodiscard call as
a potentially-evaluated <a href='expr.prop#def:discarded-value_expression'>discarded-value expression</a>
is discouraged unless explicitly cast to <span class='texttt'>void</span><a class='hidden_link' href='#nodiscard-2.sentence-2'>.</a></div> <div id='nodiscard-2.sentence-3' class='sentence'>Implementations should issue a warning in such cases<a class='hidden_link' href='#nodiscard-2.sentence-3'>.</a></div> <div id='nodiscard-2.sentence-4' class='sentence'>This is typically because discarding the return value
of a nodiscard call has surprising consequences<a class='hidden_link' href='#nodiscard-2.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='nodiscard-3'><div class='marginalizedparent'><a class='marginalized' href='#nodiscard-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8790'>#</a></div><div id='nodiscard-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#nodiscard-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct [[nodiscard]] error_info { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> };
error_info enable_missile_safety_mode();
void launch_missiles();
void test_missiles() {
  enable_missile_safety_mode(); <span class='comment'>// warning encouraged
</span>  launch_missiles();
}
error_info &amp;foo();
void f() { foo(); }             <span class='comment'>// warning not encouraged: not a nodiscard call, because neither
</span>                                <span class='comment'>// the (reference) return type nor the function is declared nodiscard
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='noreturn' class='section'><h3 ><a class='secnum' href='#noreturn' style='min-width:103pt'>9.11.10</a> Noreturn attribute <a class='abbr_ref' href='dcl.attr.noreturn'>[dcl.attr.noreturn]</a></h3><span class='indexparent'><a class='index' id=':attribute,noreturn'></a></span><div class='para' id='noreturn-1'><div class='marginalizedparent'><a class='marginalized' href='#noreturn-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8809'>#</a></div><div id='noreturn-1.sentence-1' class='sentence'>The <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> <span class='texttt'>noreturn</span> specifies that a function does not return<a class='hidden_link' href='#noreturn-1.sentence-1'>.</a></div> <div id='noreturn-1.sentence-2' class='sentence'>It
shall appear at most once in each <i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i> and no
<i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i> shall be present<a class='hidden_link' href='#noreturn-1.sentence-2'>.</a></div> <div id='noreturn-1.sentence-3' class='sentence'>The attribute may be applied to the
<i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> in a function declaration<a class='hidden_link' href='#noreturn-1.sentence-3'>.</a></div> <div id='noreturn-1.sentence-4' class='sentence'>The first declaration of a function shall
specify the <span class='texttt'>noreturn</span> attribute if any declaration of that function specifies the
<span class='texttt'>noreturn</span> attribute<a class='hidden_link' href='#noreturn-1.sentence-4'>.</a></div> <div id='noreturn-1.sentence-5' class='sentence'>If a function is declared with the <span class='texttt'>noreturn</span> attribute in one
translation unit and the same function is declared without the <span class='texttt'>noreturn</span> attribute in another
translation unit, the program is ill-formed, no diagnostic required<a class='hidden_link' href='#noreturn-1.sentence-5'>.</a></div></div><div class='para' id='noreturn-2'><div class='marginalizedparent'><a class='marginalized' href='#noreturn-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8819'>#</a></div><div id='noreturn-2.sentence-1' class='sentence'>If a function <span class='texttt'>f</span> is called where <span class='texttt'>f</span> was previously declared with the <span class='texttt'>noreturn</span>
attribute and <span class='texttt'>f</span> eventually returns, the behavior is undefined<a class='hidden_link' href='#noreturn-2.sentence-1'>.</a></div> <div id='noreturn-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#noreturn-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='noreturn-2.sentence-2' class='sentence'>The function may
terminate by throwing an exception<a class='hidden_link' href='#noreturn-2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>   <div id='noreturn-2.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#noreturn-2.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='noreturn-2.sentence-3' class='sentence'>Implementations should issue a
warning if a function marked <span class='texttt'>[[noreturn]]</span> might return<a class='hidden_link' href='#noreturn-2.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='noreturn-3'><div class='marginalizedparent'><a class='marginalized' href='#noreturn-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8825'>#</a></div><div id='noreturn-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#noreturn-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
[[ noreturn ]] void f() {
  throw "error";                <span class='comment'>// OK
</span>}

[[ noreturn ]] void q(int i) {  <span class='comment'>// behavior is undefined if called with an argument <span class='tcode_in_codeblock'>&lt;= 0</span>
</span>  if (i &gt; 0)
    throw "positive";
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='nouniqueaddr' class='section'><h3 ><a class='secnum' href='#nouniqueaddr' style='min-width:103pt'>9.11.11</a> No unique address attribute <a class='abbr_ref' href='dcl.attr.nouniqueaddr'>[dcl.attr.nouniqueaddr]</a></h3><span class='indexparent'><a class='index' id=':attribute,no_unique_address'></a></span><div class='para' id='nouniqueaddr-1'><div class='marginalizedparent'><a class='marginalized' href='#nouniqueaddr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8842'>#</a></div><div id='nouniqueaddr-1.sentence-1' class='sentence'>The <i ><a href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a></i> <span class='texttt'>no_&shy;unique_&shy;address</span>
specifies that a non-static data member
is a potentially-overlapping subobject (<a href='intro.object'>[intro.object]</a>)<a class='hidden_link' href='#nouniqueaddr-1.sentence-1'>.</a></div> <div id='nouniqueaddr-1.sentence-2' class='sentence'>It shall appear at most once in each <i ><a href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a></i>
and no <i ><a href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a></i> shall be present<a class='hidden_link' href='#nouniqueaddr-1.sentence-2'>.</a></div> <div id='nouniqueaddr-1.sentence-3' class='sentence'>The attribute may appertain to a non-static data member
other than a bit-field<a class='hidden_link' href='#nouniqueaddr-1.sentence-3'>.</a></div></div><div class='para' id='nouniqueaddr-2'><div class='marginalizedparent'><a class='marginalized' href='#nouniqueaddr-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/15715f3347aaba6b2cc03c477a17e1f6462a8074/source/declarations.tex#L8851'>#</a></div><div id='nouniqueaddr-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#nouniqueaddr-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='nouniqueaddr-2.sentence-1' class='sentence'>The non-static data member can share the address of
another non-static data member or that of a base class,
and any padding that would normally be inserted
at the end of the object
can be reused as storage for other members<a class='hidden_link' href='#nouniqueaddr-2.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='nouniqueaddr-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#nouniqueaddr-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;typename Key, typename Value,
         typename Hash, typename Pred, typename Allocator&gt;
class hash_map {
  [[no_unique_address]] Hash hasher;
  [[no_unique_address]] Pred pred;
  [[no_unique_address]] Allocator alloc;
  Bucket *buckets;
  <span class='comment'>// ...
</span>public:
  <span class='comment'>// ...
</span>};</pre> <div id='nouniqueaddr-2.sentence-2' class='sentence'>
Here, <span class='texttt'>hasher</span>, <span class='texttt'>pred</span>, and <span class='texttt'>alloc</span>
could have the same address as <span class='texttt'>buckets</span>
if their respective types are all empty<a class='hidden_link' href='#nouniqueaddr-2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div></div></body></html>