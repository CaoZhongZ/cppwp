<!DOCTYPE html><html lang='en'><head><title>[memory]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>23</a> General utilities library <a class='abbr_ref' href='./#utilities'>[utilities]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>23.10</a> Memory <a class='abbr_ref'>[memory]</a></h2><div id='general'><h3 ><a class='secnum' href='#general' style='min-width:103pt'>23.10.1</a> In general <a class='abbr_ref' href='memory.general'>[memory.general]</a></h3><div class='para' id='general-1'><div class='marginalizedparent'><a class='marginalized' href='#general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L6933'>#</a></div><p >This subclause describes the contents of the header
<a href='memory.syn'><span class='texttt'>&lt;memory&gt;</span></a> and some
of the contents of the header <a href='cstdlib.syn'><span class='texttt'>&lt;cstdlib&gt;</span></a>.</p></div></div><div id='syn'><h3 ><a class='secnum' href='#syn' style='min-width:103pt'>23.10.2</a> Header <span class='texttt'>&lt;memory&gt;</span> synopsis <a class='abbr_ref' href='memory.syn'>[memory.syn]</a></h3><div class='para' id='syn-1'><div class='marginalizedparent'><a class='marginalized' href='#syn-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L6940'>#</a></div><p >The header <span class='texttt'>&lt;memory&gt;</span> defines several types and function templates that
describe properties of pointers and pointer-like types, manage memory
for containers and other template types, destroy objects, and
construct multiple objects in
uninitialized memory
buffers (<a href='pointer.traits'>[pointer.traits]</a>â€“<a href='specialized.algorithms'>[specialized.algorithms]</a>).
The header also defines the templates
<span class='texttt'>unique_&shy;ptr</span>, <span class='texttt'>shared_&shy;ptr</span>, <span class='texttt'>weak_&shy;ptr</span>, and various function
templates that operate on objects of these types (<a href='smartptr'>[smartptr]</a>).</p><p ><span class='indexparent'><a class='index' id=':<memory>'></a></span><span class='indexparent'><a class='index' id='lib:<memory>'></a></span></p><pre class='codeblock'>
namespace std {
  <span class='comment'>// <a href='pointer.traits'>[pointer.traits]</a>, pointer traits
</span>  template &lt;class Ptr&gt; struct pointer_traits;
  template &lt;class T&gt; struct pointer_traits&lt;T*&gt;;

  <span class='comment'>// <a href='util.dynamic.safety'>[util.dynamic.safety]</a>, pointer safety
</span>  enum class pointer_safety { relaxed, preferred, strict };
  void declare_reachable(void* p);
  template &lt;class T&gt; T* undeclare_reachable(T* p);
  void declare_no_pointers(char* p, size_t n);
  void undeclare_no_pointers(char* p, size_t n);
  pointer_safety get_pointer_safety() noexcept;

  <span class='comment'>// <a href='ptr.align'>[ptr.align]</a>, pointer alignment function
</span>  void* align(size_t alignment, size_t size, void*&amp; ptr, size_t&amp; space);

  <span class='comment'>// <a href='allocator.tag'>[allocator.tag]</a>, allocator argument tag
</span>  struct allocator_arg_t { explicit allocator_arg_t() = default; };
  inline constexpr allocator_arg_t allocator_arg{};

  <span class='comment'>// <a href='allocator.uses'>[allocator.uses]</a>, <span class='tcode_in_codeblock'>uses_&shy;allocator</span>
</span>  template &lt;class T, class Alloc&gt; struct uses_allocator;

  <span class='comment'>// <a href='allocator.traits'>[allocator.traits]</a>, allocator traits
</span>  template &lt;class Alloc&gt; struct allocator_traits;

  <span class='comment'>// <a href='default.allocator'>[default.allocator]</a>, the default allocator
</span>  template &lt;class T&gt; class allocator;
  template &lt;class T, class U&gt;
    bool operator==(const allocator&lt;T&gt;&amp;, const allocator&lt;U&gt;&amp;) noexcept;
  template &lt;class T, class U&gt;
    bool operator!=(const allocator&lt;T&gt;&amp;, const allocator&lt;U&gt;&amp;) noexcept;

  <span class='comment'>// <a href='specialized.algorithms'>[specialized.algorithms]</a>, specialized algorithms
</span>  template &lt;class T&gt; constexpr T* addressof(T&amp; r) noexcept;
  template &lt;class T&gt; const T* addressof(const T&amp;&amp;) = delete;
  template &lt;class ForwardIterator&gt;
    void uninitialized_default_construct(ForwardIterator first, ForwardIterator last);
  template &lt;class ExecutionPolicy, class ForwardIterator&gt;
    void uninitialized_default_construct(ExecutionPolicy&amp;&amp; exec, <span class='comment'>// see <a href='algorithms.parallel.overloads'>[algorithms.parallel.overloads]</a>
</span>                                         ForwardIterator first, ForwardIterator last);
  template &lt;class ForwardIterator, class Size&gt;
    ForwardIterator uninitialized_default_construct_n(ForwardIterator first, Size n);
  template &lt;class ExecutionPolicy, class ForwardIterator, class Size&gt;
    ForwardIterator uninitialized_default_construct_n(ExecutionPolicy&amp;&amp; exec, <span class='comment'>// see <a href='algorithms.parallel.overloads'>[algorithms.parallel.overloads]</a>
</span>                                                      ForwardIterator first, Size n);
  template &lt;class ForwardIterator&gt;
    void uninitialized_value_construct(ForwardIterator first, ForwardIterator last);
  template &lt;class ExecutionPolicy, class ForwardIterator&gt;
    void uninitialized_value_construct(ExecutionPolicy&amp;&amp; exec, <span class='comment'>// see <a href='algorithms.parallel.overloads'>[algorithms.parallel.overloads]</a>
</span>                                       ForwardIterator first, ForwardIterator last);
  template &lt;class ForwardIterator, class Size&gt;
    ForwardIterator uninitialized_value_construct_n(ForwardIterator first, Size n);
  template &lt;class ExecutionPolicy, class ForwardIterator, class Size&gt;
    ForwardIterator uninitialized_value_construct_n(ExecutionPolicy&amp;&amp; exec, <span class='comment'>// see <a href='algorithms.parallel.overloads'>[algorithms.parallel.overloads]</a>
</span>                                                    ForwardIterator first, Size n);
  template &lt;class InputIterator, class ForwardIterator&gt;
    ForwardIterator uninitialized_copy(InputIterator first, InputIterator last,
                                       ForwardIterator result);
  template &lt;class ExecutionPolicy, class InputIterator, class ForwardIterator&gt;
    ForwardIterator uninitialized_copy(ExecutionPolicy&amp;&amp; exec, <span class='comment'>// see <a href='algorithms.parallel.overloads'>[algorithms.parallel.overloads]</a>
</span>                                       InputIterator first, InputIterator last,
                                       ForwardIterator result);
  template &lt;class InputIterator, class Size, class ForwardIterator&gt;
    ForwardIterator uninitialized_copy_n(InputIterator first, Size n,
                                         ForwardIterator result);
  template &lt;class ExecutionPolicy, class InputIterator, class Size, class ForwardIterator&gt;
    ForwardIterator uninitialized_copy_n(ExecutionPolicy&amp;&amp; exec, <span class='comment'>// see <a href='algorithms.parallel.overloads'>[algorithms.parallel.overloads]</a>
</span>                                         InputIterator first, Size n,
                                         ForwardIterator result);
  template &lt;class InputIterator, class ForwardIterator&gt;
    ForwardIterator uninitialized_move(InputIterator first, InputIterator last,
                                       ForwardIterator result);
  template &lt;class ExecutionPolicy, class InputIterator, class ForwardIterator&gt;
    ForwardIterator uninitialized_move(ExecutionPolicy&amp;&amp; exec, <span class='comment'>// see <a href='algorithms.parallel.overloads'>[algorithms.parallel.overloads]</a>
</span>                                       InputIterator first, InputIterator last,
                                       ForwardIterator result);
  template &lt;class InputIterator, class Size, class ForwardIterator&gt;
    pair&lt;InputIterator, ForwardIterator&gt;
      uninitialized_move_n(InputIterator first, Size n, ForwardIterator result);
  template &lt;class ExecutionPolicy, class InputIterator, class Size, class ForwardIterator&gt;
    pair&lt;InputIterator, ForwardIterator&gt;
      uninitialized_move_n(ExecutionPolicy&amp;&amp; exec, <span class='comment'>// see <a href='algorithms.parallel.overloads'>[algorithms.parallel.overloads]</a>
</span>                           InputIterator first, Size n, ForwardIterator result);
  template &lt;class ForwardIterator, class T&gt;
    void uninitialized_fill(ForwardIterator first, ForwardIterator last,
                            const T&amp; x);
  template &lt;class ExecutionPolicy, class ForwardIterator, class T&gt;
    void uninitialized_fill(ExecutionPolicy&amp;&amp; exec, <span class='comment'>// see <a href='algorithms.parallel.overloads'>[algorithms.parallel.overloads]</a>
</span>                            ForwardIterator first, ForwardIterator last,
                            const T&amp; x);
  template &lt;class ForwardIterator, class Size, class T&gt;
    ForwardIterator uninitialized_fill_n(ForwardIterator first, Size n, const T&amp; x);
  template &lt;class ExecutionPolicy, class ForwardIterator, class Size, class T&gt;
    ForwardIterator uninitialized_fill_n(ExecutionPolicy&amp;&amp; exec, <span class='comment'>// see <a href='algorithms.parallel.overloads'>[algorithms.parallel.overloads]</a>
</span>                                         ForwardIterator first, Size n, const T&amp; x);
  template &lt;class T&gt;
    void destroy_at(T* location);
  template &lt;class ForwardIterator&gt;
    void destroy(ForwardIterator first, ForwardIterator last);
  template &lt;class ExecutionPolicy, class ForwardIterator&gt;
    void destroy(ExecutionPolicy&amp;&amp; exec, <span class='comment'>// see <a href='algorithms.parallel.overloads'>[algorithms.parallel.overloads]</a>
</span>                 ForwardIterator first, ForwardIterator last);
  template &lt;class ForwardIterator, class Size&gt;
    ForwardIterator destroy_n(ForwardIterator first, Size n);
  template &lt;class ExecutionPolicy, class ForwardIterator, class Size&gt;
    ForwardIterator destroy_n(ExecutionPolicy&amp;&amp; exec, <span class='comment'>// see <a href='algorithms.parallel.overloads'>[algorithms.parallel.overloads]</a>
</span>                              ForwardIterator first, Size n);

  <span class='comment'>// <a href='unique.ptr'>[unique.ptr]</a>, class template <span class='tcode_in_codeblock'>unique_&shy;ptr</span>
</span>  template &lt;class T&gt; struct default_delete;
  template &lt;class T&gt; struct default_delete&lt;T[]&gt;;
  template &lt;class T, class D = default_delete&lt;T&gt;&gt; class unique_ptr;
  template &lt;class T, class D&gt; class unique_ptr&lt;T[], D&gt;;

  template &lt;class T, class... Args&gt; unique_ptr&lt;T&gt; make_unique(Args&amp;&amp;... args);
  template &lt;class T&gt; unique_ptr&lt;T&gt; make_unique(size_t n);
  template &lt;class T, class... Args&gt; <span class='textit'><span class='texttt'>unspecified</span></span> make_unique(Args&amp;&amp;...) = delete;

  template &lt;class T, class D&gt; void swap(unique_ptr&lt;T, D&gt;&amp; x, unique_ptr&lt;T, D&gt;&amp; y) noexcept;

  template &lt;class T1, class D1, class T2, class D2&gt;
    bool operator==(const unique_ptr&lt;T1, D1&gt;&amp; x, const unique_ptr&lt;T2, D2&gt;&amp; y);
  template &lt;class T1, class D1, class T2, class D2&gt;
    bool operator!=(const unique_ptr&lt;T1, D1&gt;&amp; x, const unique_ptr&lt;T2, D2&gt;&amp; y);
  template &lt;class T1, class D1, class T2, class D2&gt;
    bool operator&lt;(const unique_ptr&lt;T1, D1&gt;&amp; x, const unique_ptr&lt;T2, D2&gt;&amp; y);
  template &lt;class T1, class D1, class T2, class D2&gt;
    bool operator&lt;=(const unique_ptr&lt;T1, D1&gt;&amp; x, const unique_ptr&lt;T2, D2&gt;&amp; y);
  template &lt;class T1, class D1, class T2, class D2&gt;
    bool operator&gt;(const unique_ptr&lt;T1, D1&gt;&amp; x, const unique_ptr&lt;T2, D2&gt;&amp; y);
  template &lt;class T1, class D1, class T2, class D2&gt;
    bool operator&gt;=(const unique_ptr&lt;T1, D1&gt;&amp; x, const unique_ptr&lt;T2, D2&gt;&amp; y);

  template &lt;class T, class D&gt;
    bool operator==(const unique_ptr&lt;T, D&gt;&amp; x, nullptr_t) noexcept;
  template &lt;class T, class D&gt;
    bool operator==(nullptr_t, const unique_ptr&lt;T, D&gt;&amp; y) noexcept;
  template &lt;class T, class D&gt;
    bool operator!=(const unique_ptr&lt;T, D&gt;&amp; x, nullptr_t) noexcept;
  template &lt;class T, class D&gt;
    bool operator!=(nullptr_t, const unique_ptr&lt;T, D&gt;&amp; y) noexcept;
  template &lt;class T, class D&gt;
    bool operator&lt;(const unique_ptr&lt;T, D&gt;&amp; x, nullptr_t);
  template &lt;class T, class D&gt;
    bool operator&lt;(nullptr_t, const unique_ptr&lt;T, D&gt;&amp; y);
  template &lt;class T, class D&gt;
    bool operator&lt;=(const unique_ptr&lt;T, D&gt;&amp; x, nullptr_t);
  template &lt;class T, class D&gt;
    bool operator&lt;=(nullptr_t, const unique_ptr&lt;T, D&gt;&amp; y);
  template &lt;class T, class D&gt;
    bool operator&gt;(const unique_ptr&lt;T, D&gt;&amp; x, nullptr_t);
  template &lt;class T, class D&gt;
    bool operator&gt;(nullptr_t, const unique_ptr&lt;T, D&gt;&amp; y);
  template &lt;class T, class D&gt;
    bool operator&gt;=(const unique_ptr&lt;T, D&gt;&amp; x, nullptr_t);
  template &lt;class T, class D&gt;
    bool operator&gt;=(nullptr_t, const unique_ptr&lt;T, D&gt;&amp; y);

  <span class='comment'>// <a href='util.smartptr.weak.bad'>[util.smartptr.weak.bad]</a>, class <span class='tcode_in_codeblock'>bad_&shy;weak_&shy;ptr</span>
</span>  class bad_weak_ptr;

  <span class='comment'>// <a href='util.smartptr.shared'>[util.smartptr.shared]</a>, class template <span class='tcode_in_codeblock'>shared_&shy;ptr</span>
</span>  template&lt;class T&gt; class shared_ptr;

  <span class='comment'>// <a href='util.smartptr.shared.create'>[util.smartptr.shared.create]</a>, <span class='tcode_in_codeblock'>shared_&shy;ptr</span> creation
</span>  template&lt;class T, class... Args&gt;
    shared_ptr&lt;T&gt; make_shared(Args&amp;&amp;... args);
  template&lt;class T, class A, class... Args&gt;
    shared_ptr&lt;T&gt; allocate_shared(const A&amp; a, Args&amp;&amp;... args);

  <span class='comment'>// <a href='util.smartptr.shared.cmp'>[util.smartptr.shared.cmp]</a>, <span class='tcode_in_codeblock'>shared_&shy;ptr</span> comparisons
</span>  template&lt;class T, class U&gt;
    bool operator==(const shared_ptr&lt;T&gt;&amp; a, const shared_ptr&lt;U&gt;&amp; b) noexcept;
  template&lt;class T, class U&gt;
    bool operator!=(const shared_ptr&lt;T&gt;&amp; a, const shared_ptr&lt;U&gt;&amp; b) noexcept;
  template&lt;class T, class U&gt;
    bool operator&lt;(const shared_ptr&lt;T&gt;&amp; a, const shared_ptr&lt;U&gt;&amp; b) noexcept;
  template&lt;class T, class U&gt;
    bool operator&gt;(const shared_ptr&lt;T&gt;&amp; a, const shared_ptr&lt;U&gt;&amp; b) noexcept;
  template&lt;class T, class U&gt;
    bool operator&lt;=(const shared_ptr&lt;T&gt;&amp; a, const shared_ptr&lt;U&gt;&amp; b) noexcept;
  template&lt;class T, class U&gt;
    bool operator&gt;=(const shared_ptr&lt;T&gt;&amp; a, const shared_ptr&lt;U&gt;&amp; b) noexcept;

  template &lt;class T&gt;
    bool operator==(const shared_ptr&lt;T&gt;&amp; x, nullptr_t) noexcept;
  template &lt;class T&gt;
    bool operator==(nullptr_t, const shared_ptr&lt;T&gt;&amp; y) noexcept;
  template &lt;class T&gt;
    bool operator!=(const shared_ptr&lt;T&gt;&amp; x, nullptr_t) noexcept;
  template &lt;class T&gt;
    bool operator!=(nullptr_t, const shared_ptr&lt;T&gt;&amp; y) noexcept;
  template &lt;class T&gt;
    bool operator&lt;(const shared_ptr&lt;T&gt;&amp; x, nullptr_t) noexcept;
  template &lt;class T&gt;
    bool operator&lt;(nullptr_t, const shared_ptr&lt;T&gt;&amp; y) noexcept;
  template &lt;class T&gt;
    bool operator&lt;=(const shared_ptr&lt;T&gt;&amp; x, nullptr_t) noexcept;
  template &lt;class T&gt;
    bool operator&lt;=(nullptr_t, const shared_ptr&lt;T&gt;&amp; y) noexcept;
  template &lt;class T&gt;
    bool operator&gt;(const shared_ptr&lt;T&gt;&amp; x, nullptr_t) noexcept;
  template &lt;class T&gt;
    bool operator&gt;(nullptr_t, const shared_ptr&lt;T&gt;&amp; y) noexcept;
  template &lt;class T&gt;
    bool operator&gt;=(const shared_ptr&lt;T&gt;&amp; x, nullptr_t) noexcept;
  template &lt;class T&gt;
    bool operator&gt;=(nullptr_t, const shared_ptr&lt;T&gt;&amp; y) noexcept;

  <span class='comment'>// <a href='util.smartptr.shared.spec'>[util.smartptr.shared.spec]</a>, <span class='tcode_in_codeblock'>shared_&shy;ptr</span> specialized algorithms
</span>  template&lt;class T&gt;
    void swap(shared_ptr&lt;T&gt;&amp; a, shared_ptr&lt;T&gt;&amp; b) noexcept;

  <span class='comment'>// <a href='util.smartptr.shared.cast'>[util.smartptr.shared.cast]</a>, <span class='tcode_in_codeblock'>shared_&shy;ptr</span> casts
</span>  template&lt;class T, class U&gt;
    shared_ptr&lt;T&gt; static_pointer_cast(const shared_ptr&lt;U&gt;&amp; r) noexcept;
  template&lt;class T, class U&gt;
    shared_ptr&lt;T&gt; dynamic_pointer_cast(const shared_ptr&lt;U&gt;&amp; r) noexcept;
  template&lt;class T, class U&gt;
    shared_ptr&lt;T&gt; const_pointer_cast(const shared_ptr&lt;U&gt;&amp; r) noexcept;

  <span class='comment'>// <a href='util.smartptr.getdeleter'>[util.smartptr.getdeleter]</a>, <span class='tcode_in_codeblock'>shared_&shy;ptr</span> <span class='tcode_in_codeblock'>get_&shy;deleter</span>
</span>  template&lt;class D, class T&gt;
    D* get_deleter(const shared_ptr&lt;T&gt;&amp; p) noexcept;

  <span class='comment'>// <a href='util.smartptr.shared.io'>[util.smartptr.shared.io]</a>, <span class='tcode_in_codeblock'>shared_&shy;ptr</span> I/O
</span>  template&lt;class E, class T, class Y&gt;
    basic_ostream&lt;E, T&gt;&amp; operator&lt;&lt; (basic_ostream&lt;E, T&gt;&amp; os, const shared_ptr&lt;Y&gt;&amp; p);

  <span class='comment'>// <a href='util.smartptr.weak'>[util.smartptr.weak]</a>, class template <span class='tcode_in_codeblock'>weak_&shy;ptr</span>
</span>  template&lt;class T&gt; class weak_ptr;

  <span class='comment'>// <a href='util.smartptr.weak.spec'>[util.smartptr.weak.spec]</a>, <span class='tcode_in_codeblock'>weak_&shy;ptr</span> specialized algorithms
</span>  template&lt;class T&gt; void swap(weak_ptr&lt;T&gt;&amp; a, weak_ptr&lt;T&gt;&amp; b) noexcept;

  <span class='comment'>// <a href='util.smartptr.ownerless'>[util.smartptr.ownerless]</a>, class template <span class='tcode_in_codeblock'>owner_&shy;less</span>
</span>  template&lt;class T = void&gt; struct owner_less;

  <span class='comment'>// <a href='util.smartptr.enab'>[util.smartptr.enab]</a>, class template <span class='tcode_in_codeblock'>enable_&shy;shared_&shy;from_&shy;this</span>
</span>  template&lt;class T&gt; class enable_shared_from_this;

  <span class='comment'>// <a href='util.smartptr.shared.atomic'>[util.smartptr.shared.atomic]</a>, <span class='tcode_in_codeblock'>shared_&shy;ptr</span> atomic access
</span>  template&lt;class T&gt;
    bool atomic_is_lock_free(const shared_ptr&lt;T&gt;* p);

  template&lt;class T&gt;
    shared_ptr&lt;T&gt; atomic_load(const shared_ptr&lt;T&gt;* p);
  template&lt;class T&gt;
    shared_ptr&lt;T&gt; atomic_load_explicit(const shared_ptr&lt;T&gt;* p, memory_order mo);

  template&lt;class T&gt;
    void atomic_store(shared_ptr&lt;T&gt;* p, shared_ptr&lt;T&gt; r);
  template&lt;class T&gt;
    void atomic_store_explicit(shared_ptr&lt;T&gt;* p, shared_ptr&lt;T&gt; r, memory_order mo);

  template&lt;class T&gt;
    shared_ptr&lt;T&gt; atomic_exchange(shared_ptr&lt;T&gt;* p, shared_ptr&lt;T&gt; r);
  template&lt;class T&gt;
    shared_ptr&lt;T&gt; atomic_exchange_explicit(shared_ptr&lt;T&gt;* p, shared_ptr&lt;T&gt; r, memory_order mo);

  template&lt;class T&gt;
    bool atomic_compare_exchange_weak(
      shared_ptr&lt;T&gt;* p, shared_ptr&lt;T&gt;* v, shared_ptr&lt;T&gt; w);
  template&lt;class T&gt;
    bool atomic_compare_exchange_strong(
      shared_ptr&lt;T&gt;* p, shared_ptr&lt;T&gt;* v, shared_ptr&lt;T&gt; w);
  template&lt;class T&gt;
    bool atomic_compare_exchange_weak_explicit(
      shared_ptr&lt;T&gt;* p, shared_ptr&lt;T&gt;* v, shared_ptr&lt;T&gt; w,
      memory_order success, memory_order failure);
  template&lt;class T&gt;
    bool atomic_compare_exchange_strong_explicit(
      shared_ptr&lt;T&gt;* p, shared_ptr&lt;T&gt;* v, shared_ptr&lt;T&gt; w,
      memory_order success, memory_order failure);

  <span class='comment'>// <a href='util.smartptr.hash'>[util.smartptr.hash]</a>, hash support
</span>  template &lt;class T&gt; struct hash;
  template &lt;class T, class D&gt; struct hash&lt;unique_ptr&lt;T, D&gt;&gt;;
  template &lt;class T&gt; struct hash&lt;shared_ptr&lt;T&gt;&gt;;

  <span class='comment'>// <a href='allocator.uses.trait'>[allocator.uses.trait]</a>, <span class='tcode_in_codeblock'>uses_&shy;allocator</span>
</span>  template &lt;class T, class Alloc&gt;
    inline constexpr bool uses_allocator_v = uses_allocator&lt;T, Alloc&gt;::value;
}</pre></div></div><div id='pointer.traits'><h3 ><a class='secnum' href='#pointer.traits' style='min-width:103pt'>23.10.3</a> Pointer traits <a class='abbr_ref' href='pointer.traits'>[pointer.traits]</a></h3><div class='para' id='pointer.traits-1'><div class='marginalizedparent'><a class='marginalized' href='#pointer.traits-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7243'>#</a></div><p >The class template <span class='texttt'>pointer_&shy;traits</span> supplies a uniform interface to certain
attributes of pointer-like types.</p><p ><span class='indexparent'><a class='index' id='lib:pointer_traits'></a></span></p><pre class='codeblock'>
namespace std {
  template &lt;class Ptr&gt; struct pointer_traits {
    using pointer         = Ptr;
    using element_type    = <span class='textit'><span class='texttt'>see below</span></span>;
    using difference_type = <span class='textit'><span class='texttt'>see below</span></span>;

    template &lt;class U&gt; using rebind = <span class='textit'><span class='texttt'>see below</span></span>;

    static pointer pointer_to(<span class='textit'><span class='texttt'>see below</span></span> r);
  };

  template &lt;class T&gt; struct pointer_traits&lt;T*&gt; {
    using pointer         = T*;
    using element_type    = T;
    using difference_type = ptrdiff_t;

    template &lt;class U&gt; using rebind = U*;

    static pointer pointer_to(<span class='textit'><span class='texttt'>see below</span></span> r) noexcept;
  };
}</pre></div><div id='pointer.traits.types'><h4 ><a class='secnum' href='#pointer.traits.types' style='min-width:118pt'>23.10.3.1</a> Pointer traits member types <a class='abbr_ref' href='pointer.traits.types'>[pointer.traits.types]</a></h4><p ><span class='indexparent'><a class='index' id='lib:element_type,pointer_traits'></a></span><span class='indexparent'><a class='index' id='lib:pointer_traits,element_type'></a></span></p><p ><code class='itemdecl'>using element_type = <span class='textit'><span class='texttt'>see below</span></span>;
</code></p><div class='itemdescr'></div><div class='para' id='pointer.traits.types-1'><div class='marginalizedparent'><a class='marginalized' href='#pointer.traits.types-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7280'>#</a></div><p ><span class='textit'>Type:</span> <span class='texttt'>Ptr&#x200b;::&#x200b;element_&shy;type</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Ptr&#x200b;::&#x200b;element_&shy;type</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>); otherwise, <span class='texttt'>T</span> if
<span class='texttt'>Ptr</span> is a class template instantiation of the form <span class='texttt'>SomePointer&lt;T, Args&gt;</span>,
where <span class='texttt'>Args</span> is zero or more type arguments; otherwise, the specialization is
ill-formed.
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:difference_type,pointer_traits'></a></span><span class='indexparent'><a class='index' id='lib:pointer_traits,difference_type'></a></span></p><p ><code class='itemdecl'>using difference_type = <span class='textit'><span class='texttt'>see below</span></span>;
</code></p><div class='itemdescr'></div><div class='para' id='pointer.traits.types-2'><div class='marginalizedparent'><a class='marginalized' href='#pointer.traits.types-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7295'>#</a></div><p ><span class='textit'>Type:</span> <span class='texttt'>Ptr&#x200b;::&#x200b;difference_&shy;type</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Ptr&#x200b;::&#x200b;difference_&shy;type</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>); otherwise,
<span class='texttt'>ptrdiff_&shy;t</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:rebind,pointer_traits'></a></span><span class='indexparent'><a class='index' id='lib:pointer_traits,rebind'></a></span></p><p ><code class='itemdecl'>template &lt;class U&gt; using rebind = <span class='textit'><span class='texttt'>see below</span></span>;
</code></p><div class='itemdescr'></div><div class='para' id='pointer.traits.types-3'><div class='marginalizedparent'><a class='marginalized' href='#pointer.traits.types-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7308'>#</a></div><p ><span class='textit'>Alias template:</span> <span class='texttt'>Ptr&#x200b;::&#x200b;rebind&lt;U&gt;</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Ptr&#x200b;::&#x200b;rebind&lt;U&gt;</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>); otherwise,
<span class='texttt'>SomePointer&lt;U, Args&gt;</span> if
<span class='texttt'>Ptr</span> is a class template instantiation of the form <span class='texttt'>SomePointer&lt;T, Args&gt;</span>,
where <span class='texttt'>Args</span> is zero or more type arguments; otherwise, the instantiation of
<span class='texttt'>rebind</span> is ill-formed.
</p></div></div></div><div id='pointer.traits.functions'><h4 ><a class='secnum' href='#pointer.traits.functions' style='min-width:118pt'>23.10.3.2</a> Pointer traits member functions <a class='abbr_ref' href='pointer.traits.functions'>[pointer.traits.functions]</a></h4><p ><span class='indexparent'><a class='index' id='lib:pointer_to,pointer_traits'></a></span><span class='indexparent'><a class='index' id='lib:pointer_traits,pointer_to'></a></span></p><p ><code class='itemdecl'>static pointer pointer_traits::pointer_to(<span class='textit'><span class='texttt'>see below</span></span> r);
static pointer pointer_traits&lt;T*&gt;::pointer_to(<span class='textit'><span class='texttt'>see below</span></span> r) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='pointer.traits.functions-1'><div class='marginalizedparent'><a class='marginalized' href='#pointer.traits.functions-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7327'>#</a></div><p ><span class='textit'>Remarks:</span> If <span class='texttt'>element_&shy;type</span> is <span class='textit'>cv</span> <span class='texttt'>void</span>, the type of
<span class='texttt'>r</span> is unspecified; otherwise, it is <span class='texttt'>element_&shy;type&amp;</span>.</p></div></div><div class='para' id='pointer.traits.functions-2'><div class='marginalizedparent'><a class='marginalized' href='#pointer.traits.functions-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7331'>#</a></div><p ><span class='textit'>Returns:</span> The first member function returns a pointer to <span class='texttt'>r</span>
obtained by calling <span class='texttt'>Ptr&#x200b;::&#x200b;pointer_&shy;to(r)</span> through which
indirection is valid; an instantiation of this function is
ill-formed if <span class='texttt'>Ptr</span> does not have a matching <span class='texttt'>pointer_&shy;to</span> static member
function. The second member function returns <span class='texttt'>addressof(r)</span>.
</p></div></div></div></div><div id='util.dynamic.safety'><h3 ><a class='secnum' href='#util.dynamic.safety' style='min-width:103pt'>23.10.4</a> Pointer safety <a class='abbr_ref' href='util.dynamic.safety'>[util.dynamic.safety]</a></h3><div class='para' id='util.dynamic.safety-1'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7341'>#</a></div><p >A complete object is <span class='textit'>declared reachable</span> while the number of calls to
<span class='texttt'>declare_&shy;reachable</span> with an argument referencing the object exceeds the
number of calls to <span class='texttt'>undeclare_&shy;reachable</span> with an argument referencing the
object.</p><p ><span class='indexparent'><a class='index' id='lib:declare_reachable'></a></span></p></div><p ><code class='itemdecl'>void declare_reachable(void* p);
</code></p><div class='itemdescr'></div><div class='para' id='util.dynamic.safety-2'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7353'>#</a></div><p ><span class='textit'>Requires:</span> <span class='texttt'>p</span> shall be a <a href='basic.stc.dynamic.safety#def:safely-derived_pointer'>safely-derived pointer</a>
or a null pointer value.</p></div></div><div class='para' id='util.dynamic.safety-3'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7357'>#</a></div><p ><span class='textit'>Effects:</span> If <span class='texttt'>p</span> is not null, the complete object referenced by <span class='texttt'>p</span>
is subsequently declared reachable (<a href='basic.stc.dynamic.safety'>[basic.stc.dynamic.safety]</a>).</p></div></div><div class='para' id='util.dynamic.safety-4'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7361'>#</a></div><p ><span class='textit'>Throws:</span> May throw <span class='texttt'>bad_&shy;alloc</span> if the system cannot allocate
additional memory that may be required to track objects declared reachable.
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:undeclare_reachable'></a></span></p><p ><code class='itemdecl'>template &lt;class T&gt; T* undeclare_reachable(T* p);
</code></p><div class='itemdescr'></div><div class='para' id='util.dynamic.safety-5'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7372'>#</a></div><p ><span class='textit'>Requires:</span> If <span class='texttt'>p</span> is not null, the complete object referenced by <span class='texttt'>p</span>
shall have been previously declared reachable, and shall be
live (<a href='basic.life'>[basic.life]</a>) from the time of the call until the last
<span class='texttt'>undeclare_&shy;reachable(p)</span> call on the object.</p></div></div><div class='para' id='util.dynamic.safety-6'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7378'>#</a></div><p ><span class='textit'>Returns:</span> A safely derived copy of <span class='texttt'>p</span> which shall compare equal to <span class='texttt'>p</span>.</p></div></div><div class='para' id='util.dynamic.safety-7'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7381'>#</a></div><p ><span class='textit'>Throws:</span> Nothing.</p></div></div><div class='para' id='util.dynamic.safety-8'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7384'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>  It is expected that calls to <span class='texttt'>declare_&shy;reachable(p)</span> will consume
a small amount of memory in addition to that occupied by the referenced object until the
matching call to <span class='texttt'>undeclare_&shy;reachable(p)</span> is encountered. Long running programs
should arrange that calls are matched. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>â€”<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]  </p></div></div><p ><span class='indexparent'><a class='index' id='lib:declare_no_pointers'></a></span></p><p ><code class='itemdecl'>void declare_no_pointers(char* p, size_t n);
</code></p><div class='itemdescr'></div><div class='para' id='util.dynamic.safety-9'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7395'>#</a></div><p ><span class='textit'>Requires:</span> No bytes in the specified range
are currently registered with
<span class='texttt'>declare_&shy;no_&shy;pointers()</span>. If the specified range is in an allocated object,
then it must be entirely within a single allocated object. The object must be
live until the corresponding <span class='texttt'>undeclare_&shy;no_&shy;pointers()</span> call. [<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>  In
a garbage-collecting implementation, the fact that a region in an object is
registered with <span class='texttt'>declare_&shy;no_&shy;pointers()</span> should not prevent the object from
being collected. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>â€”<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>] </p></div></div><div class='para' id='util.dynamic.safety-10'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7405'>#</a></div><p ><span class='textit'>Effects:</span> The <span class='texttt'>n</span> bytes starting at <span class='texttt'>p</span> no longer contain
traceable pointer locations, independent of their type. Hence
indirection through a pointer located there is undefined if the object
it points to was created by global <span class='texttt'>operator new</span> and not
previously declared reachable. [<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>  This may be used to inform a
garbage collector or leak detector that this region of memory need not
be traced. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>â€”<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>] </p></div></div><div class='para' id='util.dynamic.safety-11'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7414'>#</a></div><p ><span class='textit'>Throws:</span> Nothing.</p></div></div><div class='para' id='util.dynamic.safety-12'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7417'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>  Under some conditions implementations may need to allocate memory.
However, the request can be ignored if memory allocation fails. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>â€”<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>] 
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:undeclare_no_pointers'></a></span></p><p ><code class='itemdecl'>void undeclare_no_pointers(char* p, size_t n);
</code></p><div class='itemdescr'></div><div class='para' id='util.dynamic.safety-13'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7428'>#</a></div><p ><span class='textit'>Requires:</span> The same range must previously have been passed to
<span class='texttt'>declare_&shy;no_&shy;pointers()</span>.</p></div></div><div class='para' id='util.dynamic.safety-14'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7432'>#</a></div><p ><span class='textit'>Effects:</span> Unregisters a range registered with <span class='texttt'>declare_&shy;no_&shy;pointers()</span> for
destruction. It must be called before the lifetime of the object ends.</p></div></div><div class='para' id='util.dynamic.safety-15'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7436'>#</a></div><p ><span class='textit'>Throws:</span> Nothing.
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:get_pointer_safety'></a></span></p><p ><code class='itemdecl'>pointer_safety get_pointer_safety() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='util.dynamic.safety-16'><div class='marginalizedparent'><a class='marginalized' href='#util.dynamic.safety-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7446'>#</a></div><p ><span class='textit'>Returns:</span> <span class='texttt'>pointer_&shy;safety&#x200b;::&#x200b;strict</span> if the implementation has
<a href='basic.stc.dynamic.safety#def:strict_pointer_safety'>strict pointer safety</a>. It is
<span class='indexparent'><a class='index' id=':whether_get_pointer_safety_returns_pointer_safety::relaxed_or_pointer_safety::preferred_if_the_implementation_has_relaxed_pointer_safety'></a></span>implementation-defined
whether
<span class='texttt'>get_&shy;pointer_&shy;safety</span> returns <span class='texttt'>pointer_&shy;safety&#x200b;::&#x200b;relaxed</span> or
<span class='texttt'>pointer_&shy;safety&#x200b;::&#x200b;preferred</span> if the implementation has relaxed pointer
safety.<a class='footnotenum' href='#footnote-221'>221</a>
</p></div></div><div class='footnote' id='footnote-221'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-221'>221)</a></div><p ><span class='texttt'>pointer_&shy;safety&#x200b;::&#x200b;preferred</span> might be returned to indicate
that a leak detector is running so that the program can avoid spurious leak
reports.</p></div></div><div id='ptr.align'><h3 ><a class='secnum' href='#ptr.align' style='min-width:103pt'>23.10.5</a> Align <a class='abbr_ref' href='ptr.align'>[ptr.align]</a></h3><p ><span class='indexparent'><a class='index' id='lib:align'></a></span></p><p ><code class='itemdecl'>void* align(size_t alignment, size_t size, void*&amp; ptr, size_t&amp; space);
</code></p><div class='itemdescr'></div><div class='para' id='ptr.align-1'><div class='marginalizedparent'><a class='marginalized' href='#ptr.align-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7469'>#</a></div><p ><span class='textit'>Effects:</span> If it is possible to fit <span class='texttt'>size</span> bytes
of storage aligned by <span class='texttt'>alignment</span> into the buffer pointed to by
<span class='texttt'>ptr</span> with length <span class='texttt'>space</span>, the function updates
<span class='texttt'>ptr</span> to represent the first possible address of such storage
and decreases <span class='texttt'>space</span> by the number of bytes used for alignment.
Otherwise, the function does nothing.</p></div></div><div class='para' id='ptr.align-2'><div class='marginalizedparent'><a class='marginalized' href='#ptr.align-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7477'>#</a></div><p ><span class='textit'>Requires:</span> </p><ul class='itemize'><li id='ptr.align-2.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ptr.align-2.1'>(2.1)</a></div><p ><span class='texttt'>alignment</span> shall be a power of two</p></li><li id='ptr.align-2.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ptr.align-2.2'>(2.2)</a></div><p ><span class='texttt'>ptr</span> shall represent the address of contiguous storage of at least
<span class='texttt'>space</span> bytes
</p></li></ul></div></div><div class='para' id='ptr.align-3'><div class='marginalizedparent'><a class='marginalized' href='#ptr.align-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7487'>#</a></div><p ><span class='textit'>Returns:</span> A null pointer if the requested aligned buffer
would not fit into the available space, otherwise the adjusted value
of <span class='texttt'>ptr</span>.</p></div></div><div class='para' id='ptr.align-4'><div class='marginalizedparent'><a class='marginalized' href='#ptr.align-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7492'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>  The function updates its <span class='texttt'>ptr</span>
and <span class='texttt'>space</span> arguments so that it can be called repeatedly
with possibly different <span class='texttt'>alignment</span> and <span class='texttt'>size</span>
arguments for the same buffer.  <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>â€”<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>] 
</p></div></div></div><div id='allocator.tag'><h3 ><a class='secnum' href='#allocator.tag' style='min-width:103pt'>23.10.6</a> Allocator argument tag <a class='abbr_ref' href='allocator.tag'>[allocator.tag]</a></h3><p ><span class='indexparent'><a class='index' id='lib:allocator_arg_t'></a></span><span class='indexparent'><a class='index' id='lib:allocator_arg'></a></span></p><p ><code class='itemdecl'>namespace std {
  struct allocator_arg_t { explicit allocator_arg_t() = default; };
  inline constexpr allocator_arg_t allocator_arg{};
}
</code></p><div class='para' id='allocator.tag-1'><div class='marginalizedparent'><a class='marginalized' href='#allocator.tag-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7510'>#</a></div><p >The <span class='texttt'>allocator_&shy;arg_&shy;t</span> struct is an empty structure type used as a unique type to
disambiguate constructor and function overloading. Specifically, several types (see
<span class='texttt'>tuple</span> <a href='tuple'>[tuple]</a>) have constructors with <span class='texttt'>allocator_&shy;arg_&shy;t</span> as the first
argument, immediately followed by an argument of a type that satisfies the
<a href='allocator.requirements'><span class='texttt'>Allocator</span></a> requirements.</p></div></div><div id='allocator.uses'><h3 ><a class='secnum' href='#allocator.uses' style='min-width:103pt'>23.10.7</a> <span class='texttt'>uses_&shy;allocator</span> <a class='abbr_ref' href='allocator.uses'>[allocator.uses]</a></h3><div id='allocator.uses.trait'><h4 ><a class='secnum' href='#allocator.uses.trait' style='min-width:118pt'>23.10.7.1</a> <span class='texttt'>uses_&shy;allocator</span> trait <a class='abbr_ref' href='allocator.uses.trait'>[allocator.uses.trait]</a></h4><p ><span class='indexparent'><a class='index' id='lib:uses_allocator'></a></span></p><p ><code class='itemdecl'>template &lt;class T, class Alloc&gt; struct uses_allocator;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.uses.trait-1'><div class='marginalizedparent'><a class='marginalized' href='#allocator.uses.trait-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7527'>#</a></div><p ><span class='textit'>Remarks:</span> Automatically detects whether <span class='texttt'>T</span> has a nested <span class='texttt'>allocator_&shy;type</span> that
is convertible from <span class='texttt'>Alloc</span>. Meets the
<a href='meta.rqmts#def:BinaryTypeTrait'><span class='texttt'>BinaryTypeTrait</span></a> requirements.
The implementation shall provide a definition that is
derived from <span class='texttt'>true_&shy;type</span> if the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>T&#x200b;::&#x200b;allocator_&shy;type</span>
is valid and denotes a type (<a href='temp.deduct'>[temp.deduct]</a>) and
<span class='texttt'>is_&shy;convertible_&shy;v&lt;Alloc, T&#x200b;::&#x200b;allocator_&shy;type&gt; != false</span>, otherwise it shall be
derived from <span class='texttt'>false_&shy;type</span>. A program may specialize this template to derive from
<span class='texttt'>true_&shy;type</span> for a user-defined type <span class='texttt'>T</span> that does not have a nested
<span class='texttt'>allocator_&shy;type</span> but nonetheless can be constructed with an allocator where
either:</p><ul class='itemize'><li id='allocator.uses.trait-1.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#allocator.uses.trait-1.1'>(1.1)</a></div><p >the first argument of a constructor has type <span class='texttt'>allocator_&shy;arg_&shy;t</span> and the
second argument has type <span class='texttt'>Alloc</span> or</p></li><li id='allocator.uses.trait-1.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#allocator.uses.trait-1.2'>(1.2)</a></div><p >the last argument of a constructor has type <span class='texttt'>Alloc</span>.
</p></li></ul></div></div></div><div id='allocator.uses.construction'><h4 ><a class='secnum' href='#allocator.uses.construction' style='min-width:118pt'>23.10.7.2</a> Uses-allocator construction <a class='abbr_ref' href='allocator.uses.construction'>[allocator.uses.construction]</a></h4><div class='para' id='allocator.uses.construction-1'><div class='marginalizedparent'><a class='marginalized' href='#allocator.uses.construction-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7550'>#</a></div><p ><a class='hidden_link' href='#def:uses-allocator_construction' id='def:uses-allocator_construction'><i >Uses-allocator construction</i></a> with allocator <span class='texttt'>Alloc</span> refers to the
construction of an object <span class='texttt'>obj</span> of type <span class='texttt'>T</span>, using constructor arguments
<span class='texttt'>v1, v2, ..., vN</span> of types <span class='texttt'>V1, V2, ..., VN</span>, respectively, and an allocator
<span class='texttt'>alloc</span> of type <span class='texttt'>Alloc</span>, according to the following rules:</p><ul class='itemize'><li id='allocator.uses.construction-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#allocator.uses.construction-1.1'>(1.1)</a></div><p >if <span class='texttt'>uses_&shy;allocator_&shy;v&lt;T, Alloc&gt;</span> is <span class='texttt'>false</span> and
<span class='texttt'>is_&shy;constructible_&shy;v&lt;T, V1, V2, ..., VN&gt;</span> is <span class='texttt'>true</span>, then <span class='texttt'>obj</span> is
initialized as <span class='texttt'>obj(v1, v2, ..., vN)</span>;</p></li><li id='allocator.uses.construction-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#allocator.uses.construction-1.2'>(1.2)</a></div><p >otherwise, if <span class='texttt'>uses_&shy;allocator_&shy;v&lt;T, Alloc&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_&shy;constructible_&shy;v&lt;T, allocator_&shy;arg_&shy;t, Alloc,</span> <span class='texttt'>V1, V2, ..., VN&gt;</span> is
<span class='texttt'>true</span>, then <span class='texttt'>obj</span> is initialized as <span class='texttt'>obj(allocator_&shy;arg, alloc, v1,
v2, ..., vN)</span>;</p></li><li id='allocator.uses.construction-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#allocator.uses.construction-1.3'>(1.3)</a></div><p >otherwise, if <span class='texttt'>uses_&shy;allocator_&shy;v&lt;T, Alloc&gt;</span> is <span class='texttt'>true</span> and
<span class='texttt'>is_&shy;constructible_&shy;v&lt;T, V1, V2, ..., VN, Alloc&gt;</span> is <span class='texttt'>true</span>, then
<span class='texttt'>obj</span> is initialized as <span class='texttt'>obj(v1, v2, ..., vN, alloc)</span>;</p></li><li id='allocator.uses.construction-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#allocator.uses.construction-1.4'>(1.4)</a></div><p >otherwise, the request for uses-allocator construction is ill-formed. [<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> 
An error will result if <span class='texttt'>uses_&shy;allocator_&shy;v&lt;T, Alloc&gt;</span> is <span class='texttt'>true</span> but the
specific constructor does not take an allocator. This definition prevents a silent
failure to pass the allocator to an element. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>â€”<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>] 
</p></li></ul></div></div></div><div id='allocator.traits'><h3 ><a class='secnum' href='#allocator.traits' style='min-width:103pt'>23.10.8</a> Allocator traits <a class='abbr_ref' href='allocator.traits'>[allocator.traits]</a></h3><div class='para' id='allocator.traits-1'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7578'>#</a></div><p >The class template <span class='texttt'>allocator_&shy;traits</span> supplies a uniform interface to all
allocator types.
An allocator cannot be a non-class type, however, even if <span class='texttt'>allocator_&shy;traits</span>
supplies the entire required interface. [<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>  Thus, it is always possible to create
a derived class from an allocator. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>â€”<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>] </p><p ><span class='indexparent'><a class='index' id='lib:allocator_traits'></a></span></p><pre class='codeblock'>
namespace std {
  template &lt;class Alloc&gt; struct allocator_traits {
    using allocator_type     = Alloc;

    using value_type         = typename Alloc::value_type;

    using pointer            = <span class='textit'><span class='texttt'>see below</span></span>;
    using const_pointer      = <span class='textit'><span class='texttt'>see below</span></span>;
    using void_pointer       = <span class='textit'><span class='texttt'>see below</span></span>;
    using const_void_pointer = <span class='textit'><span class='texttt'>see below</span></span>;

    using difference_type    = <span class='textit'><span class='texttt'>see below</span></span>;
    using size_type          = <span class='textit'><span class='texttt'>see below</span></span>;

    using propagate_on_container_copy_assignment = <span class='textit'><span class='texttt'>see below</span></span>;
    using propagate_on_container_move_assignment = <span class='textit'><span class='texttt'>see below</span></span>;
    using propagate_on_container_swap            = <span class='textit'><span class='texttt'>see below</span></span>;
    using is_always_equal                        = <span class='textit'><span class='texttt'>see below</span></span>;

    template &lt;class T&gt; using rebind_alloc = <span class='textit'><span class='texttt'>see below</span></span>;
    template &lt;class T&gt; using rebind_traits = allocator_traits&lt;rebind_alloc&lt;T&gt;&gt;;

    static pointer allocate(Alloc&amp; a, size_type n);
    static pointer allocate(Alloc&amp; a, size_type n, const_void_pointer hint);

    static void deallocate(Alloc&amp; a, pointer p, size_type n);

    template &lt;class T, class... Args&gt;
      static void construct(Alloc&amp; a, T* p, Args&amp;&amp;... args);

    template &lt;class T&gt;
      static void destroy(Alloc&amp; a, T* p);

    static size_type max_size(const Alloc&amp; a) noexcept;

    static Alloc select_on_container_copy_construction(const Alloc&amp; rhs);
  };
}</pre></div><div id='allocator.traits.types'><h4 ><a class='secnum' href='#allocator.traits.types' style='min-width:118pt'>23.10.8.1</a> Allocator traits member types <a class='abbr_ref' href='allocator.traits.types'>[allocator.traits.types]</a></h4><p ><span class='indexparent'><a class='index' id='lib:pointer,allocator_traits'></a></span><span class='indexparent'><a class='index' id='lib:allocator_traits,pointer'></a></span></p><p ><code class='itemdecl'>using pointer = <span class='textit'><span class='texttt'>see below</span></span>;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.types-1'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.types-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7635'>#</a></div><p ><span class='textit'>Type:</span> <span class='texttt'>Alloc&#x200b;::&#x200b;pointer</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Alloc&#x200b;::&#x200b;pointer</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>); otherwise, <span class='texttt'>value_&shy;type*</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:const_pointer,allocator_traits'></a></span><span class='indexparent'><a class='index' id='lib:allocator_traits,const_pointer'></a></span></p><p ><code class='itemdecl'>using const_pointer = <span class='textit'><span class='texttt'>see below</span></span>;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.types-2'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.types-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7647'>#</a></div><p ><span class='textit'>Type:</span> <span class='texttt'>Alloc&#x200b;::&#x200b;const_&shy;pointer</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Alloc&#x200b;::&#x200b;const_&shy;pointer</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>); otherwise,
<span class='texttt'>pointer_&shy;traits&lt;pointer&gt;&#x200b;::&#x200b;rebind&lt;&#x200b;const value_&shy;type&gt;</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:void_pointer,allocator_traits'></a></span><span class='indexparent'><a class='index' id='lib:allocator_traits,void_pointer'></a></span></p><p ><code class='itemdecl'>using void_pointer = <span class='textit'><span class='texttt'>see below</span></span>;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.types-3'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.types-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7660'>#</a></div><p ><span class='textit'>Type:</span> <span class='texttt'>Alloc&#x200b;::&#x200b;void_&shy;pointer</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Alloc&#x200b;::&#x200b;void_&shy;pointer</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>); otherwise,
<span class='texttt'>pointer_&shy;traits&lt;pointer&gt;&#x200b;::&#x200b;rebind&lt;&#x200b;void&gt;</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:const_void_pointer,allocator_traits'></a></span><span class='indexparent'><a class='index' id='lib:allocator_traits,const_void_pointer'></a></span></p><p ><code class='itemdecl'>using const_void_pointer = <span class='textit'><span class='texttt'>see below</span></span>;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.types-4'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.types-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7673'>#</a></div><p ><span class='textit'>Type:</span> <span class='texttt'>Alloc&#x200b;::&#x200b;const_&shy;void_&shy;pointer</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Alloc&#x200b;::&#x200b;const_&shy;void_&shy;pointer</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>); otherwise,
<span class='texttt'>pointer_&shy;traits&lt;pointer&gt;&#x200b;::&#x200b;&#x200b;rebind&lt;const void&gt;</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:difference_type,allocator_traits'></a></span><span class='indexparent'><a class='index' id='lib:allocator_traits,difference_type'></a></span></p><p ><code class='itemdecl'>using difference_type = <span class='textit'><span class='texttt'>see below</span></span>;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.types-5'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.types-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7686'>#</a></div><p ><span class='textit'>Type:</span> <span class='texttt'>Alloc&#x200b;::&#x200b;difference_&shy;type</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Alloc&#x200b;::&#x200b;difference_&shy;type</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>); otherwise,
<span class='texttt'>pointer_&shy;traits&lt;pointer&gt;&#x200b;::&#x200b;difference_&shy;type</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:size_type,allocator_traits'></a></span><span class='indexparent'><a class='index' id='lib:allocator_traits,size_type'></a></span></p><p ><code class='itemdecl'>using size_type = <span class='textit'><span class='texttt'>see below</span></span>;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.types-6'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.types-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7699'>#</a></div><p ><span class='textit'>Type:</span> <span class='texttt'>Alloc&#x200b;::&#x200b;size_&shy;type</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Alloc&#x200b;::&#x200b;size_&shy;type</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>); otherwise,
<span class='texttt'>make_&shy;unsigned_&shy;t&lt;difference_&shy;type&gt;</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:propagate_on_container_copy_assignment,allocator_traits'></a></span><span class='indexparent'><a class='index' id='lib:allocator_traits,propagate_on_container_copy_assignment'></a></span></p><p ><code class='itemdecl'>using propagate_on_container_copy_assignment = <span class='textit'><span class='texttt'>see below</span></span>;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.types-7'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.types-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7712'>#</a></div><p ><span class='textit'>Type:</span> <span class='texttt'>Alloc&#x200b;::&#x200b;propagate_&shy;on_&shy;container_&shy;copy_&shy;assignment</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Alloc&#x200b;::&#x200b;propagate_&shy;on_&shy;container_&shy;copy_&shy;assignment</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>); otherwise
<span class='texttt'>false_&shy;type</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:propagate_on_container_move_assignment,allocator_traits'></a></span><span class='indexparent'><a class='index' id='lib:allocator_traits,propagate_on_container_move_assignment'></a></span></p><p ><code class='itemdecl'>using propagate_on_container_move_assignment = <span class='textit'><span class='texttt'>see below</span></span>;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.types-8'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.types-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7725'>#</a></div><p ><span class='textit'>Type:</span> <span class='texttt'>Alloc&#x200b;::&#x200b;propagate_&shy;on_&shy;container_&shy;move_&shy;assignment</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Alloc&#x200b;::&#x200b;propagate_&shy;on_&shy;container_&shy;move_&shy;assignment</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>); otherwise
<span class='texttt'>false_&shy;type</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:propagate_on_container_swap,allocator_traits'></a></span><span class='indexparent'><a class='index' id='lib:allocator_traits,propagate_on_container_swap'></a></span></p><p ><code class='itemdecl'>using propagate_on_container_swap = <span class='textit'><span class='texttt'>see below</span></span>;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.types-9'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.types-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7738'>#</a></div><p ><span class='textit'>Type:</span> <span class='texttt'>Alloc&#x200b;::&#x200b;propagate_&shy;on_&shy;container_&shy;swap</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Alloc&#x200b;::&#x200b;propagate_&shy;on_&shy;container_&shy;swap</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>); otherwise
<span class='texttt'>false_&shy;type</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:is_always_equal,allocator_traits'></a></span><span class='indexparent'><a class='index' id='lib:allocator_traits,is_always_equal'></a></span></p><p ><code class='itemdecl'>using is_always_equal = <span class='textit'><span class='texttt'>see below</span></span>;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.types-10'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.types-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7751'>#</a></div><p ><span class='textit'>Type:</span> <span class='texttt'>Alloc&#x200b;::&#x200b;is_&shy;always_&shy;equal</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Alloc&#x200b;::&#x200b;is_&shy;always_&shy;equal</span>
is valid and denotes a type (<a href='temp.deduct'>[temp.deduct]</a>);
otherwise <span class='texttt'>is_&shy;empty&lt;Alloc&gt;&#x200b;::&#x200b;type</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:rebind_alloc,allocator_traits'></a></span><span class='indexparent'><a class='index' id='lib:allocator_traits,rebind_alloc'></a></span></p><p ><code class='itemdecl'>template &lt;class T&gt; using rebind_alloc = <span class='textit'><span class='texttt'>see below</span></span>;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.types-11'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.types-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7764'>#</a></div><p ><span class='textit'>Alias template:</span> <span class='texttt'>Alloc&#x200b;::&#x200b;rebind&lt;T&gt;&#x200b;::&#x200b;other</span> if
the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> <span class='texttt'>Alloc&#x200b;::&#x200b;rebind&lt;T&gt;&#x200b;::&#x200b;other</span> is valid and denotes a
type (<a href='temp.deduct'>[temp.deduct]</a>); otherwise,
<span class='texttt'>Alloc&lt;T, Args&gt;</span> if <span class='texttt'>Alloc</span> is a class template instantiation
of the form <span class='texttt'>Alloc&lt;U, Args&gt;</span>, where <span class='texttt'>Args</span> is zero or more type arguments;
otherwise, the instantiation of <span class='texttt'>rebind_&shy;alloc</span> is ill-formed.
</p></div></div></div><div id='allocator.traits.members'><h4 ><a class='secnum' href='#allocator.traits.members' style='min-width:118pt'>23.10.8.2</a> Allocator traits static member functions <a class='abbr_ref' href='allocator.traits.members'>[allocator.traits.members]</a></h4><p ><span class='indexparent'><a class='index' id='lib:allocate,allocator_traits'></a></span><span class='indexparent'><a class='index' id='lib:allocator_traits,allocate'></a></span></p><p ><code class='itemdecl'>static pointer allocate(Alloc&amp; a, size_type n);
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.members-1'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.members-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7781'>#</a></div><p ><span class='textit'>Returns:</span> <span class='texttt'>a.allocate(n)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:allocate,allocator_traits_'></a></span><span class='indexparent'><a class='index' id='lib:allocator_traits,allocate_'></a></span></p><p ><code class='itemdecl'>static pointer allocate(Alloc&amp; a, size_type n, const_void_pointer hint);
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.members-2'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.members-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7791'>#</a></div><p ><span class='textit'>Returns:</span> <span class='texttt'>a.allocate(n, hint)</span> if that expression is well-formed; otherwise, <span class='texttt'>a.allocate(n)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:deallocate,allocator_traits'></a></span><span class='indexparent'><a class='index' id='lib:allocator_traits,deallocate'></a></span></p><p ><code class='itemdecl'>static void deallocate(Alloc&amp; a, pointer p, size_type n);
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.members-3'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.members-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7801'>#</a></div><p ><span class='textit'>Effects:</span> Calls <span class='texttt'>a.deallocate(p, n)</span>.</p></div></div><div class='para' id='allocator.traits.members-4'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.members-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7804'>#</a></div><p ><span class='textit'>Throws:</span> Nothing.
</p></div></div><div id='lib:allocator_traits,construct'><div id='lib:construct,allocator_traits'>
<code class='itemdecl'>template &lt;class T, class... Args&gt;
  static void construct(Alloc&amp; a, T* p, Args&amp;&amp;... args);
</code>
</div></div><div class='itemdescr'></div><div class='para' id='allocator.traits.members-5'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.members-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7816'>#</a></div><p ><span class='textit'>Effects:</span> Calls <span class='texttt'>a.construct(p, std&#x200b;::&#x200b;forward&lt;Args&gt;(args)...)</span>
if that call is well-formed;
otherwise, invokes <span class='texttt'>&#x200b;::&#x200b;new (static_&shy;cast&lt;void*&gt;(p)) T(std&#x200b;::&#x200b;forward&lt;Args&gt;(args)...)</span>.
</p></div></div><div id='lib:allocator_traits,destroy'><div id='lib:destroy,allocator_traits'>
<code class='itemdecl'>template &lt;class T&gt;
  static void destroy(Alloc&amp; a, T* p);
</code>
</div></div><div class='itemdescr'></div><div class='para' id='allocator.traits.members-6'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.members-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7830'>#</a></div><p ><span class='textit'>Effects:</span> Calls <span class='texttt'>a.destroy(p)</span> if that call is well-formed; otherwise, invokes
<span class='texttt'>p-&gt;~T()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:max_size,allocator_traits'></a></span><span class='indexparent'><a class='index' id='lib:allocator_traits,max_size'></a></span></p><p ><code class='itemdecl'>static size_type max_size(const Alloc&amp; a) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.members-7'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.members-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7841'>#</a></div><p ><span class='textit'>Returns:</span> <span class='texttt'>a.max_&shy;size()</span> if that expression is well-formed; otherwise,
<span class='texttt'>numeric_&shy;limits&lt;size_&shy;type&gt;&#x200b;::&#x200b;&#x200b;max()/sizeof(value_&shy;type)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:select_on_container_copy_construction,allocator_traits'></a></span><span class='indexparent'><a class='index' id='lib:allocator_traits,select_on_container_copy_construction'></a></span></p><p ><code class='itemdecl'>static Alloc select_on_container_copy_construction(const Alloc&amp; rhs);
</code></p><div class='itemdescr'></div><div class='para' id='allocator.traits.members-8'><div class='marginalizedparent'><a class='marginalized' href='#allocator.traits.members-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7852'>#</a></div><p ><span class='textit'>Returns:</span> <span class='texttt'>rhs.select_&shy;on_&shy;container_&shy;copy_&shy;construction()</span> if that expression is
well-formed; otherwise, <span class='texttt'>rhs</span>.
</p></div></div></div></div><div id='default.allocator'><h3 ><a class='secnum' href='#default.allocator' style='min-width:103pt'>23.10.9</a> The default allocator <a class='abbr_ref' href='default.allocator'>[default.allocator]</a></h3><div class='para' id='default.allocator-1'><div class='marginalizedparent'><a class='marginalized' href='#default.allocator-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7859'>#</a></div><p >All specializations of the default allocator satisfy the
allocator completeness requirements (<a href='allocator.requirements.completeness'>[allocator.requirements.completeness]</a>).</p><p ><span class='indexparent'><a class='index' id='lib:allocator'></a></span></p><pre class='codeblock'>
namespace std {
  template &lt;class T&gt; class allocator {
   public:
    using value_type      = T;
    using propagate_on_container_move_assignment = true_type;
    using is_always_equal = true_type;

    allocator() noexcept;
    allocator(const allocator&amp;) noexcept;
    template &lt;class U&gt; allocator(const allocator&lt;U&gt;&amp;) noexcept;
    ~allocator();

    T* allocate(size_t n);
    void deallocate(T* p, size_t n);
  };
}</pre></div><div id='allocator.members'><h4 ><a class='secnum' href='#allocator.members' style='min-width:118pt'>23.10.9.1</a> <span class='texttt'>allocator</span> members <a class='abbr_ref' href='allocator.members'>[allocator.members]</a></h4><div class='para' id='allocator.members-1'><div class='marginalizedparent'><a class='marginalized' href='#allocator.members-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7885'>#</a></div><p >Except for the destructor, member functions of the default allocator shall not introduce
<a href='intro.multithread#def:data_race'>data races</a> as a result of concurrent calls to those member
functions from different threads. Calls to these functions that allocate or deallocate a
particular unit of storage shall occur in a single total order, and each such
deallocation call shall happen before the next allocation (if any) in this order.</p><p ><span class='indexparent'><a class='index' id='lib:allocate,allocator'></a></span><span class='indexparent'><a class='index' id='lib:allocator,allocate'></a></span></p></div><p ><code class='itemdecl'>T* allocate(size_t n);
</code></p><div class='itemdescr'></div><div class='para' id='allocator.members-2'><div class='marginalizedparent'><a class='marginalized' href='#allocator.members-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7898'>#</a></div><p ><span class='textit'>Returns:</span> 
A pointer to the initial element of an array of storage of size <span class='texttt'>n</span>
<span class='texttt'>* sizeof(T)</span>, aligned appropriately for objects of type <span class='texttt'>T</span>.</p></div></div><div class='para' id='allocator.members-3'><div class='marginalizedparent'><a class='marginalized' href='#allocator.members-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7903'>#</a></div><p ><span class='textit'>Remarks:</span> 
the storage is obtained by calling <a href='new.delete'><span class='texttt'>&#x200b;::&#x200b;operator new</span></a>,
but it is unspecified when or how often this
function is called.</p></div></div><div class='para' id='allocator.members-4'><div class='marginalizedparent'><a class='marginalized' href='#allocator.members-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7909'>#</a></div><p ><span class='textit'>Throws:</span> 
<span class='texttt'>bad_&shy;alloc</span> if the storage cannot be obtained.
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:deallocate,allocator'></a></span><span class='indexparent'><a class='index' id='lib:allocator,deallocate'></a></span></p><p ><code class='itemdecl'>void deallocate(T* p, size_t n);
</code></p><div class='itemdescr'></div><div class='para' id='allocator.members-5'><div class='marginalizedparent'><a class='marginalized' href='#allocator.members-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7920'>#</a></div><p ><span class='textit'>Requires:</span> 
<span class='texttt'>p</span> shall be a pointer value obtained from <span class='texttt'>allocate()</span>.
<span class='texttt'>n</span> shall equal the value passed as the first argument
to the invocation of allocate which returned <span class='texttt'>p</span>.</p></div></div><div class='para' id='allocator.members-6'><div class='marginalizedparent'><a class='marginalized' href='#allocator.members-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7926'>#</a></div><p ><span class='textit'>Effects:</span> 
Deallocates the storage referenced by <span class='texttt'>p</span> .</p></div></div><div class='para' id='allocator.members-7'><div class='marginalizedparent'><a class='marginalized' href='#allocator.members-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7930'>#</a></div><p ><span class='textit'>Remarks:</span> 
Uses
<a href='new.delete'><span class='texttt'>&#x200b;::&#x200b;operator delete</span></a>,
but it is unspecified
when this function is called.
</p></div></div></div><div id='allocator.globals'><h4 ><a class='secnum' href='#allocator.globals' style='min-width:118pt'>23.10.9.2</a> <span class='texttt'>allocator</span> globals <a class='abbr_ref' href='allocator.globals'>[allocator.globals]</a></h4><p ><span class='indexparent'><a class='index' id='lib:operator==,allocator'></a></span><span class='indexparent'><a class='index' id='lib:allocator,operator=='></a></span></p><p ><code class='itemdecl'>template &lt;class T, class U&gt;
  bool operator==(const allocator&lt;T&gt;&amp;, const allocator&lt;U&gt;&amp;) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.globals-1'><div class='marginalizedparent'><a class='marginalized' href='#allocator.globals-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7947'>#</a></div><p ><span class='textit'>Returns:</span> 
<span class='texttt'>true</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:operator!=,allocator'></a></span><span class='indexparent'><a class='index' id='lib:allocator,operator!='></a></span></p><p ><code class='itemdecl'>template &lt;class T, class U&gt;
  bool operator!=(const allocator&lt;T&gt;&amp;, const allocator&lt;U&gt;&amp;) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='allocator.globals-2'><div class='marginalizedparent'><a class='marginalized' href='#allocator.globals-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7959'>#</a></div><p ><span class='textit'>Returns:</span> 
<span class='texttt'>false</span>.
</p></div></div></div></div><div id='specialized.algorithms'><h3 ><a class='secnum' href='#specialized.algorithms' style='min-width:103pt'>23.10.10</a> Specialized algorithms <a class='abbr_ref' href='specialized.algorithms'>[specialized.algorithms]</a></h3><div class='para' id='specialized.algorithms-1'><div class='marginalizedparent'><a class='marginalized' href='#specialized.algorithms-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7966'>#</a></div><p >Throughout this subclause,
the names of template parameters are used to express type requirements.
</p><ul class='itemize'><li id='specialized.algorithms-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#specialized.algorithms-1.1'>(1.1)</a></div><p >If an algorithm's template parameter is named <span class='texttt'>InputIterator</span>,
the template argument shall satisfy the requirements
of an <a href='input.iterators'>input iterator</a>.
</p></li><li id='specialized.algorithms-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#specialized.algorithms-1.2'>(1.2)</a></div><p >If an algorithm's template parameter is named <span class='texttt'>ForwardIterator</span>,
the template argument shall satisfy the requirements
of a <a href='forward.iterators'>forward iterator</a>, and
is required to have the property that no exceptions are thrown
from increment, assignment, comparison, or indirection through valid iterators.
</p></li></ul><p >Unless otherwise specified,
if an exception is thrown in the following algorithms there are no effects.</p></div><div id='specialized.addressof'><h4 ><a class='secnum' href='#specialized.addressof' style='min-width:118pt'>23.10.10.1</a> <span class='texttt'>addressof</span> <a class='abbr_ref' href='specialized.addressof'>[specialized.addressof]</a></h4><p ><span class='indexparent'><a class='index' id='lib:addressof'></a></span></p><p ><code class='itemdecl'>template &lt;class T&gt; constexpr T* addressof(T&amp; r) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='specialized.addressof-1'><div class='marginalizedparent'><a class='marginalized' href='#specialized.addressof-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7992'>#</a></div><p ><span class='textit'>Returns:</span> The actual address of the object or function referenced by <span class='texttt'>r</span>, even in the
presence of an overloaded <span class='texttt'>operator&amp;</span>.</p></div></div><div class='para' id='specialized.addressof-2'><div class='marginalizedparent'><a class='marginalized' href='#specialized.addressof-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L7996'>#</a></div><p ><span class='textit'>Remarks:</span> An expression <span class='texttt'>addressof(E)</span>
is a <a href='defns.const.subexpr'>constant subexpression</a>
if <span class='texttt'>E</span> is an lvalue constant subexpression.
</p></div></div></div><div id='uninitialized.construct.default'><h4 ><a class='secnum' href='#uninitialized.construct.default' style='min-width:118pt'>23.10.10.2</a> <span class='texttt'>uninitialized_&shy;default_&shy;construct</span> <a class='abbr_ref' href='uninitialized.construct.default'>[uninitialized.construct.default]</a></h4><p ><span class='indexparent'><a class='index' id='lib:uninitialized_default_construct'></a></span></p><p ><code class='itemdecl'>template &lt;class ForwardIterator&gt;
  void uninitialized_default_construct(ForwardIterator first, ForwardIterator last);
</code></p><div class='itemdescr'></div><div class='para' id='uninitialized.construct.default-1'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.construct.default-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L8011'>#</a></div><p ><span class='textit'>Effects:</span> 
Equivalent to:
</p><pre class='codeblock'>
for (; first != last; ++first)
  ::new (static_cast&lt;void*&gt;(addressof(*first)))
    typename iterator_traits&lt;ForwardIterator&gt;::value_type;</pre></div></div><p ><span class='indexparent'><a class='index' id='lib:uninitialized_default_construct_n'></a></span></p><p ><code class='itemdecl'>template &lt;class ForwardIterator, class Size&gt;
  ForwardIterator uninitialized_default_construct_n(ForwardIterator first, Size n);
</code></p><div class='itemdescr'></div><div class='para' id='uninitialized.construct.default-2'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.construct.default-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L8028'>#</a></div><p ><span class='textit'>Effects:</span> 
Equivalent to:
</p><pre class='codeblock'>
for (; n&gt;0; (void)++first, --n)
  ::new (static_cast&lt;void*&gt;(addressof(*first)))
    typename iterator_traits&lt;ForwardIterator&gt;::value_type;
return first;</pre></div></div></div><div id='uninitialized.construct.value'><h4 ><a class='secnum' href='#uninitialized.construct.value' style='min-width:118pt'>23.10.10.3</a> <span class='texttt'>uninitialized_&shy;value_&shy;construct</span> <a class='abbr_ref' href='uninitialized.construct.value'>[uninitialized.construct.value]</a></h4><p ><span class='indexparent'><a class='index' id='lib:uninitialized_value_construct'></a></span></p><p ><code class='itemdecl'>template &lt;class ForwardIterator&gt;
  void uninitialized_value_construct(ForwardIterator first, ForwardIterator last);
</code></p><div class='itemdescr'></div><div class='para' id='uninitialized.construct.value-1'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.construct.value-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L8048'>#</a></div><p ><span class='textit'>Effects:</span> 
Equivalent to:
</p><pre class='codeblock'>
for (; first != last; ++first)
  ::new (static_cast&lt;void*&gt;(addressof(*first)))
    typename iterator_traits&lt;ForwardIterator&gt;::value_type();</pre></div></div><p ><span class='indexparent'><a class='index' id='lib:uninitialized_value_construct_n'></a></span></p><p ><code class='itemdecl'>template &lt;class ForwardIterator, class Size&gt;
  ForwardIterator uninitialized_value_construct_n(ForwardIterator first, Size n);
</code></p><div class='itemdescr'></div><div class='para' id='uninitialized.construct.value-2'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.construct.value-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L8065'>#</a></div><p ><span class='textit'>Effects:</span> 
Equivalent to:
</p><pre class='codeblock'>
for (; n&gt;0; (void)++first, --n)
  ::new (static_cast&lt;void*&gt;(addressof(*first)))
    typename iterator_traits&lt;ForwardIterator&gt;::value_type();
return first;</pre></div></div></div><div id='uninitialized.copy'><h4 ><a class='secnum' href='#uninitialized.copy' style='min-width:118pt'>23.10.10.4</a> <span class='texttt'>uninitialized_&shy;copy</span> <a class='abbr_ref' href='uninitialized.copy'>[uninitialized.copy]</a></h4><p ><span class='indexparent'><a class='index' id='lib:uninitialized_copy'></a></span></p><p ><code class='itemdecl'>template &lt;class InputIterator, class ForwardIterator&gt;
  ForwardIterator uninitialized_copy(InputIterator first, InputIterator last,
                                     ForwardIterator result);
</code></p><div class='itemdescr'></div><div class='para' id='uninitialized.copy-1'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.copy-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L8086'>#</a></div><p ><span class='textit'>Effects:</span> 
As if by:
</p><pre class='codeblock'>
for (; first != last; ++result, (void) ++first)
  ::new (static_cast&lt;void*&gt;(addressof(*result)))
    typename iterator_traits&lt;ForwardIterator&gt;::value_type(*first);</pre></div></div><div class='para' id='uninitialized.copy-2'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.copy-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L8095'>#</a></div><p ><span class='textit'>Returns:</span> 
<span class='texttt'>result</span>.
</p></div></div><div id='lib:uninitialized_copy_n'>
<code class='itemdecl'>template &lt;class InputIterator, class Size, class ForwardIterator&gt;
  ForwardIterator uninitialized_copy_n(InputIterator first, Size n,
                                       ForwardIterator result);
</code>
</div><div class='itemdescr'></div><div class='para' id='uninitialized.copy-3'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.copy-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L8109'>#</a></div><p ><span class='textit'>Effects:</span> 
As if by:
</p><pre class='codeblock'>
for ( ; n &gt; 0; ++result, (void) ++first, --n) {
  ::new (static_cast&lt;void*&gt;(addressof(*result)))
    typename iterator_traits&lt;ForwardIterator&gt;::value_type(*first);
}</pre></div></div><div class='para' id='uninitialized.copy-4'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.copy-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L8119'>#</a></div><p ><span class='textit'>Returns:</span> <span class='texttt'>result</span>.
</p></div></div></div><div id='uninitialized.move'><h4 ><a class='secnum' href='#uninitialized.move' style='min-width:118pt'>23.10.10.5</a> <span class='texttt'>uninitialized_&shy;move</span> <a class='abbr_ref' href='uninitialized.move'>[uninitialized.move]</a></h4><p ><span class='indexparent'><a class='index' id='lib:uninitialized_move'></a></span></p><p ><code class='itemdecl'>template &lt;class InputIterator, class ForwardIterator&gt;
  ForwardIterator uninitialized_move(InputIterator first, InputIterator last,
                                     ForwardIterator result);
</code></p><div class='itemdescr'></div><div class='para' id='uninitialized.move-1'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.move-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L8133'>#</a></div><p ><span class='textit'>Effects:</span> 
Equivalent to:
</p><pre class='codeblock'>
for (; first != last; (void)++result, ++first)
  ::new (static_cast&lt;void*&gt;(addressof(*result)))
    typename iterator_traits&lt;ForwardIterator&gt;::value_type(std::move(*first));
return result;</pre></div></div><div class='para' id='uninitialized.move-2'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.move-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L8143'>#</a></div><p ><span class='textit'>Remarks:</span> 
If an exception is thrown, some objects in the range <span class='texttt'>[first, last)</span>
are left in a valid but unspecified state.
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:uninitialized_move_n'></a></span></p><p ><code class='itemdecl'>template &lt;class InputIterator, class Size, class ForwardIterator&gt;
  pair&lt;InputIterator, ForwardIterator&gt;
    uninitialized_move_n(InputIterator first, Size n, ForwardIterator result);
</code></p><div class='itemdescr'></div><div class='para' id='uninitialized.move-3'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.move-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L8157'>#</a></div><p ><span class='textit'>Effects:</span> 
Equivalent to:
</p><pre class='codeblock'>
for (; n &gt; 0; ++result, (void) ++first, --n)
  ::new (static_cast&lt;void*&gt;(addressof(*result)))
    typename iterator_traits&lt;ForwardIterator&gt;::value_type(std::move(*first));
return {first,result};</pre></div></div><div class='para' id='uninitialized.move-4'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.move-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L8167'>#</a></div><p ><span class='textit'>Remarks:</span> 
If an exception is thrown, some objects in the range <span class='texttt'>[first, std&#x200b;::&#x200b;next(first,n))</span>
are left in a valid but unspecified state.
</p></div></div></div><div id='uninitialized.fill'><h4 ><a class='secnum' href='#uninitialized.fill' style='min-width:118pt'>23.10.10.6</a> <span class='texttt'>uninitialized_&shy;fill</span> <a class='abbr_ref' href='uninitialized.fill'>[uninitialized.fill]</a></h4><p ><span class='indexparent'><a class='index' id='lib:uninitialized_fill'></a></span></p><p ><code class='itemdecl'>template &lt;class ForwardIterator, class T&gt;
  void uninitialized_fill(ForwardIterator first, ForwardIterator last,
                          const T&amp; x);
</code></p><div class='itemdescr'></div><div class='para' id='uninitialized.fill-1'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.fill-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L8183'>#</a></div><p ><span class='textit'>Effects:</span> 
As if by:
</p><pre class='codeblock'>
for (; first != last; ++first)
  ::new (static_cast&lt;void*&gt;(addressof(*first)))
    typename iterator_traits&lt;ForwardIterator&gt;::value_type(x);</pre></div></div><p ><span class='indexparent'><a class='index' id='lib:uninitialized_fill_n'></a></span></p><p ><code class='itemdecl'>template &lt;class ForwardIterator, class Size, class T&gt;
  ForwardIterator uninitialized_fill_n(ForwardIterator first, Size n, const T&amp; x);
</code></p><div class='itemdescr'></div><div class='para' id='uninitialized.fill-2'><div class='marginalizedparent'><a class='marginalized' href='#uninitialized.fill-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L8200'>#</a></div><p ><span class='textit'>Effects:</span> 
As if by:
</p><pre class='codeblock'>
for (; n--; ++first)
  ::new (static_cast&lt;void*&gt;(addressof(*first)))
    typename iterator_traits&lt;ForwardIterator&gt;::value_type(x);
return first;</pre></div></div></div><div id='specialized.destroy'><h4 ><a class='secnum' href='#specialized.destroy' style='min-width:118pt'>23.10.10.7</a> <span class='texttt'>destroy</span> <a class='abbr_ref' href='specialized.destroy'>[specialized.destroy]</a></h4><p ><span class='indexparent'><a class='index' id='lib:destroy_at'></a></span></p><p ><code class='itemdecl'>template &lt;class T&gt;
  void destroy_at(T* location);
</code></p><div class='itemdescr'></div><div class='para' id='specialized.destroy-1'><div class='marginalizedparent'><a class='marginalized' href='#specialized.destroy-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L8220'>#</a></div><p ><span class='textit'>Effects:</span> 
Equivalent to:
</p><pre class='codeblock'>
location-&gt;~T();</pre></div></div><p ><span class='indexparent'><a class='index' id='lib:destroy'></a></span></p><p ><code class='itemdecl'>template &lt;class ForwardIterator&gt;
  void destroy(ForwardIterator first, ForwardIterator last);
</code></p><div class='itemdescr'></div><div class='para' id='specialized.destroy-2'><div class='marginalizedparent'><a class='marginalized' href='#specialized.destroy-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L8235'>#</a></div><p ><span class='textit'>Effects:</span> 
Equivalent to:
</p><pre class='codeblock'>
for (; first!=last; ++first)
  destroy_at(addressof(*first));</pre></div></div><div id='lib:destroy_n'>
<code class='itemdecl'>template &lt;class ForwardIterator, class Size&gt;
  ForwardIterator destroy_n(ForwardIterator first, Size n);
</code>
</div><div class='itemdescr'></div><div class='para' id='specialized.destroy-3'><div class='marginalizedparent'><a class='marginalized' href='#specialized.destroy-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L8252'>#</a></div><p ><span class='textit'>Effects:</span> 
Equivalent to:
</p><pre class='codeblock'>
for (; n &gt; 0; (void)++first, --n)
  destroy_at(addressof(*first));
return first;</pre></div></div></div></div><div id='c.malloc'><h3 ><a class='secnum' href='#c.malloc' style='min-width:103pt'>23.10.11</a> C library memory allocation <a class='abbr_ref' href='c.malloc'>[c.malloc]</a></h3><div class='para' id='c.malloc-1'><div class='marginalizedparent'><a class='marginalized' href='#c.malloc-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L8264'>#</a></div><p ><span class='indexparent'><a class='index' id=':<cstdlib>'></a></span>[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> 
The header <a href='cstdlib.syn'><span class='texttt'>&lt;cstdlib&gt;</span></a>
declares the functions described in this subclause.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>â€”<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>] </p></div><p ><code class='itemdecl'>void* <span id='lib:aligned_alloc'><span class='texttt'>aligned_&shy;alloc</span></span>(size_t alignment, size_t size);
void* <span id='lib:calloc'><span class='texttt'>calloc</span></span>(size_t nmemb, size_t size);
void* <span id='lib:malloc'><span class='texttt'>malloc</span></span>(size_t size);
void* <span id='lib:realloc'><span class='texttt'>realloc</span></span>(void* ptr, size_t size);
</code></p><div class='itemdescr'></div><div class='para' id='c.malloc-2'><div class='marginalizedparent'><a class='marginalized' href='#c.malloc-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L8279'>#</a></div><p ><span class='textit'>Effects:</span> 
These functions have the semantics specified in the C standard library.</p></div></div><div class='para' id='c.malloc-3'><div class='marginalizedparent'><a class='marginalized' href='#c.malloc-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L8283'>#</a></div><p ><span class='textit'>Remarks:</span> 
These functions do not attempt to allocate
storage by calling <span class='texttt'>&#x200b;::&#x200b;operator new()</span> (<a href='support.dynamic'>[support.dynamic]</a>).
<span class='indexparent'><a class='index' id='lib:new,operator'></a></span>
</p></div></div><div class='para' id='c.malloc-4'><div class='marginalizedparent'><a class='marginalized' href='#c.malloc-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L8289'>#</a></div><p >Storage allocated directly with these functions
is implicitly declared reachable
(see <a href='basic.stc.dynamic.safety'>[basic.stc.dynamic.safety]</a>) on allocation, ceases to be declared
reachable on deallocation, and need not cease to be declared reachable as the
result of an <span class='texttt'>undeclare_&shy;reachable()</span> call. [<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>  This allows existing
C libraries to remain unaffected by restrictions on pointers that are not safely
derived, at the expense of providing far fewer garbage collection and leak
detection options for <span class='texttt'>malloc()</span>-allocated objects. It also allows
<span class='texttt'>malloc()</span> to be implemented with a separate allocation arena, bypassing
the normal <span class='texttt'>declare_&shy;reachable()</span> implementation. The above functions
should never intentionally be used as a replacement for
<span class='texttt'>declare_&shy;reachable()</span>, and newly written code is strongly encouraged to
treat memory allocated with these functions as though it were allocated with
<span class='texttt'>operator new</span>. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>â€”<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>] 
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:free'></a></span></p><p ><code class='itemdecl'>void free(void* ptr);
</code></p><div class='itemdescr'></div><div class='para' id='c.malloc-5'><div class='marginalizedparent'><a class='marginalized' href='#c.malloc-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L8312'>#</a></div><p ><span class='textit'>Effects:</span> 
This function has the semantics specified in the C standard library.</p></div></div><div class='para' id='c.malloc-6'><div class='marginalizedparent'><a class='marginalized' href='#c.malloc-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1af12266e2ba8c5a0eb0699f09fa5bde53dd70f3/source/utilities.tex#L8316'>#</a></div><p ><span class='textit'>Remarks:</span> 
This function does not attempt to
deallocate storage by calling
<span class='texttt'>&#x200b;::&#x200b;operator delete()</span><span class='indexparent'><a class='index' id='lib:delete,operator'></a></span>.
</p></div></div><p ><span class='textsc'>See also:</span> ISO C 7.22.3.</p></div></div></body></html>