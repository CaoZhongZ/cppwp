<!DOCTYPE html><html lang='en'><head><title>[variant.variant]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>23</a> General utilities library <a class='abbr_ref' href='./#utilities'>[utilities]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>23.7</a> Variants <a class='abbr_ref' href='variant#variant'>[variant]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>23.7.3</a> Class template <span class='texttt'>variant</span> <a class='abbr_ref'>[variant.variant]</a></h3><pre class='codeblock'>
namespace std {
  template &lt;class... Types&gt;
    class variant {
    public:
      <span class='comment'>// <a href='variant.ctor'>[variant.ctor]</a>, constructors
</span>      constexpr variant() noexcept(<span class='textit'><span class='texttt'>see below</span></span>);
      variant(const variant&amp;);
      variant(variant&amp;&amp;) noexcept(<span class='textit'><span class='texttt'>see below</span></span>);

      template &lt;class T&gt;
        constexpr variant(T&amp;&amp;) noexcept(<span class='textit'><span class='texttt'>see below</span></span>);

      template &lt;class T, class... Args&gt;
        constexpr explicit variant(in_place_type_t&lt;T&gt;, Args&amp;&amp;...);
      template &lt;class T, class U, class... Args&gt;
        constexpr explicit variant(in_place_type_t&lt;T&gt;, initializer_list&lt;U&gt;, Args&amp;&amp;...);

      template &lt;size_t I, class... Args&gt;
        constexpr explicit variant(in_place_index_t&lt;I&gt;, Args&amp;&amp;...);
      template &lt;size_t I, class U, class... Args&gt;
        constexpr explicit variant(in_place_index_t&lt;I&gt;, initializer_list&lt;U&gt;, Args&amp;&amp;...);

      <span class='comment'>// allocator-extended constructors
</span>      template &lt;class Alloc&gt;
        variant(allocator_arg_t, const Alloc&amp;);
      template &lt;class Alloc&gt;
        variant(allocator_arg_t, const Alloc&amp;, const variant&amp;);
      template &lt;class Alloc&gt;
        variant(allocator_arg_t, const Alloc&amp;, variant&amp;&amp;);
      template &lt;class Alloc, class T&gt;
        variant(allocator_arg_t, const Alloc&amp;, T&amp;&amp;);
      template &lt;class Alloc, class T, class... Args&gt;
        variant(allocator_arg_t, const Alloc&amp;, in_place_type_t&lt;T&gt;, Args&amp;&amp;...);
      template &lt;class Alloc, class T, class U, class... Args&gt;
        variant(allocator_arg_t, const Alloc&amp;, in_place_type_t&lt;T&gt;,
                initializer_list&lt;U&gt;, Args&amp;&amp;...);
      template &lt;class Alloc, size_t I, class... Args&gt;
        variant(allocator_arg_t, const Alloc&amp;, in_place_index_t&lt;I&gt;, Args&amp;&amp;...);
      template &lt;class Alloc, size_t I, class U, class... Args&gt;
        variant(allocator_arg_t, const Alloc&amp;, in_place_index_t&lt;I&gt;,
                initializer_list&lt;U&gt;, Args&amp;&amp;...);

      <span class='comment'>// <a href='variant.dtor'>[variant.dtor]</a>, destructor
</span>      ~variant();

      <span class='comment'>// <a href='variant.assign'>[variant.assign]</a>, assignment
</span>      variant&amp; operator=(const variant&amp;);
      variant&amp; operator=(variant&amp;&amp;) noexcept(<span class='textit'><span class='texttt'>see below</span></span>);

      template &lt;class T&gt; variant&amp; operator=(T&amp;&amp;) noexcept(<span class='textit'><span class='texttt'>see below</span></span>);

      <span class='comment'>// <a href='variant.mod'>[variant.mod]</a>, modifiers
</span>      template &lt;class T, class... Args&gt;
        T&amp; emplace(Args&amp;&amp;...);
      template &lt;class T, class U, class... Args&gt;
        T&amp; emplace(initializer_list&lt;U&gt;, Args&amp;&amp;...);
      template &lt;size_t I, class... Args&gt;
        variant_alternative_t&lt;I, variant&lt;Types...&gt;&gt;&amp; emplace(Args&amp;&amp;...);
      template &lt;size_t I, class U, class... Args&gt;
        variant_alternative_t&lt;I, variant&lt;Types...&gt;&gt;&amp; emplace(initializer_list&lt;U&gt;, Args&amp;&amp;...);

      <span class='comment'>// <a href='variant.status'>[variant.status]</a>, value status
</span>      constexpr bool valueless_by_exception() const noexcept;
      constexpr size_t index() const noexcept;

      <span class='comment'>// <a href='variant.swap'>[variant.swap]</a>, swap
</span>      void swap(variant&amp;) noexcept(<span class='textit'><span class='texttt'>see below</span></span>);
    };
}</pre><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4271'>#</a></div><div id='1.sentence-1' class='sentence'>Any instance of <span class='texttt'>variant</span> at any given time either holds a value
of one of its alternative types, or it holds no value<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>When an instance of <span class='texttt'>variant</span> holds a value of alternative type <span class='texttt'>T</span>,
it means that a value of type <span class='texttt'>T</span>, referred to as the <span class='texttt'>variant</span>
object's <a class='hidden_link' href='#def:contained_value,variant' id='def:contained_value,variant'><i >contained value</i></a>, is allocated within the storage of the
<span class='texttt'>variant</span> object<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>Implementations are not permitted to use additional storage, such as dynamic
memory, to allocate the contained value<a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'>The contained value shall be allocated in a region of the <span class='texttt'>variant</span>
storage suitably aligned for all types in <span class='texttt'>Types...</span><a class='hidden_link' href='#1.sentence-4'>.</a></div> <div id='1.sentence-5' class='sentence'>It is <span class='indexparent'><a class='index' id=':whether_variant_supports_over-aligned_types'></a></span>implementation-defined
whether over-aligned types are supported<a class='hidden_link' href='#1.sentence-5'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4285'>#</a></div><div id='2.sentence-1' class='sentence'>All types in <span class='texttt'>Types...</span> shall be (possibly cv-qualified)
object types that are not arrays<a class='hidden_link' href='#2.sentence-1'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4289'>#</a></div><div id='3.sentence-1' class='sentence'>A program that instantiates the definition of <span class='texttt'>variant</span> with
no template arguments is ill-formed<a class='hidden_link' href='#3.sentence-1'>.</a></div></div><div id='variant.ctor' class='section'><h4 ><a class='secnum' href='#variant.ctor' style='min-width:118pt'>23.7.3.1</a> Constructors <a class='abbr_ref' href='variant.ctor'>[variant.ctor]</a></h4><div class='para' id='variant.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4295'>#</a></div><div id='variant.ctor-1.sentence-1' class='sentence'>In the descriptions that follow, let <span class='math'><span class='mathalpha'>i</span></span> be in the range <span class='texttt'>[0, sizeof...(Types))</span>,
and <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> be the <span class="mjx-chtml"><span class="mjx-math" aria-label="i^\text{th}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> type in <span class='texttt'>Types...</span><a class='hidden_link' href='#variant.ctor-1.sentence-1'>.</a></div> <span class='indexparent'><a class='index' id='lib:variant,constructor'></a></span></div><code class='itemdecl'>constexpr variant() noexcept(<span class='textit'><span class='texttt'>see below</span></span>);
</code><div class='itemdescr'></div><div class='para' id='variant.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4305'>#</a></div><div id='variant.ctor-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Constructs a <span class='texttt'>variant</span> holding a value-initialized value of type <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_0"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span><a class='hidden_link' href='#variant.ctor-2.sentence-1'>.</a></div></div></div><div class='para' id='variant.ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4309'>#</a></div><div id='variant.ctor-3.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> 
<span class='texttt'>valueless_&shy;by_&shy;exception()</span> is <span class='texttt'>false</span> and <span class='texttt'>index()</span> is <span class='texttt'>0</span><a class='hidden_link' href='#variant.ctor-3.sentence-1'>.</a></div></div></div><div class='para' id='variant.ctor-4'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4313'>#</a></div><div id='variant.ctor-4.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exception thrown by the value-initialization of <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_0"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span><a class='hidden_link' href='#variant.ctor-4.sentence-1'>.</a></div></div></div><div class='para' id='variant.ctor-5'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4317'>#</a></div><div id='variant.ctor-5.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall be <span class='texttt'>constexpr</span> if and only if the
value-initialization of the alternative type <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_0"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span> would satisfy the
requirements for a constexpr function<a class='hidden_link' href='#variant.ctor-5.sentence-1'>.</a></div> <div id='variant.ctor-5.sentence-2' class='sentence'>The expression inside <span class='texttt'>noexcept</span> is equivalent to
<span class='texttt'>is_&shy;nothrow_&shy;default_&shy;constructible_&shy;v&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_0"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span>&gt;</span><a class='hidden_link' href='#variant.ctor-5.sentence-2'>.</a></div> <div id='variant.ctor-5.sentence-3' class='sentence'>This function shall not participate in overload resolution unless
<span class='texttt'>is_&shy;default_&shy;constructible_&shy;v&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_0"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span>&gt;</span> is <span class='texttt'>true</span><a class='hidden_link' href='#variant.ctor-5.sentence-3'>.</a></div> <div id='variant.ctor-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#variant.ctor-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='variant.ctor-5.sentence-4' class='sentence'>See also class <span class='texttt'>monostate</span><a class='hidden_link' href='#variant.ctor-5.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><span class='indexparent'><a class='index' id='lib:variant,constructor_'></a></span><code class='itemdecl'>variant(const variant&amp; w);
</code><div class='itemdescr'></div><div class='para' id='variant.ctor-6'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4335'>#</a></div><div id='variant.ctor-6.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
If <span class='texttt'>w</span> holds a value, initializes the <span class='texttt'>variant</span> to hold the same
alternative as <span class='texttt'>w</span> and direct-initializes the contained value
with <span class='texttt'>get&lt;j&gt;(w)</span>, where <span class='texttt'>j</span> is <span class='texttt'>w.index()</span><a class='hidden_link' href='#variant.ctor-6.sentence-1'>.</a></div> <div id='variant.ctor-6.sentence-2' class='sentence'>Otherwise, initializes the <span class='texttt'>variant</span> to not hold a value<a class='hidden_link' href='#variant.ctor-6.sentence-2'>.</a></div></div></div><div class='para' id='variant.ctor-7'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4342'>#</a></div><div id='variant.ctor-7.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exception thrown by direct-initializing any <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#variant.ctor-7.sentence-1'>.</a></div></div></div><div class='para' id='variant.ctor-8'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4346'>#</a></div><div id='variant.ctor-8.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall not participate in overload resolution unless
<span class='texttt'>is_&shy;copy_&shy;constructible_&shy;v&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span> is <span class='texttt'>true</span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#variant.ctor-8.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:variant,constructor__'></a></span><code class='itemdecl'>variant(variant&amp;&amp; w) noexcept(<span class='textit'><span class='texttt'>see below</span></span>);
</code><div class='itemdescr'></div><div class='para' id='variant.ctor-9'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4358'>#</a></div><div id='variant.ctor-9.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
If <span class='texttt'>w</span> holds a value, initializes the <span class='texttt'>variant</span> to hold the same
alternative as <span class='texttt'>w</span> and direct-initializes the contained value with
<span class='texttt'>get&lt;j&gt;(std&#x200b;::&#x200b;move(w))</span>, where <span class='texttt'>j</span> is <span class='texttt'>w.index()</span><a class='hidden_link' href='#variant.ctor-9.sentence-1'>.</a></div> <div id='variant.ctor-9.sentence-2' class='sentence'>Otherwise, initializes the <span class='texttt'>variant</span> to not hold a value<a class='hidden_link' href='#variant.ctor-9.sentence-2'>.</a></div></div></div><div class='para' id='variant.ctor-10'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4365'>#</a></div><div id='variant.ctor-10.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exception thrown by move-constructing any <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#variant.ctor-10.sentence-1'>.</a></div></div></div><div class='para' id='variant.ctor-11'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4369'>#</a></div><div id='variant.ctor-11.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
The expression inside <span class='texttt'>noexcept</span> is equivalent to the logical AND of
<span class='texttt'>is_&shy;nothrow_&shy;move_&shy;constructible_&shy;v&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#variant.ctor-11.sentence-1'>.</a></div> <div id='variant.ctor-11.sentence-2' class='sentence'>This function shall not participate in overload resolution unless
<span class='texttt'>is_&shy;move_&shy;constructible_&shy;v&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span> is <span class='texttt'>true</span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#variant.ctor-11.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:variant,constructor___'></a></span><code class='itemdecl'>template &lt;class T&gt; constexpr variant(T&amp;&amp; t) noexcept(<span class='textit'><span class='texttt'>see below</span></span>);
</code><div class='itemdescr'></div><div class='para' id='variant.ctor-12'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4383'>#</a></div><div id='variant.ctor-12.sentence-1' class='sentence'>Let <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span> be a type that is determined as follows:
build an imaginary function <span class='texttt'><span class='textit'>FUN</span>(<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>)</span> for each alternative type <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><a class='hidden_link' href='#variant.ctor-12.sentence-1'>.</a></div> <div id='variant.ctor-12.sentence-2' class='sentence'>The overload <span class='texttt'><span class='textit'>FUN</span>(<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>)</span> selected by overload
resolution for the expression <span class='texttt'><span class='textit'>FUN</span>(std&#x200b;::&#x200b;forward&lt;T&gt;(&#x200b;t))</span> defines
the alternative <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span> which is the type of the contained value after
construction<a class='hidden_link' href='#variant.ctor-12.sentence-2'>.</a></div></div></div><div class='para' id='variant.ctor-13'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4390'>#</a></div><div id='variant.ctor-13.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Initializes <span class='texttt'>*this</span> to hold the alternative type <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span> and
direct-initializes the contained value as if direct-non-list-initializing it
with <span class='texttt'>std&#x200b;::&#x200b;forward&lt;T&gt;(t)</span><a class='hidden_link' href='#variant.ctor-13.sentence-1'>.</a></div></div></div><div class='para' id='variant.ctor-14'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4396'>#</a></div><div id='variant.ctor-14.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> 
<span class='texttt'>holds_&shy;alternative&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>&gt;(*this)</span> is <span class='texttt'>true</span><a class='hidden_link' href='#variant.ctor-14.sentence-1'>.</a></div></div></div><div class='para' id='variant.ctor-15'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4400'>#</a></div><div id='variant.ctor-15.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exception thrown by the initialization of the selected alternative <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span><a class='hidden_link' href='#variant.ctor-15.sentence-1'>.</a></div></div></div><div class='para' id='variant.ctor-16'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4404'>#</a></div><div id='variant.ctor-16.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall not participate in overload resolution unless
<span class='texttt'>is_&shy;same_&shy;v&lt;decay_&shy;t&lt;T&gt;, variant&gt;</span> is <span class='texttt'>false</span>,
unless <span class='texttt'>decay_&shy;t&lt;T&gt;</span> is neither
a specialization of <span class='texttt'>in_&shy;place_&shy;type_&shy;t</span>
nor a specialization of <span class='texttt'>in_&shy;place_&shy;index_&shy;t</span>,
unless <span class='texttt'>is_&shy;constructible_&shy;v&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>, T&gt;</span> is <span class='texttt'>true</span>,
and unless the expression
<span class='texttt'><span class='textit'>FUN</span>(</span>&#x200b;<span class='texttt'>std&#x200b;::&#x200b;forward&lt;T&gt;(t))</span> (with <span class='texttt'><span class='textit'>FUN</span></span>
being the above-mentioned set of imaginary functions) is well formed<a class='hidden_link' href='#variant.ctor-16.sentence-1'>.</a></div></div></div><div class='para' id='variant.ctor-17'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4416'>#</a></div><div id='variant.ctor-17.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#variant.ctor-17.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <pre class='codeblock'>
variant&lt;string, string&gt; v("abc");</pre> <div id='variant.ctor-17.sentence-1' class='sentence'>
is ill-formed, as both alternative types have an equally viable constructor
for the argument<a class='hidden_link' href='#variant.ctor-17.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div class='para' id='variant.ctor-18'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4424'>#</a></div><div id='variant.ctor-18.sentence-1' class='sentence'>The expression inside <span class='texttt'>noexcept</span> is equivalent to
<span class='texttt'>is_&shy;nothrow_&shy;constructible_&shy;v&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>, T&gt;</span><a class='hidden_link' href='#variant.ctor-18.sentence-1'>.</a></div> <div id='variant.ctor-18.sentence-2' class='sentence'>If <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>'s selected constructor is a constexpr constructor,
this constructor shall be a constexpr constructor<a class='hidden_link' href='#variant.ctor-18.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:variant,constructor____'></a></span><code class='itemdecl'>template &lt;class T, class... Args&gt; constexpr explicit variant(in_place_type_t&lt;T&gt;, Args&amp;&amp;... args);
</code><div class='itemdescr'></div><div class='para' id='variant.ctor-19'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4437'>#</a></div><div id='variant.ctor-19.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Initializes the contained value as if direct-non-list-initializing
an object of type <span class='texttt'>T</span>
with the arguments <span class='texttt'>std&#x200b;::&#x200b;forward&lt;Args&gt;(args)...</span><a class='hidden_link' href='#variant.ctor-19.sentence-1'>.</a></div></div></div><div class='para' id='variant.ctor-20'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4443'>#</a></div><div id='variant.ctor-20.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> 
<span class='texttt'>holds_&shy;alternative&lt;T&gt;(*this)</span> is <span class='texttt'>true</span><a class='hidden_link' href='#variant.ctor-20.sentence-1'>.</a></div></div></div><div class='para' id='variant.ctor-21'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4447'>#</a></div><div id='variant.ctor-21.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exception thrown by calling the selected constructor of <span class='texttt'>T</span><a class='hidden_link' href='#variant.ctor-21.sentence-1'>.</a></div></div></div><div class='para' id='variant.ctor-22'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4451'>#</a></div><div id='variant.ctor-22.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall not participate in overload resolution unless there is
exactly one occurrence of <span class='texttt'>T</span> in <span class='texttt'>Types...</span> and
<span class='texttt'>is_&shy;constructible_&shy;v&lt;T, Args...&gt;</span> is <span class='texttt'>true</span><a class='hidden_link' href='#variant.ctor-22.sentence-1'>.</a></div> <div id='variant.ctor-22.sentence-2' class='sentence'>If <span class='texttt'>T</span>'s selected constructor is a constexpr constructor, this
constructor shall be a constexpr constructor<a class='hidden_link' href='#variant.ctor-22.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:variant,constructor_____'></a></span><code class='itemdecl'>template &lt;class T, class U, class... Args&gt;
  constexpr explicit variant(in_place_type_t&lt;T&gt;, initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
</code><div class='itemdescr'></div><div class='para' id='variant.ctor-23'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4467'>#</a></div><div id='variant.ctor-23.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Initializes the contained value as if direct-non-list-initializing
an object of type <span class='texttt'>T</span>
with the arguments <span class='texttt'>il, std&#x200b;::&#x200b;forward&lt;Args&gt;(args)...</span><a class='hidden_link' href='#variant.ctor-23.sentence-1'>.</a></div></div></div><div class='para' id='variant.ctor-24'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4473'>#</a></div><div id='variant.ctor-24.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> 
<span class='texttt'>holds_&shy;alternative&lt;T&gt;(*this)</span> is <span class='texttt'>true</span><a class='hidden_link' href='#variant.ctor-24.sentence-1'>.</a></div></div></div><div class='para' id='variant.ctor-25'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4477'>#</a></div><div id='variant.ctor-25.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exception thrown by calling the selected constructor of <span class='texttt'>T</span><a class='hidden_link' href='#variant.ctor-25.sentence-1'>.</a></div></div></div><div class='para' id='variant.ctor-26'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-26'>26</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4481'>#</a></div><div id='variant.ctor-26.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall not participate in overload resolution unless there is
exactly one occurrence of <span class='texttt'>T</span> in <span class='texttt'>Types...</span> and
<span class='texttt'>is_&shy;constructible_&shy;v&lt;T, initializer_&shy;list&lt;U&gt;&amp;, Args...&gt;</span> is <span class='texttt'>true</span><a class='hidden_link' href='#variant.ctor-26.sentence-1'>.</a></div> <div id='variant.ctor-26.sentence-2' class='sentence'>If <span class='texttt'>T</span>'s selected constructor is a constexpr constructor, this
constructor shall be a constexpr constructor<a class='hidden_link' href='#variant.ctor-26.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:variant,constructor______'></a></span><code class='itemdecl'>template &lt;size_t I, class... Args&gt; constexpr explicit variant(in_place_index_t&lt;I&gt;, Args&amp;&amp;... args);
</code><div class='itemdescr'></div><div class='para' id='variant.ctor-27'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-27'>27</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4496'>#</a></div><div id='variant.ctor-27.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Initializes the contained value as if direct-non-list-initializing
an object of type <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_I"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>
with the arguments <span class='texttt'>std&#x200b;::&#x200b;forward&lt;Args&gt;(args)...</span><a class='hidden_link' href='#variant.ctor-27.sentence-1'>.</a></div></div></div><div class='para' id='variant.ctor-28'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-28'>28</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4502'>#</a></div><div id='variant.ctor-28.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> 
<span class='texttt'>index()</span> is <span class='texttt'>I</span><a class='hidden_link' href='#variant.ctor-28.sentence-1'>.</a></div></div></div><div class='para' id='variant.ctor-29'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-29'>29</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4506'>#</a></div><div id='variant.ctor-29.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exception thrown by calling the selected constructor of <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_I"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span><a class='hidden_link' href='#variant.ctor-29.sentence-1'>.</a></div></div></div><div class='para' id='variant.ctor-30'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-30'>30</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4510'>#</a></div><div id='variant.ctor-30.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall not participate in overload resolution unless
<ul class='itemize'><li id='variant.ctor-30.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.ctor-30.1'>(30.1)</a></div><div id='variant.ctor-30.1.sentence-1' class='sentence'><span class='texttt'>I</span> is less than <span class='texttt'>sizeof...(Types)</span> and</div></li><li id='variant.ctor-30.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.ctor-30.2'>(30.2)</a></div><div id='variant.ctor-30.2.sentence-1' class='sentence'><span class='texttt'>is_&shy;constructible_&shy;v&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_I"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>, Args...&gt;</span> is <span class='texttt'>true</span><a class='hidden_link' href='#variant.ctor-30.2.sentence-1'>.</a></div></li></ul></div> <div id='variant.ctor-30.sentence-2' class='sentence'>
If <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_I"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>'s selected constructor is a constexpr constructor, this
constructor shall be a constexpr constructor<a class='hidden_link' href='#variant.ctor-30.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:variant,constructor_______'></a></span><code class='itemdecl'>template &lt;size_t I, class U, class... Args&gt;
  constexpr explicit variant(in_place_index_t&lt;I&gt;, initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
</code><div class='itemdescr'></div><div class='para' id='variant.ctor-31'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-31'>31</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4530'>#</a></div><div id='variant.ctor-31.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Initializes the contained value as if direct-non-list-initializing
an object of type <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_I"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>
with the arguments <span class='texttt'>il, std&#x200b;::&#x200b;forward&lt;Args&gt;(args)...</span><a class='hidden_link' href='#variant.ctor-31.sentence-1'>.</a></div></div></div><div class='para' id='variant.ctor-32'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-32'>32</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4536'>#</a></div><div id='variant.ctor-32.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> 
<span class='texttt'>index()</span> is <span class='texttt'>I</span><a class='hidden_link' href='#variant.ctor-32.sentence-1'>.</a></div></div></div><div class='para' id='variant.ctor-33'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-33'>33</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4540'>#</a></div><div id='variant.ctor-33.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall not participate in overload resolution unless
<ul class='itemize'><li id='variant.ctor-33.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.ctor-33.1'>(33.1)</a></div><div id='variant.ctor-33.1.sentence-1' class='sentence'><span class='texttt'>I</span> is less than <span class='texttt'>sizeof...(Types)</span> and</div></li><li id='variant.ctor-33.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.ctor-33.2'>(33.2)</a></div><div id='variant.ctor-33.2.sentence-1' class='sentence'><span class='texttt'>is_&shy;constructible_&shy;v&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_I"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>, initializer_&shy;list&lt;U&gt;&amp;, Args...&gt;</span> is <span class='texttt'>true</span><a class='hidden_link' href='#variant.ctor-33.2.sentence-1'>.</a></div></li></ul></div> <div id='variant.ctor-33.sentence-2' class='sentence'>
If <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_I"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>'s selected constructor is a constexpr constructor, this
constructor shall be a constexpr constructor<a class='hidden_link' href='#variant.ctor-33.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:variant,constructor________'></a></span><code class='itemdecl'><span class='comment'>// allocator-extended constructors
</span>template &lt;class Alloc&gt;
  variant(allocator_arg_t, const Alloc&amp; a);
template &lt;class Alloc&gt;
  variant(allocator_arg_t, const Alloc&amp; a, const variant&amp; v);
template &lt;class Alloc&gt;
  variant(allocator_arg_t, const Alloc&amp; a, variant&amp;&amp; v);
template &lt;class Alloc, class T&gt;
  variant(allocator_arg_t, const Alloc&amp; a, T&amp;&amp; t);
template &lt;class Alloc, class T, class... Args&gt;
  variant(allocator_arg_t, const Alloc&amp; a, in_place_type_t&lt;T&gt;, Args&amp;&amp;... args);
template &lt;class Alloc, class T, class U, class... Args&gt;
  variant(allocator_arg_t, const Alloc&amp; a, in_place_type_t&lt;T&gt;,
          initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
template &lt;class Alloc, size_t I, class... Args&gt;
  variant(allocator_arg_t, const Alloc&amp; a, in_place_index_t&lt;I&gt;, Args&amp;&amp;... args);
template &lt;class Alloc, size_t I, class U, class... Args&gt;
  variant(allocator_arg_t, const Alloc&amp; a, in_place_index_t&lt;I&gt;,
          initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
</code><div class='itemdescr'></div><div class='para' id='variant.ctor-34'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-34'>34</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4577'>#</a></div><div id='variant.ctor-34.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
<span class='texttt'>Alloc</span> shall meet the requirements for an <a href='allocator.requirements'>Allocator</a><a class='hidden_link' href='#variant.ctor-34.sentence-1'>.</a></div></div></div><div class='para' id='variant.ctor-35'><div class='marginalizedparent'><a class='marginalized' href='#variant.ctor-35'>35</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4581'>#</a></div><div id='variant.ctor-35.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to the preceding constructors except that the contained value is
constructed with <a href='allocator.uses.construction#def:uses-allocator_construction'>uses-allocator construction</a><a class='hidden_link' href='#variant.ctor-35.sentence-1'>.</a></div></div></div></div><div id='variant.dtor' class='section'><h4 ><a class='secnum' href='#variant.dtor' style='min-width:118pt'>23.7.3.2</a> Destructor <a class='abbr_ref' href='variant.dtor'>[variant.dtor]</a></h4><span class='indexparent'><a class='index' id='lib:variant,destructor'></a></span><code class='itemdecl'>~variant();
</code><div class='itemdescr'></div><div class='para' id='variant.dtor-1'><div class='marginalizedparent'><a class='marginalized' href='#variant.dtor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4595'>#</a></div><div id='variant.dtor-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
If <span class='texttt'>valueless_&shy;by_&shy;exception()</span> is <span class='texttt'>false</span>,
destroys the currently contained value<a class='hidden_link' href='#variant.dtor-1.sentence-1'>.</a></div></div></div><div class='para' id='variant.dtor-2'><div class='marginalizedparent'><a class='marginalized' href='#variant.dtor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4600'>#</a></div><div id='variant.dtor-2.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
If <span class='texttt'>is_&shy;trivially_&shy;destructible_&shy;v&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt; == true</span> for all <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>
then this destructor shall be a trivial destructor<a class='hidden_link' href='#variant.dtor-2.sentence-1'>.</a></div></div></div></div><div id='variant.assign' class='section'><h4 ><a class='secnum' href='#variant.assign' style='min-width:118pt'>23.7.3.3</a> Assignment <a class='abbr_ref' href='variant.assign'>[variant.assign]</a></h4><span class='indexparent'><a class='index' id='lib:operator=,variant'></a></span><span class='indexparent'><a class='index' id='lib:variant,operator='></a></span><code class='itemdecl'>variant&amp; operator=(const variant&amp; rhs);
</code><div class='itemdescr'></div><div class='para' id='variant.assign-1'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4614'>#</a></div><div id='variant.assign-1.sentence-1' class='sentence'>Let <span class='math'><span class='mathalpha'>j</span></span> be <span class='texttt'>rhs.index()</span><a class='hidden_link' href='#variant.assign-1.sentence-1'>.</a></div></div></div><div class='para' id='variant.assign-2'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4617'>#</a></div><div id='variant.assign-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
<ul class='itemize'><li id='variant.assign-2.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-2.1'>(2.1)</a></div><div id='variant.assign-2.1.sentence-1' class='sentence'>If neither <span class='texttt'>*this</span> nor <span class='texttt'>rhs</span> holds a value, there is no effect<a class='hidden_link' href='#variant.assign-2.1.sentence-1'>.</a></div> <div id='variant.assign-2.1.sentence-2' class='sentence'>Otherwise,</div></li><li id='variant.assign-2.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-2.2'>(2.2)</a></div><div id='variant.assign-2.2.sentence-1' class='sentence'>if <span class='texttt'>*this</span> holds a value but <span class='texttt'>rhs</span> does not, destroys the value
contained in <span class='texttt'>*this</span> and sets <span class='texttt'>*this</span> to not hold a value<a class='hidden_link' href='#variant.assign-2.2.sentence-1'>.</a></div> <div id='variant.assign-2.2.sentence-2' class='sentence'>Otherwise,</div></li><li id='variant.assign-2.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-2.3'>(2.3)</a></div><div id='variant.assign-2.3.sentence-1' class='sentence'>if <span class='texttt'>index() == <span class='math'><span class='mathalpha'>j</span></span></span>, assigns the value contained in <span class='texttt'>rhs</span>
to the value contained in <span class='texttt'>*this</span><a class='hidden_link' href='#variant.assign-2.3.sentence-1'>.</a></div> <div id='variant.assign-2.3.sentence-2' class='sentence'>Otherwise,</div></li><li id='variant.assign-2.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-2.4'>(2.4)</a></div><div id='variant.assign-2.4.sentence-1' class='sentence'>if either <span class='texttt'>is_&shy;nothrow_&shy;copy_&shy;constructible_&shy;v&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>&gt;</span> or
<span class='texttt'>!is_&shy;nothrow_&shy;move_&shy;constructible_&shy;v&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>&gt;</span> is <span class='texttt'>true</span>,
equivalent to <span class='texttt'>emplace&lt;<span class='math'><span class='mathalpha'>j</span></span>&gt;(get&lt;<span class='math'><span class='mathalpha'>j</span></span>&gt;(rhs))</span><a class='hidden_link' href='#variant.assign-2.4.sentence-1'>.</a></div> <div id='variant.assign-2.4.sentence-2' class='sentence'>Otherwise,</div></li><li id='variant.assign-2.5'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-2.5'>(2.5)</a></div><div id='variant.assign-2.5.sentence-1' class='sentence'>equivalent to <span class='texttt'>operator=(variant(rhs))</span><a class='hidden_link' href='#variant.assign-2.5.sentence-1'>.</a></div></li></ul></div></div></div><div class='para' id='variant.assign-3'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4636'>#</a></div><div id='variant.assign-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>*this</span><a class='hidden_link' href='#variant.assign-3.sentence-1'>.</a></div></div></div><div class='para' id='variant.assign-4'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4639'>#</a></div><div id='variant.assign-4.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> <span class='texttt'>index() == rhs.index()</span><a class='hidden_link' href='#variant.assign-4.sentence-1'>.</a></div></div></div><div class='para' id='variant.assign-5'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4642'>#</a></div><div id='variant.assign-5.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall not participate in overload resolution unless
<span class='texttt'>is_&shy;copy_&shy;constructible_&shy;v&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt; &amp;&amp;</span>
<span class='texttt'>is_&shy;copy_&shy;assignable_&shy;v&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span>
is <span class='texttt'>true</span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#variant.assign-5.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator=,variant_'></a></span><span class='indexparent'><a class='index' id='lib:variant,operator=_'></a></span><code class='itemdecl'>variant&amp; operator=(variant&amp;&amp; rhs) noexcept(<span class='textit'><span class='texttt'>see below</span></span>);
</code><div class='itemdescr'></div><div class='para' id='variant.assign-6'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4656'>#</a></div><div id='variant.assign-6.sentence-1' class='sentence'>Let <span class='math'><span class='mathalpha'>j</span></span> be <span class='texttt'>rhs.index()</span><a class='hidden_link' href='#variant.assign-6.sentence-1'>.</a></div></div></div><div class='para' id='variant.assign-7'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4659'>#</a></div><div id='variant.assign-7.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
<ul class='itemize'><li id='variant.assign-7.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-7.1'>(7.1)</a></div><div id='variant.assign-7.1.sentence-1' class='sentence'>If neither <span class='texttt'>*this</span> nor <span class='texttt'>rhs</span> holds a value, there is no effect<a class='hidden_link' href='#variant.assign-7.1.sentence-1'>.</a></div> <div id='variant.assign-7.1.sentence-2' class='sentence'>Otherwise,</div></li><li id='variant.assign-7.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-7.2'>(7.2)</a></div><div id='variant.assign-7.2.sentence-1' class='sentence'>if <span class='texttt'>*this</span> holds a value but <span class='texttt'>rhs</span> does not, destroys the value
contained in <span class='texttt'>*this</span> and sets <span class='texttt'>*this</span> to not hold a value<a class='hidden_link' href='#variant.assign-7.2.sentence-1'>.</a></div> <div id='variant.assign-7.2.sentence-2' class='sentence'>Otherwise,</div></li><li id='variant.assign-7.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-7.3'>(7.3)</a></div><div id='variant.assign-7.3.sentence-1' class='sentence'>if <span class='texttt'>index() == <span class='math'><span class='mathalpha'>j</span></span></span>, assigns <span class='texttt'>get&lt;<span class='math'><span class='mathalpha'>j</span></span>&gt;(std&#x200b;::&#x200b;move(rhs))</span> to
the value contained in <span class='texttt'>*this</span><a class='hidden_link' href='#variant.assign-7.3.sentence-1'>.</a></div> <div id='variant.assign-7.3.sentence-2' class='sentence'>Otherwise,</div></li><li id='variant.assign-7.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-7.4'>(7.4)</a></div><div id='variant.assign-7.4.sentence-1' class='sentence'>equivalent to <span class='texttt'>emplace&lt;<span class='math'><span class='mathalpha'>j</span></span>&gt;(get&lt;<span class='math'><span class='mathalpha'>j</span></span>&gt;(std&#x200b;::&#x200b;move(rhs)))</span><a class='hidden_link' href='#variant.assign-7.4.sentence-1'>.</a></div></li></ul></div></div></div><div class='para' id='variant.assign-8'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4674'>#</a></div><div id='variant.assign-8.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>*this</span><a class='hidden_link' href='#variant.assign-8.sentence-1'>.</a></div></div></div><div class='para' id='variant.assign-9'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4677'>#</a></div><div id='variant.assign-9.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall not participate in overload resolution unless
<span class='texttt'>is_&shy;move_&shy;constructible_&shy;v&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt; &amp;&amp; is_&shy;move_&shy;assignable_&shy;v&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span> is
<span class='texttt'>true</span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#variant.assign-9.sentence-1'>.</a></div> <div id='variant.assign-9.sentence-2' class='sentence'>The expression inside <span class='texttt'>noexcept</span> is equivalent to:
<span class='texttt'>is_&shy;nothrow_&shy;move_&shy;constructible_&shy;v&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt; &amp;&amp; is_&shy;nothrow_&shy;move_&shy;assignable_&shy;v&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#variant.assign-9.sentence-2'>.</a></div> <div id='variant.assign-9.sentence-3' class='sentence'><ul class='itemize'><li id='variant.assign-9.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-9.1'>(9.1)</a></div><div id='variant.assign-9.1.sentence-1' class='sentence'>If an exception is thrown during the call to <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>'s move construction
(with <span class='math'><span class='mathalpha'>j</span></span> being <span class='texttt'>rhs.index())</span>, the <span class='texttt'>variant</span> will hold no value<a class='hidden_link' href='#variant.assign-9.1.sentence-1'>.</a></div></li><li id='variant.assign-9.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-9.2'>(9.2)</a></div><div id='variant.assign-9.2.sentence-1' class='sentence'>If an exception is thrown during the call to <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>'s move assignment,
the state of the contained value is as defined by the exception safety
guarantee of <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>'s move assignment; <span class='texttt'>index()</span> will be <span class='math'><span class='mathalpha'>j</span></span><a class='hidden_link' href='#variant.assign-9.2.sentence-1'>.</a></div></li></ul></div></div></div><span class='indexparent'><a class='index' id='lib:operator=,variant__'></a></span><span class='indexparent'><a class='index' id='lib:variant,operator=__'></a></span><code class='itemdecl'>template &lt;class T&gt; variant&amp; operator=(T&amp;&amp; t) noexcept(<span class='textit'><span class='texttt'>see below</span></span>);
</code><div class='itemdescr'></div><div class='para' id='variant.assign-10'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4699'>#</a></div><div id='variant.assign-10.sentence-1' class='sentence'>Let <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span> be a type that is determined as follows:
build an imaginary function <span class='texttt'><span class='textit'>FUN</span>(<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>)</span> for each alternative type
<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><a class='hidden_link' href='#variant.assign-10.sentence-1'>.</a></div> <div id='variant.assign-10.sentence-2' class='sentence'>The overload <span class='texttt'><span class='textit'>FUN</span>(<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>)</span> selected by overload
resolution for the expression <span class='texttt'><span class='textit'>FUN</span>(std&#x200b;::&#x200b;forward&lt;T&gt;(&#x200b;t))</span> defines
the alternative <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span> which is the type of the contained value after
assignment<a class='hidden_link' href='#variant.assign-10.sentence-2'>.</a></div></div></div><div class='para' id='variant.assign-11'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4707'>#</a></div><div id='variant.assign-11.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
<ul class='itemize'><li id='variant.assign-11.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-11.1'>(11.1)</a></div><div id='variant.assign-11.1.sentence-1' class='sentence'>If <span class='texttt'>*this</span> holds a <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>, assigns <span class='texttt'>std&#x200b;::&#x200b;forward&lt;T&gt;(t)</span> to
the value contained in <span class='texttt'>*this</span><a class='hidden_link' href='#variant.assign-11.1.sentence-1'>.</a></div> <div id='variant.assign-11.1.sentence-2' class='sentence'>Otherwise,</div></li><li id='variant.assign-11.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-11.2'>(11.2)</a></div><div id='variant.assign-11.2.sentence-1' class='sentence'>if <span class='texttt'>is_&shy;nothrow_&shy;constructible_&shy;v&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>, T&gt; ||</span>
<span class='texttt'>!is_&shy;nothrow_&shy;move_&shy;constructible_&shy;v&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>&gt;</span> is <span class='texttt'>true</span>,
equivalent to <span class='texttt'>emplace&lt;<span class='math'><span class='mathalpha'>j</span></span>&gt;(std&#x200b;::&#x200b;forward&lt;T&gt;(t))</span><a class='hidden_link' href='#variant.assign-11.2.sentence-1'>.</a></div> <div id='variant.assign-11.2.sentence-2' class='sentence'>Otherwise,</div></li><li id='variant.assign-11.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-11.3'>(11.3)</a></div><div id='variant.assign-11.3.sentence-1' class='sentence'>equivalent to <span class='texttt'>operator=(variant(std&#x200b;::&#x200b;forward&lt;T&gt;(t)))</span><a class='hidden_link' href='#variant.assign-11.3.sentence-1'>.</a></div></li></ul></div></div></div><div class='para' id='variant.assign-12'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4721'>#</a></div><div id='variant.assign-12.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> 
<span class='texttt'>holds_&shy;alternative&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>&gt;(*this)</span> is <span class='texttt'>true</span>, with <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>
selected by the imaginary function overload resolution described above<a class='hidden_link' href='#variant.assign-12.sentence-1'>.</a></div></div></div><div class='para' id='variant.assign-13'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4726'>#</a></div><div id='variant.assign-13.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>*this</span><a class='hidden_link' href='#variant.assign-13.sentence-1'>.</a></div></div></div><div class='para' id='variant.assign-14'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4729'>#</a></div><div id='variant.assign-14.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall not participate in overload resolution unless
<span class='texttt'>is_&shy;same_&shy;v&lt;decay_&shy;t&lt;T&gt;, variant&gt;</span> is <span class='texttt'>false</span>, unless
<span class='texttt'>is_&shy;assignable_&shy;v&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>&amp;, T&gt; &amp;&amp; is_&shy;constructible_&shy;v&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>, T&gt;</span> is <span class='texttt'>true</span>,
and unless the expression <span class='texttt'><span class='textit'>FUN</span>(std&#x200b;::&#x200b;forward&lt;T&gt;(t))</span> (with
<span class='texttt'><span class='textit'>FUN</span></span> being the above-mentioned set of imaginary functions)
is well formed<a class='hidden_link' href='#variant.assign-14.sentence-1'>.</a></div></div></div><div class='para' id='variant.assign-15'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4738'>#</a></div><div id='variant.assign-15.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#variant.assign-15.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <pre class='codeblock'>
variant&lt;string, string&gt; v;
v = "abc";</pre> <div id='variant.assign-15.sentence-1' class='sentence'>
is ill-formed, as both alternative types have an equally viable constructor
for the argument<a class='hidden_link' href='#variant.assign-15.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div class='para' id='variant.assign-16'><div class='marginalizedparent'><a class='marginalized' href='#variant.assign-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4747'>#</a></div><div id='variant.assign-16.sentence-1' class='sentence'>The expression inside <span class='texttt'>noexcept</span> is equivalent to:
<pre class='codeblock'>
is_nothrow_assignable_v&lt;T<span class="mjx-chtml"><span class="mjx-math" aria-label="_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>&amp;, T&gt; &amp;&amp; is_nothrow_constructible_v&lt;T<span class="mjx-chtml"><span class="mjx-math" aria-label="_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>, T&gt;</pre>
<ul class='itemize'><li id='variant.assign-16.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-16.1'>(16.1)</a></div><div id='variant.assign-16.1.sentence-1' class='sentence'>If an exception is thrown during the assignment of <span class='texttt'>std&#x200b;::&#x200b;forward&lt;T&gt;(t)</span>
to the value contained in <span class='texttt'>*this</span>, the state of the contained value and
<span class='texttt'>t</span> are as defined by the exception safety guarantee of the assignment
expression; <span class='texttt'>valueless_&shy;by_&shy;exception()</span> will be <span class='texttt'>false</span><a class='hidden_link' href='#variant.assign-16.1.sentence-1'>.</a></div></li><li id='variant.assign-16.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.assign-16.2'>(16.2)</a></div><div id='variant.assign-16.2.sentence-1' class='sentence'>If an exception is thrown during the initialization of the contained value,
the <span class='texttt'>variant</span> object might not hold a value<a class='hidden_link' href='#variant.assign-16.2.sentence-1'>.</a></div></li></ul></div></div></div></div><div id='variant.mod' class='section'><h4 ><a class='secnum' href='#variant.mod' style='min-width:118pt'>23.7.3.4</a> Modifiers <a class='abbr_ref' href='variant.mod'>[variant.mod]</a></h4><span class='indexparent'><a class='index' id='lib:emplace,variant'></a></span><span class='indexparent'><a class='index' id='lib:variant,emplace'></a></span><code class='itemdecl'>template &lt;class T, class... Args&gt; T&amp; emplace(Args&amp;&amp;... args);
</code><div class='itemdescr'></div><div class='para' id='variant.mod-1'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4770'>#</a></div><div id='variant.mod-1.sentence-1' class='sentence'>Let <span class='math'><span class='mathalpha'>I</span></span> be the zero-based index of <span class='texttt'>T</span> in <span class='texttt'>Types...</span><a class='hidden_link' href='#variant.mod-1.sentence-1'>.</a></div></div></div><div class='para' id='variant.mod-2'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4773'>#</a></div><div id='variant.mod-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to: <span class='texttt'>return emplace&lt;<span class='math'><span class='mathalpha'>I</span></span>&gt;(std&#x200b;::&#x200b;forward&lt;Args&gt;(args)...);</span></div></div></div><div class='para' id='variant.mod-3'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4777'>#</a></div><div id='variant.mod-3.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall not participate in overload resolution unless
<span class='texttt'>is_&shy;constructible_&shy;v&lt;T, Args...&gt;</span> is <span class='texttt'>true</span>, and <span class='texttt'>T</span> occurs
exactly once in <span class='texttt'>Types...</span><a class='hidden_link' href='#variant.mod-3.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:emplace,variant_'></a></span><span class='indexparent'><a class='index' id='lib:variant,emplace_'></a></span><code class='itemdecl'>template &lt;class T, class U, class... Args&gt; T&amp; emplace(initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
</code><div class='itemdescr'></div><div class='para' id='variant.mod-4'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4790'>#</a></div><div id='variant.mod-4.sentence-1' class='sentence'>Let <span class='math'><span class='mathalpha'>I</span></span> be the zero-based index of <span class='texttt'>T</span> in <span class='texttt'>Types...</span><a class='hidden_link' href='#variant.mod-4.sentence-1'>.</a></div></div></div><div class='para' id='variant.mod-5'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4793'>#</a></div><div id='variant.mod-5.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to: <span class='texttt'>return emplace&lt;<span class='math'><span class='mathalpha'>I</span></span>&gt;(il, std&#x200b;::&#x200b;forward&lt;Args&gt;(args)...);</span></div></div></div><div class='para' id='variant.mod-6'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4797'>#</a></div><div id='variant.mod-6.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall not participate in overload resolution unless
<span class='texttt'>is_&shy;constructible_&shy;v&lt;T, initializer_&shy;list&lt;U&gt;&amp;, Args...&gt;</span> is <span class='texttt'>true</span>,
and <span class='texttt'>T</span> occurs exactly once in <span class='texttt'>Types...</span><a class='hidden_link' href='#variant.mod-6.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:emplace,variant__'></a></span><span class='indexparent'><a class='index' id='lib:variant,emplace__'></a></span><code class='itemdecl'>template &lt;size_t I, class... Args&gt;
  variant_alternative_t&lt;I, variant&lt;Types...&gt;&gt;&amp; emplace(Args&amp;&amp;... args);
</code><div class='itemdescr'></div><div class='para' id='variant.mod-7'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4811'>#</a></div><div id='variant.mod-7.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
<span class='texttt'>I &lt; sizeof...(Types)</span><a class='hidden_link' href='#variant.mod-7.sentence-1'>.</a></div></div></div><div class='para' id='variant.mod-8'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4815'>#</a></div><div id='variant.mod-8.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Destroys the currently contained value if <span class='texttt'>valueless_&shy;by_&shy;exception()</span>
is <span class='texttt'>false</span><a class='hidden_link' href='#variant.mod-8.sentence-1'>.</a></div> <div id='variant.mod-8.sentence-2' class='sentence'>Then initializes the contained value as if direct-non-list-initializing
a value of type <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_I"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>
with the arguments <span class='texttt'>std&#x200b;::&#x200b;forward&lt;Args&gt;(args)...</span><a class='hidden_link' href='#variant.mod-8.sentence-2'>.</a></div></div></div><div class='para' id='variant.mod-9'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4823'>#</a></div><div id='variant.mod-9.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> 
<span class='texttt'>index()</span> is <span class='texttt'>I</span><a class='hidden_link' href='#variant.mod-9.sentence-1'>.</a></div></div></div><div class='para' id='variant.mod-10'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4827'>#</a></div><div id='variant.mod-10.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
A reference to the new contained value<a class='hidden_link' href='#variant.mod-10.sentence-1'>.</a></div></div></div><div class='para' id='variant.mod-11'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4831'>#</a></div><div id='variant.mod-11.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exception thrown during the initialization of the contained value<a class='hidden_link' href='#variant.mod-11.sentence-1'>.</a></div></div></div><div class='para' id='variant.mod-12'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4835'>#</a></div><div id='variant.mod-12.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall not participate in overload resolution unless
<span class='texttt'>is_&shy;constructible_&shy;v&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_I"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>, Args...&gt;</span> is <span class='texttt'>true</span><a class='hidden_link' href='#variant.mod-12.sentence-1'>.</a></div> <div id='variant.mod-12.sentence-2' class='sentence'>If an exception is thrown during the initialization of the contained value,
the <span class='texttt'>variant</span> might not hold a value<a class='hidden_link' href='#variant.mod-12.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:emplace,variant___'></a></span><span class='indexparent'><a class='index' id='lib:variant,emplace___'></a></span><code class='itemdecl'>template &lt;size_t I, class U, class... Args&gt;
  variant_alternative_t&lt;I, variant&lt;Types...&gt;&gt;&amp; emplace(initializer_list&lt;U&gt; il, Args&amp;&amp;... args);
</code><div class='itemdescr'></div><div class='para' id='variant.mod-13'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4850'>#</a></div><div id='variant.mod-13.sentence-1' class='sentence'><span class='textit'>Requires:</span> 
<span class='texttt'>I &lt; sizeof...(Types)</span><a class='hidden_link' href='#variant.mod-13.sentence-1'>.</a></div></div></div><div class='para' id='variant.mod-14'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4854'>#</a></div><div id='variant.mod-14.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Destroys the currently contained value if <span class='texttt'>valueless_&shy;by_&shy;exception()</span>
is <span class='texttt'>false</span><a class='hidden_link' href='#variant.mod-14.sentence-1'>.</a></div> <div id='variant.mod-14.sentence-2' class='sentence'>Then initializes the contained value as if direct-non-list-initializing
a value of type <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_I"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>
with the arguments <span class='texttt'>il, std&#x200b;::&#x200b;forward&lt;Args&gt;(args)...</span><a class='hidden_link' href='#variant.mod-14.sentence-2'>.</a></div></div></div><div class='para' id='variant.mod-15'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4862'>#</a></div><div id='variant.mod-15.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> 
<span class='texttt'>index()</span> is <span class='texttt'>I</span><a class='hidden_link' href='#variant.mod-15.sentence-1'>.</a></div></div></div><div class='para' id='variant.mod-16'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4866'>#</a></div><div id='variant.mod-16.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
A reference to the new contained value<a class='hidden_link' href='#variant.mod-16.sentence-1'>.</a></div></div></div><div class='para' id='variant.mod-17'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4870'>#</a></div><div id='variant.mod-17.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Any exception thrown during the initialization of the contained value<a class='hidden_link' href='#variant.mod-17.sentence-1'>.</a></div></div></div><div class='para' id='variant.mod-18'><div class='marginalizedparent'><a class='marginalized' href='#variant.mod-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4874'>#</a></div><div id='variant.mod-18.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall not participate in overload resolution unless
<span class='texttt'>is_&shy;constructible_&shy;v&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_I"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span></span></span></span></span></span>, initializer_&shy;list&lt;U&gt;&amp;, Args...&gt;</span> is <span class='texttt'>true</span><a class='hidden_link' href='#variant.mod-18.sentence-1'>.</a></div> <div id='variant.mod-18.sentence-2' class='sentence'>If an exception is thrown during the initialization of the contained value,
the <span class='texttt'>variant</span> might not hold a value<a class='hidden_link' href='#variant.mod-18.sentence-2'>.</a></div></div></div></div><div id='variant.status' class='section'><h4 ><a class='secnum' href='#variant.status' style='min-width:118pt'>23.7.3.5</a> Value status <a class='abbr_ref' href='variant.status'>[variant.status]</a></h4><span class='indexparent'><a class='index' id='lib:valueless_by_exception,variant'></a></span><span class='indexparent'><a class='index' id='lib:variant,valueless_by_exception'></a></span><code class='itemdecl'>constexpr bool valueless_by_exception() const noexcept;
</code><div class='itemdescr'></div><div class='para' id='variant.status-1'><div class='marginalizedparent'><a class='marginalized' href='#variant.status-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4890'>#</a></div><div id='variant.status-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Returns <span class='texttt'>false</span> if and only if the <span class='texttt'>variant</span> holds a value<a class='hidden_link' href='#variant.status-1.sentence-1'>.</a></div></div></div><div class='para' id='variant.status-2'><div class='marginalizedparent'><a class='marginalized' href='#variant.status-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4894'>#</a></div><div id='variant.status-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#variant.status-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='variant.status-2.sentence-1' class='sentence'>A <span class='texttt'>variant</span> might not hold a value if an exception is thrown during a
type-changing assignment or emplacement<a class='hidden_link' href='#variant.status-2.sentence-1'>.</a></div> <div id='variant.status-2.sentence-2' class='sentence'>The latter means that even a
<span class='texttt'>variant&lt;float, int&gt;</span> can become <span class='texttt'>valueless_&shy;by_&shy;exception()</span>, for
instance by
<pre class='codeblock'>
struct S { operator int() { throw 42; }};
variant&lt;float, int&gt; v{12.f};
v.emplace&lt;1&gt;(S());</pre></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><span class='indexparent'><a class='index' id='lib:index,variant'></a></span><span class='indexparent'><a class='index' id='lib:variant,index'></a></span><code class='itemdecl'>constexpr size_t index() const noexcept;
</code><div class='itemdescr'></div><div class='para' id='variant.status-3'><div class='marginalizedparent'><a class='marginalized' href='#variant.status-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4914'>#</a></div><div id='variant.status-3.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
If <span class='texttt'>valueless_&shy;by_&shy;exception()</span> is <span class='texttt'>true</span>, returns <span class='texttt'>variant_&shy;npos</span><a class='hidden_link' href='#variant.status-3.sentence-1'>.</a></div> <div id='variant.status-3.sentence-2' class='sentence'>Otherwise, returns the zero-based index of the alternative of the contained value<a class='hidden_link' href='#variant.status-3.sentence-2'>.</a></div></div></div></div><div id='variant.swap' class='section'><h4 ><a class='secnum' href='#variant.swap' style='min-width:118pt'>23.7.3.6</a> Swap <a class='abbr_ref' href='variant.swap'>[variant.swap]</a></h4><span class='indexparent'><a class='index' id='lib:swap,variant'></a></span><span class='indexparent'><a class='index' id='lib:variant,swap'></a></span><code class='itemdecl'>void swap(variant&amp; rhs) noexcept(<span class='textit'><span class='texttt'>see below</span></span>);
</code><div class='itemdescr'></div><div class='para' id='variant.swap-1'><div class='marginalizedparent'><a class='marginalized' href='#variant.swap-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4928'>#</a></div><div id='variant.swap-1.sentence-1' class='sentence'><span class='textit'>Requires:</span> Lvalues of type <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> shall be swappable (<a href='swappable.requirements'>[swappable.requirements]</a>) and
<span class='texttt'>is_&shy;move_&shy;constructible_&shy;v&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span> shall be <span class='texttt'>true</span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#variant.swap-1.sentence-1'>.</a></div></div></div><div class='para' id='variant.swap-2'><div class='marginalizedparent'><a class='marginalized' href='#variant.swap-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4932'>#</a></div><div id='variant.swap-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
<ul class='itemize'><li id='variant.swap-2.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.swap-2.1'>(2.1)</a></div><div id='variant.swap-2.1.sentence-1' class='sentence'>if <span class='texttt'>valueless_&shy;by_&shy;exception() &amp;&amp; rhs.valueless_&shy;by_&shy;exception()</span> no effect<a class='hidden_link' href='#variant.swap-2.1.sentence-1'>.</a></div> <div id='variant.swap-2.1.sentence-2' class='sentence'>Otherwise,</div></li><li id='variant.swap-2.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.swap-2.2'>(2.2)</a></div><div id='variant.swap-2.2.sentence-1' class='sentence'>if <span class='texttt'>index() == rhs.index()</span>, calls <span class='texttt'>swap(get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(*this), get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(rhs))</span> where <span class='math'><span class='mathalpha'>i</span></span> is <span class='texttt'>index()</span><a class='hidden_link' href='#variant.swap-2.2.sentence-1'>.</a></div> <div id='variant.swap-2.2.sentence-2' class='sentence'>Otherwise,</div></li><li id='variant.swap-2.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#variant.swap-2.3'>(2.3)</a></div><div id='variant.swap-2.3.sentence-1' class='sentence'>exchanges values of <span class='texttt'>rhs</span> and <span class='texttt'>*this</span><a class='hidden_link' href='#variant.swap-2.3.sentence-1'>.</a></div></li></ul></div></div></div><div class='para' id='variant.swap-3'><div class='marginalizedparent'><a class='marginalized' href='#variant.swap-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4943'>#</a></div><div id='variant.swap-3.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
If <span class='texttt'>index() == rhs.index()</span>,
any exception thrown by <span class='texttt'>swap(get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(*this), get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(rhs))</span>
with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>index()</span><a class='hidden_link' href='#variant.swap-3.sentence-1'>.</a></div> <div id='variant.swap-3.sentence-2' class='sentence'>Otherwise, any exception thrown by the move constructor
of <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> or <span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>
with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>index()</span> and <span class='math'><span class='mathalpha'>j</span></span> being <span class='texttt'>rhs.index()</span><a class='hidden_link' href='#variant.swap-3.sentence-2'>.</a></div></div></div><div class='para' id='variant.swap-4'><div class='marginalizedparent'><a class='marginalized' href='#variant.swap-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/32fffbe4796ab0852f7bdf66b6d48d2e2b5e61ea/source/utilities.tex#L4952'>#</a></div><div id='variant.swap-4.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
If an exception is thrown during the call to function <span class='texttt'>swap(get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(*this), get&lt;<span class='math'><span class='mathalpha'>i</span></span>&gt;(rhs))</span>,
the states of the contained values of <span class='texttt'>*this</span> and of <span class='texttt'>rhs</span> are
determined by the exception safety guarantee of <span class='texttt'>swap</span> for lvalues of
<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> with <span class='math'><span class='mathalpha'>i</span></span> being <span class='texttt'>index()</span><a class='hidden_link' href='#variant.swap-4.sentence-1'>.</a></div> <div id='variant.swap-4.sentence-2' class='sentence'>If an exception is thrown during the exchange of the values of <span class='texttt'>*this</span>
and <span class='texttt'>rhs</span>, the states of the values of <span class='texttt'>*this</span> and of <span class='texttt'>rhs</span>
are determined by the exception safety guarantee of <span class='texttt'>variant</span>'s move constructor<a class='hidden_link' href='#variant.swap-4.sentence-2'>.</a></div> <div id='variant.swap-4.sentence-3' class='sentence'>The expression inside <span class='texttt'>noexcept</span> is equivalent to the logical AND of
<span class='texttt'>is_&shy;nothrow_&shy;move_&shy;constructible_&shy;v&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt; &amp;&amp; is_&shy;nothrow_&shy;swappable_&shy;v&lt;<span class="mjx-chtml"><span class="mjx-math" aria-label="\texttt{T}_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>&gt;</span> for all <span class='math'><span class='mathalpha'>i</span></span><a class='hidden_link' href='#variant.swap-4.sentence-3'>.</a></div></div></div></div></div></body></html>