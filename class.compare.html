<!DOCTYPE html><html lang='en'><head><title>[class.compare]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>11</a> Classes <a class='abbr_ref' href='./#class'>[class]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>11.11</a> Comparisons <a class='abbr_ref'>[class.compare]</a></h2><div id='default' class='section'><h3 ><a class='secnum' href='#default' style='min-width:103pt'>11.11.1</a> Defaulted comparison operator functions <a class='abbr_ref' href='class.compare.default'>[class.compare.default]</a></h3><div class='para' id='default-1'><div class='marginalizedparent'><a class='marginalized' href='#default-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c5672447cc6aa4d7f688f0b824d538e2dc00d25/source/classes.tex#L6659'>#</a></div><div id='default-1.sentence-1' class='sentence'>A defaulted comparison operator function (<a href='over.binary'>[over.binary]</a>)
for some class <span class='texttt'>C</span>
shall be a non-template function
declared in the <a class='grammarterm' href='class.mem#nt:member-specification'>member-specification</a> of <span class='texttt'>C</span>
that is
<ul class='itemize'><li id='default-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#default-1.1'>(1.1)</a></div>a non-static const member of <span class='texttt'>C</span> having
one parameter of type <span class='texttt'><span class='keyword'>const</span> C<span class='operator'>&amp;</span></span>, or</li><li id='default-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#default-1.2'>(1.2)</a></div>a friend of <span class='texttt'>C</span> having either
two parameters of type <span class='texttt'><span class='keyword'>const</span> C<span class='operator'>&amp;</span></span> or
two parameters of type <span class='texttt'>C</span><a class='hidden_link' href='#default-1.sentence-1'>.</a></li></ul></div></div><div class='para' id='default-2'><div class='marginalizedparent'><a class='marginalized' href='#default-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c5672447cc6aa4d7f688f0b824d538e2dc00d25/source/classes.tex#L6676'>#</a></div><div id='default-2.sentence-1' class='sentence'>A defaulted comparison operator function for class <span class='texttt'>C</span>
is defined as deleted if
any non-static data member of <span class='texttt'>C</span> is of reference type or
<span class='texttt'>C</span> is a union-like class (<a href='class.union.anon'>[class.union.anon]</a>)<a class='hidden_link' href='#default-2.sentence-1'>.</a></div></div><div class='para' id='default-3'><div class='marginalizedparent'><a class='marginalized' href='#default-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c5672447cc6aa4d7f688f0b824d538e2dc00d25/source/classes.tex#L6682'>#</a></div><div id='default-3.sentence-1' class='sentence'>If the class definition
does not explicitly declare an <span class='texttt'><span class='operator'>=</span><span class='operator'>=</span></span> operator function,
but declares a defaulted three-way comparison operator function,
an <span class='texttt'><span class='operator'>=</span><span class='operator'>=</span></span> operator function is declared implicitly
with the same access as the three-way comparison operator function<a class='hidden_link' href='#default-3.sentence-1'>.</a></div> <div id='default-3.sentence-2' class='sentence'>The implicitly-declared <span class='texttt'><span class='operator'>=</span><span class='operator'>=</span></span> operator for a class <span class='texttt'>X</span>
is an inline member and is defined as defaulted in the definition of <span class='texttt'>X</span><a class='hidden_link' href='#default-3.sentence-2'>.</a></div> <div id='default-3.sentence-3' class='sentence'>If the three-way comparison operator function
is declared as a non-static const member,
the implicitly-declared <span class='texttt'><span class='operator'>=</span><span class='operator'>=</span></span> operator function is a member of the form
<pre class='codeblock'>
<span class='keyword'>bool</span> X<span class='operator'>::</span><span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
</pre></div> <div id='default-3.sentence-5' class='sentence'>
Otherwise, the implicitly-declared <span class='texttt'><span class='operator'>=</span><span class='operator'>=</span></span> operator function is of the form
<pre class='codeblock'>
<span class='keyword'>friend</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span>, <span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
</pre>
<div id='default-3.note-1' class='note'>[&nbsp;<a class='note_link' href='#default-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> Such a friend function is visible
to argument-dependent lookup (<a href='basic.lookup.argdep'>[basic.lookup.argdep]</a>)
only (<a href='namespace.memdef'>[namespace.memdef]</a>). —&nbsp;<i>end note</i></div>&nbsp;]</div> 
The operator is a <span class='texttt'><span class='keyword'>constexpr</span></span> function if its definition
would satisfy the requirements for a <span class='texttt'><span class='keyword'>constexpr</span></span> function<a class='hidden_link' href='#default-3.sentence-5'>.</a></div> <div id='default-3.note-2' class='note'>[&nbsp;<a class='note_link' href='#default-3.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='default-3.sentence-6' class='sentence'>The <span class='texttt'><span class='operator'>=</span><span class='operator'>=</span></span> operator function is declared implicitly even if
the defaulted three-way comparison operator function is defined as deleted<a class='hidden_link' href='#default-3.sentence-6'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='default-4'><div class='marginalizedparent'><a class='marginalized' href='#default-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c5672447cc6aa4d7f688f0b824d538e2dc00d25/source/classes.tex#L6712'>#</a></div><div id='default-4.sentence-1' class='sentence'>The direct base class subobjects of <span class='texttt'>C</span>,
in the order of their declaration in the <a class='grammarterm' href='class.derived#nt:base-specifier-list'>base-specifier-list</a> of <span class='texttt'>C</span>,
followed by the non-static data members of <span class='texttt'>C</span>,
in the order of their declaration in the <a class='grammarterm' href='class.mem#nt:member-specification'>member-specification</a> of <span class='texttt'>C</span>,
form a list of subobjects<a class='hidden_link' href='#default-4.sentence-1'>.</a></div> <div id='default-4.sentence-2' class='sentence'>In that list, any subobject of array type is recursively expanded
to the sequence of its elements, in the order of increasing subscript<a class='hidden_link' href='#default-4.sentence-2'>.</a></div> <div id='default-4.sentence-3' class='sentence'>Let <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> be an lvalue denoting the <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> element
in the expanded list of subobjects for an object <span class='texttt'>x</span>
(of length <span class='math'><span class='mathalpha'>n</span></span>),
where <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is
formed by a sequence of
derived-to-base conversions (<a href='over.best.ics'>[over.best.ics]</a>),
class member access expressions (<a href='expr.ref'>[expr.ref]</a>), and
array subscript expressions (<a href='expr.sub'>[expr.sub]</a>) applied to <span class='texttt'>x</span><a class='hidden_link' href='#default-4.sentence-3'>.</a></div> <div id='default-4.sentence-4' class='sentence'>It is unspecified whether virtual base class subobjects
appear more than once in the expanded list of subobjects<a class='hidden_link' href='#default-4.sentence-4'>.</a></div></div></div><div id='class.eq' class='section'><h3 ><a class='secnum' href='#class.eq' style='min-width:103pt'>11.11.2</a> Equality operators <a class='abbr_ref' href='class.eq'>[class.eq]</a></h3><span class='indexparent'><a class='index' id=':operator,equality,defaulted'></a></span><span class='indexparent'><a class='index' id=':operator,inequality,defaulted'></a></span><div class='para' id='class.eq-1'><div class='marginalizedparent'><a class='marginalized' href='#class.eq-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c5672447cc6aa4d7f688f0b824d538e2dc00d25/source/classes.tex#L6735'>#</a></div><div id='class.eq-1.sentence-1' class='sentence'>A defaulted equality operator function (<a href='over.binary'>[over.binary]</a>)
shall have a declared return type <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#class.eq-1.sentence-1'>.</a></div></div><div class='para' id='class.eq-2'><div class='marginalizedparent'><a class='marginalized' href='#class.eq-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c5672447cc6aa4d7f688f0b824d538e2dc00d25/source/classes.tex#L6739'>#</a></div><div id='class.eq-2.sentence-1' class='sentence'>A defaulted <span class='texttt'><span class='operator'>=</span><span class='operator'>=</span></span> operator function for a class <span class='texttt'>C</span>
is defined as deleted
unless, for each <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> in the expanded list of subobjects
for an object <span class='texttt'>x</span> of type <span class='texttt'>C</span>,
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char" style="padding-top: 0.225em; padding-bottom: 0.004em;"><span class="mjx-charbox MJXc-TeX-type-R" style="padding-bottom: 0.233em; margin-right: 0.275em;"> </span><span class="mjx-charbox MJXc-TeX-type-R" style="padding-bottom: 0.233em; margin-right: 0.275em;"><span class='operator'>=</span><span class='operator'>=</span> </span></span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is a valid expression and
contextually convertible to <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#class.eq-2.sentence-1'>.</a></div></div><div class='para' id='class.eq-3'><div class='marginalizedparent'><a class='marginalized' href='#class.eq-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c5672447cc6aa4d7f688f0b824d538e2dc00d25/source/classes.tex#L6747'>#</a></div><div id='class.eq-3.sentence-1' class='sentence'>The return value <span class='texttt'>V</span> of a defaulted <span class='texttt'><span class='operator'>=</span><span class='operator'>=</span></span> operator function
with parameters <span class='texttt'>x</span> and <span class='texttt'>y</span> is determined
by comparing corresponding elements <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> and <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.519em;">y</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.408em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>
in the expanded lists of subobjects for <span class='texttt'>x</span> and <span class='texttt'>y</span>
(in increasing index order)
until the first index <span class='math'><span class='mathalpha'>i</span></span>
where <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char" style="padding-top: 0.225em; padding-bottom: 0.004em;"><span class="mjx-charbox MJXc-TeX-type-R" style="padding-bottom: 0.233em; margin-right: 0.275em;"> </span><span class="mjx-charbox MJXc-TeX-type-R" style="padding-bottom: 0.233em; margin-right: 0.275em;"><span class='operator'>=</span><span class='operator'>=</span> </span></span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.519em;">y</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.408em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> yields a result value which,
when contextually converted to <span class='texttt'><span class='keyword'>bool</span></span>, yields <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#class.eq-3.sentence-1'>.</a></div> <div id='class.eq-3.sentence-2' class='sentence'>If no such index exists, <span class='texttt'>V</span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#class.eq-3.sentence-2'>.</a></div> <div id='class.eq-3.sentence-3' class='sentence'>Otherwise, <span class='texttt'>V</span> is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#class.eq-3.sentence-3'>.</a></div></div><div class='para' id='class.eq-4'><div class='marginalizedparent'><a class='marginalized' href='#class.eq-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c5672447cc6aa4d7f688f0b824d538e2dc00d25/source/classes.tex#L6759'>#</a></div><div id='class.eq-4.sentence-1' class='sentence'>A defaulted <span class='texttt'><span class='operator'>!</span><span class='operator'>=</span></span> operator function for a class <span class='texttt'>C</span>
with parameters <span class='texttt'>x</span> and <span class='texttt'>y</span> is defined as deleted if
<ul class='itemize'><li id='class.eq-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.eq-4.1'>(4.1)</a></div>overload resolution (<a href='over.match'>[over.match]</a>), as applied to <span class='texttt'>x <span class='operator'>=</span><span class='operator'>=</span> y</span>,
  does not result in a usable function, or</li><li id='class.eq-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.eq-4.2'>(4.2)</a></div><span class='texttt'>x <span class='operator'>=</span><span class='operator'>=</span> y</span> is not a prvalue of type <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#class.eq-4.sentence-1'>.</a></li></ul></div> <div id='class.eq-4.sentence-2' class='sentence'>
Otherwise, the operator function yields <span class='texttt'><span class='operator'>!</span><span class='parenthesis'>(</span>x <span class='operator'>=</span><span class='operator'>=</span> y<span class='parenthesis'>)</span></span><a class='hidden_link' href='#class.eq-4.sentence-2'>.</a></div></div><div class='para' id='class.eq-5'><div class='marginalizedparent'><a class='marginalized' href='#class.eq-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c5672447cc6aa4d7f688f0b824d538e2dc00d25/source/classes.tex#L6771'>#</a></div><div id='class.eq-5.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.eq-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> D <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> i;
  <span class='keyword'>friend</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> D<span class='operator'>&amp;</span> x, <span class='keyword'>const</span> D<span class='operator'>&amp;</span> y<span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>default</span>;
                                                <span class='comment'>// OK, returns <span class='tcode_in_codeblock'>x.i == y.i</span></span>
  <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>!</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> D<span class='operator'>&amp;</span> z<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>=</span> <span class='keyword'>default</span>;  <span class='comment'>// OK, returns <span class='tcode_in_codeblock'>!(*this == z)</span></span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div></div><div id='class.spaceship' class='section'><h3 ><a class='secnum' href='#class.spaceship' style='min-width:103pt'>11.11.3</a> Three-way comparison <a class='abbr_ref' href='class.spaceship'>[class.spaceship]</a></h3><span class='indexparent'><a class='index' id=':operator,three-way_comparison,defaulted'></a></span><div class='para' id='class.spaceship-1'><div class='marginalizedparent'><a class='marginalized' href='#class.spaceship-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c5672447cc6aa4d7f688f0b824d538e2dc00d25/source/classes.tex#L6786'>#</a></div><div id='class.spaceship-1.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:three-way_comparison,synthesized' id='def:three-way_comparison,synthesized'><i >synthesized three-way comparison</i></a>
of type <span class='texttt'>R</span> (<a href='cmp.categories'>[cmp.categories]</a>)
of glvalues <span class='texttt'>a</span> and <span class='texttt'>b</span> of the same type
is defined as follows:</div><ul class='itemize'><li id='class.spaceship-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.spaceship-1.1'>(1.1)</a></div><div id='class.spaceship-1.1.sentence-1' class='sentence'>If overload resolution for <span class='texttt'>a <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> b</span>
results in a usable function (<a href='over.match'>[over.match]</a>),
<span class='texttt'><span class='keyword'>static_&shy;cast</span><span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>a <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> b<span class='parenthesis'>)</span></span><a class='hidden_link' href='#class.spaceship-1.1.sentence-1'>.</a></div></li><li id='class.spaceship-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.spaceship-1.2'>(1.2)</a></div><div id='class.spaceship-1.2.sentence-1' class='sentence'>Otherwise, if overload resolution for <span class='texttt'>a <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> b</span>
finds at least one viable candidate,
the synthesized three-way comparison is not defined<a class='hidden_link' href='#class.spaceship-1.2.sentence-1'>.</a></div></li><li id='class.spaceship-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.spaceship-1.3'>(1.3)</a></div><div id='class.spaceship-1.3.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>R</span> is <span class='texttt'>strong_&shy;ordering</span>, then
<pre class='codeblock'>
a <span class='operator'>=</span><span class='operator'>=</span> b <span class='operator'>?</span> strong_ordering<span class='operator'>::</span>equal <span class='operator'>:</span>
a <span class='anglebracket'>&lt;</span> b  <span class='operator'>?</span> strong_ordering<span class='operator'>::</span>less <span class='operator'>:</span>
         strong_ordering<span class='operator'>::</span>greater
</pre></div></li><li id='class.spaceship-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.spaceship-1.4'>(1.4)</a></div><div id='class.spaceship-1.4.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>R</span> is <span class='texttt'>weak_&shy;ordering</span>, then
<pre class='codeblock'>
a <span class='operator'>=</span><span class='operator'>=</span> b <span class='operator'>?</span> weak_ordering<span class='operator'>::</span>equivalent <span class='operator'>:</span>
a <span class='anglebracket'>&lt;</span> b  <span class='operator'>?</span> weak_ordering<span class='operator'>::</span>less <span class='operator'>:</span>
         weak_ordering<span class='operator'>::</span>greater
</pre></div></li><li id='class.spaceship-1.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.spaceship-1.5'>(1.5)</a></div><div id='class.spaceship-1.5.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>R</span> is <span class='texttt'>partial_&shy;ordering</span>, then
<pre class='codeblock'>
a <span class='operator'>=</span><span class='operator'>=</span> b <span class='operator'>?</span> partial_ordering<span class='operator'>::</span>equivalent <span class='operator'>:</span>
a <span class='anglebracket'>&lt;</span> b  <span class='operator'>?</span> partial_ordering<span class='operator'>::</span>less <span class='operator'>:</span>
b <span class='anglebracket'>&lt;</span> a  <span class='operator'>?</span> partial_ordering<span class='operator'>::</span>greater <span class='operator'>:</span>
         partial_ordering<span class='operator'>::</span>unordered
</pre></div></li><li id='class.spaceship-1.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.spaceship-1.6'>(1.6)</a></div><div id='class.spaceship-1.6.sentence-1' class='sentence'>Otherwise, the synthesized three-way comparison is not defined<a class='hidden_link' href='#class.spaceship-1.6.sentence-1'>.</a></div></li></ul> <div id='class.spaceship-1.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.spaceship-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.spaceship-1.sentence-2' class='sentence'>A synthesized three-way comparison may be ill-formed
if overload resolution finds usable functions
that do not otherwise meet the requirements implied by the defined expression<a class='hidden_link' href='#class.spaceship-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.spaceship-2'><div class='marginalizedparent'><a class='marginalized' href='#class.spaceship-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c5672447cc6aa4d7f688f0b824d538e2dc00d25/source/classes.tex#L6837'>#</a></div><div id='class.spaceship-2.sentence-1' class='sentence'>Let <span class='texttt'>R</span> be the declared return type of
a defaulted three-way comparison operator function<a class='hidden_link' href='#class.spaceship-2.sentence-1'>.</a></div> <div id='class.spaceship-2.sentence-2' class='sentence'>Given an expanded list of subobjects for an object <span class='texttt'>x</span> of type <span class='texttt'>C</span>,
let <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">R</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> be
the type of the expression <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> <span class='texttt'><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span></span> <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>, or
<span class='texttt'><span class='keyword'>void</span></span> if overload resolution applied to that expression
does not find a usable function<a class='hidden_link' href='#class.spaceship-2.sentence-2'>.</a></div> <ul class='itemize'><li id='class.spaceship-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.spaceship-2.1'>(2.1)</a></div><div id='class.spaceship-2.1.sentence-1' class='sentence'>If <span class='texttt'>R</span> is <span class='texttt'><span class='keyword'>auto</span></span>,
then the return type is deduced as
the common comparison type (see below) of
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">R</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span>, <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">R</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>, <span class='math'>&hellip;</span>, <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">R</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span><a class='hidden_link' href='#class.spaceship-2.1.sentence-1'>.</a></div> <div id='class.spaceship-2.1.sentence-2' class='sentence'>If the return type is deduced as <span class='texttt'><span class='keyword'>void</span></span>,
the operator function is defined as deleted<a class='hidden_link' href='#class.spaceship-2.1.sentence-2'>.</a></div></li><li id='class.spaceship-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.spaceship-2.2'>(2.2)</a></div><div id='class.spaceship-2.2.sentence-1' class='sentence'>Otherwise, if the synthesized three-way comparison of type <span class='texttt'>R</span>
between any objects <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> and <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>
is not defined or would be ill-formed,
the operator function is defined as deleted<a class='hidden_link' href='#class.spaceship-2.2.sentence-1'>.</a></div></li></ul></div><div class='para' id='class.spaceship-3'><div class='marginalizedparent'><a class='marginalized' href='#class.spaceship-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c5672447cc6aa4d7f688f0b824d538e2dc00d25/source/classes.tex#L6860'>#</a></div><div id='class.spaceship-3.sentence-1' class='sentence'>The return value <span class='texttt'>V</span> of type <span class='texttt'>R</span>
of the defaulted three-way comparison operator function
with parameters <span class='texttt'>x</span> and <span class='texttt'>y</span> of the same type
is determined by comparing corresponding elements
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> and <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.519em;">y</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.408em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>
in the expanded lists of subobjects for <span class='texttt'>x</span> and <span class='texttt'>y</span>
(in increasing index order)
until the first index <span class='math'><span class='mathalpha'>i</span></span> where
the synthesized three-way comparison of type <span class='texttt'>R</span>
between <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> and <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.519em;">y</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.408em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>
yields a result value <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> where <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.298em;"><span class='operator'>!</span><span class='operator'>=</span></span></span></span></span></span></span><span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span>,
contextually converted to <span class='texttt'><span class='keyword'>bool</span></span>, yields <span class='texttt'><span class='literal'>true</span></span>;
<span class='texttt'>V</span> is <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><a class='hidden_link' href='#class.spaceship-3.sentence-1'>.</a></div> <div id='class.spaceship-3.sentence-2' class='sentence'>If no such index exists, <span class='texttt'>V</span> is
<span class='texttt'><span class='keyword'>static_&shy;cast</span><span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>strong_&shy;ordering<span class='operator'>&#x200b;::&#x200b;</span>equal<span class='parenthesis'>)</span></span><a class='hidden_link' href='#class.spaceship-3.sentence-2'>.</a></div></div><div class='para' id='class.spaceship-4'><div class='marginalizedparent'><a class='marginalized' href='#class.spaceship-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c5672447cc6aa4d7f688f0b824d538e2dc00d25/source/classes.tex#L6877'>#</a></div><div id='class.spaceship-4.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:common_comparison_type' id='def:common_comparison_type'><i >common comparison type</i></a> <span class='texttt'>U</span>
of a possibly-empty list of <span class='math'><span class='mathalpha'>n</span></span> types
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span>, <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>, <span class='math'>&hellip;</span>, <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span>
is defined as follows:</div><ul class='itemize'><li id='class.spaceship-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.spaceship-4.1'>(4.1)</a></div><div id='class.spaceship-4.1.sentence-1' class='sentence'>If any <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>
is not a comparison category type (<a href='cmp.categories'>[cmp.categories]</a>),
<span class='texttt'>U</span> is <span class='texttt'><span class='keyword'>void</span></span><a class='hidden_link' href='#class.spaceship-4.1.sentence-1'>.</a></div></li><li id='class.spaceship-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.spaceship-4.2'>(4.2)</a></div><div id='class.spaceship-4.2.sentence-1' class='sentence'>Otherwise, if at least one <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>partial_&shy;ordering</span>,
<span class='texttt'>U</span> is <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>partial_&shy;ordering</span> (<a href='cmp.partialord'>[cmp.partialord]</a>)<a class='hidden_link' href='#class.spaceship-4.2.sentence-1'>.</a></div></li><li id='class.spaceship-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.spaceship-4.3'>(4.3)</a></div><div id='class.spaceship-4.3.sentence-1' class='sentence'>Otherwise, if at least one <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>weak_&shy;ordering</span>,
<span class='texttt'>U</span> is <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>weak_&shy;ordering</span> (<a href='cmp.weakord'>[cmp.weakord]</a>)<a class='hidden_link' href='#class.spaceship-4.3.sentence-1'>.</a></div></li><li id='class.spaceship-4.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.spaceship-4.4'>(4.4)</a></div><div id='class.spaceship-4.4.sentence-1' class='sentence'>Otherwise, <span class='texttt'>U</span> is <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>strong_&shy;ordering</span> (<a href='cmp.strongord'>[cmp.strongord]</a>)<a class='hidden_link' href='#class.spaceship-4.4.sentence-1'>.</a></div> <div id='class.spaceship-4.4.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.spaceship-4.4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.spaceship-4.4.sentence-2' class='sentence'>In particular, this is the result when <span class='math'><span class='mathalpha'>n</span></span> is 0<a class='hidden_link' href='#class.spaceship-4.4.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </li></ul></div></div><div id='class.rel' class='section'><h3 ><a class='secnum' href='#class.rel' style='min-width:103pt'>11.11.4</a> Relational operators <a class='abbr_ref' href='class.rel'>[class.rel]</a></h3><span class='indexparent'><a class='index' id=':operator,relational,defaulted'></a></span><div class='para' id='class.rel-1'><div class='marginalizedparent'><a class='marginalized' href='#class.rel-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c5672447cc6aa4d7f688f0b824d538e2dc00d25/source/classes.tex#L6907'>#</a></div><div id='class.rel-1.sentence-1' class='sentence'>A defaulted relational operator function (<a href='over.binary'>[over.binary]</a>)
for some operator <span class='texttt'>@</span>
shall have a declared return type <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#class.rel-1.sentence-1'>.</a></div></div><div class='para' id='class.rel-2'><div class='marginalizedparent'><a class='marginalized' href='#class.rel-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c5672447cc6aa4d7f688f0b824d538e2dc00d25/source/classes.tex#L6912'>#</a></div><div id='class.rel-2.sentence-1' class='sentence'>The operator function with parameters <span class='texttt'>x</span> and <span class='texttt'>y</span>
is defined as deleted if
<ul class='itemize'><li id='class.rel-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.rel-2.1'>(2.1)</a></div>overload resolution (<a href='over.match'>[over.match]</a>),
as applied to <span class='texttt'>x <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> y</span>,
does not result in a usable function, or</li><li id='class.rel-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.rel-2.2'>(2.2)</a></div>the operator <span class='texttt'>@</span>
cannot be applied to the return type of <span class='texttt'>x <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> y</span><a class='hidden_link' href='#class.rel-2.sentence-1'>.</a></li></ul></div><div id='class.rel-2.sentence-2' class='sentence'>Otherwise, the operator function yields
<span class='texttt'>x <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> y @ <span class='literal'>0</span></span><a class='hidden_link' href='#class.rel-2.sentence-2'>.</a></div></div><div class='para' id='class.rel-3'><div class='marginalizedparent'><a class='marginalized' href='#class.rel-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/1c5672447cc6aa4d7f688f0b824d538e2dc00d25/source/classes.tex#L6929'>#</a></div><div id='class.rel-3.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.rel-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> HasNoLessThan <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> HasNoLessThan <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> C<span class='operator'>&amp;</span>, <span class='keyword'>const</span> C<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> C<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>=</span> <span class='keyword'>default</span>;             <span class='comment'>// OK, function is deleted</span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div></div></div></body></html>