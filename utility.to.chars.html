<!DOCTYPE html><html lang='en'><head><title>[utility.to.chars]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>23</a> General utilities library <a class='abbr_ref' href='./#utilities'>[utilities]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>23.2</a> Utility components <a class='abbr_ref' href='utility#to.chars'>[utility]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>23.2.8</a> Primitive numeric output conversion <a class='abbr_ref'>[utility.to.chars]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ef429c6b5066a9ee09566757ca91efde2254d8d4/source/utilities.tex#L552'>#</a></div><p >All functions named <span class='texttt'>to_&shy;chars</span>
convert <span class='texttt'>value</span> into a character string
by successively filling the range
<span class='texttt'>[first, last)</span>,
where <span class='texttt'>[first, last)</span> is required to be a valid range.
If the member <span class='texttt'>ec</span>
of the return value
is such that the value,
when converted to <span class='texttt'>bool</span>,
is <span class='texttt'>false</span>,
the conversion was successful
and the member <span class='texttt'>ptr</span>
is the one-past-the-end pointer of the characters written.
Otherwise,
the member <span class='texttt'>ec</span> has the value <span class='texttt'>errc&#x200b;::&#x200b;value_&shy;too_&shy;large</span>,
the member <span class='texttt'>ptr</span> has the value <span class='texttt'>last</span>,
and the contents of the range <span class='texttt'>[first, last)</span> are unspecified.</p></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ef429c6b5066a9ee09566757ca91efde2254d8d4/source/utilities.tex#L571'>#</a></div><p >The functions that take a floating-point <span class='texttt'>value</span>
but not a <span class='texttt'>precision</span> parameter
ensure that the string representation
consists of the smallest number of characters
such that
there is at least one digit before the radix point (if present) and
parsing the representation using the corresponding <span class='texttt'>from_&shy;chars</span> function
recovers <span class='texttt'>value</span> exactly.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> 
This guarantee applies only if
<span class='texttt'>to_&shy;chars</span> and <span class='texttt'>from_&shy;chars</span>
are executed on the same implementation.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>â€”<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>] </p></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ef429c6b5066a9ee09566757ca91efde2254d8d4/source/utilities.tex#L586'>#</a></div><p >The functions taking a <span class='texttt'>chars_&shy;format</span> parameter
determine the conversion specifier for <span class='texttt'>printf</span> as follows:
The conversion specifier is
<span class='texttt'>f</span> if <span class='texttt'>fmt</span> is <span class='texttt'>chars_&shy;format&#x200b;::&#x200b;fixed</span>,
<span class='texttt'>e</span> if <span class='texttt'>fmt</span> is <span class='texttt'>chars_&shy;format&#x200b;::&#x200b;scientific</span>,
<span class='texttt'>a</span> (without leading <span class='texttt'>"0x"</span> in the result)
if <span class='texttt'>fmt</span> is <span class='texttt'>chars_&shy;format&#x200b;::&#x200b;hex</span>,
and
<span class='texttt'>g</span> if <span class='texttt'>fmt</span> is <span class='texttt'>chars_&shy;format&#x200b;::&#x200b;general</span>.</p><p ><span class='indexparent'><a class='index' id='lib:to_chars'></a></span></p></div><p ><code class='itemdecl'>to_chars_result to_chars(char* first, char* last, <span class='textit'><span class='texttt'>see below</span></span> value, int base = 10);
</code></p><div class='itemdescr'></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ef429c6b5066a9ee09566757ca91efde2254d8d4/source/utilities.tex#L603'>#</a></div><p ><span class='textit'>Requires:</span> <span class='texttt'>base</span> has a value between 2 and 36 (inclusive).</p></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ef429c6b5066a9ee09566757ca91efde2254d8d4/source/utilities.tex#L606'>#</a></div><p ><span class='textit'>Effects:</span> The value of <span class='texttt'>value</span> is converted
to a string of digits in the given base
(with no redundant leading zeroes).
Digits in the range 10..35 (inclusive)
are represented as lowercase characters <span class='texttt'>a</span>..<span class='texttt'>z</span>.
If <span class='texttt'>value</span> is less than zero,
the representation starts with a minus sign.</p></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ef429c6b5066a9ee09566757ca91efde2254d8d4/source/utilities.tex#L615'>#</a></div><p ><span class='textit'>Throws:</span> Nothing.</p></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ef429c6b5066a9ee09566757ca91efde2254d8d4/source/utilities.tex#L618'>#</a></div><p ><span class='textit'>Remarks:</span> 
The implementation shall provide overloads
for all signed and unsigned integer types
and <span class='texttt'>char</span>
as the type of the parameter <span class='texttt'>value</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:to_chars_'></a></span></p><p ><code class='itemdecl'>to_chars_result to_chars(char* first, char* last, float value);
to_chars_result to_chars(char* first, char* last, double value);
to_chars_result to_chars(char* first, char* last, long double value);
</code></p><div class='itemdescr'></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ef429c6b5066a9ee09566757ca91efde2254d8d4/source/utilities.tex#L634'>#</a></div><p ><span class='textit'>Effects:</span> <span class='texttt'>value</span> is converted to a string
in the style of <span class='texttt'>printf</span>
in the <span class='texttt'>"C"</span> locale.
The conversion specifier is <span class='texttt'>f</span> or <span class='texttt'>e</span>,
chosen according to the requirement for a shortest representation
(see above);
a tie is resolved in favor of <span class='texttt'>f</span>.</p></div></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ef429c6b5066a9ee09566757ca91efde2254d8d4/source/utilities.tex#L643'>#</a></div><p ><span class='textit'>Throws:</span> Nothing.
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:to_chars__'></a></span></p><p ><code class='itemdecl'>to_chars_result to_chars(char* first, char* last, float value, chars_format fmt);
to_chars_result to_chars(char* first, char* last, double value, chars_format fmt);
to_chars_result to_chars(char* first, char* last, long double value, chars_format fmt);
</code></p><div class='itemdescr'></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ef429c6b5066a9ee09566757ca91efde2254d8d4/source/utilities.tex#L655'>#</a></div><p ><span class='textit'>Requires:</span> <span class='texttt'>fmt</span> has the value of
one of the enumerators of <span class='texttt'>chars_&shy;format</span>.</p></div></div><div class='para' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ef429c6b5066a9ee09566757ca91efde2254d8d4/source/utilities.tex#L659'>#</a></div><p ><span class='textit'>Effects:</span> <span class='texttt'>value</span> is converted to a string
in the style of <span class='texttt'>printf</span>
in the <span class='texttt'>"C"</span> locale.</p></div></div><div class='para' id='12'><div class='marginalizedparent'><a class='marginalized' href='#12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ef429c6b5066a9ee09566757ca91efde2254d8d4/source/utilities.tex#L664'>#</a></div><p ><span class='textit'>Throws:</span> Nothing.
</p></div></div><p ><span class='indexparent'><a class='index' id='lib:to_chars___'></a></span></p><p ><code class='itemdecl'>to_chars_result to_chars(char* first, char* last, float value,
                         chars_format fmt, int precision);
to_chars_result to_chars(char* first, char* last, double value,
                         chars_format fmt, int precision);
to_chars_result to_chars(char* first, char* last, long double value,
                         chars_format fmt, int precision);
</code></p><div class='itemdescr'></div><div class='para' id='13'><div class='marginalizedparent'><a class='marginalized' href='#13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ef429c6b5066a9ee09566757ca91efde2254d8d4/source/utilities.tex#L679'>#</a></div><p ><span class='textit'>Requires:</span> <span class='texttt'>fmt</span> has the value of
one of the enumerators of <span class='texttt'>chars_&shy;format</span>.</p></div></div><div class='para' id='14'><div class='marginalizedparent'><a class='marginalized' href='#14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ef429c6b5066a9ee09566757ca91efde2254d8d4/source/utilities.tex#L683'>#</a></div><p ><span class='textit'>Effects:</span> <span class='texttt'>value</span> is converted to a string
in the style of <span class='texttt'>printf</span>
in the <span class='texttt'>"C"</span> locale
with the given precision.</p></div></div><div class='para' id='15'><div class='marginalizedparent'><a class='marginalized' href='#15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/ef429c6b5066a9ee09566757ca91efde2254d8d4/source/utilities.tex#L689'>#</a></div><p ><span class='textit'>Throws:</span> Nothing.
</p></div></div><p ><span class='textsc'>See also:</span> ISO C 7.21.6.1.</p></div></body></html>