<!DOCTYPE html><html lang='en'><head><title>[template.valarray]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>26</a> Numerics library <a class='abbr_ref' href='./#numerics'>[numerics]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>26.7</a> Numeric arrays <a class='abbr_ref' href='numarray#template.valarray'>[numarray]</a></h2><div id='template.valarray'><h3 ><a class='secnum' style='min-width:103pt'>26.7.2</a> Class template <span class='texttt'>valarray</span> <a class='abbr_ref'>[template.valarray]</a></h3><div id='overview'><h4 ><a class='secnum' href='#overview' style='min-width:118pt'>26.7.2.1</a> Class template <span class='texttt'>valarray</span> overview <a class='abbr_ref' href='template.valarray.overview'>[template.valarray.overview]</a></h4><p ><span class='indexparent'><a class='index' id='valarray'></a></span></p><p ><pre class='codeblock'>
namespace std {
  template&lt;class T&gt; class valarray {
  public:
    using value_type = T;

    <span class='comment'>// <a href='valarray.cons'>[valarray.cons]</a>, construct/destroy
</span>    valarray();
    explicit valarray(size_t);
    valarray(const T&amp;, size_t);
    valarray(const T*, size_t);
    valarray(const valarray&amp;);
    valarray(valarray&amp;&amp;) noexcept;
    valarray(const slice_array&lt;T&gt;&amp;);
    valarray(const gslice_array&lt;T&gt;&amp;);
    valarray(const mask_array&lt;T&gt;&amp;);
    valarray(const indirect_array&lt;T&gt;&amp;);
    valarray(initializer_list&lt;T&gt;);
    ~valarray();

    <span class='comment'>// <a href='valarray.assign'>[valarray.assign]</a>, assignment
</span>    valarray&amp; operator=(const valarray&amp;);
    valarray&amp; operator=(valarray&amp;&amp;) noexcept;
    valarray&amp; operator=(initializer_list&lt;T&gt;);
    valarray&amp; operator=(const T&amp;);
    valarray&amp; operator=(const slice_array&lt;T&gt;&amp;);
    valarray&amp; operator=(const gslice_array&lt;T&gt;&amp;);
    valarray&amp; operator=(const mask_array&lt;T&gt;&amp;);
    valarray&amp; operator=(const indirect_array&lt;T&gt;&amp;);

    <span class='comment'>// <a href='valarray.access'>[valarray.access]</a>, element access
</span>    const T&amp;          operator[](size_t) const;
    T&amp;                operator[](size_t);

    <span class='comment'>// <a href='valarray.sub'>[valarray.sub]</a>, subset operations
</span>    valarray          operator[](slice) const;
    slice_array&lt;T&gt;    operator[](slice);
    valarray          operator[](const gslice&amp;) const;
    gslice_array&lt;T&gt;   operator[](const gslice&amp;);
    valarray          operator[](const valarray&lt;bool&gt;&amp;) const;
    mask_array&lt;T&gt;     operator[](const valarray&lt;bool&gt;&amp;);
    valarray          operator[](const valarray&lt;size_t&gt;&amp;) const;
    indirect_array&lt;T&gt; operator[](const valarray&lt;size_t&gt;&amp;);

    <span class='comment'>// <a href='valarray.unary'>[valarray.unary]</a>, unary operators
</span>    valarray operator+() const;
    valarray operator-() const;
    valarray operator~() const;
    valarray&lt;bool&gt; operator!() const;

    <span class='comment'>// <a href='valarray.cassign'>[valarray.cassign]</a>, compound assignment
</span>    valarray&amp; operator*= (const T&amp;);
    valarray&amp; operator/= (const T&amp;);
    valarray&amp; operator%= (const T&amp;);
    valarray&amp; operator+= (const T&amp;);
    valarray&amp; operator-= (const T&amp;);
    valarray&amp; operator^= (const T&amp;);
    valarray&amp; operator&amp;= (const T&amp;);
    valarray&amp; operator|= (const T&amp;);
    valarray&amp; operator&lt;&lt;=(const T&amp;);
    valarray&amp; operator&gt;&gt;=(const T&amp;);

    valarray&amp; operator*= (const valarray&amp;);
    valarray&amp; operator/= (const valarray&amp;);
    valarray&amp; operator%= (const valarray&amp;);
    valarray&amp; operator+= (const valarray&amp;);
    valarray&amp; operator-= (const valarray&amp;);
    valarray&amp; operator^= (const valarray&amp;);
    valarray&amp; operator|= (const valarray&amp;);
    valarray&amp; operator&amp;= (const valarray&amp;);
    valarray&amp; operator&lt;&lt;=(const valarray&amp;);
    valarray&amp; operator&gt;&gt;=(const valarray&amp;);

    <span class='comment'>// <a href='valarray.members'>[valarray.members]</a>, member functions
</span>    void swap(valarray&amp;) noexcept;

    size_t size() const;

    T sum() const;
    T min() const;
    T max() const;

    valarray shift (int) const;
    valarray cshift(int) const;
    valarray apply(T func(T)) const;
    valarray apply(T func(const T&amp;)) const;
    void resize(size_t sz, T c = T());
  };
}</pre></p><div class='para' id='overview-1'><div class='marginalizedparent'><a class='marginalized' href='#overview-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L6744'>#</a></div><p >The
class template
<span class='texttt'>valarray&lt;T&gt;</span>
is a
one-dimensional smart array, with elements numbered sequentially from zero.
It is a representation of the mathematical concept
of an ordered set of values.
For convenience, an object of type <span class='texttt'>valarray&lt;T&gt;</span> is referred
to as an “array” throughout the remainder of <a href='numarray'>[numarray]</a>.
The illusion of higher dimensionality
may be produced by the familiar idiom of computed indices, together
with the powerful subsetting capabilities provided
by the generalized subscript operators.<a class='footnotenum' href='#footnote-276'>276</a></p></div><div class='para' id='overview-2'><div class='marginalizedparent'><a class='marginalized' href='#overview-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L6767'>#</a></div><p >An implementation is permitted to qualify any of the functions declared in
<span class='texttt'>&lt;valarray&gt;</span>
as
<span class='texttt'>inline</span>.</p></div><div class='footnote' id='footnote-276'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-276'>276)</a></div><p >The intent is to specify
an array template that has the minimum functionality
necessary to address aliasing ambiguities and the proliferation of
temporaries.
Thus, the
<span class='texttt'>valarray</span>
template is neither a
matrix class nor a field class.
However, it is a very useful building block for designing such classes.</p></div></div><div id='valarray.cons'><h4 ><a class='secnum' href='#valarray.cons' style='min-width:118pt'>26.7.2.2</a> <span class='texttt'>valarray</span> constructors <a class='abbr_ref' href='valarray.cons'>[valarray.cons]</a></h4><p ><span class='indexparent'><a class='index' id='valarray,constructor'></a></span></p><p ><code class='itemdecl'>valarray();
</code></p><div class='itemdescr'></div><div class='para' id='valarray.cons-1'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cons-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L6781'>#</a></div><p ><span class='textit'>Effects:</span> 
Constructs a <span class='texttt'>valarray</span>
that has zero length.<a class='footnotenum' href='#footnote-277'>277</a>
</p></div></div><p ><span class='indexparent'><a class='index' id='valarray,constructor'></a></span></p><p ><code class='itemdecl'>explicit valarray(size_t n);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.cons-2'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cons-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L6799'>#</a></div><p ><span class='textit'>Effects:</span> 
Constructs a <span class='texttt'>valarray</span> that has length <span class='texttt'>n</span>.
Each element of the array is
<a href='dcl.init#def:value-initialize'>value-initialized</a>.
</p></div></div><p ><span class='indexparent'><a class='index' id='valarray,constructor'></a></span></p><p ><code class='itemdecl'>valarray(const T&amp; v, size_t n);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.cons-3'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cons-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L6812'>#</a></div><p ><span class='textit'>Effects:</span> 
Constructs a <span class='texttt'>valarray</span> that has length <span class='texttt'>n</span>.
Each element of the array is initialized with <span class='texttt'>v</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='valarray,constructor'></a></span></p><p ><code class='itemdecl'>valarray(const T* p, size_t n);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.cons-4'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cons-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L6824'>#</a></div><p ><span class='textit'>Requires:</span> 
<span class='texttt'>p</span> points to an array (<a href='dcl.array'>[dcl.array]</a>) of at least
<span class='texttt'>n</span> elements.</p><p ><span class='textit'>Effects:</span> 
Constructs a <span class='texttt'>valarray</span> that has length <span class='texttt'>n</span>.
The values of the elements of the array are initialized with the
first
<span class='texttt'>n</span>
values pointed to by the first argument.<a class='footnotenum' href='#footnote-278'>278</a>
</p></div></div><p ><span class='indexparent'><a class='index' id='valarray,constructor'></a></span></p><p ><code class='itemdecl'>valarray(const valarray&amp; v);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.cons-5'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cons-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L6846'>#</a></div><p ><span class='textit'>Effects:</span> 
Constructs a <span class='texttt'>valarray</span> that has the same length as <span class='texttt'>v</span>.
The elements are initialized with the values of the corresponding
elements of <span class='texttt'>v</span>.<a class='footnotenum' href='#footnote-279'>279</a>
</p></div></div><p ><span class='indexparent'><a class='index' id='valarray,constructor'></a></span></p><p ><code class='itemdecl'>valarray(valarray&amp;&amp; v) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='valarray.cons-6'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cons-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L6863'>#</a></div><p ><span class='textit'>Effects:</span> 
Constructs a <span class='texttt'>valarray</span> that has the same length as <span class='texttt'>v</span>.
The elements are initialized with the values of the corresponding
elements of <span class='texttt'>v</span>.</p></div></div><div class='para' id='valarray.cons-7'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cons-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L6869'>#</a></div><p ><span class='textit'>Complexity:</span> Constant.
</p></div></div><p ><span class='indexparent'><a class='index' id='valarray,constructor'></a></span></p><p ><code class='itemdecl'>valarray(initializer_list&lt;T&gt; il);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.cons-8'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cons-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L6879'>#</a></div><p ><span class='textit'>Effects:</span> Equivalent to <span class='texttt'>valarray(il.begin(), il.size())</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='valarray,constructor'></a></span></p><p ><code class='itemdecl'>valarray(const slice_array&lt;T&gt;&amp;);
valarray(const gslice_array&lt;T&gt;&amp;);
valarray(const mask_array&lt;T&gt;&amp;);
valarray(const indirect_array&lt;T&gt;&amp;);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.cons-9'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cons-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L6892'>#</a></div><p >These conversion constructors convert one of the four reference templates
to a
<span class='texttt'>valarray</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='valarray,destructor'></a></span></p><p ><code class='itemdecl'>~valarray();
</code></p><div class='itemdescr'></div><div class='para' id='valarray.cons-10'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cons-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L6904'>#</a></div><p ><span class='textit'>Effects:</span> 
The destructor is applied to every element of
<span class='texttt'>*this</span>;
an implementation may return all allocated memory.
</p></div></div><div class='footnote' id='footnote-277'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-277'>277)</a></div><p >This default constructor is essential,
since arrays of
<span class='texttt'>valarray</span>
may be useful.
After initialization, the length of an empty array can be increased with the
<span class='texttt'>resize</span>
member function.</p></div><div class='footnote' id='footnote-278'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-278'>278)</a></div><p >This constructor is the
preferred method for converting a C array to a
<span class='texttt'>valarray</span>
object.</p></div><div class='footnote' id='footnote-279'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-279'>279)</a></div><p >This copy constructor creates
a distinct array rather than an alias.
Implementations in which arrays share storage are permitted, but they
shall implement a copy-on-reference mechanism to ensure that arrays are
conceptually distinct.</p></div></div><div id='valarray.assign'><h4 ><a class='secnum' href='#valarray.assign' style='min-width:118pt'>26.7.2.3</a> <span class='texttt'>valarray</span> assignment <a class='abbr_ref' href='valarray.assign'>[valarray.assign]</a></h4><p ><span class='indexparent'><a class='index' id='operator=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator='></a></span></p><p ><code class='itemdecl'>valarray&amp; operator=(const valarray&amp; v);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.assign-1'><div class='marginalizedparent'><a class='marginalized' href='#valarray.assign-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L6919'>#</a></div><p ><span class='textit'>Effects:</span> 
Each element of the
<span class='texttt'>*this</span>
array is assigned the value of the corresponding element of <span class='texttt'>v</span>.
If the length of <span class='texttt'>v</span> is not equal to the length of <span class='texttt'>*this</span>,
resizes <span class='texttt'>*this</span> to make the two arrays the same length,
as if by calling <span class='texttt'>resize(v.size())</span>, before performing the assignment.</p></div></div><div class='para' id='valarray.assign-2'><div class='marginalizedparent'><a class='marginalized' href='#valarray.assign-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L6928'>#</a></div><p ><span class='textit'>Postconditions:</span> <span class='texttt'>size() == v.size()</span>.</p></div></div><div class='para' id='valarray.assign-3'><div class='marginalizedparent'><a class='marginalized' href='#valarray.assign-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L6931'>#</a></div><p ><span class='textit'>Returns:</span> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator='></a></span></p><p ><code class='itemdecl'>valarray&amp; operator=(valarray&amp;&amp; v) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='valarray.assign-4'><div class='marginalizedparent'><a class='marginalized' href='#valarray.assign-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L6941'>#</a></div><p ><span class='textit'>Effects:</span> <span class='texttt'>*this</span> obtains the value of <span class='texttt'>v</span>.
The value of <span class='texttt'>v</span> after the assignment is not specified.</p></div></div><div class='para' id='valarray.assign-5'><div class='marginalizedparent'><a class='marginalized' href='#valarray.assign-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L6945'>#</a></div><p ><span class='textit'>Returns:</span> <span class='texttt'>*this</span>.</p></div></div><div class='para' id='valarray.assign-6'><div class='marginalizedparent'><a class='marginalized' href='#valarray.assign-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L6948'>#</a></div><p ><span class='textit'>Complexity:</span> Linear.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator='></a></span></p><p ><code class='itemdecl'>valarray&amp; operator=(initializer_list&lt;T&gt; il);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.assign-7'><div class='marginalizedparent'><a class='marginalized' href='#valarray.assign-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L6958'>#</a></div><p ><span class='textit'>Effects:</span> Equivalent to: <span class='texttt'>return *this = valarray(il);</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator='></a></span></p><p ><code class='itemdecl'>valarray&amp; operator=(const T&amp; v);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.assign-8'><div class='marginalizedparent'><a class='marginalized' href='#valarray.assign-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L6969'>#</a></div><p ><span class='textit'>Effects:</span> 
Assigns <span class='texttt'>v</span> to each element of <span class='texttt'>*this</span>.</p></div></div><div class='para' id='valarray.assign-9'><div class='marginalizedparent'><a class='marginalized' href='#valarray.assign-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L6973'>#</a></div><p ><span class='textit'>Returns:</span> <span class='texttt'>*this</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator='></a></span></p><p ><code class='itemdecl'>valarray&amp; operator=(const slice_array&lt;T&gt;&amp;);
valarray&amp; operator=(const gslice_array&lt;T&gt;&amp;);
valarray&amp; operator=(const mask_array&lt;T&gt;&amp;);
valarray&amp; operator=(const indirect_array&lt;T&gt;&amp;);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.assign-10'><div class='marginalizedparent'><a class='marginalized' href='#valarray.assign-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L6986'>#</a></div><p ><span class='textit'>Requires:</span> The length of the array to which the argument refers equals <span class='texttt'>size()</span>.
The value of an element in the left-hand side of a <span class='texttt'>valarray</span> assignment
operator does not depend on the value of another element in that left-hand side.</p></div></div><div class='para' id='valarray.assign-11'><div class='marginalizedparent'><a class='marginalized' href='#valarray.assign-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L6991'>#</a></div><p >These operators allow the results of a generalized subscripting operation
to be assigned directly to a
<span class='texttt'>valarray</span>.
</p></div></div></div><div id='valarray.access'><h4 ><a class='secnum' href='#valarray.access' style='min-width:118pt'>26.7.2.4</a> <span class='texttt'>valarray</span> element access <a class='abbr_ref' href='valarray.access'>[valarray.access]</a></h4><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator[]'></a></span></p><p ><code class='itemdecl'>const T&amp;  operator[](size_t n) const;
T&amp; operator[](size_t n);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.access-1'><div class='marginalizedparent'><a class='marginalized' href='#valarray.access-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7006'>#</a></div><p ><span class='textit'>Requires:</span> 
<span class='texttt'>n &lt; size()</span>.</p></div></div><div class='para' id='valarray.access-2'><div class='marginalizedparent'><a class='marginalized' href='#valarray.access-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7010'>#</a></div><p ><span class='textit'>Returns:</span> 
A reference to the corresponding element of the array.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> 
The expression <span class='texttt'>(a[i] = q, a[i]) == q</span>
evaluates to <span class='texttt'>true</span> for any non-constant <span class='texttt'>valarray&lt;T&gt; a</span>,
any <span class='texttt'>T q</span>, and for any <span class='texttt'>size_&shy;t i</span>
such that the value of <span class='texttt'>i</span> is less than the length of <span class='texttt'>a</span>.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>] </p></div></div><div class='para' id='valarray.access-3'><div class='marginalizedparent'><a class='marginalized' href='#valarray.access-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7020'>#</a></div><p ><span class='textit'>Remarks:</span> 
The expression <span class='texttt'>&amp;a[i+j] == &amp;a[i] + j</span>
evaluates to <span class='texttt'>true</span> for all <span class='texttt'>size_&shy;t i</span> and <span class='texttt'>size_&shy;t j</span>
such that <span class='texttt'>i+j &lt; a.size()</span>.</p></div></div><div class='para' id='valarray.access-4'><div class='marginalizedparent'><a class='marginalized' href='#valarray.access-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7026'>#</a></div><p >The expression <span class='texttt'>&amp;a[i] != &amp;b[j]</span>
evaluates to <span class='texttt'>true</span> for any two arrays
<span class='texttt'>a</span> and <span class='texttt'>b</span> and for any
<span class='texttt'>size_&shy;t i</span> and <span class='texttt'>size_&shy;t j</span>
such that <span class='texttt'>i &lt; a.size()</span>
and <span class='texttt'>j &lt; b.size()</span>.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>  This property indicates an absence of aliasing and may be used to
advantage by optimizing compilers. Compilers may take advantage
of inlining, constant propagation, loop fusion,
tracking of pointers obtained from
<span class='texttt'>operator new</span>,
and other techniques to generate efficient
<span class='texttt'>valarray</span>s.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>] </p></div></div><div class='para' id='valarray.access-5'><div class='marginalizedparent'><a class='marginalized' href='#valarray.access-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7042'>#</a></div><p >The reference returned by the subscript operator for an array shall
be valid until the member function
<a href='valarray.members#valarray,resize'><span class='texttt'>resize(size_&shy;t, T)</span></a> is called for that array or until the lifetime of
that array ends, whichever happens first.
</p></div></div></div><div id='valarray.sub'><h4 ><a class='secnum' href='#valarray.sub' style='min-width:118pt'>26.7.2.5</a> <span class='texttt'>valarray</span> subset operations <a class='abbr_ref' href='valarray.sub'>[valarray.sub]</a></h4><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span></p><div class='para' id='valarray.sub-1'><div class='marginalizedparent'><a class='marginalized' href='#valarray.sub-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7052'>#</a></div><p >The member <span class='texttt'>operator[]</span> is overloaded to provide several ways to select
sequences of elements from among those controlled by <span class='texttt'>*this</span>. Each of these
operations returns a subset of the array. The const-qualified versions return this
subset as a new <span class='texttt'>valarray</span> object. The non-const versions return a class
template object which has reference semantics to the original array, working in
conjunction with various overloads of <span class='texttt'>operator=</span> and other assigning
operators to allow selective replacement (slicing) of the controlled sequence.
In each case the selected element(s) must exist.</p><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator[]'></a></span></p></div><p ><code class='itemdecl'>valarray operator[](slice slicearr) const;
</code></p><div class='itemdescr'></div><div class='para' id='valarray.sub-2'><div class='marginalizedparent'><a class='marginalized' href='#valarray.sub-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7068'>#</a></div><p ><span class='textit'>Returns:</span> A <span class='texttt'>valarray</span> containing those
elements of the controlled sequence designated by <span class='texttt'>slicearr</span>.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span> 
</p><p ><pre class='codeblock'>
const valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
<span class='comment'>// <span class='tcode_in_codeblock'>v0[slice(2, 5, 3)]</span> returns <span class='tcode_in_codeblock'>valarray&lt;char&gt;("cfilo", 5)</span>
</span></pre></p><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>] 
</p></div></div><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator[]'></a></span></p><p ><code class='itemdecl'>slice_array&lt;T&gt; operator[](slice slicearr);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.sub-3'><div class='marginalizedparent'><a class='marginalized' href='#valarray.sub-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7085'>#</a></div><p ><span class='textit'>Returns:</span> An object that holds references to elements of the controlled
sequence selected by <span class='texttt'>slicearr</span>. [<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span> 
</p><p ><pre class='codeblock'>
valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
valarray&lt;char&gt; v1("ABCDE", 5);
v0[slice(2, 5, 3)] = v1;
<span class='comment'>// <span class='tcode_in_codeblock'>v0 == valarray&lt;char&gt;("abAdeBghCjkDmnEp", 16);</span>
</span></pre></p><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>] 
</p></div></div><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator[]'></a></span></p><p ><code class='itemdecl'>valarray operator[](const gslice&amp; gslicearr) const;
</code></p><div class='itemdescr'></div><div class='para' id='valarray.sub-4'><div class='marginalizedparent'><a class='marginalized' href='#valarray.sub-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7103'>#</a></div><p ><span class='textit'>Returns:</span> A <span class='texttt'>valarray</span> containing those
elements of the controlled sequence designated by <span class='texttt'>gslicearr</span>.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span> 
</p><p ><pre class='codeblock'>
const valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
const size_t lv[] = { 2, 3 };
const size_t dv[] = { 7, 2 };
const valarray&lt;size_t&gt; len(lv, 2), str(dv, 2);
<span class='comment'>// <span class='tcode_in_codeblock'>v0[gslice(3, len, str)]</span> returns
</span><span class='comment'>// <span class='tcode_in_codeblock'>valarray&lt;char&gt;("dfhkmo", 6)</span>
</span></pre></p><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>] 
</p></div></div><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator[]'></a></span></p><p ><code class='itemdecl'>gslice_array&lt;T&gt; operator[](const gslice&amp; gslicearr);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.sub-5'><div class='marginalizedparent'><a class='marginalized' href='#valarray.sub-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7124'>#</a></div><p ><span class='textit'>Returns:</span> An object that holds references to elements of the controlled
sequence selected by <span class='texttt'>gslicearr</span>. [<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span> 
</p><p ><pre class='codeblock'>
valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
valarray&lt;char&gt; v1("ABCDEF", 6);
const size_t lv[] = { 2, 3 };
const size_t dv[] = { 7, 2 };
const valarray&lt;size_t&gt; len(lv, 2), str(dv, 2);
v0[gslice(3, len, str)] = v1;
<span class='comment'>// <span class='tcode_in_codeblock'>v0 == valarray&lt;char&gt;("abcAeBgCijDlEnFp", 16)</span>
</span></pre></p><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>] 
</p></div></div><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator[]'></a></span></p><p ><code class='itemdecl'>valarray operator[](const valarray&lt;bool&gt;&amp; boolarr) const;
</code></p><div class='itemdescr'></div><div class='para' id='valarray.sub-6'><div class='marginalizedparent'><a class='marginalized' href='#valarray.sub-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7145'>#</a></div><p ><span class='textit'>Returns:</span> A <span class='texttt'>valarray</span> containing those
elements of the controlled sequence designated by <span class='texttt'>boolarr</span>.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span> 
</p><p ><pre class='codeblock'>
const valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
const bool vb[] = { false, false, true, true, false, true };
<span class='comment'>// <span class='tcode_in_codeblock'>v0[valarray&lt;bool&gt;(vb, 6)]</span> returns
</span><span class='comment'>// <span class='tcode_in_codeblock'>valarray&lt;char&gt;("cdf", 3)</span>
</span></pre></p><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>] 
</p></div></div><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator[]'></a></span></p><p ><code class='itemdecl'>mask_array&lt;T&gt; operator[](const valarray&lt;bool&gt;&amp; boolarr);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.sub-7'><div class='marginalizedparent'><a class='marginalized' href='#valarray.sub-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7164'>#</a></div><p ><span class='textit'>Returns:</span> An object that holds references to elements of the controlled
sequence selected by <span class='texttt'>boolarr</span>. [<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span> 
</p><p ><pre class='codeblock'>
valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
valarray&lt;char&gt; v1("ABC", 3);
const bool vb[] = { false, false, true, true, false, true };
v0[valarray&lt;bool&gt;(vb, 6)] = v1;
<span class='comment'>// <span class='tcode_in_codeblock'>v0 == valarray&lt;char&gt;("abABeCghijklmnop", 16)</span>
</span></pre></p><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>] 
</p></div></div><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator[]'></a></span></p><p ><code class='itemdecl'>valarray operator[](const valarray&lt;size_t&gt;&amp; indarr) const;
</code></p><div class='itemdescr'></div><div class='para' id='valarray.sub-8'><div class='marginalizedparent'><a class='marginalized' href='#valarray.sub-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7183'>#</a></div><p ><span class='textit'>Returns:</span> A <span class='texttt'>valarray</span> containing those
elements of the controlled sequence designated by <span class='texttt'>indarr</span>.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span> 
</p><p ><pre class='codeblock'>
const valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
const size_t vi[] = { 7, 5, 2, 3, 8 };
<span class='comment'>// <span class='tcode_in_codeblock'>v0[valarray&lt;size_&shy;t&gt;(vi, 5)]</span> returns
</span><span class='comment'>// <span class='tcode_in_codeblock'>valarray&lt;char&gt;("hfcdi", 5)</span>
</span></pre></p><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>] 
</p></div></div><p ><span class='indexparent'><a class='index' id='operator[],valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator[]'></a></span></p><p ><code class='itemdecl'>indirect_array&lt;T&gt; operator[](const valarray&lt;size_t&gt;&amp; indarr);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.sub-9'><div class='marginalizedparent'><a class='marginalized' href='#valarray.sub-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7202'>#</a></div><p ><span class='textit'>Returns:</span> An object that holds references to elements of the controlled
sequence selected by <span class='texttt'>indarr</span>. [<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span> 
</p><p ><pre class='codeblock'>
valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
valarray&lt;char&gt; v1("ABCDE", 5);
const size_t vi[] = { 7, 5, 2, 3, 8 };
v0[valarray&lt;size_t&gt;(vi, 5)] = v1;
<span class='comment'>// <span class='tcode_in_codeblock'>v0 == valarray&lt;char&gt;("abCDeBgAEjklmnop", 16)</span>
</span></pre></p><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>] 
</p></div></div></div><div id='valarray.unary'><h4 ><a class='secnum' href='#valarray.unary' style='min-width:118pt'>26.7.2.6</a> <span class='texttt'>valarray</span> unary operators <a class='abbr_ref' href='valarray.unary'>[valarray.unary]</a></h4><p ><span class='indexparent'><a class='index' id='operator+,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator+'></a></span><span class='indexparent'><a class='index' id='operator-,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator-'></a></span><span class='indexparent'><a class='index' id='operator_,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator_'></a></span><span class='indexparent'><a class='index' id='operator!,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator!'></a></span></p><p ><code class='itemdecl'>valarray operator+() const;
valarray operator-() const;
valarray operator~() const;
valarray&lt;bool&gt; operator!() const;
</code></p><div class='itemdescr'></div><div class='para' id='valarray.unary-1'><div class='marginalizedparent'><a class='marginalized' href='#valarray.unary-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7229'>#</a></div><p ><span class='textit'>Requires:</span> 
Each of these operators may only be instantiated for a type <span class='texttt'>T</span>
to which the indicated operator can be applied and for which the indicated
operator returns a value which is of type <span class='texttt'>T</span> (<span class='texttt'>bool</span> for
<span class='texttt'>operator!</span>) or which may be unambiguously implicitly converted to type
<span class='texttt'>T</span> (<span class='texttt'>bool</span> for <span class='texttt'>operator!</span>).</p></div></div><div class='para' id='valarray.unary-2'><div class='marginalizedparent'><a class='marginalized' href='#valarray.unary-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7237'>#</a></div><p ><span class='textit'>Returns:</span> A <span class='texttt'>valarray</span> whose length is <span class='texttt'>size()</span>.
Each element of the returned array is initialized with the result of
applying the indicated operator to the corresponding element of the array.
</p></div></div></div><div id='valarray.cassign'><h4 ><a class='secnum' href='#valarray.cassign' style='min-width:118pt'>26.7.2.7</a> <span class='texttt'>valarray</span> compound assignment <a class='abbr_ref' href='valarray.cassign'>[valarray.cassign]</a></h4><p ><span class='indexparent'><a class='index' id='operator*=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator*='></a></span><span class='indexparent'><a class='index' id='operator/=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator/='></a></span><span class='indexparent'><a class='index' id='operator%=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator%='></a></span><span class='indexparent'><a class='index' id='operator+=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator+='></a></span><span class='indexparent'><a class='index' id='operator-=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator-='></a></span><span class='indexparent'><a class='index' id='operator^=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator^='></a></span><span class='indexparent'><a class='index' id='operator&=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator&='></a></span><span class='indexparent'><a class='index' id='operator|=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator|='></a></span><span class='indexparent'><a class='index' id='operator<<=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator<<='></a></span><span class='indexparent'><a class='index' id='operator>>=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator>>='></a></span></p><p ><code class='itemdecl'>valarray&amp; operator*= (const valarray&amp; v);
valarray&amp; operator/= (const valarray&amp; v);
valarray&amp; operator%= (const valarray&amp; v);
valarray&amp; operator+= (const valarray&amp; v);
valarray&amp; operator-= (const valarray&amp; v);
valarray&amp; operator^= (const valarray&amp; v);
valarray&amp; operator&amp;= (const valarray&amp; v);
valarray&amp; operator|= (const valarray&amp; v);
valarray&amp; operator&lt;&lt;=(const valarray&amp; v);
valarray&amp; operator&gt;&gt;=(const valarray&amp; v);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.cassign-1'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cassign-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7269'>#</a></div><p ><span class='textit'>Requires:</span> 
<span class='texttt'>size() == v.size()</span>.
Each of these operators may only be instantiated for a type <span class='texttt'>T</span>
if the indicated operator can be applied to two operands of type <span class='texttt'>T</span>.
The value of an element in the left-hand side of a valarray compound
assignment operator does not depend on the value of another element in that left
hand side.</p></div></div><div class='para' id='valarray.cassign-2'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cassign-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7278'>#</a></div><p ><span class='textit'>Effects:</span> 
Each of these operators
performs the indicated operation on each of the elements of <span class='texttt'>*this</span> and the
corresponding element of <span class='texttt'>v</span>.</p></div></div><div class='para' id='valarray.cassign-3'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cassign-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7284'>#</a></div><p ><span class='textit'>Returns:</span> 
<span class='texttt'>*this</span>.</p></div></div><div class='para' id='valarray.cassign-4'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cassign-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7288'>#</a></div><p ><span class='textit'>Remarks:</span> 
The appearance of an array on the left-hand side of a compound assignment
does not invalidate references or pointers.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator*=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator*='></a></span><span class='indexparent'><a class='index' id='operator/=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator/='></a></span><span class='indexparent'><a class='index' id='operator%=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator%='></a></span><span class='indexparent'><a class='index' id='operator+=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator+='></a></span><span class='indexparent'><a class='index' id='operator-=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator-='></a></span><span class='indexparent'><a class='index' id='operator^=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator^='></a></span><span class='indexparent'><a class='index' id='operator&=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator&='></a></span><span class='indexparent'><a class='index' id='operator|=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator|='></a></span><span class='indexparent'><a class='index' id='operator<<=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator<<='></a></span><span class='indexparent'><a class='index' id='operator>>=,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,operator>>='></a></span></p><p ><code class='itemdecl'>valarray&amp; operator*= (const T&amp; v);
valarray&amp; operator/= (const T&amp; v);
valarray&amp; operator%= (const T&amp; v);
valarray&amp; operator+= (const T&amp; v);
valarray&amp; operator-= (const T&amp; v);
valarray&amp; operator^= (const T&amp; v);
valarray&amp; operator&amp;= (const T&amp; v);
valarray&amp; operator|= (const T&amp; v);
valarray&amp; operator&lt;&lt;=(const T&amp; v);
valarray&amp; operator&gt;&gt;=(const T&amp; v);
</code></p><div class='itemdescr'></div><div class='para' id='valarray.cassign-5'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cassign-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7318'>#</a></div><p ><span class='textit'>Requires:</span> 
Each of these operators may only be instantiated for a type <span class='texttt'>T</span>
if the indicated operator can be applied to two operands of type <span class='texttt'>T</span>.</p></div></div><div class='para' id='valarray.cassign-6'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cassign-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7323'>#</a></div><p ><span class='textit'>Effects:</span> 
Each of these operators applies the indicated operation to each element
of <span class='texttt'>*this</span> and <span class='texttt'>v</span>.</p></div></div><div class='para' id='valarray.cassign-7'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cassign-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7328'>#</a></div><p ><span class='textit'>Returns:</span> 
<span class='texttt'>*this</span></p></div></div><div class='para' id='valarray.cassign-8'><div class='marginalizedparent'><a class='marginalized' href='#valarray.cassign-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7332'>#</a></div><p ><span class='textit'>Remarks:</span> 
The appearance of an array on the left-hand side of a compound assignment
does not
invalidate references or pointers to the elements of the array.
</p></div></div></div><div id='valarray.members'><h4 ><a class='secnum' href='#valarray.members' style='min-width:118pt'>26.7.2.8</a> <span class='texttt'>valarray</span> member functions <a class='abbr_ref' href='valarray.members'>[valarray.members]</a></h4><p ><span class='indexparent'><a class='index' id='swap,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,swap'></a></span></p><p ><code class='itemdecl'>void swap(valarray&amp; v) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='valarray.members-1'><div class='marginalizedparent'><a class='marginalized' href='#valarray.members-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7347'>#</a></div><p ><span class='textit'>Effects:</span> <span class='texttt'>*this</span> obtains the value of
<span class='texttt'>v</span>. <span class='texttt'>v</span> obtains the value of <span class='texttt'>*this</span>.</p></div></div><div class='para' id='valarray.members-2'><div class='marginalizedparent'><a class='marginalized' href='#valarray.members-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7351'>#</a></div><p ><span class='textit'>Complexity:</span> Constant.
</p></div></div><p ><span class='indexparent'><a class='index' id='size,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,size'></a></span></p><p ><code class='itemdecl'>size_t size() const;
</code></p><div class='itemdescr'></div><div class='para' id='valarray.members-3'><div class='marginalizedparent'><a class='marginalized' href='#valarray.members-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7361'>#</a></div><p ><span class='textit'>Returns:</span> The number of elements in the array.</p></div></div><div class='para' id='valarray.members-4'><div class='marginalizedparent'><a class='marginalized' href='#valarray.members-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7364'>#</a></div><p ><span class='textit'>Complexity:</span> Constant time.
</p></div></div><p ><span class='indexparent'><a class='index' id='sum,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,sum'></a></span></p><p ><code class='itemdecl'>T sum() const;
</code></p><div class='itemdescr'></div><div class='para' id='valarray.members-5'><div class='marginalizedparent'><a class='marginalized' href='#valarray.members-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7374'>#</a></div><p ><span class='textit'>Requires:</span> 
<span class='texttt'>size() &gt; 0</span>.
This function may only be instantiated for a type <span class='texttt'>T</span> to which
<span class='texttt'>operator+=</span>
can be applied.</p></div></div><div class='para' id='valarray.members-6'><div class='marginalizedparent'><a class='marginalized' href='#valarray.members-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7381'>#</a></div><p ><span class='textit'>Returns:</span> 
The sum of all the elements of the array.
If the array has length 1, returns the value of element 0.
Otherwise, the returned value is calculated by applying
<span class='texttt'>operator+=</span>
to a copy of an element of the array and
all other elements of the array in an unspecified order.</p></div></div><p ><span class='indexparent'><a class='index' id='min,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,min'></a></span></p><p ><code class='itemdecl'>T min() const;
</code></p><div class='itemdescr'></div><div class='para' id='valarray.members-7'><div class='marginalizedparent'><a class='marginalized' href='#valarray.members-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7397'>#</a></div><p ><span class='textit'>Requires:</span> 
<span class='texttt'>size() &gt; 0</span></p></div></div><div class='para' id='valarray.members-8'><div class='marginalizedparent'><a class='marginalized' href='#valarray.members-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7401'>#</a></div><p ><span class='textit'>Returns:</span> 
The minimum value contained in <span class='texttt'>*this</span>.
For an array of length 1, the value of element 0 is returned.
For all other array
lengths, the determination is made using
<span class='texttt'>operator&lt;</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='max,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,max'></a></span></p><p ><code class='itemdecl'>T max() const;
</code></p><div class='itemdescr'></div><div class='para' id='valarray.members-9'><div class='marginalizedparent'><a class='marginalized' href='#valarray.members-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7416'>#</a></div><p ><span class='textit'>Requires:</span> 
<span class='texttt'>size() &gt; 0</span>.</p></div></div><div class='para' id='valarray.members-10'><div class='marginalizedparent'><a class='marginalized' href='#valarray.members-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7420'>#</a></div><p ><span class='textit'>Returns:</span> 
The maximum value contained in <span class='texttt'>*this</span>.
For an array of length 1, the value of element 0 is returned.
For all other array
lengths, the determination is made using
<span class='texttt'>operator&lt;</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='shift,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,shift'></a></span></p><p ><code class='itemdecl'>valarray shift(int n) const;
</code></p><div class='itemdescr'></div><div class='para' id='valarray.members-11'><div class='marginalizedparent'><a class='marginalized' href='#valarray.members-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7435'>#</a></div><p ><span class='textit'>Returns:</span> 
A <span class='texttt'>valarray</span> of length <span class='texttt'>size()</span>, each of whose elements
<span class='textit'>I</span> is
<span class='texttt'>(*this)[<span class='textit'>I</span> + n]</span>
if <span class='texttt'><span class='textit'>I</span> + n</span>
is non-negative and less than
<span class='texttt'>size()</span>, otherwise <span class='texttt'>T()</span>.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> 
If element zero is taken as the leftmost element,
a positive value of <span class='texttt'>n</span> shifts the elements left <span class='texttt'>n</span>
places, with zero fill.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>] </p></div></div><div class='para' id='valarray.members-12'><div class='marginalizedparent'><a class='marginalized' href='#valarray.members-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7449'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span> 
If the argument has the value -2,
the first two elements of the result will be
<a href='dcl.init#def:value-initialize'>value-initialized</a>; the third element of the result will be assigned the value
of the first element of the argument; etc.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>] 
</p></div></div><p ><span class='indexparent'><a class='index' id='cshift,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,cshift'></a></span></p><p ><code class='itemdecl'>valarray cshift(int n) const;
</code></p><div class='itemdescr'></div><div class='para' id='valarray.members-13'><div class='marginalizedparent'><a class='marginalized' href='#valarray.members-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7464'>#</a></div><p ><span class='textit'>Returns:</span> 
A <span class='texttt'>valarray</span> of length <span class='texttt'>size()</span>
that is a circular shift of <span class='texttt'>*this</span>. If element zero is taken as
the leftmost element, a non-negative value of <span class='math'><span class='mathalpha'>n</span></span> shifts
the elements circularly left <span class='math'><span class='mathalpha'>n</span></span> places and a negative
value of <span class='math'><span class='mathalpha'>n</span></span> shifts the elements circularly right <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span> places.
</p></div></div><p ><span class='indexparent'><a class='index' id='apply,valarray'></a></span><span class='indexparent'><a class='index' id='valarray,apply'></a></span></p><p ><code class='itemdecl'>valarray apply(T func(T)) const;
valarray apply(T func(const T&amp;)) const;
</code></p><div class='itemdescr'></div><div class='para' id='valarray.members-14'><div class='marginalizedparent'><a class='marginalized' href='#valarray.members-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7480'>#</a></div><p ><span class='textit'>Returns:</span> 
A <span class='texttt'>valarray</span> whose length is <span class='texttt'>size()</span>.
Each element of the returned array is assigned
the value returned by applying the argument function to the
corresponding element of <span class='texttt'>*this</span>.
</p></div></div><p ><div id='valarray,resize'><div id='resize,valarray'>
<code class='itemdecl'>void resize(size_t sz, T c = T());
</code>
</div></div></p><div class='itemdescr'></div><div class='para' id='valarray.members-15'><div class='marginalizedparent'><a class='marginalized' href='#valarray.members-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33f16cb3417ad21949769d82cae36c1b653e4519/source/numerics.tex#L7495'>#</a></div><p ><span class='textit'>Effects:</span> 
Changes the length of the <span class='texttt'>*this</span> array to <span class='texttt'>sz</span>
and then assigns to each element the value of the second argument.
Resizing invalidates all pointers and references to elements in the array.
</p></div></div></div></div></div></body></html>