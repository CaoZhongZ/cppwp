<!DOCTYPE html><html lang='en'><head><title>[rand.req.eng]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>26</a> Numerics library <a class='abbr_ref' href='./#numerics'>[numerics]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>26.6</a> Random number generation <a class='abbr_ref' href='rand#req.eng'>[rand]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>26.6.1</a> Requirements <a class='abbr_ref' href='rand.req#eng'>[rand.req]</a></h3><div id='rand.req.eng'><h4 ><a class='secnum' style='min-width:118pt'>26.6.1.4</a> Random number engine requirements <a class='abbr_ref'>[rand.req.eng]</a></h4><p ><span class='indexparent'><a class='index' id='random_number_engine,requirements'></a></span><span class='indexparent'><a class='index' id='requirements,random_number_engine'></a></span></p><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3acb49d296ba7efdc7542e943262138dc0eb9b74/source/numerics.tex#L1809'>#</a></div><p >A <i>random number engine</i>
(commonly shortened to <i>engine</i>)
<span class='texttt'>e</span> of type <span class='texttt'>E</span>
is a uniform random bit generator
that additionally meets the requirements
(e.g., for seeding and for input/output)
specified in this section.</p></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3acb49d296ba7efdc7542e943262138dc0eb9b74/source/numerics.tex#L1818'>#</a></div><p >At any given time,
<span class='texttt'>e</span> has a state <span class='texttt'>e</span><span class='math'><sub ><span class='mathalpha'>i</span></sub></span>
for some integer <span class='math'><span class='mathalpha'>i</span> ≥ 0</span>.
Upon construction,
<span class='texttt'>e</span>
has an initial state <span class='texttt'>e</span><span class='math'><sub >0</sub></span>.
An engine's state may be established via
 a constructor,
 a <span class='texttt'>seed</span> function,
 assignment,
 or a suitable <span class='texttt'>operator&gt;&gt;</span>.</p></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3acb49d296ba7efdc7542e943262138dc0eb9b74/source/numerics.tex#L1831'>#</a></div><p ><span class='texttt'>E</span>'s specification shall define:
</p><ol class='enumeratea'><li id='3.a'><p><a class='enumerated_item_num' href='#3.a'>a)</a>the size of <span class='texttt'>E</span>'s state
   in multiples of the size of <span class='texttt'>result_type</span>,
   given as an integral constant expression;
 </p></li><li id='3.b'><p><a class='enumerated_item_num' href='#3.b'>b)</a>the <i>transition algorithm</i>
   <span class='math'><span class='mathsf'>TA</span></span>
   by which <span class='texttt'>e</span>'s state <span class='texttt'>e</span><span class='math'><sub ><span class='mathalpha'>i</span></sub></span>
   is advanced to its <i>successor state</i>
   <span class='texttt'>e</span><span class='math'><sub ><span class='mathalpha'>i</span>+1</sub></span>;
 and
 </p></li><li id='3.c'><p><a class='enumerated_item_num' href='#3.c'>c)</a>the <i>generation algorithm</i>
   <span class='math'><span class='mathsf'>GA</span></span>
   by which an engine's state is mapped
   to a value of type <span class='texttt'>result_type</span>.
</p></li></ol></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3acb49d296ba7efdc7542e943262138dc0eb9b74/source/numerics.tex#L1852'>#</a></div><p >A class <span class='texttt'>E</span>
that satisfies the requirements
of a uniform random bit generator (<a href='rand.req.urng'>[rand.req.urng]</a>)
also satisfies the requirements
of a <i>random number engine</i>
if the expressions shown
in Table <a href='#tab:RandomEngine'>[tab:RandomEngine]</a>
are valid and have the indicated semantics,
and if <span class='texttt'>E</span> also satisfies all other requirements
of this section <a href='rand.req.eng'>[rand.req.eng]</a>.
In that Table and throughout this section:
</p><ol class='enumeratea'><li id='4.a'><p><a class='enumerated_item_num' href='#4.a'>a)</a><span class='texttt'>T</span> is the type named by
    <span class='texttt'>E</span>'s associated <span class='texttt'>result_type</span>;
  </p></li><li id='4.b'><p><a class='enumerated_item_num' href='#4.b'>b)</a><span class='texttt'>e</span> is a value of <span class='texttt'>E</span>,
    <span class='texttt'>v</span> is an lvalue of <span class='texttt'>E</span>,
    <span class='texttt'>x</span> and <span class='texttt'>y</span> are (possibly <span class='texttt'>const</span>) values of <span class='texttt'>E</span>;
  </p></li><li id='4.c'><p><a class='enumerated_item_num' href='#4.c'>c)</a><span class='texttt'>s</span> is a value of <span class='texttt'>T</span>;
  </p></li><li id='4.d'><p><a class='enumerated_item_num' href='#4.d'>d)</a><span class='texttt'>q</span> is an lvalue
    satisfying the requirements of a seed sequence (<a href='rand.req.seedseq'>[rand.req.seedseq]</a>);
  </p></li><li id='4.e'><p><a class='enumerated_item_num' href='#4.e'>e)</a><span class='texttt'>z</span> is a value
    of type <span class='texttt'>unsigned long long</span>;
  </p></li><li id='4.f'><p><a class='enumerated_item_num' href='#4.f'>f)</a><span class='texttt'>os</span> is an lvalue of the type of some class template specialization
    <span class='texttt'>basic_ostream&lt;charT,</span> <span class='texttt'>traits&gt;</span>;
  and
  </p></li><li id='4.g'><p><a class='enumerated_item_num' href='#4.g'>g)</a><span class='texttt'>is</span> is an lvalue of the type of some class template specialization
    <span class='texttt'>basic_istream&lt;charT,</span> <span class='texttt'>traits&gt;</span>;
</p></li></ol><p >where <span class='texttt'>charT</span> and <span class='texttt'>traits</span> are constrained
according to Clause <a href='strings'>[strings]</a> and Clause <a href='input.output'>[input.output]</a>.</p><div class='numberedTable' id='tab:RandomEngine'>Table <a href='#tab:RandomEngine'>104</a> — Random number engine requirements<br><table ><tr class='rowsep'><td colspan='1' class='center'><b>Expression</b></td><td colspan='1' class='center'><b>Return type</b></td><td colspan='1' class='center'><b>Pre/post-condition</b></td><td colspan='1' class='center'><b>Complexity</b></td></tr><tr class='capsep'><td class='left'> 

<span class='texttt'>E()</span><span class='indexparent'><a class='index' id='constructor,random_number_engine_requirement'></a></span>
  </td><td class='left'>
  </td><td class='left'> Creates an engine
    with the same initial state
    as all other default-constructed engines
    of type <span class='texttt'>E</span>.
  </td><td class='left'> <span class='math'>Ο(<span class='math'><span class='mbox'>size of state</span></span>)</span>
  </td></tr><tr class='rowsep'><td class='left'> 
<span class='texttt'>E(x)</span>
<span class='indexparent'><a class='index' id='copy_constructor,random_number_engine_requirement'></a></span>
  </td><td class='left'>
  </td><td class='left'> Creates an engine
    that compares equal to <span class='texttt'>x</span>.
  </td><td class='left'> <span class='math'>Ο(<span class='math'><span class='mbox'>size of state</span></span>)</span>
  </td></tr><tr class='rowsep'><td class='left'> 
<span class='texttt'>E(s)</span><span class='indexparent'><a class='index' id='constructor,random_number_engine_requirement'></a></span>
  </td><td class='left'>
  </td><td class='left'> Creates an engine
      with initial state determined by <span class='texttt'>s</span>.
  </td><td class='left'> <span class='math'>Ο(<span class='math'><span class='mbox'>size of state</span></span>)</span>
  </td></tr><tr class='rowsep'><td class='left'> 
<span class='texttt'>E(q)</span><span class='indexparent'><a class='index' id='constructor,random_number_engine_requirement'></a></span><a class='footnotenum' href='#footnote-268'>268</a>
  </td><td class='left'>
  </td><td class='left'> Creates an engine
    with an initial state
    that depends on a sequence
    produced by one call
    to <span class='texttt'>q.generate</span>.
  </td><td class='left'> same as complexity of <span class='texttt'>q.generate</span>
    called on a sequence
    whose length is size of state
  </td></tr><tr class='rowsep'><td class='left'> 
<span class='texttt'>e.seed()</span><span class='indexparent'><a class='index' id='seed,random_number_engine_requirement'></a></span>
  </td><td class='left'> <span class='texttt'>void</span>
  </td><td class='left'> post:
    <span class='texttt'>e == E()</span>.
  </td><td class='left'> same as <span class='texttt'>E()</span>
  </td></tr><tr class='rowsep'><td class='left'> 
<span class='texttt'>e.seed(s)</span><span class='indexparent'><a class='index' id='seed,random_number_engine_requirement'></a></span>
  </td><td class='left'> <span class='texttt'>void</span>
  </td><td class='left'> post:
    <span class='texttt'>e == E(s)</span>.
  </td><td class='left'> same as <span class='texttt'>E(s)</span>
  </td></tr><tr class='rowsep'><td class='left'> 
<span class='texttt'>e.seed(q)</span><span class='indexparent'><a class='index' id='seed,random_number_engine_requirement'></a></span>
  </td><td class='left'> <span class='texttt'>void</span>
  </td><td class='left'> post:
    <span class='texttt'>e == E(q)</span>.
  </td><td class='left'> same as <span class='texttt'>E(q)</span>
  </td></tr><tr class='rowsep'><td class='left'> 
<span class='texttt'>e()</span><span class='indexparent'><a class='index' id='operator(),random_number_engine_requirement'></a></span>
  </td><td class='left'> <span class='texttt'>T</span>
  </td><td class='left'> Advances <span class='texttt'>e</span>'s state <span class='texttt'>e</span><span class='math'><sub ><span class='mathalpha'>i</span></sub></span> to
      <span class='texttt'>e</span><span class='math'><sub ><span class='mathalpha'>i</span>+1</sub></span> <span class='math'>= <span class='mathsf'>TA</span>(</span><span class='texttt'>e</span><span class='math'><sub ><span class='mathalpha'>i</span></sub></span><span class='math'>)</span>
    and returns
      <span class='math'><span class='mathsf'>GA</span>(</span><span class='texttt'>e</span><span class='math'><sub ><span class='mathalpha'>i</span></sub></span><span class='math'>)</span>.
  </td><td class='left'> per Table <a href='rand.req.urng#tab:UniformRandomBitGenerator'>[tab:UniformRandomBitGenerator]</a>
  </td></tr><tr class='rowsep'><td class='left'> 
<span class='texttt'>e.discard(z)</span><span class='indexparent'><a class='index' id='discard,random_number_engine_requirement'></a></span>
<a class='footnotenum' href='#footnote-269'>269</a>
  </td><td class='left'> <span class='texttt'>void</span>
  </td><td class='left'> Advances <span class='texttt'>e</span>'s state <span class='texttt'>e</span><span class='math'><sub ><span class='mathalpha'>i</span></sub></span>
      to <span class='math'><span class='texttt'>e</span><sub ><span class='mathalpha'>i</span>+<span class='texttt'>z</span></sub></span>
      by any means equivalent to <span class='texttt'>z</span> consecutive calls <span class='texttt'>e()</span>.
  </td><td class='left'> no worse than the complexity
    of <span class='texttt'>z</span> consecutive calls <span class='texttt'>e()</span>
  </td></tr><tr class='rowsep'><td class='left'> 
<span class='texttt'>x == y</span><span class='indexparent'><a class='index' id='operator==,random_number_engine_requirement'></a></span>
  </td><td class='left'> <span class='texttt'>bool</span>
  </td><td class='left'> This operator is an equivalence relation.
    With <span class='math'><span class='mathalpha'>S</span><sub ><span class='mathalpha'>x</span></sub></span> and <span class='math'><span class='mathalpha'>S</span><sub ><span class='mathalpha'>y</span></sub></span>
    as the infinite sequences of values
    that would be generated
    by repeated future calls
    to <span class='texttt'>x()</span> and <span class='texttt'>y()</span>,
    respectively,
    returns <span class='texttt'>true</span>
      if <span class='math'><span class='mathalpha'>S</span><sub ><span class='mathalpha'>x</span></sub> = <span class='mathalpha'>S</span><sub ><span class='mathalpha'>y</span></sub></span>;
    else returns <span class='texttt'>false</span>.
  </td><td class='left'> <span class='math'>Ο(<span class='math'><span class='mbox'>size of state</span></span>)</span>
  </td></tr><tr class='rowsep'><td class='left'> 
<span class='texttt'>x != y</span><span class='indexparent'><a class='index' id='operator!=,random_number_engine_requirement'></a></span>
  </td><td class='left'> <span class='texttt'>bool</span>
  </td><td class='left'> <span class='texttt'>!(x == y)</span>.
  </td><td class='left'> <span class='math'>Ο(<span class='math'><span class='mbox'>size of state</span></span>)</span>
  </td></tr><tr class='rowsep'><td class='left'> 
<span class='texttt'>os &lt;&lt; x</span><span class='indexparent'><a class='index' id='operator<<,random_number_engine_requirement'></a></span>
  </td><td class='left'> reference to the type of <span class='texttt'>os</span>
  </td><td class='left'> With <span class='texttt'>os.</span><i>fmtflags</i> set to
    <span class='texttt'>ios_base::dec|ios_base::left</span>
    and the fill character set to the space character,
    writes to <span class='texttt'>os</span>
    the textual representation
    of <span class='texttt'>x</span>'s current state.
    In the output,
    adjacent numbers are separated
    by one or more space characters.    post: The <span class='texttt'>os.</span><i>fmtflags</i> and fill character are unchanged.
  </td><td class='left'> <span class='math'>Ο(<span class='math'><span class='mbox'>size of state</span></span>)</span>
  </td></tr><tr class='rowsep'><td class='left'> 
<span class='texttt'>is &gt;&gt; v</span><span class='indexparent'><a class='index' id='operator>>,random_number_engine_requirement'></a></span>
  </td><td class='left'> reference to the type of <span class='texttt'>is</span>
  </td><td class='left'> With <span class='texttt'>is.fmtflags</span>
    set to <span class='texttt'>ios_base::dec</span>,
    sets <span class='texttt'>v</span>'s state
    as determined by reading its textual representation from <span class='texttt'>is</span>.
    If bad input is encountered,
    ensures that <span class='texttt'>v</span>'s state is unchanged by the operation
    and
    calls <span class='texttt'>is.setstate(ios::failbit)</span>
    (which may throw <span class='texttt'>ios::failure</span> [<a href='iostate.flags'>[iostate.flags]</a>]).
    If a textual representation written via <span class='texttt'>os &lt;&lt; x</span>
    was subsequently read via <span class='texttt'>is &gt;&gt; v</span>,
    then <span class='texttt'>x == v</span>
    provided that there have been no intervening invocations
    of <span class='texttt'>x</span> or of <span class='texttt'>v</span>.    pre:
    <span class='texttt'>is</span> provides a textual representation
    that was previously written
    using an output stream
    whose imbued locale
    was the same as that of <span class='texttt'>is</span>,
    and whose type's template specialization arguments
    <span class='texttt'>charT</span> and <span class='texttt'>traits</span>
    were respectively the same as those of <span class='texttt'>is</span>.    post: The <span class='texttt'>is.</span><i>fmtflags</i> are unchanged.
  </td><td class='left'> <span class='math'>Ο(<span class='math'><span class='mbox'>size of state</span></span>)</span>
  </td></tr></table></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3acb49d296ba7efdc7542e943262138dc0eb9b74/source/numerics.tex#L2065'>#</a></div><p ><span class='texttt'>E</span> shall meet the requirements
of <span class='texttt'>CopyConstructible</span> (Table <a href='utility.arg.requirements#tab:copyconstructible'>[tab:copyconstructible]</a>)
and <span class='texttt'>CopyAssignable</span> (Table <a href='utility.arg.requirements#tab:copyassignable'>[tab:copyassignable]</a>) types.
These operations shall each be of complexity
no worse than <span class='math'>Ο(<span class='math'><span class='mbox'>size of state</span></span>)</span>.</p><p ><span class='indexparent'><a class='index' id='requirements,random_number_engine'></a></span>
<span class='indexparent'><a class='index' id='random_number_engine,requirements'></a></span></p></div><div class='footnote' id='footnote-268'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-268'>268)</a></div><p >This constructor
  (as well as the subsequent corresponding <span class='texttt'>seed()</span> function)
  may be particularly useful
  to applications requiring
  a large number of independent random sequences.
  </p></div><div class='footnote' id='footnote-269'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-269'>269)</a></div><p >This operation is common
  in user code,
  and can often be implemented
  in an engine-specific manner
  so as to provide significant performance improvements
  over an equivalent naive loop
  that makes <span class='texttt'>z</span> consecutive calls <span class='texttt'>e()</span>.
</p></div></div></div></body></html>