<!DOCTYPE html><html lang='en'><head><title>[support.types.layout]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>18</a> Language support library <a class='abbr_ref' href='./#language.support'>[language.support]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>18.2</a> Common definitions <a class='abbr_ref' href='support.types#layout'>[support.types]</a></h2><div id='support.types.layout'><h3 ><a class='secnum' style='min-width:103pt'>18.2.4</a> Sizes, alignments, and offsets <a class='abbr_ref'>[support.types.layout]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2080ad69c0fb3b4366c459df13e49b3844433f85/source/support.tex#L266'>#</a></div><p >The macro
<span class='indexparent'><a class='index' id='offsetof'></a></span><span class='texttt'>offsetof(<span class='textit'>type</span>, <span class='textit'>member-designator</span>)</span>
has the same semantics as the corresponding macro in
the C standard library header <span class='texttt'>&lt;stddef.h&gt;</span>, but
accepts a restricted set of <span class='texttt'><span class='textit'>type</span></span>
arguments in this International Standard.
Use of the <span class='texttt'>offsetof</span> macro with a <span class='texttt'><span class='textit'>type</span></span>
other than a <a href='class#def:standard-layout_class'>standard-layout class</a>
is conditionally-supported.<a class='footnotenum' href='#footnote-187'>187</a>
The expression <span class='texttt'>offsetof(<span class='textit'>type</span>, <span class='textit'>member-designator</span>)</span>
is never <a href='temp.dep.expr'>type-dependent</a> and it is
<a href='temp.dep.constexpr'>value-dependent</a> if and only if <span class='texttt'><span class='textit'>type</span></span> is
dependent. The result of applying the <span class='texttt'>offsetof</span> macro to
a static data member or a function member is undefined.
No operation invoked by the <span class='texttt'>offsetof</span> macro shall throw an exception and
<span class='texttt'>noexcept(offsetof(<span class='textit'>type</span>, <span class='textit'>member-designator</span>))</span> shall be <span class='texttt'>true</span>.</p></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2080ad69c0fb3b4366c459df13e49b3844433f85/source/support.tex#L288'>#</a></div><p >The type <span class='texttt'>ptrdiff_&shy;t</span> is an
<span class='indexparent'><a class='index' id='type_of_ptrdiff_t'></a></span>implementation-defined
signed integer type that can
hold the difference of two subscripts in an array object, as described in <a href='expr.add'>[expr.add]</a>.</p></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2080ad69c0fb3b4366c459df13e49b3844433f85/source/support.tex#L294'>#</a></div><p >The type <span class='texttt'>size_&shy;t</span> is an
<span class='indexparent'><a class='index' id='type_of_size_t'></a></span>implementation-defined
unsigned integer type that is large enough
to contain the size in bytes of any object.</p></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2080ad69c0fb3b4366c459df13e49b3844433f85/source/support.tex#L300'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> 
It is recommended that implementations choose types for <span class='texttt'>ptrdiff_&shy;t</span> and <span class='texttt'>size_&shy;t</span>
whose integer <a href='conv.rank'>conversion ranks</a> are no greater than that of
<span class='texttt'>signed long int</span> unless a larger size is necessary to contain all the possible values.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>â€”<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>] </p></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2080ad69c0fb3b4366c459df13e49b3844433f85/source/support.tex#L307'>#</a></div><p >The type
<span class='indexparent'><a class='index' id='max_align_t'></a></span><span class='texttt'>max_&shy;align_&shy;t</span> is a POD type whose alignment requirement
is at least as great as that of every scalar type, and whose alignment
requirement is supported in every context.</p><p ><span class='textsc'>See also:</span> <a href='basic.align'>Alignment</a>, <a href='expr.sizeof'>Sizeof</a>, <a href='expr.add'>Additive
operators</a>, <a href='class.free'>Free store</a>, and ISO C 7.19.</p></div><div class='footnote' id='footnote-187'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-187'>187)</a></div><p >Note that <span class='texttt'>offsetof</span>
is required to work as specified even if unary
<span class='texttt'>operator&amp;</span>
is overloaded for any of the types involved.</p></div></div></div></body></html>