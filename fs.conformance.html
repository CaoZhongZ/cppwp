<!DOCTYPE html><html lang='en'><head><title>[fs.conformance]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>30</a> Input/output library <a class='abbr_ref' href='./#input.output'>[input.output]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>30.10</a> File systems <a class='abbr_ref' href='filesystems#fs.conformance'>[filesystems]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>30.10.2</a> Conformance <a class='abbr_ref'>[fs.conformance]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33316c99af9acd689e81d52f6e13bb102301f5d8/source/iostreams.tex#L9962'>#</a></div><p >Conformance is specified in terms of behavior. Ideal behavior is not always
implementable, so the conformance subclauses take that into account.</p></div><div id='fs.conform.9945'><h4 ><a class='secnum' href='#fs.conform.9945' style='min-width:118pt'>30.10.2.1</a> POSIX conformance <a class='abbr_ref' href='fs.conform.9945'>[fs.conform.9945]</a></h4><div class='para' id='fs.conform.9945-1'><div class='marginalizedparent'><a class='marginalized' href='#fs.conform.9945-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33316c99af9acd689e81d52f6e13bb102301f5d8/source/iostreams.tex#L9967'>#</a></div><p >Some behavior is specified by reference to POSIX (<a href='fs.norm.ref'>[fs.norm.ref]</a>). How such behavior is actually implemented is unspecified.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>  This constitutes an “as if” rule allowing implementations
to call native
operating system or other APIs. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>] </p></div><div class='para' id='fs.conform.9945-2'><div class='marginalizedparent'><a class='marginalized' href='#fs.conform.9945-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33316c99af9acd689e81d52f6e13bb102301f5d8/source/iostreams.tex#L9973'>#</a></div><p >Implementations are encouraged to provide such behavior as it is defined by
POSIX. Implementations shall document any behavior that differs from the
behavior defined by POSIX. Implementations that do not support exact POSIX
behavior are encouraged to provide behavior as close to POSIX behavior as is reasonable given the
limitations of actual operating systems and file systems. If an implementation cannot provide any
reasonable behavior, the implementation shall report an error as specified in <a href='fs.err.report'>[fs.err.report]</a>.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>  This allows users to rely on an exception being thrown or
an error code being set when an implementation cannot provide any reasonable
behavior.<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>] </p></div><div class='para' id='fs.conform.9945-3'><div class='marginalizedparent'><a class='marginalized' href='#fs.conform.9945-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33316c99af9acd689e81d52f6e13bb102301f5d8/source/iostreams.tex#L9984'>#</a></div><p >Implementations are not required to provide behavior that is not supported by
a particular file system.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span>  The FAT file system used by some memory cards, camera memory, and
floppy disks does not support hard links, symlinks, and many other features of
more capable file systems, so implementations are not required to support those
features on the FAT file system
but instead are required to report an error as described above.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>] </p></div></div><div id='fs.conform.os'><h4 ><a class='secnum' href='#fs.conform.os' style='min-width:118pt'>30.10.2.2</a> Operating system dependent behavior conformance <a class='abbr_ref' href='fs.conform.os'>[fs.conform.os]</a></h4><div class='para' id='fs.conform.os-1'><div class='marginalizedparent'><a class='marginalized' href='#fs.conform.os-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33316c99af9acd689e81d52f6e13bb102301f5d8/source/iostreams.tex#L9995'>#</a></div><p >Some behavior is specified as being
<a href='fs.def.osdep'>operating system dependent</a>. The operating system an
implementation is dependent upon is
<span class='indexparent'><a class='index' id=':operating_system_on_which_implementation_depends'></a></span>implementation-defined.</p></div><div class='para' id='fs.conform.os-2'><div class='marginalizedparent'><a class='marginalized' href='#fs.conform.os-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33316c99af9acd689e81d52f6e13bb102301f5d8/source/iostreams.tex#L10001'>#</a></div><p >It is permissible for an implementation to be dependent upon an operating
system emulator rather than the actual underlying operating system.</p></div></div><div id='fs.race.behavior'><h4 ><a class='secnum' href='#fs.race.behavior' style='min-width:118pt'>30.10.2.3</a> File system race behavior <a class='abbr_ref' href='fs.race.behavior'>[fs.race.behavior]</a></h4><div class='para' id='fs.race.behavior-1'><div class='marginalizedparent'><a class='marginalized' href='#fs.race.behavior-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33316c99af9acd689e81d52f6e13bb102301f5d8/source/iostreams.tex#L10007'>#</a></div><p >Behavior is undefined if calls to functions provided by this subclause introduce a <a href='fs.def.race'>file system race</a>.</p></div><div class='para' id='fs.race.behavior-2'><div class='marginalizedparent'><a class='marginalized' href='#fs.race.behavior-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/33316c99af9acd689e81d52f6e13bb102301f5d8/source/iostreams.tex#L10010'>#</a></div><p >If the possibility of a file system race would make it unreliable for a
program to test for a precondition before calling a function described herein,
<span class='textit'>Requires:</span> is not specified for the function.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span>  As a design practice, preconditions are not specified when it
is unreasonable for a program to detect them prior to calling the function.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>] </p></div></div></div></body></html>