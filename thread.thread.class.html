<!DOCTYPE html><html lang='en'><head><title>[thread.thread.class]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>30</a> Thread support library <a class='abbr_ref' href='./#thread'>[thread]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>30.3</a> Threads <a class='abbr_ref' href='thread.threads#thread.thread.class'>[thread.threads]</a></h2><div id='thread.thread.class'><h3 ><a class='secnum' style='min-width:103pt'>30.3.2</a> Class <span class='texttt'>thread</span> <a class='abbr_ref'>[thread.thread.class]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L315'>#</a></div><p >The class <span class='texttt'>thread</span> provides a mechanism to create a new thread of execution, to join with
a thread (i.e., wait for a thread to complete), and to perform other operations that manage and
query the state of a thread. A <span class='texttt'>thread</span> object uniquely represents a particular thread of
execution. That representation may be transferred to other <span class='texttt'>thread</span> objects in such a way
that no two <span class='texttt'>thread</span> objects simultaneously represent the same thread of execution. A
thread of execution is <a class='hidden_link' href='#def:detached' id='def:detached'><i>detached</i></a> when no <span class='texttt'>thread</span> object represents that thread.
Objects of class <span class='texttt'>thread</span> can be in a state that does not represent a thread of
execution. [<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> A <span class='texttt'>thread</span> object does not represent a thread of execution after
default construction, after being moved from, or after a successful call to <span class='texttt'>detach</span> or
<span class='texttt'>join</span>. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p><p ><span class='indexparent'><a class='index' id='thread'></a></span></p><pre class='codeblock'>
namespace std {
  class thread {
  public:
    <span class='comment'>// types:
</span>    class id;
    using native_handle_type = <span class='textit'>implementation-defined</span>; <span class='comment'>// See <a href='thread.req.native'>[thread.req.native]</a>
</span>
    <span class='comment'>// construct/copy/destroy:
</span>    thread() noexcept;
    template &lt;class F, class... Args&gt; explicit thread(F&amp;&amp; f, Args&amp;&amp;... args);
    ~thread();
    thread(const thread&amp;) = delete;
    thread(thread&amp;&amp;) noexcept;
    thread&amp; operator=(const thread&amp;) = delete;
    thread&amp; operator=(thread&amp;&amp;) noexcept;

    <span class='comment'>// members:
</span>    void swap(thread&amp;) noexcept;
    bool joinable() const noexcept;
    void join();
    void detach();
    id get_id() const noexcept;
    native_handle_type native_handle(); <span class='comment'>// See <a href='thread.req.native'>[thread.req.native]</a>
</span>
    <span class='comment'>// static members:
</span>    static unsigned hardware_concurrency() noexcept;
  };
}</pre></div><div id='thread.thread.id'><h4 ><a class='secnum' href='#thread.thread.id' style='min-width:118pt'>30.3.2.1</a> Class <span class='texttt'>thread&#x200b;::&#x200b;id</span> <a class='abbr_ref' href='thread.thread.id'>[thread.thread.id]</a></h4><p ><span class='indexparent'><a class='index' id='thread::id'></a></span><span class='indexparent'><a class='index' id='thread,id'></a></span></p><pre class='codeblock'>
namespace std {
  class thread::id {
  public:
      id() noexcept;
  };

  bool operator==(thread::id x, thread::id y) noexcept;
  bool operator!=(thread::id x, thread::id y) noexcept;
  bool operator&lt;(thread::id x, thread::id y) noexcept;
  bool operator&lt;=(thread::id x, thread::id y) noexcept;
  bool operator&gt;(thread::id x, thread::id y) noexcept;
  bool operator&gt;=(thread::id x, thread::id y) noexcept;

  template&lt;class charT, class traits&gt;
    basic_ostream&lt;charT, traits&gt;&amp;
      operator&lt;&lt; (basic_ostream&lt;charT, traits&gt;&amp; out, thread::id id);

  <span class='comment'>// Hash support
</span>  template &lt;class T&gt; struct hash;
  template &lt;&gt; struct hash&lt;thread::id&gt;;
}</pre><div class='para' id='thread.thread.id-1'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.id-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L387'>#</a></div><p >An object of type <span class='texttt'>thread&#x200b;::&#x200b;id</span> provides a unique identifier for
each thread of execution and a single distinct value for all <span class='texttt'>thread</span>
objects that do not represent a thread of
execution (<a href='thread.thread.class'>[thread.thread.class]</a>). Each thread of execution has an
associated <span class='texttt'>thread&#x200b;::&#x200b;id</span> object that is not equal to the
<span class='texttt'>thread&#x200b;::&#x200b;id</span> object of any other thread of execution and that is not
equal to the <span class='texttt'>thread&#x200b;::&#x200b;id</span> object of any <span class='texttt'>thread</span> object that
does not represent threads of execution.</p></div><div class='para' id='thread.thread.id-2'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.id-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L396'>#</a></div><p ><span class='texttt'>thread&#x200b;::&#x200b;id</span> shall be a trivially copyable class (Clause <a href='class'>[class]</a>).
The library may reuse the value of a <span class='texttt'>thread&#x200b;::&#x200b;id</span> of a terminated thread that can no longer be joined.</p></div><div class='para' id='thread.thread.id-3'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.id-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L400'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> Relational operators allow <span class='texttt'>thread&#x200b;::&#x200b;id</span> objects to be used as
keys in associative containers. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p><p ><span class='indexparent'><a class='index' id='thread::id,constructor'></a></span></p></div><p ><code class='itemdecl'>id() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='thread.thread.id-4'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.id-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L410'>#</a></div><p ><span class='textit'>Effects:</span> Constructs an object of type <span class='texttt'>id</span>.</p></div></div><div class='para' id='thread.thread.id-5'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.id-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L412'>#</a></div><p ><span class='textit'>Postconditions:</span> The constructed object does not represent a thread of execution.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator==,thread::id'></a></span><span class='indexparent'><a class='index' id='thread::id,operator=='></a></span></p><p ><code class='itemdecl'>bool operator==(thread::id x, thread::id y) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='thread.thread.id-6'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.id-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L421'>#</a></div><p ><span class='textit'>Returns:</span> <span class='texttt'>true</span> only if <span class='texttt'>x</span> and <span class='texttt'>y</span> represent the same
thread of execution or neither <span class='texttt'>x</span> nor <span class='texttt'>y</span> represents a thread of
execution.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator!=,thread::id'></a></span><span class='indexparent'><a class='index' id='thread::id,operator!='></a></span></p><p ><code class='itemdecl'>bool operator!=(thread::id x, thread::id y) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='thread.thread.id-7'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.id-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L432'>#</a></div><p ><span class='textit'>Returns:</span> <span class='texttt'>!(x == y)</span>
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<,thread::id'></a></span><span class='indexparent'><a class='index' id='thread::id,operator<'></a></span></p><p ><code class='itemdecl'>bool operator&lt;(thread::id x, thread::id y) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='thread.thread.id-8'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.id-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L441'>#</a></div><p ><span class='textit'>Returns:</span> A value such that <span class='texttt'>operator&lt;</span> is a total ordering as described in <a href='alg.sorting'>[alg.sorting]</a>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<=,thread::id'></a></span><span class='indexparent'><a class='index' id='thread::id,operator<='></a></span></p><p ><code class='itemdecl'>bool operator&lt;=(thread::id x, thread::id y) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='thread.thread.id-9'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.id-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L451'>#</a></div><p ><span class='textit'>Returns:</span> <span class='texttt'>!(y &lt; x)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>,thread::id'></a></span><span class='indexparent'><a class='index' id='thread::id,operator>'></a></span></p><p ><code class='itemdecl'>bool operator&gt;(thread::id x, thread::id y) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='thread.thread.id-10'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.id-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L461'>#</a></div><p ><span class='textit'>Returns:</span> <span class='texttt'>y &lt; x</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator>=,thread::id'></a></span><span class='indexparent'><a class='index' id='thread::id,operator>='></a></span></p><p ><code class='itemdecl'>bool operator&gt;=(thread::id x, thread::id y) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='thread.thread.id-11'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.id-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L470'>#</a></div><p ><span class='textit'>Returns:</span> <span class='texttt'>!(x &lt; y)</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='operator<<,thread::id'></a></span><span class='indexparent'><a class='index' id='thread::id,operator<<'></a></span></p><p ><code class='itemdecl'>template&lt;class charT, class traits&gt;
  basic_ostream&lt;charT, traits&gt;&amp;
    operator&lt;&lt; (basic_ostream&lt;charT, traits&gt;&amp; out, thread::id id);
</code></p><div class='itemdescr'></div><div class='para' id='thread.thread.id-12'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.id-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L481'>#</a></div><p ><span class='textit'>Effects:</span> Inserts an unspecified text representation of <span class='texttt'>id</span> into
<span class='texttt'>out</span>. For two objects of type <span class='texttt'>thread&#x200b;::&#x200b;id</span> <span class='texttt'>x</span> and <span class='texttt'>y</span>,
if <span class='texttt'>x == y</span> the <span class='texttt'>thread&#x200b;::&#x200b;id</span> objects shall have the same text
representation and if <span class='texttt'>x != y</span> the <span class='texttt'>thread&#x200b;::&#x200b;id</span> objects shall have
distinct text representations.</p></div></div><div class='para' id='thread.thread.id-13'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.id-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L487'>#</a></div><p ><span class='textit'>Returns:</span> <span class='texttt'>out</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='hash,thread::id'></a></span></p><p ><code class='itemdecl'>template &lt;&gt; struct hash&lt;thread::id&gt;;
</code></p><div class='itemdescr'></div><div class='para' id='thread.thread.id-14'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.id-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L496'>#</a></div><p >The specialization is enabled (<a href='unord.hash'>[unord.hash]</a>).
</p></div></div></div><div id='thread.thread.constr'><h4 ><a class='secnum' href='#thread.thread.constr' style='min-width:118pt'>30.3.2.2</a> <span class='texttt'>thread</span> constructors <a class='abbr_ref' href='thread.thread.constr'>[thread.thread.constr]</a></h4><p ><span class='indexparent'><a class='index' id='thread,constructor'></a></span></p><p ><code class='itemdecl'>thread() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='thread.thread.constr-1'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.constr-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L507'>#</a></div><p ><span class='textit'>Effects:</span> Constructs a <span class='texttt'>thread</span> object that does not represent a thread of execution.</p></div></div><div class='para' id='thread.thread.constr-2'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.constr-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L509'>#</a></div><p ><span class='textit'>Postconditions:</span> <span class='texttt'>get_&shy;id() == id()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='thread,constructor'></a></span></p><p ><code class='itemdecl'>template &lt;class F, class... Args&gt; explicit thread(F&amp;&amp; f, Args&amp;&amp;... args);
</code></p><div class='itemdescr'></div><div class='para' id='thread.thread.constr-3'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.constr-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L518'>#</a></div><p ><span class='textit'>Requires:</span>&nbsp;<span class='texttt'>F</span> and each <span class='texttt'>Ti</span> in <span class='texttt'>Args</span> shall satisfy the
<span class='texttt'>MoveConstructible</span> requirements.
<span class='texttt'><span class='textit'>INVOKE</span>(<span class='textit'>DECAY_&shy;COPY</span>(</span>
<span class='texttt'>std&#x200b;::&#x200b;forward&lt;F&gt;(f)), <span class='textit'>DECAY_&shy;COPY</span>(std&#x200b;::&#x200b;forward&lt;Args&gt;(args))...)</span> (<a href='func.require'>[func.require]</a>) shall be
a valid expression.</p></div></div><div class='para' id='thread.thread.constr-4'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.constr-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L525'>#</a></div><p ><span class='textit'>Remarks:</span>
This constructor shall not participate in overload resolution if <span class='texttt'>decay_&shy;t&lt;F&gt;</span>
is the same type as <span class='texttt'>std&#x200b;::&#x200b;thread</span>.</p></div></div><div class='para' id='thread.thread.constr-5'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.constr-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L530'>#</a></div><p ><span class='textit'>Effects:</span>&nbsp;Constructs an object of type <span class='texttt'>thread</span>. The new thread of execution executes
<span class='texttt'><span class='textit'>INVOKE</span>(<span class='textit'>DECAY_&shy;COPY</span>(</span>
<span class='texttt'>std&#x200b;::&#x200b;forward&lt;F&gt;(f)), <span class='textit'>DECAY_&shy;COPY</span>(std&#x200b;::&#x200b;forward&lt;Args&gt;(args))...)</span> with the calls to
&#x200b;<span class='texttt'><span class='textit'>DECAY_&shy;COPY</span></span> being evaluated in the constructing thread. Any return value from this invocation
is ignored. [<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> This implies that any exceptions not thrown from the invocation of the copy
of <span class='texttt'>f</span> will be thrown in the constructing thread, not the new thread. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>] If the
invocation of
<span class='texttt'><span class='textit'>INVOKE</span>(<span class='textit'>DECAY_&shy;COPY</span>(</span>
<span class='texttt'>std&#x200b;::&#x200b;forward&lt;F&gt;(f)), <span class='textit'>DECAY_&shy;COPY</span>(std&#x200b;::&#x200b;forward&lt;Args&gt;(args))...)</span>
terminates with an uncaught exception, <span class='texttt'>terminate</span> shall be called.</p></div></div><div class='para' id='thread.thread.constr-6'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.constr-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L543'>#</a></div><p ><span class='textit'>Synchronization:</span> The completion of the invocation of the constructor
synchronizes with the beginning of the invocation of the copy of <span class='texttt'>f</span>.</p></div></div><div class='para' id='thread.thread.constr-7'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.constr-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L546'>#</a></div><p ><span class='textit'>Postconditions:</span> <span class='texttt'>get_&shy;id() != id()</span>. <span class='texttt'>*this</span> represents the newly started thread.</p></div></div><div class='para' id='thread.thread.constr-8'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.constr-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L548'>#</a></div><p ><span class='textit'>Throws:</span> <span class='texttt'>system_&shy;error</span> if unable to start the new thread.</p></div></div><div class='para' id='thread.thread.constr-9'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.constr-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L550'>#</a></div><p ><span class='textit'>Error conditions:</span>
</p><ul class='itemize'><li id='thread.thread.constr-9.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#thread.thread.constr-9.1'>(9.1)</a></div><p ><span class='texttt'>resource_&shy;unavailable_&shy;try_&shy;again</span> — the system lacked the necessary
resources to create another thread, or the system-imposed limit on the number of
threads in a process would be exceeded.
</p></li></ul></div></div><p ><span class='indexparent'><a class='index' id='thread,constructor'></a></span></p><p ><code class='itemdecl'>thread(thread&amp;&amp; x) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='thread.thread.constr-10'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.constr-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L564'>#</a></div><p ><span class='textit'>Effects:</span> Constructs an object of type <span class='texttt'>thread</span> from <span class='texttt'>x</span>, and sets
<span class='texttt'>x</span> to a default constructed state.</p></div></div><div class='para' id='thread.thread.constr-11'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.constr-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L568'>#</a></div><p ><span class='textit'>Postconditions:</span> <span class='texttt'>x.get_&shy;id() == id()</span> and <span class='texttt'>get_&shy;id()</span> returns the
value of <span class='texttt'>x.get_&shy;id()</span> prior to the start of construction.</p></div></div></div><div id='thread.thread.destr'><h4 ><a class='secnum' href='#thread.thread.destr' style='min-width:118pt'>30.3.2.3</a> <span class='texttt'>thread</span> destructor <a class='abbr_ref' href='thread.thread.destr'>[thread.thread.destr]</a></h4><p ><span class='indexparent'><a class='index' id='thread,destructor'></a></span></p><p ><code class='itemdecl'>~thread();
</code></p><div class='itemdescr'></div><div class='para' id='thread.thread.destr-1'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.destr-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L582'>#</a></div><p >If <span class='texttt'>joinable()</span>, calls <span class='texttt'>terminate()</span>. Otherwise, has no effects.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> Either implicitly detaching or joining a <span class='texttt'>joinable()</span> thread in its
destructor could result in difficult to debug correctness (for detach) or performance
(for join) bugs encountered only when an exception is thrown. Thus the programmer must
ensure that the destructor is never executed while the thread is still joinable.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]
</p></div></div></div><div id='thread.thread.assign'><h4 ><a class='secnum' href='#thread.thread.assign' style='min-width:118pt'>30.3.2.4</a> <span class='texttt'>thread</span> assignment <a class='abbr_ref' href='thread.thread.assign'>[thread.thread.assign]</a></h4><p ><span class='indexparent'><a class='index' id='operator=,thread'></a></span><span class='indexparent'><a class='index' id='thread,operator='></a></span></p><p ><code class='itemdecl'>thread&amp; operator=(thread&amp;&amp; x) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='thread.thread.assign-1'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.assign-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L599'>#</a></div><p ><span class='textit'>Effects:</span> If <span class='texttt'>joinable()</span>, calls <span class='texttt'>terminate()</span>. Otherwise, assigns the
state of <span class='texttt'>x</span> to <span class='texttt'>*this</span> and sets <span class='texttt'>x</span> to a default constructed state.</p></div></div><div class='para' id='thread.thread.assign-2'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.assign-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L603'>#</a></div><p ><span class='textit'>Postconditions:</span> <span class='texttt'>x.get_&shy;id() == id()</span> and <span class='texttt'>get_&shy;id()</span> returns the value of
<span class='texttt'>x.get_&shy;id()</span> prior to the assignment.</p></div></div><div class='para' id='thread.thread.assign-3'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.assign-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L607'>#</a></div><p ><span class='textit'>Returns:</span> <span class='texttt'>*this</span>.
</p></div></div></div><div id='thread.thread.member'><h4 ><a class='secnum' href='#thread.thread.member' style='min-width:118pt'>30.3.2.5</a> <span class='texttt'>thread</span> members <a class='abbr_ref' href='thread.thread.member'>[thread.thread.member]</a></h4><p ><span class='indexparent'><a class='index' id='swap,thread'></a></span><span class='indexparent'><a class='index' id='thread,swap'></a></span></p><p ><code class='itemdecl'>void swap(thread&amp; x) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='thread.thread.member-1'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.member-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L619'>#</a></div><p ><span class='textit'>Effects:</span> Swaps the state of <span class='texttt'>*this</span> and <span class='texttt'>x</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='joinable,thread'></a></span><span class='indexparent'><a class='index' id='thread,joinable'></a></span></p><p ><code class='itemdecl'>bool joinable() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='thread.thread.member-2'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.member-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L629'>#</a></div><p ><span class='textit'>Returns:</span> <span class='texttt'>get_&shy;id() != id()</span>.
</p></div></div><p ><span class='indexparent'><a class='index' id='join,thread'></a></span><span class='indexparent'><a class='index' id='thread,join'></a></span></p><p ><code class='itemdecl'>void join();
</code></p><div class='itemdescr'></div><div class='para' id='thread.thread.member-3'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.member-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L639'>#</a></div><p ><span class='textit'>Effects:</span>&nbsp;Blocks until the thread represented by <span class='texttt'>*this</span> has completed.</p></div></div><div class='para' id='thread.thread.member-4'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.member-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L642'>#</a></div><p ><span class='textit'>Synchronization:</span> The completion of the thread represented by <span class='texttt'>*this</span> synchronizes with (<a href='intro.multithread'>[intro.multithread]</a>)
the corresponding successful
<span class='texttt'>join()</span> return. [<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> Operations on
<span class='texttt'>*this</span> are not synchronized. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>]</p></div></div><div class='para' id='thread.thread.member-5'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.member-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L648'>#</a></div><p ><span class='textit'>Postconditions:</span> The thread represented by <span class='texttt'>*this</span> has completed. <span class='texttt'>get_&shy;id() == id()</span>.</p></div></div><div class='para' id='thread.thread.member-6'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.member-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L651'>#</a></div><p ><span class='textit'>Throws:</span> <span class='texttt'>system_&shy;error</span> when
an exception is required (<a href='thread.req.exception'>[thread.req.exception]</a>).</p></div></div><div class='para' id='thread.thread.member-7'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.member-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L655'>#</a></div><p ><span class='textit'>Error conditions:</span>
</p><ul class='itemize'><li id='thread.thread.member-7.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#thread.thread.member-7.1'>(7.1)</a></div><p ><span class='texttt'>resource_&shy;deadlock_&shy;would_&shy;occur</span> — if deadlock is detected or
<span class='texttt'>get_&shy;id() == this_&shy;thread&#x200b;::&#x200b;&#x200b;get_&shy;id()</span>.</p></li><li id='thread.thread.member-7.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#thread.thread.member-7.2'>(7.2)</a></div><p ><span class='texttt'>no_&shy;such_&shy;process</span> — if the thread is not valid.</p></li><li id='thread.thread.member-7.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#thread.thread.member-7.3'>(7.3)</a></div><p ><span class='texttt'>invalid_&shy;argument</span> — if the thread is not joinable.
</p></li></ul></div></div><p ><span class='indexparent'><a class='index' id='detach,thread'></a></span><span class='indexparent'><a class='index' id='thread,detach'></a></span></p><p ><code class='itemdecl'>void detach();
</code></p><div class='itemdescr'></div><div class='para' id='thread.thread.member-8'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.member-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L673'>#</a></div><p ><span class='textit'>Effects:</span> The thread represented by <span class='texttt'>*this</span> continues execution without the calling thread
blocking. When <span class='texttt'>detach()</span> returns, <span class='texttt'>*this</span> no longer represents the possibly continuing
thread of execution. When the thread previously represented by <span class='texttt'>*this</span> ends execution, the
implementation shall release any owned resources.</p></div></div><div class='para' id='thread.thread.member-9'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.member-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L679'>#</a></div><p ><span class='textit'>Postconditions:</span> <span class='texttt'>get_&shy;id() == id()</span>.</p></div></div><div class='para' id='thread.thread.member-10'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.member-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L681'>#</a></div><p ><span class='textit'>Throws:</span> <span class='texttt'>system_&shy;error</span> when
an exception is required (<a href='thread.req.exception'>[thread.req.exception]</a>).</p></div></div><div class='para' id='thread.thread.member-11'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.member-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L684'>#</a></div><p ><span class='textit'>Error conditions:</span>
</p><ul class='itemize'><li id='thread.thread.member-11.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#thread.thread.member-11.1'>(11.1)</a></div><p ><span class='texttt'>no_&shy;such_&shy;process</span> — if the thread is not valid.
</p></li><li id='thread.thread.member-11.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#thread.thread.member-11.2'>(11.2)</a></div><p ><span class='texttt'>invalid_&shy;argument</span> — if the thread is not joinable.
</p></li></ul></div></div><p ><span class='indexparent'><a class='index' id='get_id,thread'></a></span><span class='indexparent'><a class='index' id='thread,get_id'></a></span></p><p ><code class='itemdecl'>id get_id() const noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='thread.thread.member-12'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.member-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L697'>#</a></div><p ><span class='textit'>Returns:</span> A default constructed <span class='texttt'>id</span> object if <span class='texttt'>*this</span> does not represent a thread,
otherwise <span class='texttt'>this_&shy;thread&#x200b;::&#x200b;get_&shy;id()</span> for the thread of execution represented by
<span class='texttt'>*this</span>.
</p></div></div></div><div id='thread.thread.static'><h4 ><a class='secnum' href='#thread.thread.static' style='min-width:118pt'>30.3.2.6</a> <span class='texttt'>thread</span> static members <a class='abbr_ref' href='thread.thread.static'>[thread.thread.static]</a></h4><p ><span class='indexparent'><a class='index' id='hardware_concurrency,thread'></a></span><span class='indexparent'><a class='index' id='thread,hardware_concurrency'></a></span></p><p ><code class='itemdecl'>unsigned hardware_concurrency() noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='thread.thread.static-1'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.static-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L711'>#</a></div><p ><span class='textit'>Returns:</span> The number of hardware thread contexts. [<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> This value should
only be considered to be a hint. <span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>] If this value is not computable or
well defined an implementation should return 0.
</p></div></div></div><div id='thread.thread.algorithm'><h4 ><a class='secnum' href='#thread.thread.algorithm' style='min-width:118pt'>30.3.2.7</a> <span class='texttt'>thread</span> specialized algorithms <a class='abbr_ref' href='thread.thread.algorithm'>[thread.thread.algorithm]</a></h4><p ><span class='indexparent'><a class='index' id='swap,thread'></a></span><span class='indexparent'><a class='index' id='thread,swap'></a></span></p><p ><code class='itemdecl'>void swap(thread&amp; x, thread&amp; y) noexcept;
</code></p><div class='itemdescr'></div><div class='para' id='thread.thread.algorithm-1'><div class='marginalizedparent'><a class='marginalized' href='#thread.thread.algorithm-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/c7f6a9139872aad48a944d018ce5e4b3de15ce81/source/threads.tex#L725'>#</a></div><p ><span class='textit'>Effects:</span> As if by <span class='texttt'>x.swap(y)</span>.
</p></div></div></div></div></div></body></html>