<!DOCTYPE html><html lang='en'><head><title>[valarray.sub]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>29</a> Numerics library <a class='abbr_ref' href='./#numerics'>[numerics]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>29.7</a> Numeric arrays <a class='abbr_ref' href='numarray#valarray.sub'>[numarray]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>29.7.2</a> Class template <span class='texttt'>valarray</span> <a class='abbr_ref' href='template.valarray#valarray.sub'>[template.valarray]</a></h3><h4 ><a class='secnum' style='min-width:118pt'>29.7.2.5</a> <span class='texttt'>valarray</span> subset operations <a class='abbr_ref'>[valarray.sub]</a></h4><span class='indexparent'><a class='index' id='lib:operator[],valarray'></a></span><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/numerics.tex#L7074'>#</a></div><div id='1.sentence-1' class='sentence'>The member <span class='texttt'>operator[]</span> is overloaded to provide several ways to select
sequences of elements from among those controlled by <span class='texttt'>*this</span><a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>Each of these
operations returns a subset of the array<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>The const-qualified versions return this
subset as a new <span class='texttt'>valarray</span> object<a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'>The non-const versions return a class
template object which has reference semantics to the original array, working in
conjunction with various overloads of <span class='texttt'>operator=</span> and other assigning
operators to allow selective replacement (slicing) of the controlled sequence<a class='hidden_link' href='#1.sentence-4'>.</a></div> <div id='1.sentence-5' class='sentence'>In each case the selected element(s) shall exist<a class='hidden_link' href='#1.sentence-5'>.</a></div> <span class='indexparent'><a class='index' id='lib:operator[],valarray_'></a></span><span class='indexparent'><a class='index' id='lib:valarray,operator[]'></a></span></div><code class='itemdecl'>valarray operator[](slice slicearr) const;
</code><div class='itemdescr'></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/numerics.tex#L7090'>#</a></div><div id='2.sentence-1' class='sentence'><span class='textit'>Returns:</span> A <span class='texttt'>valarray</span> containing those
elements of the controlled sequence designated by <span class='texttt'>slicearr</span><a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
const valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
<span class='comment'>// <span class='tcode_in_codeblock'>v0[slice(2, 5, 3)]</span> returns <span class='tcode_in_codeblock'>valarray&lt;char&gt;("cfilo", 5)</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><span class='indexparent'><a class='index' id='lib:operator[],valarray__'></a></span><span class='indexparent'><a class='index' id='lib:valarray,operator[]_'></a></span><code class='itemdecl'>slice_array&lt;T&gt; operator[](slice slicearr);
</code><div class='itemdescr'></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/numerics.tex#L7107'>#</a></div><div id='3.sentence-1' class='sentence'><span class='textit'>Returns:</span> An object that holds references to elements of the controlled
sequence selected by <span class='texttt'>slicearr</span><a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
valarray&lt;char&gt; v1("ABCDE", 5);
v0[slice(2, 5, 3)] = v1;
<span class='comment'>// <span class='tcode_in_codeblock'>v0 == valarray&lt;char&gt;("abAdeBghCjkDmnEp", 16);</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><span class='indexparent'><a class='index' id='lib:operator[],valarray___'></a></span><span class='indexparent'><a class='index' id='lib:valarray,operator[]__'></a></span><code class='itemdecl'>valarray operator[](const gslice&amp; gslicearr) const;
</code><div class='itemdescr'></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/numerics.tex#L7125'>#</a></div><div id='4.sentence-1' class='sentence'><span class='textit'>Returns:</span> A <span class='texttt'>valarray</span> containing those
elements of the controlled sequence designated by <span class='texttt'>gslicearr</span><a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
const valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
const size_t lv[] = { 2, 3 };
const size_t dv[] = { 7, 2 };
const valarray&lt;size_t&gt; len(lv, 2), str(dv, 2);
<span class='comment'>// <span class='tcode_in_codeblock'>v0[gslice(3, len, str)]</span> returns
</span><span class='comment'>// <span class='tcode_in_codeblock'>valarray&lt;char&gt;("dfhkmo", 6)</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><span class='indexparent'><a class='index' id='lib:operator[],valarray____'></a></span><span class='indexparent'><a class='index' id='lib:valarray,operator[]___'></a></span><code class='itemdecl'>gslice_array&lt;T&gt; operator[](const gslice&amp; gslicearr);
</code><div class='itemdescr'></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/numerics.tex#L7146'>#</a></div><div id='5.sentence-1' class='sentence'><span class='textit'>Returns:</span> An object that holds references to elements of the controlled
sequence selected by <span class='texttt'>gslicearr</span><a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
valarray&lt;char&gt; v1("ABCDEF", 6);
const size_t lv[] = { 2, 3 };
const size_t dv[] = { 7, 2 };
const valarray&lt;size_t&gt; len(lv, 2), str(dv, 2);
v0[gslice(3, len, str)] = v1;
<span class='comment'>// <span class='tcode_in_codeblock'>v0 == valarray&lt;char&gt;("abcAeBgCijDlEnFp", 16)</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><span class='indexparent'><a class='index' id='lib:operator[],valarray_____'></a></span><span class='indexparent'><a class='index' id='lib:valarray,operator[]____'></a></span><code class='itemdecl'>valarray operator[](const valarray&lt;bool&gt;&amp; boolarr) const;
</code><div class='itemdescr'></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/numerics.tex#L7167'>#</a></div><div id='6.sentence-1' class='sentence'><span class='textit'>Returns:</span> A <span class='texttt'>valarray</span> containing those
elements of the controlled sequence designated by <span class='texttt'>boolarr</span><a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
const valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
const bool vb[] = { false, false, true, true, false, true };
<span class='comment'>// <span class='tcode_in_codeblock'>v0[valarray&lt;bool&gt;(vb, 6)]</span> returns
</span><span class='comment'>// <span class='tcode_in_codeblock'>valarray&lt;char&gt;("cdf", 3)</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><span class='indexparent'><a class='index' id='lib:operator[],valarray______'></a></span><span class='indexparent'><a class='index' id='lib:valarray,operator[]_____'></a></span><code class='itemdecl'>mask_array&lt;T&gt; operator[](const valarray&lt;bool&gt;&amp; boolarr);
</code><div class='itemdescr'></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/numerics.tex#L7186'>#</a></div><div id='7.sentence-1' class='sentence'><span class='textit'>Returns:</span> An object that holds references to elements of the controlled
sequence selected by <span class='texttt'>boolarr</span><a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
valarray&lt;char&gt; v1("ABC", 3);
const bool vb[] = { false, false, true, true, false, true };
v0[valarray&lt;bool&gt;(vb, 6)] = v1;
<span class='comment'>// <span class='tcode_in_codeblock'>v0 == valarray&lt;char&gt;("abABeCghijklmnop", 16)</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><span class='indexparent'><a class='index' id='lib:operator[],valarray_______'></a></span><span class='indexparent'><a class='index' id='lib:valarray,operator[]______'></a></span><code class='itemdecl'>valarray operator[](const valarray&lt;size_t&gt;&amp; indarr) const;
</code><div class='itemdescr'></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/numerics.tex#L7205'>#</a></div><div id='8.sentence-1' class='sentence'><span class='textit'>Returns:</span> A <span class='texttt'>valarray</span> containing those
elements of the controlled sequence designated by <span class='texttt'>indarr</span><a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
const valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
const size_t vi[] = { 7, 5, 2, 3, 8 };
<span class='comment'>// <span class='tcode_in_codeblock'>v0[valarray&lt;size_&shy;t&gt;(vi, 5)]</span> returns
</span><span class='comment'>// <span class='tcode_in_codeblock'>valarray&lt;char&gt;("hfcdi", 5)</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><span class='indexparent'><a class='index' id='lib:operator[],valarray________'></a></span><span class='indexparent'><a class='index' id='lib:valarray,operator[]_______'></a></span><code class='itemdecl'>indirect_array&lt;T&gt; operator[](const valarray&lt;size_t&gt;&amp; indarr);
</code><div class='itemdescr'></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d0d225c5bc338d256990fc20e415a2a617eb86c4/source/numerics.tex#L7224'>#</a></div><div id='9.sentence-1' class='sentence'><span class='textit'>Returns:</span> An object that holds references to elements of the controlled
sequence selected by <span class='texttt'>indarr</span><a class='hidden_link' href='#9.sentence-1'>.</a></div> <div id='9.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#9.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
valarray&lt;char&gt; v0("abcdefghijklmnop", 16);
valarray&lt;char&gt; v1("ABCDE", 5);
const size_t vi[] = { 7, 5, 2, 3, 8 };
v0[valarray&lt;size_t&gt;(vi, 5)] = v1;
<span class='comment'>// <span class='tcode_in_codeblock'>v0 == valarray&lt;char&gt;("abCDeBgAEjklmnop", 16)</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div></div></body></html>