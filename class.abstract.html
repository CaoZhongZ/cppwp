<!DOCTYPE html><html lang='en'><head><title>[class.abstract]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>10</a> Derived classes <a class='abbr_ref' href='./#class.derived'>[class.derived]</a></h1><div id='class.abstract'><h2 ><a class='secnum' style='min-width:88pt'>10.4</a> Abstract classes <a class='abbr_ref'>[class.abstract]</a></h2><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/44f489bba7c7595077043c7360cf7ff329eeb090/source/derived.tex#L913'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> 
The abstract class mechanism supports the notion of a general concept,
such as a <span class='texttt'>shape</span>, of which only more concrete variants, such as
<span class='texttt'>circle</span> and <span class='texttt'>square</span>, can actually be used. An abstract
class can also be used to define an interface for which derived classes
provide a variety of implementations.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>] </p></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/44f489bba7c7595077043c7360cf7ff329eeb090/source/derived.tex#L922'>#</a></div><p >An <a class='hidden_link' href='#def:class,abstract' id='def:class,abstract'><i>abstract class</i></a> is a class that can be used only
as a base class of some other class; no objects of an abstract class can
be created except as subobjects of a class derived from it. A class is
abstract if it has at least one <a class='hidden_link' href='#def:pure_virtual_function' id='def:pure_virtual_function'><i>pure virtual function</i></a>.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> 
Such a function might be inherited: see below.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>] 
A virtual function is specified <a class='hidden_link' href='#def:virtual_function,pure' id='def:virtual_function,pure'><i>pure</i></a> by using a
<i><a href="class.mem#nt:pure-specifier">pure-specifier</a></i> in the function declaration
in the class definition.
<span class='indexparent'><a class='index' id='definition,pure_virtual_function'></a></span>A pure virtual function need be defined only if called with, or as if
with (<a href='class.dtor'>[class.dtor]</a>), the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i>
syntax (<a href='expr.prim'>[expr.prim]</a>).
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span> 
<span class='indexparent'><a class='index' id='example,pure_virtual_function'></a></span></p><p ><pre class='codeblock'>
class point { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> };
class shape {                   <span class='comment'>// abstract class
</span>  point center;
public:
  point where() { return center; }
  void move(point p) { center=p; draw(); }
  virtual void rotate(int) = 0; <span class='comment'>// pure virtual
</span>  virtual void draw() = 0;      <span class='comment'>// pure virtual
</span>};</pre></p><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>] 
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> 
A function declaration cannot provide both a <i ><a href='class.mem#nt:pure-specifier'>pure-specifier</a></i>
and a definition
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>] 
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span> 
</p><p ><pre class='codeblock'>
struct C {
  virtual void f() = 0 { };     <span class='comment'>// ill-formed
</span>};</pre></p><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>] </p></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/44f489bba7c7595077043c7360cf7ff329eeb090/source/derived.tex#L963'>#</a></div><p ><span class='indexparent'><a class='index' id='class,pointer_to_abstract'></a></span>An abstract class shall not be used as a parameter type, as a function
return type, or as the type of an explicit conversion. Pointers and
references to an abstract class can be declared.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span> 
</p><p ><pre class='codeblock'>
shape x;                        <span class='comment'>// error: object of abstract class
</span>shape* p;                       <span class='comment'>// OK
</span>shape f();                      <span class='comment'>// error
</span>void g(shape);                  <span class='comment'>// error
</span>shape&amp; h(shape&amp;);               <span class='comment'>// OK
</span></pre></p><p ><span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>] </p></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/44f489bba7c7595077043c7360cf7ff329eeb090/source/derived.tex#L978'>#</a></div><p ><span class='indexparent'><a class='index' id='virtual_function,pure'></a></span>A class is abstract if it contains or inherits at least one pure virtual
function for which the final overrider is pure virtual.
[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span> 
</p><p ><pre class='codeblock'>
class ab_circle : public shape {
  int radius;
public:
  void rotate(int) { }
  <span class='comment'>// <span class='tcode_in_codeblock'>ab_&shy;circle&#x200b;::&#x200b;draw()</span> is a pure virtual
</span>};</pre></p><p >Since <span class='texttt'>shape&#x200b;::&#x200b;draw()</span> is a pure virtual function
<span class='texttt'>ab_&shy;circle&#x200b;::&#x200b;draw()</span> is a pure virtual by default. The alternative
declaration,
</p><p ><pre class='codeblock'>
class circle : public shape {
  int radius;
public:
  void rotate(int) { }
  void draw();                  <span class='comment'>// a definition is required somewhere
</span>};</pre></p><p >would make class <span class='texttt'>circle</span> non-abstract and a definition of
<span class='texttt'>circle&#x200b;::&#x200b;draw()</span> must be provided.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>] </p></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/44f489bba7c7595077043c7360cf7ff329eeb090/source/derived.tex#L1007'>#</a></div><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Note:</span> 
An abstract class can be derived from a class that is not abstract, and
a pure virtual function may override a virtual function which is not
pure.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end note</span><span style='white-space:nowrap'>&thinsp;</span>] </p></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/44f489bba7c7595077043c7360cf7ff329eeb090/source/derived.tex#L1014'>#</a></div><p ><span class='indexparent'><a class='index' id='class,constructor_and_abstract'></a></span>Member functions can be called from a constructor (or destructor) of an
abstract class;
<span class='indexparent'><a class='index' id='virtual_function_call,undefined_pure'></a></span>the effect of making a <a href='class.virtual'>virtual call</a> to a pure
virtual function directly or indirectly for the object being created (or
destroyed) from such a constructor (or destructor) is undefined.
</p></div></div></div></body></html>