<!DOCTYPE html><html lang='en'><head><title>[class.name]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>11</a> Classes <a class='abbr_ref' href='./#class'>[class]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>11.2</a> Class names <a class='abbr_ref'>[class.name]</a></h2><span class='indexparent'><a class='index' id=':definition,class_name_as_type'></a></span><span class='indexparent'><a class='index' id=':equivalence,type'></a></span><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b5ee2beccbe6c39d90768142e564ac749e45f47f/source/classes.tex#L280'>#</a></div><div id='1.sentence-1' class='sentence'>A class definition introduces a new type<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='1.sentence-2' class='sentence'><pre class='codeblock'>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span> <span class='keyword'>int</span> a; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> Y <span class='curlybracket'>{</span> <span class='keyword'>int</span> a; <span class='curlybracket'>}</span>;
X a1;
Y a2;
<span class='keyword'>int</span> a3;
</pre>
declares three variables of three different types<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>This implies that
<pre class='codeblock'>
a1 <span class='operator'>=</span> a2;                        <span class='comment'>// error: <span class='tcode_in_codeblock'>Y</span> assigned to <span class='tcode_in_codeblock'>X</span></span>
a1 <span class='operator'>=</span> a3;                        <span class='comment'>// error: <span class='tcode_in_codeblock'>int</span> assigned to <span class='tcode_in_codeblock'>X</span></span>
</pre>
are type mismatches, and that
<pre class='codeblock'>
<span class='keyword'>int</span> f<span class='parenthesis'>(</span>X<span class='parenthesis'>)</span>;
<span class='keyword'>int</span> f<span class='parenthesis'>(</span>Y<span class='parenthesis'>)</span>;
</pre>
<span class='indexparent'><a class='index' id=':overloading'></a></span>declare an <a href='over'>overloaded</a> function <span class='texttt'>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> and not
simply a single function <span class='texttt'>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> twice<a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'>For the same reason,
<pre class='codeblock'>
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span> <span class='keyword'>int</span> a; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span> <span class='keyword'>int</span> a; <span class='curlybracket'>}</span>;            <span class='comment'>// error, double definition</span>
</pre>
is ill-formed because it defines <span class='texttt'>S</span> twice<a class='hidden_link' href='#1.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b5ee2beccbe6c39d90768142e564ac749e45f47f/source/classes.tex#L310'>#</a></div><div id='2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':definition,scope_of_class'></a></span><span class='indexparent'><a class='index' id=':class_name,scope_of'></a></span>A class declaration introduces the class name into the scope where
<span class='indexparent'><a class='index' id=':name_hiding,class_definition'></a></span>it is declared and hides any
class, variable, function, or other declaration of that name in an
enclosing <a href='basic.scope'>scope</a><a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>If a class name is declared in a
scope where a variable, function, or enumerator of the same name is also
declared, then when both declarations are in scope, the class can be
referred to only using an
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> (<a href='basic.lookup.elab'>[basic.lookup.elab]</a>)<a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> stat <span class='curlybracket'>{</span>
  <span class='comment'>// ...</span>
<span class='curlybracket'>}</span>;

stat gstat;                     <span class='comment'>// use plain <span class='tcode_in_codeblock'>stat</span> to define variable</span>

<span class='keyword'>int</span> stat<span class='parenthesis'>(</span><span class='keyword'>struct</span> stat<span class='operator'>*</span><span class='parenthesis'>)</span>;         <span class='comment'>// redeclare <span class='tcode_in_codeblock'>stat</span> as function</span>

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> stat<span class='operator'>*</span> ps;              <span class='comment'>// <span class='tcode_in_codeblock'>struct</span> prefix needed to name <span class='tcode_in_codeblock'>struct stat</span></span>
  stat<span class='parenthesis'>(</span>ps<span class='parenthesis'>)</span>;                     <span class='comment'>// call <span class='tcode_in_codeblock'>stat()</span></span>
<span class='curlybracket'>}</span>
</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='2.sentence-3' class='sentence'><span class='indexparent'><a class='index' id=':class_name,elaborated'></a></span><span class='indexparent'><a class='index' id=':declaration,forward_class'></a></span>A <i ><a href='dcl.dcl#nt:declaration'>declaration</a></i> consisting solely of <i ><a href='class#nt:class-key'>class-key</a></i>
<i ><a href='lex.name#nt:identifier'>identifier</a></i><span class='texttt'>;</span> is either a redeclaration of the name in the current scope
or a forward declaration of the identifier as a class name<a class='hidden_link' href='#2.sentence-3'>.</a></div> <div id='2.sentence-4' class='sentence'>It
introduces the class name into the current scope<a class='hidden_link' href='#2.sentence-4'>.</a></div> <div id='2.example-2' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#2.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> s <span class='curlybracket'>{</span> <span class='keyword'>int</span> a; <span class='curlybracket'>}</span>;

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> s;                     <span class='comment'>// hide global <span class='tcode_in_codeblock'>struct s</span> with a block-scope declaration</span>
  s<span class='operator'>*</span> p;                         <span class='comment'>// refer to local <span class='tcode_in_codeblock'>struct s</span></span>
  <span class='keyword'>struct</span> s <span class='curlybracket'>{</span> <span class='keyword'>char</span><span class='operator'>*</span> p; <span class='curlybracket'>}</span>;        <span class='comment'>// define local <span class='tcode_in_codeblock'>struct s</span></span>
  <span class='keyword'>struct</span> s;                     <span class='comment'>// redeclaration, has no effect</span>
<span class='curlybracket'>}</span>
</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='2.sentence-5' class='sentence'>Such declarations allow definition of classes that refer to each other<a class='hidden_link' href='#2.sentence-5'>.</a></div> <div id='2.example-3' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#2.example-3'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> Vector;

<span class='keyword'>class</span> Matrix <span class='curlybracket'>{</span>
  <span class='comment'>// ...</span>
  <span class='keyword'>friend</span> Vector <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='keyword'>const</span> Matrix<span class='operator'>&amp;</span>, <span class='keyword'>const</span> Vector<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> Vector <span class='curlybracket'>{</span>
  <span class='comment'>// ...</span>
  <span class='keyword'>friend</span> Vector <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='keyword'>const</span> Matrix<span class='operator'>&amp;</span>, <span class='keyword'>const</span> Vector<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
</pre> <div id='2.sentence-6' class='sentence'>
Declaration of friends is described in <a href='class.friend'>[class.friend]</a>,
operator functions in <a href='over.oper'>[over.oper]</a><a class='hidden_link' href='#2.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b5ee2beccbe6c39d90768142e564ac749e45f47f/source/classes.tex#L377'>#</a></div><span class='indexparent'><a class='index' id=':class_name,elaborated_'></a></span><div id='3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='3.sentence-1' class='sentence'>An <i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i> (<a href='dcl.type.elab'>[dcl.type.elab]</a>) can also
be used as a <i ><a href='dcl.type#nt:type-specifier'>type-specifier</a></i> as part of a declaration<a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>It
differs from a class declaration in that if a class of the elaborated
name is in scope the elaborated name will refer to it<a class='hidden_link' href='#3.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> 
<div id='3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> s <span class='curlybracket'>{</span> <span class='keyword'>int</span> a; <span class='curlybracket'>}</span>;

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='keyword'>int</span> s<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> s<span class='operator'>*</span> p <span class='operator'>=</span> <span class='keyword'>new</span> <span class='keyword'>struct</span> s;   <span class='comment'>// global <span class='tcode_in_codeblock'>s</span></span>
  p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>a <span class='operator'>=</span> s;                     <span class='comment'>// parameter <span class='tcode_in_codeblock'>s</span></span>
<span class='curlybracket'>}</span>
</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b5ee2beccbe6c39d90768142e564ac749e45f47f/source/classes.tex#L398'>#</a></div><span class='indexparent'><a class='index' id=':class_name,point_of_declaration'></a></span><div id='4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='4.sentence-1' class='sentence'>The declaration of a class name takes effect immediately after the
<i ><a href='lex.name#nt:identifier'>identifier</a></i> is seen in the class definition or
<i ><a href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a></i><a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>For example,
<pre class='codeblock'>
<span class='keyword'>class</span> A <span class='operator'>*</span> A;
</pre>
first specifies <span class='texttt'>A</span> to be the name of a class and then redefines
it as the name of a pointer to an object of that class<a class='hidden_link' href='#4.sentence-2'>.</a></div> <div id='4.sentence-3' class='sentence'>This means that
the elaborated form <span class='texttt'><span class='keyword'>class</span></span> <span class='texttt'>A</span> must be used to refer to the
class<a class='hidden_link' href='#4.sentence-3'>.</a></div> <div id='4.sentence-4' class='sentence'>Such artistry with names can be confusing and is best avoided<a class='hidden_link' href='#4.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b5ee2beccbe6c39d90768142e564ac749e45f47f/source/classes.tex#L413'>#</a></div><div id='5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':class_name,typedef'></a></span>A <i ><a href='temp.names#nt:simple-template-id'>simple-template-id</a></i> is only a <i ><a href='class#nt:class-name'>class-name</a></i>
if its <i ><a href='temp.names#nt:template-name'>template-name</a></i> names a class template<a class='hidden_link' href='#5.sentence-1'>.</a></div></div></div></body></html>