<!DOCTYPE html><html lang='en'><head><title>[temp.dep.type]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>17</a> Templates <a class='abbr_ref' href='./#temp'>[temp]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>17.7</a> Name resolution <a class='abbr_ref' href='temp.res#temp.dep.type'>[temp.res]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>17.7.2</a> Dependent names <a class='abbr_ref' href='temp.dep#type'>[temp.dep]</a></h3><h4 ><a class='secnum' style='min-width:118pt'>17.7.2.1</a> Dependent types <a class='abbr_ref'>[temp.dep.type]</a></h4><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/31d6168980ef064112d1ad5498635fa9ca07bc65/source/templates.tex#L4749'>#</a></div><div id='1.sentence-1' class='sentence'>A name refers to the
<a class='hidden_link' href='#def:current_instantiation' id='def:current_instantiation'><i >current instantiation</i></a>
if it is</div><div id='1.sentence-2' class='sentence'><ul class='itemize'><li id='1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.1'>(1.1)</a></div><div id='1.1.sentence-1' class='sentence'>in the definition of a class template, a nested class of a class template,
a member of a class template, or a member of a nested class of a class template,
the <a href='class#def:injected-class-name'>injected-class-name</a> of the class template or nested class,</div></li><li id='1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.2'>(1.2)</a></div><div id='1.2.sentence-1' class='sentence'>in the definition of a primary class template
or a member of a primary class template, the name of the
class template followed by the template argument list of the
primary template (as described below) enclosed in
<span class='texttt'>&lt;&gt;</span> (or an equivalent template alias specialization),</div></li><li id='1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.3'>(1.3)</a></div><div id='1.3.sentence-1' class='sentence'>in the definition of a nested class of a class template,
the name of the nested class referenced as a member of the
current instantiation, or</div></li><li id='1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#1.4'>(1.4)</a></div><div id='1.4.sentence-1' class='sentence'>in the definition of a partial specialization
or a member of a partial specialization, the name of
the class template followed by the template argument list of
the partial specialization enclosed in
<span class='texttt'>&lt;&gt;</span> (or an equivalent template alias specialization)<a class='hidden_link' href='#1.4.sentence-1'>.</a></div> <div id='1.4.sentence-2' class='sentence'>If the <span class="mjx-chtml"><span class="mjx-math" aria-label="n Superscript th"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> template parameter is
a template parameter pack, the <span class="mjx-chtml"><span class="mjx-math" aria-label="n Superscript th"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> template argument is a pack
expansion (<a href='temp.variadic'>[temp.variadic]</a>) whose pattern is the name of
the template parameter pack<a class='hidden_link' href='#1.4.sentence-2'>.</a></div></li></ul></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/31d6168980ef064112d1ad5498635fa9ca07bc65/source/templates.tex#L4781'>#</a></div><div id='2.sentence-1' class='sentence'>The template argument list of a primary template is a
template argument list in which the
<span class="mjx-chtml"><span class="mjx-math" aria-label="n Superscript th"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span>
template argument has the value of the
<span class="mjx-chtml"><span class="mjx-math" aria-label="n Superscript th"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span>
template parameter of the class template<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>If the <span class="mjx-chtml"><span class="mjx-math" aria-label="n Superscript th"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> template parameter is a 
<a href='temp.variadic#def:template_parameter_pack'>template parameter pack</a>,
the <span class="mjx-chtml"><span class="mjx-math" aria-label="n Superscript th"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> template argument is a 
<a href='temp.variadic#def:pack_expansion'>pack expansion</a> whose pattern is the name of
the template parameter pack<a class='hidden_link' href='#2.sentence-2'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/31d6168980ef064112d1ad5498635fa9ca07bc65/source/templates.tex#L4794'>#</a></div><div id='3.sentence-1' class='sentence'>A template argument that is equivalent to a template
parameter can be used in place of that
template parameter in a reference to the current instantiation<a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>For a template <i ><a href='temp.param#nt:type-parameter'>type-parameter</a></i>,
a template argument is equivalent to a template parameter
if it denotes the same type<a class='hidden_link' href='#3.sentence-2'>.</a></div> <div id='3.sentence-3' class='sentence'>For a non-type template parameter,
a template argument is equivalent to a template parameter
if it is an <i ><a href='lex.name#nt:identifier'>identifier</a></i> that names a variable
that is equivalent to the template parameter<a class='hidden_link' href='#3.sentence-3'>.</a></div> <div id='3.sentence-4' class='sentence'>A variable is equivalent to a template parameter if
<ul class='itemize'><li id='3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.1'>(3.1)</a></div><div id='3.1.sentence-1' class='sentence'>it has the same type as the template parameter
  (ignoring cv-qualification) and</div></li><li id='3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#3.2'>(3.2)</a></div><div id='3.2.sentence-1' class='sentence'>its initializer consists of a single <i ><a href='lex.name#nt:identifier'>identifier</a></i>
  that names the template parameter or, recursively, such a variable<a class='hidden_link' href='#3.2.sentence-1'>.</a></div></li></ul></div> <div id='3.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='3.sentence-5' class='sentence'>Using a parenthesized variable name breaks the equivalence<a class='hidden_link' href='#3.sentence-5'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div>  <div id='3.example-1' class='example'>[<span style='white-space:nowrap'>â€‰</span><a class='example_link' href='#3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template &lt;class T&gt; class A {
  A* p1;                        <span class='comment'>// <span class='tcode_in_codeblock'>A</span> is the current instantiation
</span>  A&lt;T&gt;* p2;                     <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T&gt;</span> is the current instantiation
</span>  A&lt;T*&gt; p3;                     <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T*&gt;</span> is not the current instantiation
</span>  ::A&lt;T&gt;* p4;                   <span class='comment'>// <span class='tcode_in_codeblock'>&#x200b;::&#x200b;A&lt;T&gt;</span> is the current instantiation
</span>  class B {
    B* p1;                      <span class='comment'>// <span class='tcode_in_codeblock'>B</span> is the current instantiation
</span>    A&lt;T&gt;::B* p2;                <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T&gt;&#x200b;::&#x200b;B</span> is the current instantiation
</span>    typename A&lt;T*&gt;::B* p3;      <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T*&gt;&#x200b;::&#x200b;B</span> is not the current instantiation
</span>  };
};

template &lt;class T&gt; class A&lt;T*&gt; {
  A&lt;T*&gt;* p1;                    <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T*&gt;</span> is the current instantiation
</span>  A&lt;T&gt;* p2;                     <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T&gt;</span> is not the current instantiation
</span>};

template &lt;class T1, class T2, int I&gt; struct B {
  B&lt;T1, T2, I&gt;* b1;             <span class='comment'>// refers to the current instantiation
</span>  B&lt;T2, T1, I&gt;* b2;             <span class='comment'>// not the current instantiation
</span>  typedef T1 my_T1;
  static const int my_I = I;
  static const int my_I2 = I+0;
  static const int my_I3 = my_I;
  static const long my_I4 = I;
  static const int my_I5 = (I);
  B&lt;my_T1, T2, my_I&gt;* b3;       <span class='comment'>// refers to the current instantiation
</span>  B&lt;my_T1, T2, my_I2&gt;* b4;      <span class='comment'>// not the current instantiation
</span>  B&lt;my_T1, T2, my_I3&gt;* b5;      <span class='comment'>// refers to the current instantiation
</span>  B&lt;my_T1, T2, my_I4&gt;* b6;      <span class='comment'>// not the current instantiation
</span>  B&lt;my_T1, T2, my_I5&gt;* b7;      <span class='comment'>// not the current instantiation
</span>};</pre> â€”<span style='white-space:nowrap'>â€‰</span><i>end example</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/31d6168980ef064112d1ad5498635fa9ca07bc65/source/templates.tex#L4854'>#</a></div><div id='4.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:base_class,dependent' id='def:base_class,dependent'><i >dependent base class</i></a> is a base class that is a dependent type and is
not the current instantiation<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='4.sentence-2' class='sentence'>A base class can be the current instantiation in the case of a nested class
naming an enclosing class as a base<a class='hidden_link' href='#4.sentence-2'>.</a></div> <div id='4.example-1' class='example'>[<span style='white-space:nowrap'>â€‰</span><a class='example_link' href='#4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class T&gt; struct A {
  typedef int M;
  struct B {
    typedef void M;
    struct C;
  };
};

template&lt;class T&gt; struct A&lt;T&gt;::B::C : A&lt;T&gt; {
  M m;                          <span class='comment'>// OK, <span class='tcode_in_codeblock'>A&lt;T&gt;&#x200b;::&#x200b;M</span>
</span>};</pre> â€”<span style='white-space:nowrap'>â€‰</span><i>end example</i></div><span style='white-space:nowrap'>â€‰</span>]</div>  â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/31d6168980ef064112d1ad5498635fa9ca07bc65/source/templates.tex#L4878'>#</a></div><div id='5.sentence-1' class='sentence'>A name is a
<a class='hidden_link' href='#def:current_instantiation,member_of_the' id='def:current_instantiation,member_of_the'><i >member of the current instantiation</i></a>
if it is</div><div id='5.sentence-2' class='sentence'><ul class='itemize'><li id='5.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#5.1'>(5.1)</a></div><div id='5.1.sentence-1' class='sentence'>An unqualified name that, when looked up, refers to
at least one member of a class that is
the current instantiation or a non-dependent base class thereof<a class='hidden_link' href='#5.1.sentence-1'>.</a></div> <div id='5.1.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#5.1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='5.1.sentence-2' class='sentence'>This can only occur when looking up a name in a scope enclosed by the
definition of a class template<a class='hidden_link' href='#5.1.sentence-2'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </li><li id='5.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#5.2'>(5.2)</a></div><div id='5.2.sentence-1' class='sentence'>A
<i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i>
in which the
<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i>
refers to the current instantiation
and that, when looked up, refers to at least one member of a class that is
the current
instantiation or a non-dependent base class thereof<a class='hidden_link' href='#5.2.sentence-1'>.</a></div> <div id='5.2.note-2' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#5.2.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='5.2.sentence-2' class='sentence'>If no such
member is found, and the current instantiation has any dependent base classes,
then the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> is a member of an unknown specialization;
see below<a class='hidden_link' href='#5.2.sentence-2'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </li><li id='5.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#5.3'>(5.3)</a></div><div id='5.3.sentence-1' class='sentence'>An <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> denoting the member in a <a href='expr.ref'>class member access</a>
expression for which the type of the object expression is the
current instantiation, and the <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i>, when <a href='basic.lookup.classref'>looked
up</a>, refers to at least one member of a class
that is the current
instantiation or a non-dependent base class thereof<a class='hidden_link' href='#5.3.sentence-1'>.</a></div> <div id='5.3.note-3' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#5.3.note-3'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='5.3.sentence-2' class='sentence'>If no such
member is found, and the current instantiation has any dependent base classes,
then the <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> is a member of an unknown specialization;
see below<a class='hidden_link' href='#5.3.sentence-2'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </li></ul></div><div id='5.example-1' class='example'>[<span style='white-space:nowrap'>â€‰</span><a class='example_link' href='#5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template &lt;class T&gt; class A {
  static const int i = 5;
  int n1[i];                    <span class='comment'>// <span class='tcode_in_codeblock'>i</span> refers to a member of the current instantiation
</span>  int n2[A::i];                 <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;i</span> refers to a member of the current instantiation
</span>  int n3[A&lt;T&gt;::i];              <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T&gt;&#x200b;::&#x200b;i</span> refers to a member of the current instantiation
</span>  int f();
};

template &lt;class T&gt; int A&lt;T&gt;::f() {
  return i;                     <span class='comment'>// <span class='tcode_in_codeblock'>i</span> refers to a member of the current instantiation
</span>}</pre> â€”<span style='white-space:nowrap'>â€‰</span><i>end example</i></div><span style='white-space:nowrap'>â€‰</span>]</div> <div id='5.sentence-3' class='sentence'>A name is a <a class='hidden_link' href='#def:current_instantiation,dependent_member_of_the' id='def:current_instantiation,dependent_member_of_the'><i >dependent member of the current instantiation</i></a> if it is a
member of the current instantiation that, when looked up, refers to at least
one member of a class that is the current instantiation<a class='hidden_link' href='#5.sentence-3'>.</a></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/31d6168980ef064112d1ad5498635fa9ca07bc65/source/templates.tex#L4939'>#</a></div><div id='6.sentence-1' class='sentence'>A name is a
<a class='hidden_link' href='#def:member_of_an_unknown_specialization' id='def:member_of_an_unknown_specialization'><i >member of an unknown specialization</i></a>
if it is</div><div id='6.sentence-2' class='sentence'><ul class='itemize'><li id='6.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#6.1'>(6.1)</a></div><div id='6.1.sentence-1' class='sentence'>A
<i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i>
in which the
<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i>
names a dependent type that is not the current instantiation<a class='hidden_link' href='#6.1.sentence-1'>.</a></div></li><li id='6.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#6.2'>(6.2)</a></div><div id='6.2.sentence-1' class='sentence'>A <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> in which the <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i>
refers to the current instantiation, the current instantiation has at least one
dependent base class, and name lookup of the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> does not
find any member of a class that is the current instantiation or a non-dependent
base class thereof<a class='hidden_link' href='#6.2.sentence-1'>.</a></div></li><li id='6.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#6.3'>(6.3)</a></div><div id='6.3.sentence-1' class='sentence'>An <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> denoting the member in a
<a href='expr.ref'>class member access</a> expression in which either
<ul class='itemize'><li id='6.3.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#6.3.1'>(6.3.1)</a></div><div id='6.3.1.sentence-1' class='sentence'>the type of the object expression is the current instantiation, the
current instantiation has at least one dependent base class, and name lookup
of the <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> does not find a member of a class that is
the current instantiation or a non-dependent base class thereof; or</div></li><li id='6.3.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#6.3.2'>(6.3.2)</a></div><div id='6.3.2.sentence-1' class='sentence'>the type of the object expression is dependent and is not the current
instantiation<a class='hidden_link' href='#6.3.2.sentence-1'>.</a></div></li></ul></div></li></ul></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/31d6168980ef064112d1ad5498635fa9ca07bc65/source/templates.tex#L4971'>#</a></div><div id='7.sentence-1' class='sentence'>If a <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> in which the <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i>
refers to the current instantiation is not a member of the current instantiation
or a member of an unknown specialization, the program is ill-formed even if the
template containing the <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> is not instantiated; no
diagnostic required<a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='7.sentence-2' class='sentence'>Similarly, if the <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> in a class
member access expression for which the type of the object expression is the
current instantiation does not refer to a member of the current instantiation
or a member of an unknown specialization, the program is ill-formed even if the
template containing the member access expression is not instantiated; no diagnostic
required<a class='hidden_link' href='#7.sentence-2'>.</a></div> <div id='7.example-1' class='example'>[<span style='white-space:nowrap'>â€‰</span><a class='example_link' href='#7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class T&gt; class A {
  typedef int type;
  void f() {
    A&lt;T&gt;::type i;               <span class='comment'>// OK: refers to a member of the current instantiation
</span>    typename A&lt;T&gt;::other j;     <span class='comment'>// error: neither a member of the current instantiation nor
</span>                                <span class='comment'>// a member of an unknown specialization
</span>  }
};</pre> â€”<span style='white-space:nowrap'>â€‰</span><i>end example</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/31d6168980ef064112d1ad5498635fa9ca07bc65/source/templates.tex#L4994'>#</a></div><div id='8.sentence-1' class='sentence'>If, for a given set of template arguments, a specialization of a template is
instantiated that refers to a member of the current instantiation with a
<i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> or class member access expression, the name in the
<i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> or class member access expression is looked up in the
template instantiation context<a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.sentence-2' class='sentence'>If the result of this lookup differs from the
result of name lookup in the template definition context, name lookup is
ambiguous<a class='hidden_link' href='#8.sentence-2'>.</a></div> <div id='8.example-1' class='example'>[<span style='white-space:nowrap'>â€‰</span><a class='example_link' href='#8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A {
  int m;
};

struct B {
  int m;
};

template&lt;typename T&gt;
struct C : A, T {
  int f() { return this-&gt;m; }   <span class='comment'>// finds <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;m</span> in the template definition context
</span>  int g() { return m; }         <span class='comment'>// finds <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;m</span> in the template definition context
</span>};

template int C&lt;B&gt;::f();     <span class='comment'>// error: finds both <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;m</span> and <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;m</span>
</span>template int C&lt;B&gt;::g();     <span class='comment'>// OK: transformation to class member access syntax
</span>                            <span class='comment'>// does not occur in the template definition context; see <a href='class.mfct.non-static'>[class.mfct.non-static]</a>
</span></pre> â€”<span style='white-space:nowrap'>â€‰</span><i>end example</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/31d6168980ef064112d1ad5498635fa9ca07bc65/source/templates.tex#L5024'>#</a></div><div id='9.sentence-1' class='sentence'>A type is dependent if it is
<ul class='itemize'><li id='9.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#9.1'>(9.1)</a></div><div id='9.1.sentence-1' class='sentence'>a template parameter,</div></li><li id='9.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#9.2'>(9.2)</a></div><div id='9.2.sentence-1' class='sentence'>a member of an unknown specialization,</div></li><li id='9.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#9.3'>(9.3)</a></div><div id='9.3.sentence-1' class='sentence'>a nested class or enumeration that is a dependent member of the current
instantiation,</div></li><li id='9.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#9.4'>(9.4)</a></div><div id='9.4.sentence-1' class='sentence'>a cv-qualified type where the cv-unqualified type is dependent,</div></li><li id='9.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#9.5'>(9.5)</a></div><div id='9.5.sentence-1' class='sentence'>a compound type constructed from any dependent type,</div></li><li id='9.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#9.6'>(9.6)</a></div><div id='9.6.sentence-1' class='sentence'>an array type whose element type is dependent or whose
bound (if any) is value-dependent,</div></li><li id='9.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#9.7'>(9.7)</a></div><div id='9.7.sentence-1' class='sentence'>a function type whose exception specification is value-dependent,</div></li><li id='9.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#9.8'>(9.8)</a></div><div id='9.8.sentence-1' class='sentence'>denoted by a <i ><a href='temp.names#nt:simple-template-id'>simple-template-id</a></i>
in which either the template name is a template parameter or any of the
template arguments is a dependent type or an expression that is type-dependent
or value-dependent or is a pack expansion
<div id='9.8.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#9.8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='9.8.sentence-2' class='sentence'>This includes an <a href='class#def:injected-class-name'>injected-class-name</a> of a class template
used without a <i ><a href='temp.names#nt:template-argument-list'>template-argument-list</a></i><a class='hidden_link' href='#9.8.sentence-2'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> , or</div></li><li id='9.9'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#9.9'>(9.9)</a></div><div id='9.9.sentence-1' class='sentence'>denoted by <span class='texttt'>decltype(</span><i ><a href='expr.comma#nt:expression'>expression</a></i><span class='texttt'>)</span>,
where <i ><a href='expr.comma#nt:expression'>expression</a></i> is <a href='temp.dep.expr'>type-dependent</a><a class='hidden_link' href='#9.9.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/31d6168980ef064112d1ad5498635fa9ca07bc65/source/templates.tex#L5056'>#</a></div><div id='10.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#10.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='10.sentence-1' class='sentence'>Because typedefs do not introduce new types, but
instead simply refer to other types, a name that refers to a
typedef that is a member of the current instantiation is dependent
only if the type referred to is dependent<a class='hidden_link' href='#10.sentence-1'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </div></div></body></html>