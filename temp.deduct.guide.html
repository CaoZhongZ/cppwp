<!DOCTYPE html><html lang='en'><head><title>[temp.deduct.guide]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>14</a> Templates <a class='abbr_ref' href='./#temp'>[temp]</a></h1><div id='temp.deduct.guide'><h2 ><a class='secnum' style='min-width:88pt'>14.9</a> Deduction guides <a class='abbr_ref'>[temp.deduct.guide]</a></h2><p ><span class='indexparent'><a class='index' id='deduction,class_template_argument'></a></span>
</p><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3acb49d296ba7efdc7542e943262138dc0eb9b74/source/templates.tex#L7612'>#</a></div><p >Deduction guides are used
when a <i ><a href='temp.names#nt:template-name'>template-name</a></i> appears
as a type specifier
for a deduced class type (<a href='dcl.type.class.deduct'>[dcl.type.class.deduct]</a>).
Deduction guides are not found by name lookup.
Instead, when performing class template argument deduction (<a href='over.match.class.deduct'>[over.match.class.deduct]</a>),
any deduction guides declared for the class template are considered.</p><pre class='bnf'><a id='nt:deduction-guide'>deduction-guide:</a>
    <span class='terminal'>explicit</span><span class='math'><sub ><span class='mathit'>opt</span></sub></span> <i ><a href='temp.names#nt:template-name'>template-name</a></i> <span class='terminal'>(</span> <i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> <span class='terminal'>) -&gt;</span> <i ><a href='temp.names#nt:simple-template-id'>simple-template-id</a></i> <span class='terminal'>;</span></pre></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3acb49d296ba7efdc7542e943262138dc0eb9b74/source/templates.tex#L7626'>#</a></div><p >[ <i>Example:</i>
</p><pre class='codeblock'>
template&lt;class T, class D = int&gt;
struct S {
  T data;
};
template&lt;class U&gt;
S(U) -&gt; S&lt;typename U::type&gt;;

struct A {
  using type = short;
  operator type();
};
S x{A()};  <span class='comment'>// <span class='texttt'>x</span> is of type <span class='texttt'>S&lt;short, int&gt;</span>
</span></pre><p ><i> â€” end example</i> ]</p></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3acb49d296ba7efdc7542e943262138dc0eb9b74/source/templates.tex#L7644'>#</a></div><p >The same restrictions apply
to the <i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>
of a deduction guide
as in a function declaration (<a href='dcl.fct'>[dcl.fct]</a>).
The <i ><a href='temp.names#nt:simple-template-id'>simple-template-id</a></i>
shall name a class template specialization.
The <i ><a href='temp.names#nt:template-name'>template-name</a></i>
shall be the same <i ><a href='lex.name#nt:identifier'>identifier</a></i>
as the <i ><a href='temp.names#nt:template-name'>template-name</a></i>
of the <i ><a href='temp.names#nt:simple-template-id'>simple-template-id</a></i>.
A <i ><a href='temp.deduct.guide#nt:deduction-guide'>deduction-guide</a></i>
shall be declared
in the same scope
as the corresponding class template.</p><p ><span class='indexparent'><a class='index' id='template'></a></span>
</p></div></div></div></body></html>