<!DOCTYPE html><html lang='en'><head><title>[expr]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>8</a> Expressions <a class='abbr_ref' href='./#expr'>[expr]</a></h1>
<div id='pre' class='section'><h2 ><a class='secnum' href='#pre' style='min-width:88pt'>8.1</a> Preamble <a class='abbr_ref' href='expr.pre'>[expr.pre]</a></h2><div class='para' id='pre-1'><div class='marginalizedparent'><a class='marginalized' href='#pre-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L18'>#</a></div><span class='indexparent'><a class='index' id=':expression'></a></span><div id='pre-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#pre-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='pre-1.sentence-1' class='sentence'><a href='expr'>[expr]</a> defines the syntax, order of evaluation, and meaning
of expressions<a class='hidden_link' href='#pre-1.sentence-1'>.</a><a class='footnotenum' href='#footnote-61'>61</a></div> <div id='pre-1.sentence-2' class='sentence'>
An expression is a sequence of operators and operands that specifies a
computation<a class='hidden_link' href='#pre-1.sentence-2'>.</a></div> <div id='pre-1.sentence-3' class='sentence'>An expression can result in a value and can cause side
effects<a class='hidden_link' href='#pre-1.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='pre-2'><div class='marginalizedparent'><a class='marginalized' href='#pre-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L29'>#</a></div><span class='indexparent'><a class='index' id=':operator,overloaded'></a></span><div id='pre-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#pre-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='pre-2.sentence-1' class='sentence'>Operators can be overloaded, that is, given meaning when applied to
expressions of <a href='class'>class</a> type or
<a href='dcl.enum'>enumeration</a> type<a class='hidden_link' href='#pre-2.sentence-1'>.</a></div> <div id='pre-2.sentence-2' class='sentence'>Uses of overloaded operators are transformed into
function calls as described in <a href='over.oper'>[over.oper]</a><a class='hidden_link' href='#pre-2.sentence-2'>.</a></div> <div id='pre-2.sentence-3' class='sentence'>Overloaded operators
obey the rules for syntax and evaluation order specified in <a href='expr.compound'>[expr.compound]</a>,
but the requirements of operand type and value category are replaced
by the rules for function call<a class='hidden_link' href='#pre-2.sentence-3'>.</a></div> <div id='pre-2.sentence-4' class='sentence'>Relations between operators, such as
<span class='texttt'>++a</span> meaning <span class='texttt'>a+=1</span>, are not guaranteed for <a href='over.oper'>overloaded
operators</a><a class='hidden_link' href='#pre-2.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='pre-3'><div class='marginalizedparent'><a class='marginalized' href='#pre-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L43'>#</a></div><div id='pre-3.sentence-1' class='sentence'>Subclause <a href='expr.compound'>[expr.compound]</a> defines the effects of operators when applied to types
for which they have not been overloaded<a class='hidden_link' href='#pre-3.sentence-1'>.</a></div> <div id='pre-3.sentence-2' class='sentence'>Operator overloading shall not
modify the rules for the <a class='hidden_link' href='#def:operators,built-in' id='def:operators,built-in'><i >built-in operators</i></a>,
that is, for operators applied to types for which they are defined by this
Standard<a class='hidden_link' href='#pre-3.sentence-2'>.</a></div> <div id='pre-3.sentence-3' class='sentence'>However, these built-in operators participate in overload
resolution, and as part of that process user-defined conversions will be
considered where necessary to convert the operands to types appropriate
for the built-in operator<a class='hidden_link' href='#pre-3.sentence-3'>.</a></div> <div id='pre-3.sentence-4' class='sentence'>If a built-in operator is selected, such
conversions will be applied to the operands before the operation is
considered further according to the rules in subclause <a href='expr.compound'>[expr.compound]</a>;
see <a href='over.match.oper'>[over.match.oper]</a>, <a href='over.built'>[over.built]</a><a class='hidden_link' href='#pre-3.sentence-4'>.</a></div></div><div class='para' id='pre-4'><div class='marginalizedparent'><a class='marginalized' href='#pre-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L56'>#</a></div><div id='pre-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':exception,arithmetic'></a></span><span class='indexparent'><a class='index' id=':exception,undefined_arithmetic'></a></span><span class='indexparent'><a class='index' id=':overflow,undefined'></a></span><span class='indexparent'><a class='index' id=':zero,division_by_undefined'></a></span><span class='indexparent'><a class='index' id=':zero,remainder_undefined'></a></span>If during the evaluation of an expression, the result is not
mathematically defined or not in the range of representable values for
its type, the behavior is undefined<a class='hidden_link' href='#pre-4.sentence-1'>.</a></div> <div id='pre-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#pre-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='pre-4.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':overflow'></a></span>Treatment of division by zero, forming a remainder using a zero divisor,
and all floating-point exceptions vary among machines, and is sometimes
adjustable by a library function<a class='hidden_link' href='#pre-4.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='pre-5'><div class='marginalizedparent'><a class='marginalized' href='#pre-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L72'>#</a></div><div id='pre-5.sentence-1' class='sentence'>The values of the floating operands and the results of floating
expressions may be represented in greater precision and range than that
required by the type; the types are not changed
thereby<a class='hidden_link' href='#pre-5.sentence-1'>.</a><a class='footnotenum' href='#footnote-62'>62</a></div></div><div class='footnote' id='footnote-61'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-61'>61)</a></div><div id='footnote-61.sentence-1' class='sentence'>The precedence of operators is not directly specified, but it can be
derived from the syntax<a class='hidden_link' href='#footnote-61.sentence-1'>.</a></div></div><div class='footnote' id='footnote-62'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-62'>62)</a></div><div id='footnote-62.sentence-1' class='sentence'>The cast and assignment operators must still perform their specific
conversions as described in <a href='expr.cast'>[expr.cast]</a>, <a href='expr.static.cast'>[expr.static.cast]</a>
and <a href='expr.ass'>[expr.ass]</a><a class='hidden_link' href='#footnote-62.sentence-1'>.</a></div></div></div><div id='prop' class='section'><h2 ><a class='secnum' href='#prop' style='min-width:88pt'>8.2</a> Properties of expressions <a class='abbr_ref' href='expr.prop'>[expr.prop]</a></h2><div id='basic.lval' class='section'><h3 ><a class='secnum' href='#basic.lval' style='min-width:103pt'>8.2.1</a> Value category <a class='abbr_ref' href='basic.lval'>[basic.lval]</a></h3><div class='para' id='basic.lval-1'><div class='marginalizedparent'><a class='marginalized' href='#basic.lval-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L83'>#</a></div><div id='basic.lval-1.sentence-1' class='sentence'>Expressions are categorized according to the taxonomy in Figure <a href='#fig:categories'>[fig:categories]</a><a class='hidden_link' href='#basic.lval-1.sentence-1'>.</a></div><div class='figure' id='fig:categories'><svg width="361pt" height="182pt"
 viewBox="0.00 0.00 361.00 182.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g class="graph" transform="scale(1 1) rotate(0) translate(4 178)">
<title>categories</title>
<!-- expression -->
<g class="node"><title>expression</title>
<text text-anchor="middle" x="171.5" y="-150.8" font-family="Times,serif" font-size="24.00">expression</text>
</g>
<!-- glvalue -->
<g class="node"><title>glvalue</title>
<text text-anchor="middle" x="103.5" y="-80.8" font-family="Times,serif" font-size="24.00">glvalue</text>
</g>
<!-- expression&#45;&gt;glvalue -->
<g class="edge"><title>expression&#45;&gt;glvalue</title>
<path fill="none" stroke="black" d="M155.385,-139.885C146.956,-131.456 136.476,-120.976 127.146,-111.646"/>
<polygon fill="black" stroke="black" points="129.518,-109.068 119.972,-104.472 124.568,-114.018 129.518,-109.068"/>
</g>
<!-- rvalue -->
<g class="node"><title>rvalue</title>
<text text-anchor="middle" x="239.5" y="-80.8" font-family="Times,serif" font-size="24.00">rvalue</text>
</g>
<!-- expression&#45;&gt;rvalue -->
<g class="edge"><title>expression&#45;&gt;rvalue</title>
<path fill="none" stroke="black" d="M187.615,-139.885C196.044,-131.456 206.524,-120.976 215.854,-111.646"/>
<polygon fill="black" stroke="black" points="218.432,-114.018 223.028,-104.472 213.482,-109.068 218.432,-114.018"/>
</g>
<!-- lvalue -->
<g class="node"><title>lvalue</title>
<text text-anchor="middle" x="37.5" y="-10.8" font-family="Times,serif" font-size="24.00">lvalue</text>
</g>
<!-- glvalue&#45;&gt;lvalue -->
<g class="edge"><title>glvalue&#45;&gt;lvalue</title>
<path fill="none" stroke="black" d="M87.8589,-69.8849C79.7586,-61.5391 69.7074,-51.1834 60.7202,-41.9238"/>
<polygon fill="black" stroke="black" points="62.9636,-39.2099 53.4873,-34.4717 57.9405,-44.0853 62.9636,-39.2099"/>
</g>
<!-- xvalue -->
<g class="node"><title>xvalue</title>
<text text-anchor="middle" x="169.5" y="-10.8" font-family="Times,serif" font-size="24.00">xvalue</text>
</g>
<!-- glvalue&#45;&gt;xvalue -->
<g class="edge"><title>glvalue&#45;&gt;xvalue</title>
<path fill="none" stroke="black" d="M119.141,-69.8849C127.241,-61.5391 137.293,-51.1834 146.28,-41.9238"/>
<polygon fill="black" stroke="black" points="149.059,-44.0853 153.513,-34.4717 144.036,-39.2099 149.059,-44.0853"/>
</g>
<!-- rvalue&#45;&gt;xvalue -->
<g class="edge"><title>rvalue&#45;&gt;xvalue</title>
<path fill="none" stroke="black" d="M222.911,-69.8849C214.234,-61.4557 203.446,-50.9761 193.842,-41.6464"/>
<polygon fill="black" stroke="black" points="196.068,-38.9291 186.456,-34.4717 191.19,-43.9501 196.068,-38.9291"/>
</g>
<!-- prvalue -->
<g class="node"><title>prvalue</title>
<text text-anchor="middle" x="308.5" y="-10.8" font-family="Times,serif" font-size="24.00">prvalue</text>
</g>
<!-- rvalue&#45;&gt;prvalue -->
<g class="edge"><title>rvalue&#45;&gt;prvalue</title>
<path fill="none" stroke="black" d="M255.852,-69.8849C264.405,-61.4557 275.039,-50.9761 284.506,-41.6464"/>
<polygon fill="black" stroke="black" points="287.12,-43.9839 291.786,-34.4717 282.207,-38.9982 287.12,-43.9839"/>
</g>
</g>
</svg>
<br>Figure <a href='#fig:categories'>1</a> — Expression category taxonomy</div><div id='basic.lval-1.sentence-2' class='sentence'><ul class='itemize'><li id='basic.lval-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#basic.lval-1.1'>(1.1)</a></div><div id='basic.lval-1.1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:glvalue' id='def:glvalue'><i >glvalue</i></a> is an expression whose evaluation determines the identity of an object, bit-field, or function<a class='hidden_link' href='#basic.lval-1.1.sentence-1'>.</a></div></li><li id='basic.lval-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#basic.lval-1.2'>(1.2)</a></div><div id='basic.lval-1.2.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:prvalue' id='def:prvalue'><i >prvalue</i></a> is an expression whose evaluation initializes an object or a bit-field,
or computes the value of the operand of an operator,
as specified by the context in which it appears<a class='hidden_link' href='#basic.lval-1.2.sentence-1'>.</a></div></li><li id='basic.lval-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#basic.lval-1.3'>(1.3)</a></div><div id='basic.lval-1.3.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:xvalue' id='def:xvalue'><i >xvalue</i></a> is a glvalue that denotes an object or bit-field whose resources can be reused (usually because it is near the end of its lifetime)<a class='hidden_link' href='#basic.lval-1.3.sentence-1'>.</a></div> <div id='basic.lval-1.3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#basic.lval-1.3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='basic.lval-1.3.sentence-2' class='sentence'>Certain kinds of expressions involving rvalue references (<a href='dcl.ref'>[dcl.ref]</a>) yield xvalues,
such as a call to a function whose return type is an rvalue reference
or a cast to an rvalue reference type<a class='hidden_link' href='#basic.lval-1.3.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </li><li id='basic.lval-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#basic.lval-1.4'>(1.4)</a></div><div id='basic.lval-1.4.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:lvalue' id='def:lvalue'><i >lvalue</i></a> is a glvalue that is not an xvalue<a class='hidden_link' href='#basic.lval-1.4.sentence-1'>.</a></div></li><li id='basic.lval-1.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#basic.lval-1.5'>(1.5)</a></div><div id='basic.lval-1.5.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:rvalue' id='def:rvalue'><i >rvalue</i></a> is a prvalue or an xvalue<a class='hidden_link' href='#basic.lval-1.5.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='basic.lval-2'><div class='marginalizedparent'><a class='marginalized' href='#basic.lval-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L107'>#</a></div><div id='basic.lval-2.sentence-1' class='sentence'>Every expression belongs to exactly one of the fundamental classifications in this
taxonomy: lvalue, xvalue, or prvalue<a class='hidden_link' href='#basic.lval-2.sentence-1'>.</a></div> <div id='basic.lval-2.sentence-2' class='sentence'>This property of an expression is called
its <a class='hidden_link' href='#def:value_category' id='def:value_category'><i >value category</i></a><a class='hidden_link' href='#basic.lval-2.sentence-2'>.</a></div> <div id='basic.lval-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#basic.lval-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='basic.lval-2.sentence-3' class='sentence'>The discussion of each built-in operator in
<a href='expr.compound'>[expr.compound]</a> indicates the category of the value it yields and the value categories
of the operands it expects<a class='hidden_link' href='#basic.lval-2.sentence-3'>.</a></div> <div id='basic.lval-2.sentence-4' class='sentence'>For example, the built-in assignment operators expect that
the left operand is an lvalue and that the right operand is a prvalue and yield an
lvalue as the result<a class='hidden_link' href='#basic.lval-2.sentence-4'>.</a></div> <div id='basic.lval-2.sentence-5' class='sentence'>User-defined operators are functions, and the categories of
values they expect and yield are determined by their parameter and return types<a class='hidden_link' href='#basic.lval-2.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='basic.lval-3'><div class='marginalizedparent'><a class='marginalized' href='#basic.lval-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L117'>#</a></div><div id='basic.lval-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#basic.lval-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='basic.lval-3.sentence-1' class='sentence'>Historically, lvalues and rvalues were so-called
because they could appear on the left- and right-hand side of an assignment
(although this is no longer generally true);
glvalues are “generalized” lvalues,
prvalues are “pure” rvalues,
and xvalues are “eXpiring” lvalues<a class='hidden_link' href='#basic.lval-3.sentence-1'>.</a></div> <div id='basic.lval-3.sentence-2' class='sentence'>Despite their names, these terms classify expressions, not values<a class='hidden_link' href='#basic.lval-3.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='basic.lval-4'><div class='marginalizedparent'><a class='marginalized' href='#basic.lval-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L128'>#</a></div><span class='indexparent'><a class='index' id=':expression,rvalue_reference'></a></span><div id='basic.lval-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#basic.lval-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='basic.lval-4.sentence-1' class='sentence'>An expression is an xvalue if it is:
<ul class='itemize'><li id='basic.lval-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#basic.lval-4.1'>(4.1)</a></div><div id='basic.lval-4.1.sentence-1' class='sentence'>the result of calling a function, whether implicitly or explicitly,
whose return type is an rvalue reference to object type,</div></li><li id='basic.lval-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#basic.lval-4.2'>(4.2)</a></div><div id='basic.lval-4.2.sentence-1' class='sentence'>a cast to an rvalue reference to object type,</div></li><li id='basic.lval-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#basic.lval-4.3'>(4.3)</a></div><div id='basic.lval-4.3.sentence-1' class='sentence'>a class member access expression designating a non-static data member
of non-reference type
in which the object expression is an xvalue, or</div></li><li id='basic.lval-4.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#basic.lval-4.4'>(4.4)</a></div><div id='basic.lval-4.4.sentence-1' class='sentence'>a <span class='texttt'>.*</span> pointer-to-member expression in which the first operand is
an xvalue and the second operand is a pointer to data member<a class='hidden_link' href='#basic.lval-4.4.sentence-1'>.</a></div></li></ul></div> <div id='basic.lval-4.sentence-2' class='sentence'>
In general, the effect of this rule is that named rvalue references are
treated as lvalues and unnamed rvalue references to objects are treated as
xvalues; rvalue references to functions are treated as lvalues whether named or not<a class='hidden_link' href='#basic.lval-4.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> <div id='basic.lval-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#basic.lval-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A {
  int m;
};
A&amp;&amp; operator+(A, A);
A&amp;&amp; f();

A a;
A&amp;&amp; ar = static_cast&lt;A&amp;&amp;&gt;(a);</pre><div id='basic.lval-4.sentence-3' class='sentence'>The expressions <span class='texttt'>f()</span>, <span class='texttt'>f().m</span>, <span class='texttt'>static_&shy;cast&lt;A&amp;&amp;&gt;(a)</span>, and <span class='texttt'>a + a</span>
are xvalues<a class='hidden_link' href='#basic.lval-4.sentence-3'>.</a></div> <div id='basic.lval-4.sentence-4' class='sentence'>The expression <span class='texttt'>ar</span> is an lvalue<a class='hidden_link' href='#basic.lval-4.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='basic.lval-5'><div class='marginalizedparent'><a class='marginalized' href='#basic.lval-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L166'>#</a></div><div id='basic.lval-5.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:result,prvalue' id='def:result,prvalue'><i >result</i></a> of a prvalue
is the value that the expression stores into its context<a class='hidden_link' href='#basic.lval-5.sentence-1'>.</a></div> <div id='basic.lval-5.sentence-2' class='sentence'>A prvalue whose result is the value <span class='textit'>V</span>
is sometimes said to have or name the value <span class='textit'>V</span><a class='hidden_link' href='#basic.lval-5.sentence-2'>.</a></div> <div id='basic.lval-5.sentence-3' class='sentence'>The <a class='hidden_link' href='#def:result_object' id='def:result_object'><i >result object</i></a> of a prvalue
is the object initialized by the prvalue;
a prvalue
that is used to compute the value of an operand of an operator or
that has type <span class='textit'>cv</span> <span class='texttt'>void</span>
has no result object<a class='hidden_link' href='#basic.lval-5.sentence-3'>.</a></div> <div id='basic.lval-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#basic.lval-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='basic.lval-5.sentence-5' class='sentence'>Except when the prvalue is the operand of a <i ><a href='dcl.type.simple#nt:decltype-specifier'>decltype-specifier</a></i>,
a prvalue of class or array type always has a result object<a class='hidden_link' href='#basic.lval-5.sentence-5'>.</a></div> <div id='basic.lval-5.sentence-6' class='sentence'>For a discarded prvalue, a temporary object is materialized; see <a href='expr.prop'>[expr.prop]</a><a class='hidden_link' href='#basic.lval-5.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='basic.lval-5.sentence-4' class='sentence'>
The <a class='hidden_link' href='#def:result,glvalue' id='def:result,glvalue'><i >result</i></a> of a glvalue is the entity denoted by the expression<a class='hidden_link' href='#basic.lval-5.sentence-4'>.</a></div></div><div class='para' id='basic.lval-6'><div class='marginalizedparent'><a class='marginalized' href='#basic.lval-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L184'>#</a></div><div id='basic.lval-6.sentence-1' class='sentence'>Whenever a glvalue expression appears as an operand of an operator that
expects a prvalue for that operand, the
<a href='conv.lval'>lvalue-to-rvalue</a>, <a href='conv.array'>array-to-pointer</a>,
or <a href='conv.func'>function-to-pointer</a> standard conversions are
applied to convert the expression to a prvalue<a class='hidden_link' href='#basic.lval-6.sentence-1'>.</a></div> <div id='basic.lval-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#basic.lval-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='basic.lval-6.sentence-2' class='sentence'>An attempt to bind an rvalue reference to an lvalue is not such a context; see <a href='dcl.init.ref'>[dcl.init.ref]</a><a class='hidden_link' href='#basic.lval-6.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='basic.lval-6.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#basic.lval-6.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='basic.lval-6.sentence-3' class='sentence'>Because cv-qualifiers are removed from the type of an expression of
non-class type when the expression is converted to a prvalue, an lvalue
expression of type <span class='texttt'>const int</span> can, for example, be used where
a prvalue expression of type <span class='texttt'>int</span> is required<a class='hidden_link' href='#basic.lval-6.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='basic.lval-6.note-3' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#basic.lval-6.note-3'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='basic.lval-6.sentence-4' class='sentence'>There are no prvalue bit-fields; if a bit-field is converted to a
prvalue (<a href='conv.lval'>[conv.lval]</a>), a prvalue of the type of the bit-field is
created, which might then be promoted (<a href='conv.prom'>[conv.prom]</a>)<a class='hidden_link' href='#basic.lval-6.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='basic.lval-7'><div class='marginalizedparent'><a class='marginalized' href='#basic.lval-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L205'>#</a></div><div id='basic.lval-7.sentence-1' class='sentence'>Whenever a prvalue expression appears as an operand of an operator that
expects a glvalue for that operand, the
<a href='conv.rval'>temporary materialization conversion</a> is
applied to convert the expression to an xvalue<a class='hidden_link' href='#basic.lval-7.sentence-1'>.</a></div></div><div class='para' id='basic.lval-8'><div class='marginalizedparent'><a class='marginalized' href='#basic.lval-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L211'>#</a></div><div id='basic.lval-8.sentence-1' class='sentence'>The discussion of reference initialization in <a href='dcl.init.ref'>[dcl.init.ref]</a> and of
temporaries in <a href='class.temporary'>[class.temporary]</a> indicates the behavior of lvalues
and rvalues in other significant contexts<a class='hidden_link' href='#basic.lval-8.sentence-1'>.</a></div></div><div class='para' id='basic.lval-9'><div class='marginalizedparent'><a class='marginalized' href='#basic.lval-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L216'>#</a></div><div id='basic.lval-9.sentence-1' class='sentence'>Unless otherwise indicated (<a href='expr.call'>[expr.call]</a>),
a prvalue shall always have complete type or the <span class='texttt'>void</span> type<a class='hidden_link' href='#basic.lval-9.sentence-1'>.</a></div> <div id='basic.lval-9.sentence-2' class='sentence'>A glvalue shall not have type <span class='textit'>cv</span> <span class='texttt'>void</span><a class='hidden_link' href='#basic.lval-9.sentence-2'>.</a></div> <div id='basic.lval-9.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#basic.lval-9.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='basic.lval-9.sentence-3' class='sentence'>A glvalue may have complete or incomplete non-<span class='texttt'>void</span> type<a class='hidden_link' href='#basic.lval-9.sentence-3'>.</a></div> <div id='basic.lval-9.sentence-4' class='sentence'>Class and array prvalues can have cv-qualified types; other prvalues
always have cv-unqualified types<a class='hidden_link' href='#basic.lval-9.sentence-4'>.</a></div> <div id='basic.lval-9.sentence-5' class='sentence'>See <a href='expr.prop'>[expr.prop]</a><a class='hidden_link' href='#basic.lval-9.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='basic.lval-10'><div class='marginalizedparent'><a class='marginalized' href='#basic.lval-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L226'>#</a></div><div id='basic.lval-10.sentence-1' class='sentence'>An lvalue is <a class='hidden_link' href='#def:modifiable' id='def:modifiable'><i >modifiable</i></a> unless its type is const-qualified
or is a function type<a class='hidden_link' href='#basic.lval-10.sentence-1'>.</a></div> <div id='basic.lval-10.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#basic.lval-10.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='basic.lval-10.sentence-2' class='sentence'>A program that attempts
to modify an object through a nonmodifiable lvalue expression or through an rvalue expression
is ill-formed (<a href='expr.ass'>[expr.ass]</a>, <a href='expr.post.incr'>[expr.post.incr]</a>, <a href='expr.pre.incr'>[expr.pre.incr]</a>)<a class='hidden_link' href='#basic.lval-10.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='basic.lval-11'><div class='marginalizedparent'><a class='marginalized' href='#basic.lval-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L235'>#</a></div><div id='basic.lval-11.sentence-1' class='sentence'>If a program attempts to access the stored value of an object through a glvalue
of other than one of the following types the behavior is
undefined:<a class='footnotenum' href='#footnote-63'>63</a>
<ul class='itemize'><li id='basic.lval-11.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#basic.lval-11.1'>(11.1)</a></div><div id='basic.lval-11.1.sentence-1' class='sentence'>the dynamic type of the object,</div></li><li id='basic.lval-11.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#basic.lval-11.2'>(11.2)</a></div><div id='basic.lval-11.2.sentence-1' class='sentence'>a cv-qualified version of the dynamic type of the object,</div></li><li id='basic.lval-11.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#basic.lval-11.3'>(11.3)</a></div><div id='basic.lval-11.3.sentence-1' class='sentence'>a type similar (as defined in <a href='conv.qual'>[conv.qual]</a>) to the dynamic type
of the object,</div></li><li id='basic.lval-11.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#basic.lval-11.4'>(11.4)</a></div><div id='basic.lval-11.4.sentence-1' class='sentence'>a type that is the signed or unsigned type corresponding to the
dynamic type of the object,</div></li><li id='basic.lval-11.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#basic.lval-11.5'>(11.5)</a></div><div id='basic.lval-11.5.sentence-1' class='sentence'>a type that is the signed or unsigned type corresponding to a
cv-qualified version of the dynamic type of the object,</div></li><li id='basic.lval-11.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#basic.lval-11.6'>(11.6)</a></div><div id='basic.lval-11.6.sentence-1' class='sentence'>an aggregate or union type that includes one of the aforementioned types among its
elements or non-static data members (including, recursively, an element or non-static data member of a
subaggregate or contained union),</div></li><li id='basic.lval-11.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#basic.lval-11.7'>(11.7)</a></div><div id='basic.lval-11.7.sentence-1' class='sentence'>a type that is a (possibly cv-qualified) base class type of the dynamic type of
the object,</div></li><li id='basic.lval-11.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#basic.lval-11.8'>(11.8)</a></div><div id='basic.lval-11.8.sentence-1' class='sentence'>a <span class='texttt'>char</span>, <span class='texttt'>unsigned char</span>, or <span class='texttt'>std&#x200b;::&#x200b;byte</span> type<a class='hidden_link' href='#basic.lval-11.8.sentence-1'>.</a></div></li></ul></div></div><div class='footnote' id='footnote-63'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-63'>63)</a></div><div id='footnote-63.sentence-1' class='sentence'>The intent of this list is to specify those circumstances in which an
object may or may not be aliased<a class='hidden_link' href='#footnote-63.sentence-1'>.</a></div></div></div><div id='type' class='section'><h3 ><a class='secnum' href='#type' style='min-width:103pt'>8.2.2</a> Type <a class='abbr_ref' href='expr.type'>[expr.type]</a></h3><div class='para' id='type-1'><div class='marginalizedparent'><a class='marginalized' href='#type-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L266'>#</a></div><div id='type-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':expression,reference'></a></span>If an expression initially has the type “reference to
<span class='texttt'>T</span>” (<a href='dcl.ref'>[dcl.ref]</a>, <a href='dcl.init.ref'>[dcl.init.ref]</a>), the type is adjusted to
<span class='texttt'>T</span> prior to any further analysis<a class='hidden_link' href='#type-1.sentence-1'>.</a></div> <div id='type-1.sentence-2' class='sentence'>The expression designates the
object or function denoted by the reference, and the expression
is an lvalue or an xvalue, depending on the expression<a class='hidden_link' href='#type-1.sentence-2'>.</a></div> <div id='type-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#type-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='type-1.sentence-3' class='sentence'>Before the lifetime of the reference has started or after it has ended,
the behavior is undefined (see <a href='basic.life'>[basic.life]</a>)<a class='hidden_link' href='#type-1.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='type-2'><div class='marginalizedparent'><a class='marginalized' href='#type-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L278'>#</a></div><div id='type-2.sentence-1' class='sentence'>If a prvalue initially has the type “<span class='textit'>cv</span> <span class='texttt'>T</span>”, where
<span class='texttt'>T</span> is a cv-unqualified non-class, non-array type, the type of
the expression is adjusted to <span class='texttt'>T</span> prior to any further analysis<a class='hidden_link' href='#type-2.sentence-1'>.</a></div></div><div class='para' id='type-3'><div class='marginalizedparent'><a class='marginalized' href='#type-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L283'>#</a></div><div id='type-3.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:type,cv-combined' id='def:type,cv-combined'><i >cv-combined type</i></a> of two types <span class='texttt'>T1</span> and <span class='texttt'>T2</span>
is a type <span class='texttt'>T3</span>
similar to <span class='texttt'>T1</span> whose <a href='conv.qual#def:cv-qualification_signature'>cv-qualification signature</a> is:
<ul class='itemize'><li id='type-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-3.1'>(3.1)</a></div><div id='type-3.1.sentence-1' class='sentence'>for every <span class="mjx-chtml"><span class="mjx-math" aria-label="i > 0"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&gt;</span></span><span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span>, <span class="mjx-chtml"><span class="mjx-math" aria-label="cv^3_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span><span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">3</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> is the union of
<span class="mjx-chtml"><span class="mjx-math" aria-label="cv^1_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span><span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> and <span class="mjx-chtml"><span class="mjx-math" aria-label="cv^2_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span><span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span>;</div></li><li id='type-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-3.2'>(3.2)</a></div><div id='type-3.2.sentence-1' class='sentence'>if the resulting <span class="mjx-chtml"><span class="mjx-math" aria-label="cv^3_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span><span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">3</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> is different from
<span class="mjx-chtml"><span class="mjx-math" aria-label="cv^1_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span><span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span> or <span class="mjx-chtml"><span class="mjx-math" aria-label="cv^2_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span><span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span>, then
<span class='texttt'>const</span> is added to every <span class="mjx-chtml"><span class="mjx-math" aria-label="cv^3_k"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span><span class="mjx-stack" style="vertical-align: -0.335em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">3</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span></span> for <span class="mjx-chtml"><span class="mjx-math" aria-label="0 < k < i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&lt;</span></span><span class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&lt;</span></span><span class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span><a class='hidden_link' href='#type-3.2.sentence-1'>.</a></div></li></ul></div><div id='type-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#type-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='type-3.sentence-2' class='sentence'>Given similar types <span class='texttt'>T1</span> and <span class='texttt'>T2</span>, this
construction ensures that
both can be converted to <span class='texttt'>T3</span><a class='hidden_link' href='#type-3.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='type-4'><div class='marginalizedparent'><a class='marginalized' href='#type-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L302'>#</a></div><div id='type-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':pointer,composite_pointer_type'></a></span>The <a class='hidden_link' href='#def:composite_pointer_type' id='def:composite_pointer_type'><i >composite pointer type</i></a> of
two operands <span class='texttt'>p1</span> and
<span class='texttt'>p2</span> having types <span class='texttt'>T1</span> and <span class='texttt'>T2</span>, respectively, where at least one is a
pointer or pointer-to-member type or
<span class='texttt'>std&#x200b;::&#x200b;nullptr_&shy;t</span>, is:</div><div id='type-4.sentence-2' class='sentence'><ul class='itemize'><li id='type-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-4.1'>(4.1)</a></div><div id='type-4.1.sentence-1' class='sentence'>if both <span class='texttt'>p1</span> and <span class='texttt'>p2</span> are null pointer constants,
<span class='texttt'>std&#x200b;::&#x200b;nullptr_&shy;t</span>;</div></li><li id='type-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-4.2'>(4.2)</a></div><div id='type-4.2.sentence-1' class='sentence'>if either <span class='texttt'>p1</span> or <span class='texttt'>p2</span> is a null pointer constant, <span class='texttt'>T2</span> or <span class='texttt'>T1</span>,
respectively;</div></li><li id='type-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-4.3'>(4.3)</a></div><div id='type-4.3.sentence-1' class='sentence'>if <span class='texttt'>T1</span> or <span class='texttt'>T2</span> is “pointer to <span class='textit'>cv1</span> <span class='texttt'>void</span>” and the
other type is “pointer to <span class='textit'>cv2</span> T”,
where <span class='texttt'>T</span> is an object type or <span class='texttt'>void</span>,
“pointer to <span class='textit'>cv12</span> <span class='texttt'>void</span>”,
where <span class='textit'>cv12</span> is the union of <span class='textit'>cv1</span> and <span class='textit'>cv2</span>;</div></li><li id='type-4.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-4.4'>(4.4)</a></div><div id='type-4.4.sentence-1' class='sentence'>if <span class='texttt'>T1</span> or <span class='texttt'>T2</span> is “pointer to <span class='texttt'>noexcept</span> function” and the
other type is “pointer to function”, where the function types are otherwise the same,
“pointer to function”;</div></li><li id='type-4.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-4.5'>(4.5)</a></div><div id='type-4.5.sentence-1' class='sentence'>if <span class='texttt'>T1</span> is “pointer to <span class='textit'>cv1</span> <span class='texttt'>C1</span>” and <span class='texttt'>T2</span> is “pointer to
<span class='textit'>cv2</span> <span class='texttt'>C2</span>”, where <span class='texttt'>C1</span> is <a href='dcl.init.ref#def:reference-related'>reference-related</a> to <span class='texttt'>C2</span> or <span class='texttt'>C2</span> is
reference-related to <span class='texttt'>C1</span>, the cv-combined type
of <span class='texttt'>T1</span> and <span class='texttt'>T2</span> or the cv-combined type of <span class='texttt'>T2</span> and <span class='texttt'>T1</span>,
respectively;</div></li><li id='type-4.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-4.6'>(4.6)</a></div><div id='type-4.6.sentence-1' class='sentence'>if <span class='texttt'>T1</span> is “pointer to member of <span class='texttt'>C1</span> of type <span class='textit'>cv1</span> <span class='texttt'>U1</span>” and <span class='texttt'>T2</span> is
“pointer to member of <span class='texttt'>C2</span> of type <span class='textit'>cv2</span> <span class='texttt'>U2</span>” where <span class='texttt'>C1</span> is
reference-related to <span class='texttt'>C2</span> or <span class='texttt'>C2</span> is <a href='dcl.init.ref#def:reference-related'>reference-related</a> to
<span class='texttt'>C1</span>, the cv-combined type of <span class='texttt'>T2</span> and <span class='texttt'>T1</span> or the cv-combined type
of <span class='texttt'>T1</span> and <span class='texttt'>T2</span>, respectively;</div></li><li id='type-4.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-4.7'>(4.7)</a></div><div id='type-4.7.sentence-1' class='sentence'>if <span class='texttt'>T1</span> and <span class='texttt'>T2</span> are <a href='conv.qual#def:similar_types'>similar types</a>, the cv-combined type of <span class='texttt'>T1</span> and
<span class='texttt'>T2</span>;</div></li><li id='type-4.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-4.8'>(4.8)</a></div><div id='type-4.8.sentence-1' class='sentence'>otherwise, a program that necessitates the determination of a
composite pointer type is ill-formed<a class='hidden_link' href='#type-4.8.sentence-1'>.</a></div></li></ul></div><div id='type-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#type-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
typedef void *p;
typedef const int *q;
typedef int **pi;
typedef const int **pci;</pre><div id='type-4.sentence-3' class='sentence'>The composite pointer type of <span class='texttt'>p</span> and <span class='texttt'>q</span> is “pointer to <span class='texttt'>const void</span>”; the
composite pointer type of <span class='texttt'>pi</span> and <span class='texttt'>pci</span> is “pointer to <span class='texttt'>const</span> pointer to
<span class='texttt'>const int</span>”<a class='hidden_link' href='#type-4.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='context' class='section'><h3 ><a class='secnum' href='#context' style='min-width:103pt'>8.2.3</a> Context dependence <a class='abbr_ref' href='expr.context'>[expr.context]</a></h3><div class='para' id='context-1'><div class='marginalizedparent'><a class='marginalized' href='#context-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L369'>#</a></div><div id='context-1.sentence-1' class='sentence'>In some contexts, <a class='hidden_link' href='#def:unevaluated_operand' id='def:unevaluated_operand'><i >unevaluated operands</i></a>
appear (<a href='expr.prim.req'>[expr.prim.req]</a>,
<a href='expr.typeid'>[expr.typeid]</a>,
<a href='expr.sizeof'>[expr.sizeof]</a>,
<a href='expr.unary.noexcept'>[expr.unary.noexcept]</a>,
<a href='dcl.type.simple'>[dcl.type.simple]</a>,
<a href='temp'>[temp]</a>)<a class='hidden_link' href='#context-1.sentence-1'>.</a></div> <div id='context-1.sentence-2' class='sentence'>An unevaluated operand is not evaluated<a class='hidden_link' href='#context-1.sentence-2'>.</a></div> <div id='context-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#context-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='context-1.sentence-3' class='sentence'>In an unevaluated operand, a non-static class member may be
named (<a href='expr.prim'>[expr.prim]</a>) and naming of objects or functions does not, by
itself, require that a definition be provided (<a href='basic.def.odr'>[basic.def.odr]</a>)<a class='hidden_link' href='#context-1.sentence-3'>.</a></div> <div id='context-1.sentence-4' class='sentence'>An unevaluated operand is considered a <a href='intro.execution#def:full-expression'>full-expression</a><a class='hidden_link' href='#context-1.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='context-2'><div class='marginalizedparent'><a class='marginalized' href='#context-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L385'>#</a></div><div id='context-2.sentence-1' class='sentence'>In some contexts, an expression only appears for its side effects<a class='hidden_link' href='#context-2.sentence-1'>.</a></div> <div id='context-2.sentence-2' class='sentence'>Such an
expression is called a <a class='hidden_link' href='#def:discarded-value_expression' id='def:discarded-value_expression'><i >discarded-value expression</i></a><a class='hidden_link' href='#context-2.sentence-2'>.</a></div> <div id='context-2.sentence-3' class='sentence'>The <a href='conv.array'>array-to-pointer</a>
and <a href='conv.func'>function-to-pointer</a> standard conversions are not
applied<a class='hidden_link' href='#context-2.sentence-3'>.</a></div> <div id='context-2.sentence-4' class='sentence'>The <a href='conv.lval'>lvalue-to-rvalue</a> conversion is applied
if and only if
the expression is a glvalue of volatile-qualified type and it is one of the
following:</div><div id='context-2.sentence-5' class='sentence'><ul class='itemize'><li id='context-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#context-2.1'>(2.1)</a></div><div id='context-2.1.sentence-1' class='sentence'><span class='texttt'>(</span> <i ><a href='expr.comma#nt:expression'>expression</a></i> <span class='texttt'>)</span>, where
  <i ><a href='expr.comma#nt:expression'>expression</a></i> is one of these expressions,</div></li><li id='context-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#context-2.2'>(2.2)</a></div><div id='context-2.2.sentence-1' class='sentence'><i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i>,</div></li><li id='context-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#context-2.3'>(2.3)</a></div><div id='context-2.3.sentence-1' class='sentence'><a href='expr.sub'>subscripting</a>,</div></li><li id='context-2.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#context-2.4'>(2.4)</a></div><div id='context-2.4.sentence-1' class='sentence'><a href='expr.ref'>class member access</a>,</div></li><li id='context-2.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#context-2.5'>(2.5)</a></div><div id='context-2.5.sentence-1' class='sentence'><a href='expr.unary.op#def:indirection'>indirection</a>,</div></li><li id='context-2.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#context-2.6'>(2.6)</a></div><div id='context-2.6.sentence-1' class='sentence'><a href='expr.mptr.oper'>pointer-to-member operation</a>,</div></li><li id='context-2.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#context-2.7'>(2.7)</a></div><div id='context-2.7.sentence-1' class='sentence'><a href='expr.cond'>conditional expression</a> where both the second and the
      third operands are one of these expressions, or</div></li><li id='context-2.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#context-2.8'>(2.8)</a></div><div id='context-2.8.sentence-1' class='sentence'><a href='expr.comma'>comma expression</a> where the right operand is one of
      these expressions<a class='hidden_link' href='#context-2.8.sentence-1'>.</a></div></li></ul></div><div id='context-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#context-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='context-2.sentence-8' class='sentence'>Using an overloaded operator causes a function call; the
above covers only operators with built-in meaning<a class='hidden_link' href='#context-2.sentence-8'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='context-2.sentence-6' class='sentence'>
If the (possibly converted) expression is a prvalue,
the <a href='conv.rval'>temporary materialization conversion</a> is applied<a class='hidden_link' href='#context-2.sentence-6'>.</a></div> <div id='context-2.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#context-2.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='context-2.sentence-9' class='sentence'>If the expression is an lvalue of
class type, it must have a volatile copy constructor to initialize the
temporary object that is the result object of the lvalue-to-rvalue
conversion<a class='hidden_link' href='#context-2.sentence-9'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='context-2.sentence-7' class='sentence'>
The glvalue expression is evaluated and its value is discarded<a class='hidden_link' href='#context-2.sentence-7'>.</a></div></div></div></div><div id='arith.conv' class='section'><h2 ><a class='secnum' href='#arith.conv' style='min-width:88pt'>8.3</a> Usual arithmetic conversions <a class='abbr_ref' href='expr.arith.conv'>[expr.arith.conv]</a></h2><div class='para' id='arith.conv-1'><div class='marginalizedparent'><a class='marginalized' href='#arith.conv-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L423'>#</a></div><div id='arith.conv-1.sentence-1' class='sentence'>Many binary operators that expect operands of arithmetic or enumeration
type cause conversions and yield result types in a similar way<a class='hidden_link' href='#arith.conv-1.sentence-1'>.</a></div> <div id='arith.conv-1.sentence-2' class='sentence'>The
purpose is to yield a common type, which is also the type of the result<a class='hidden_link' href='#arith.conv-1.sentence-2'>.</a></div> <div id='arith.conv-1.sentence-3' class='sentence'>This pattern is called the <a class='hidden_link' href='#def:conversion,usual_arithmetic' id='def:conversion,usual_arithmetic'><i >usual arithmetic conversions</i></a>,
which are defined as follows:</div><div id='arith.conv-1.sentence-4' class='sentence'><ul class='itemize'><li id='arith.conv-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#arith.conv-1.1'>(1.1)</a></div><div id='arith.conv-1.1.sentence-1' class='sentence'>If either operand is of <a href='dcl.enum#def:enumeration,scoped'>scoped enumeration type</a>, no conversions
are performed; if the other operand does not have the same type, the expression is
ill-formed<a class='hidden_link' href='#arith.conv-1.1.sentence-1'>.</a></div></li><li id='arith.conv-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#arith.conv-1.2'>(1.2)</a></div><div id='arith.conv-1.2.sentence-1' class='sentence'>If either operand is of type <span class='texttt'>long double</span>, the
other shall be converted to <span class='texttt'>long double</span><a class='hidden_link' href='#arith.conv-1.2.sentence-1'>.</a></div></li><li id='arith.conv-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#arith.conv-1.3'>(1.3)</a></div><div id='arith.conv-1.3.sentence-1' class='sentence'>Otherwise, if either operand is <span class='texttt'>double</span>, the other shall be
converted to <span class='texttt'>double</span><a class='hidden_link' href='#arith.conv-1.3.sentence-1'>.</a></div></li><li id='arith.conv-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#arith.conv-1.4'>(1.4)</a></div><div id='arith.conv-1.4.sentence-1' class='sentence'>Otherwise, if either operand is <span class='texttt'>float</span>, the other shall be
converted to <span class='texttt'>float</span><a class='hidden_link' href='#arith.conv-1.4.sentence-1'>.</a></div></li><li id='arith.conv-1.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#arith.conv-1.5'>(1.5)</a></div><div id='arith.conv-1.5.sentence-1' class='sentence'>Otherwise, the <a href='conv.prom#def:integral_promotions'>integral promotions</a> shall be
performed on both operands<a class='hidden_link' href='#arith.conv-1.5.sentence-1'>.</a><a class='footnotenum' href='#footnote-64'>64</a></div> <div id='arith.conv-1.5.sentence-2' class='sentence'>
Then the following rules shall be applied to the promoted operands:</div><div id='arith.conv-1.5.sentence-3' class='sentence'><ul class='itemize'><li id='arith.conv-1.5.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#arith.conv-1.5.1'>(1.5.1)</a></div><div id='arith.conv-1.5.1.sentence-1' class='sentence'>

If both operands have the same type, no further conversion is
needed<a class='hidden_link' href='#arith.conv-1.5.1.sentence-1'>.</a></div></li><li id='arith.conv-1.5.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#arith.conv-1.5.2'>(1.5.2)</a></div><div id='arith.conv-1.5.2.sentence-1' class='sentence'>Otherwise, if both operands have signed integer types or both have
unsigned integer types, the operand with the type of lesser integer
conversion rank shall be converted to the type of the operand with
greater rank<a class='hidden_link' href='#arith.conv-1.5.2.sentence-1'>.</a></div></li><li id='arith.conv-1.5.3'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#arith.conv-1.5.3'>(1.5.3)</a></div><div id='arith.conv-1.5.3.sentence-1' class='sentence'>Otherwise, if the operand that has unsigned integer type has rank
greater than or equal to the rank of the type of the other operand, the
operand with signed integer type shall be converted to the type of the
operand with unsigned integer type<a class='hidden_link' href='#arith.conv-1.5.3.sentence-1'>.</a></div></li><li id='arith.conv-1.5.4'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#arith.conv-1.5.4'>(1.5.4)</a></div><div id='arith.conv-1.5.4.sentence-1' class='sentence'>Otherwise, if the type of the operand with signed integer type can
represent all of the values of the type of the operand with unsigned
integer type, the operand with unsigned integer type shall be converted
to the type of the operand with signed integer type<a class='hidden_link' href='#arith.conv-1.5.4.sentence-1'>.</a></div></li><li id='arith.conv-1.5.5'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#arith.conv-1.5.5'>(1.5.5)</a></div><div id='arith.conv-1.5.5.sentence-1' class='sentence'>Otherwise, both operands shall be converted to the unsigned
integer type corresponding to the type of the operand with signed
integer type<a class='hidden_link' href='#arith.conv-1.5.5.sentence-1'>.</a></div></li></ul></div></li></ul></div></div><div class='footnote' id='footnote-64'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-64'>64)</a></div><div id='footnote-64.sentence-1' class='sentence'>As a consequence, operands of type <span class='texttt'>bool</span>, <span class='texttt'>char16_&shy;t</span>,
<span class='texttt'>char32_&shy;t</span>, <span class='texttt'>wchar_&shy;t</span>, or an enumerated type are converted
to some integral type<a class='hidden_link' href='#footnote-64.sentence-1'>.</a></div></div></div><div id='prim' class='section'><h2 ><a class='secnum' href='#prim' style='min-width:88pt'>8.4</a> Primary expressions <a class='abbr_ref' href='expr.prim'>[expr.prim]</a></h2><span class='indexparent'><a class='index' id=':expression,primary'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:primary-expression' id='nt:primary-expression'>primary-expression:</a>
&#9;<i ><a href='lex.literal.kinds#nt:literal'>literal</a></i>
&#9;<span class='terminal'>this</span>
&#9;<span class='terminal'>(</span> <i ><a href='expr.comma#nt:expression'>expression</a></i> <span class='terminal'>)</span>
&#9;<i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i>
&#9;<i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i>
&#9;<i ><a href='expr.prim.fold#nt:fold-expression'>fold-expression</a></i>
&#9;<i ><a href='expr.prim.req#nt:requires-expression'>requires-expression</a></i>
</pre><div id='prim.literal' class='section'><h3 ><a class='secnum' href='#prim.literal' style='min-width:103pt'>8.4.1</a> Literals <a class='abbr_ref' href='expr.prim.literal'>[expr.prim.literal]</a></h3><div class='para' id='prim.literal-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.literal-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L492'>#</a></div><div id='prim.literal-1.sentence-1' class='sentence'>A
<span class='indexparent'><a class='index' id=':literal'></a></span><span class='indexparent'><a class='index' id=':constant'></a></span><i ><a href='lex.literal.kinds#nt:literal'>literal</a></i>
is a primary expression<a class='hidden_link' href='#prim.literal-1.sentence-1'>.</a></div> <div id='prim.literal-1.sentence-2' class='sentence'>Its type depends on its <a href='lex.literal'>form</a><a class='hidden_link' href='#prim.literal-1.sentence-2'>.</a></div> <div id='prim.literal-1.sentence-3' class='sentence'>A string literal is an lvalue; all other literals are prvalues<a class='hidden_link' href='#prim.literal-1.sentence-3'>.</a></div></div></div><div id='prim.this' class='section'><h3 ><a class='secnum' href='#prim.this' style='min-width:103pt'>8.4.2</a> This <a class='abbr_ref' href='expr.prim.this'>[expr.prim.this]</a></h3><div class='para' id='prim.this-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.this-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L503'>#</a></div><div id='prim.this-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':this'></a></span>The keyword <a href='class.this'><span class='texttt'>this</span></a> names a pointer to the object for which a non-static member
function is invoked or a non-static data member's
initializer (<a href='class.mem'>[class.mem]</a>) is evaluated<a class='hidden_link' href='#prim.this-1.sentence-1'>.</a></div></div><div class='para' id='prim.this-2'><div class='marginalizedparent'><a class='marginalized' href='#prim.this-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L509'>#</a></div><div id='prim.this-2.sentence-1' class='sentence'>If a declaration declares a member function or member function template of a
class <span class='texttt'>X</span>, the expression <span class='texttt'>this</span> is a prvalue of type “pointer to
<i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i> <span class='texttt'>X</span>” between the optional
<i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i> and the end of the <i ><a href='dcl.fct.def.general#nt:function-definition'>function-definition</a></i>,
<i ><a href='class.mem#nt:member-declarator'>member-declarator</a></i>, or <i ><a href='dcl.decl#nt:declarator'>declarator</a></i><a class='hidden_link' href='#prim.this-2.sentence-1'>.</a></div> <div id='prim.this-2.sentence-2' class='sentence'>It shall not appear
before the optional <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i> and it shall not appear within
the declaration of a static member function (although its type and value category
are defined within a static member function as they are within a non-static
member function)<a class='hidden_link' href='#prim.this-2.sentence-2'>.</a></div> <div id='prim.this-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#prim.this-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='prim.this-2.sentence-3' class='sentence'>This is because declaration matching does not
occur until the complete declarator is known<a class='hidden_link' href='#prim.this-2.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='prim.this-2.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#prim.this-2.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='prim.this-2.sentence-4' class='sentence'>In a <i ><a href='dcl.decl#nt:trailing-return-type'>trailing-return-type</a></i>,
the class being defined is not required to be complete
for purposes of <a href='expr.ref'>class member access</a><a class='hidden_link' href='#prim.this-2.sentence-4'>.</a></div> <div id='prim.this-2.sentence-5' class='sentence'>Class members declared later are not visible<a class='hidden_link' href='#prim.this-2.sentence-5'>.</a></div> <div id='prim.this-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.this-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A {
  char g();
  template&lt;class T&gt; auto f(T t) -&gt; decltype(t + g())
    { return t + g(); }
};
template auto A::f(int t) -&gt; decltype(t + g());</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.this-3'><div class='marginalizedparent'><a class='marginalized' href='#prim.this-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L537'>#</a></div><div id='prim.this-3.sentence-1' class='sentence'>Otherwise, if a <i ><a href='class.mem#nt:member-declarator'>member-declarator</a></i> declares a non-static <a href='class.mem'>data
member</a> of a class <span class='texttt'>X</span>, the expression <span class='texttt'>this</span> is
a prvalue of type “pointer to <span class='texttt'>X</span>” within the
optional <a href='class.mem#def:default_member_initializer'>default member initializer</a><a class='hidden_link' href='#prim.this-3.sentence-1'>.</a></div> <div id='prim.this-3.sentence-2' class='sentence'>It shall not appear elsewhere
in the <i ><a href='class.mem#nt:member-declarator'>member-declarator</a></i><a class='hidden_link' href='#prim.this-3.sentence-2'>.</a></div></div><div class='para' id='prim.this-4'><div class='marginalizedparent'><a class='marginalized' href='#prim.this-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L544'>#</a></div><div id='prim.this-4.sentence-1' class='sentence'>The expression <span class='texttt'>this</span> shall not appear in any other context<a class='hidden_link' href='#prim.this-4.sentence-1'>.</a></div> <div id='prim.this-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.this-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
class Outer {
  int a[sizeof(*this)];               <span class='comment'>// error: not inside a member function
</span>  unsigned int sz = sizeof(*this);    <span class='comment'>// OK: in default member initializer
</span>
  void f() {
    int b[sizeof(*this)];             <span class='comment'>// OK
</span>
    struct Inner {
      int c[sizeof(*this)];           <span class='comment'>// error: not inside a member function of <span class='tcode_in_codeblock'>Inner</span>
</span>    };
  }
};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='prim.paren' class='section'><h3 ><a class='secnum' href='#prim.paren' style='min-width:103pt'>8.4.3</a> Parentheses <a class='abbr_ref' href='expr.prim.paren'>[expr.prim.paren]</a></h3><div class='para' id='prim.paren-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.paren-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L565'>#</a></div><div id='prim.paren-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':expression,parenthesized'></a></span>A parenthesized expression <span class='texttt'>(E)</span>
is a primary expression whose type, value, and value category are identical to those of <span class='texttt'>E</span><a class='hidden_link' href='#prim.paren-1.sentence-1'>.</a></div> <div id='prim.paren-1.sentence-2' class='sentence'>The parenthesized expression can be used in exactly the same contexts as
those where <span class='texttt'>E</span> can be used, and with the same
meaning, except as otherwise indicated<a class='hidden_link' href='#prim.paren-1.sentence-2'>.</a></div></div></div><div id='prim.id' class='section'><h3 ><a class='secnum' href='#prim.id' style='min-width:103pt'>8.4.4</a> Names <a class='abbr_ref' href='expr.prim.id'>[expr.prim.id]</a></h3><pre class='bnf'><a class='nontermdef' href='#nt:id-expression' id='nt:id-expression'>id-expression:</a>
&#9;<i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i>
&#9;<i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i>
</pre><div class='para' id='prim.id-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.id-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L581'>#</a></div><div id='prim.id-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':name'></a></span><span class='indexparent'><a class='index' id=':id-expression'></a></span>An <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> is a restricted form of a
<i ><a href='expr.prim#nt:primary-expression'>primary-expression</a></i><a class='hidden_link' href='#prim.id-1.sentence-1'>.</a></div> <div id='prim.id-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#prim.id-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='prim.id-1.sentence-2' class='sentence'>An <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> can appear after
<a href='expr.ref'><span class='texttt'>.</span> and <span class='texttt'>-&gt;</span> operators</a><a class='hidden_link' href='#prim.id-1.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.id-2'><div class='marginalizedparent'><a class='marginalized' href='#prim.id-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L591'>#</a></div><div id='prim.id-2.sentence-1' class='sentence'>An <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> that denotes a non-static data member or
non-static member function of a class can only be used:</div><div id='prim.id-2.sentence-2' class='sentence'><ul class='itemize'><li id='prim.id-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#prim.id-2.1'>(2.1)</a></div><div id='prim.id-2.1.sentence-1' class='sentence'>as part of a <a href='expr.ref'>class member access</a> in which the
object expression
refers to the member's class<a class='footnotenum' href='#footnote-65'>65</a> or a class derived from
that class, or</div></li><li id='prim.id-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#prim.id-2.2'>(2.2)</a></div><div id='prim.id-2.2.sentence-1' class='sentence'>to form a pointer to member (<a href='expr.unary.op'>[expr.unary.op]</a>), or</div></li><li id='prim.id-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#prim.id-2.3'>(2.3)</a></div><div id='prim.id-2.3.sentence-1' class='sentence'>if that <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> denotes a non-static data member
and it appears in an unevaluated operand<a class='hidden_link' href='#prim.id-2.3.sentence-1'>.</a></div> <div id='prim.id-2.3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.id-2.3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct S {
  int m;
};
int i = sizeof(S::m);           <span class='comment'>// OK
</span>int j = sizeof(S::m + 42);      <span class='comment'>// OK
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </li></ul></div></div><div class='para' id='prim.id-3'><div class='marginalizedparent'><a class='marginalized' href='#prim.id-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L618'>#</a></div><div id='prim.id-3.sentence-1' class='sentence'>An <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i>
that denotes the specialization of a concept (<a href='temp.concept'>[temp.concept]</a>)
results in a prvalue of type <span class='texttt'>bool</span><a class='hidden_link' href='#prim.id-3.sentence-1'>.</a></div> <div id='prim.id-3.sentence-2' class='sentence'>The expression is <span class='texttt'>true</span> if
the concept's normalized
<i ><a href='temp.constr.decl#nt:constraint-expression'>constraint-expression</a></i>
is satisfied (<a href='temp.constr.constr'>[temp.constr.constr]</a>)
by the specified template arguments
and <span class='texttt'>false</span> otherwise<a class='hidden_link' href='#prim.id-3.sentence-2'>.</a></div> <div id='prim.id-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.id-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;typename T&gt; concept C = true;
static_assert(C&lt;int&gt;);  <span class='comment'>// OK
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='prim.id-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#prim.id-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='prim.id-3.sentence-3' class='sentence'>A concept's constraints are also considered
when using a template name (<a href='temp.names'>[temp.names]</a>)
and during <a href='over#def:overload_resolution'>overload resolution</a>,
and they are compared
during the the partial ordering of constraints (<a href='temp.constr.order'>[temp.constr.order]</a>)<a class='hidden_link' href='#prim.id-3.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.id-4'><div class='marginalizedparent'><a class='marginalized' href='#prim.id-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L642'>#</a></div><div id='prim.id-4.sentence-1' class='sentence'>A program that refers
explicitly or implicitly
to a function with a trailing <i ><a href='temp#nt:requires-clause'>requires-clause</a></i>
whose <i ><a href='temp.constr.decl#nt:constraint-expression'>constraint-expression</a></i> is not satisfied,
other than to declare it,
is ill-formed<a class='hidden_link' href='#prim.id-4.sentence-1'>.</a></div> <div id='prim.id-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.id-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void f(int) requires false;

void g() {
  f(0);                         <span class='comment'>// error: cannot call <span class='tcode_in_codeblock'>f</span>
</span>  void (*p1)(int) = f;          <span class='comment'>// error: cannot take the address of <span class='tcode_in_codeblock'>f</span>
</span>  decltype(f)* p2 = nullptr;    <span class='comment'>// error: the type <span class='tcode_in_codeblock'>decltype(f)</span> is invalid
</span>}</pre> <div id='prim.id-4.sentence-2' class='sentence'>
In each case, the constraints of <span class='texttt'>f</span> are not satisfied<a class='hidden_link' href='#prim.id-4.sentence-2'>.</a></div> <div id='prim.id-4.sentence-3' class='sentence'>In the declaration of <span class='texttt'>p2</span>,
those constraints are required to be satisfied
even though
<span class='texttt'>f</span> is an <a href='expr.prop#def:unevaluated_operand'>unevaluated operand</a><a class='hidden_link' href='#prim.id-4.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='footnote' id='footnote-65'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-65'>65)</a></div><div id='footnote-65.sentence-1' class='sentence'>This also applies when the object expression
is an implicit <span class='texttt'>(*this)</span> (<a href='class.mfct.non-static'>[class.mfct.non-static]</a>)<a class='hidden_link' href='#footnote-65.sentence-1'>.</a></div></div><div id='prim.id.unqual' class='section'><h4 ><a class='secnum' href='#prim.id.unqual' style='min-width:118pt'>8.4.4.1</a> Unqualified names <a class='abbr_ref' href='expr.prim.id.unqual'>[expr.prim.id.unqual]</a></h4><pre class='bnf'><a class='nontermdef' href='#nt:unqualified-id' id='nt:unqualified-id'>unqualified-id:</a>
&#9;<i ><a href='lex.name#nt:identifier'>identifier</a></i>
&#9;<i ><a href='over.oper#nt:operator-function-id'>operator-function-id</a></i>
&#9;<i ><a href='class.conv.fct#nt:conversion-function-id'>conversion-function-id</a></i>
&#9;<i ><a href='over.literal#nt:literal-operator-id'>literal-operator-id</a></i>
&#9;<span class='terminal'>~</span> <i ><a href='class#nt:class-name'>class-name</a></i>
&#9;<span class='terminal'>~</span> <i ><a href='dcl.type.simple#nt:decltype-specifier'>decltype-specifier</a></i>
&#9;<i ><a href='temp.names#nt:template-id'>template-id</a></i>
</pre><div class='para' id='prim.id.unqual-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.unqual-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L679'>#</a></div><div id='prim.id.unqual-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':identifier'></a></span>An <i ><a href='lex.name#nt:identifier'>identifier</a></i> is an <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> provided it has
been suitably declared (<a href='dcl.dcl'>[dcl.dcl]</a>)<a class='hidden_link' href='#prim.id.unqual-1.sentence-1'>.</a></div> <div id='prim.id.unqual-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#prim.id.unqual-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='prim.id.unqual-1.sentence-2' class='sentence'>For <i ><a href='over.oper#nt:operator-function-id'>operator-function-id</a></i><span class='textit'>s</span>, see <a href='over.oper'>[over.oper]</a>; for
<i ><a href='class.conv.fct#nt:conversion-function-id'>conversion-function-id</a></i><span class='textit'>s</span>, see <a href='class.conv.fct'>[class.conv.fct]</a>; for
<i ><a href='over.literal#nt:literal-operator-id'>literal-operator-id</a></i><span class='textit'>s</span>, see <a href='over.literal'>[over.literal]</a>; for
<i ><a href='temp.names#nt:template-id'>template-id</a></i><span class='textit'>s</span>, see <a href='temp.names'>[temp.names]</a><a class='hidden_link' href='#prim.id.unqual-1.sentence-2'>.</a></div> <div id='prim.id.unqual-1.sentence-3' class='sentence'>A <i ><a href='class#nt:class-name'>class-name</a></i>
or <i ><a href='dcl.type.simple#nt:decltype-specifier'>decltype-specifier</a></i>
prefixed by <span class='texttt'>~</span> denotes a destructor; see <a href='class.dtor'>[class.dtor]</a><a class='hidden_link' href='#prim.id.unqual-1.sentence-3'>.</a></div> <div id='prim.id.unqual-1.sentence-4' class='sentence'>Within the definition of a non-static member function, an
<i ><a href='lex.name#nt:identifier'>identifier</a></i> that names a non-static member is transformed to a
class member access expression (<a href='class.mfct.non-static'>[class.mfct.non-static]</a>)<a class='hidden_link' href='#prim.id.unqual-1.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.id.unqual-2'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.unqual-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L695'>#</a></div><div id='prim.id.unqual-2.sentence-1' class='sentence'>The result is the entity denoted by the identifier<a class='hidden_link' href='#prim.id.unqual-2.sentence-1'>.</a></div> <div id='prim.id.unqual-2.sentence-2' class='sentence'>If the entity is a local entity
and naming it from outside of an unevaluated operand
within the declarative region where the <i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i> appears
would result in some intervening <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i>
capturing it by copy (<a href='expr.prim.lambda.capture'>[expr.prim.lambda.capture]</a>),
the type of the expression is
the type of a class member access expression (<a href='expr.ref'>[expr.ref]</a>)
naming the non-static data member
that would be declared for such a capture
in the closure object of
the innermost such intervening <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i><a class='hidden_link' href='#prim.id.unqual-2.sentence-2'>.</a></div> <div id='prim.id.unqual-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#prim.id.unqual-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='prim.id.unqual-2.sentence-5' class='sentence'>If that <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i> is not declared <span class='texttt'>mutable</span>,
the type of such an identifier will typically be <span class='texttt'>const</span> qualified<a class='hidden_link' href='#prim.id.unqual-2.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='prim.id.unqual-2.sentence-3' class='sentence'>
Otherwise, the type of the expression is the type of the result<a class='hidden_link' href='#prim.id.unqual-2.sentence-3'>.</a></div> <div id='prim.id.unqual-2.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#prim.id.unqual-2.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='prim.id.unqual-2.sentence-6' class='sentence'>The type will be adjusted as described in <a href='expr.type'>[expr.type]</a>
if it is cv-qualified or is a reference type<a class='hidden_link' href='#prim.id.unqual-2.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='prim.id.unqual-2.sentence-4' class='sentence'>
The expression is an lvalue
if the entity is a function, variable, or data member
and a prvalue otherwise (<a href='basic.lval'>[basic.lval]</a>);
it is a bit-field if the identifier designates a bit-field (<a href='dcl.struct.bind'>[dcl.struct.bind]</a>)<a class='hidden_link' href='#prim.id.unqual-2.sentence-4'>.</a></div> <div id='prim.id.unqual-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.id.unqual-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void f() {
  float x, &amp;r = x;
  [=] {
    decltype(x) y1;             <span class='comment'>// <span class='tcode_in_codeblock'>y1</span> has type <span class='tcode_in_codeblock'>float</span>
</span>    decltype((x)) y2 = y1;      <span class='comment'>// <span class='tcode_in_codeblock'>y2</span> has type <span class='tcode_in_codeblock'>float const&amp;</span> because this lambda
</span>                                <span class='comment'>// is not <span class='tcode_in_codeblock'>mutable</span> and <span class='tcode_in_codeblock'>x</span> is an lvalue
</span>    decltype(r) r1 = y1;        <span class='comment'>// <span class='tcode_in_codeblock'>r1</span> has type <span class='tcode_in_codeblock'>float&amp;</span>
</span>    decltype((r)) r2 = y2;      <span class='comment'>// <span class='tcode_in_codeblock'>r2</span> has type <span class='tcode_in_codeblock'>float const&amp;</span>
</span>  };
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='prim.id.qual' class='section'><h4 ><a class='secnum' href='#prim.id.qual' style='min-width:118pt'>8.4.4.2</a> Qualified names <a class='abbr_ref' href='expr.prim.id.qual'>[expr.prim.id.qual]</a></h4><span class='indexparent'><a class='index' id=':operator,scope_resolution'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:qualified-id' id='nt:qualified-id'>qualified-id:</a>
&#9;<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> <span class='terminal'>template</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i>
</pre><span class='indexparent'><a class='index' id=':operator,scope_resolution_'></a></span><span class='indexparent'><a class='index' id=':name_hiding'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:nested-name-specifier' id='nt:nested-name-specifier'>nested-name-specifier:</a>
&#9;<span class='terminal'>::</span>
&#9;<i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i> <span class='terminal'>::</span>
&#9;<i ><a href='namespace.def#nt:namespace-name'>namespace-name</a></i> <span class='terminal'>::</span>
&#9;<i ><a href='dcl.type.simple#nt:decltype-specifier'>decltype-specifier</a></i> <span class='terminal'>::</span>
&#9;<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> <i ><a href='lex.name#nt:identifier'>identifier</a></i> <span class='terminal'>::</span>
&#9;<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> <span class='terminal'>template</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='temp.names#nt:simple-template-id'>simple-template-id</a></i> <span class='terminal'>::</span>
</pre><div class='para' id='prim.id.qual-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.qual-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L759'>#</a></div><div id='prim.id.qual-1.sentence-1' class='sentence'>The type denoted by a <i ><a href='dcl.type.simple#nt:decltype-specifier'>decltype-specifier</a></i> in a
<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> shall be a class or enumeration
type<a class='hidden_link' href='#prim.id.qual-1.sentence-1'>.</a></div></div><div class='para' id='prim.id.qual-2'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.qual-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L764'>#</a></div><div id='prim.id.qual-2.sentence-1' class='sentence'>A <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> that denotes a class, optionally
followed by the keyword <span class='texttt'>template</span> (<a href='temp.names'>[temp.names]</a>), and then
followed by the name of a member of either that class (<a href='class.mem'>[class.mem]</a>)
or one of its <a href='class.derived'>base classes</a>, is a
<span class='indexparent'><a class='index' id=':id,qualified'></a></span><i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i>; <a href='class.qual'>[class.qual]</a> describes name lookup for
class members that appear in <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i><span class='textit'>s</span><a class='hidden_link' href='#prim.id.qual-2.sentence-1'>.</a></div> <div id='prim.id.qual-2.sentence-2' class='sentence'>The result is the
member<a class='hidden_link' href='#prim.id.qual-2.sentence-2'>.</a></div> <div id='prim.id.qual-2.sentence-3' class='sentence'>The type of the result is the type of the member<a class='hidden_link' href='#prim.id.qual-2.sentence-3'>.</a></div> <div id='prim.id.qual-2.sentence-4' class='sentence'>The result is
an lvalue if the member is a static member function or a data member and a
prvalue otherwise<a class='hidden_link' href='#prim.id.qual-2.sentence-4'>.</a></div> <div id='prim.id.qual-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#prim.id.qual-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='prim.id.qual-2.sentence-7' class='sentence'>A class member can be referred to using a <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> at any
point in its potential scope (<a href='basic.scope.class'>[basic.scope.class]</a>)<a class='hidden_link' href='#prim.id.qual-2.sentence-7'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='prim.id.qual-2.sentence-5' class='sentence'>
Where
<i ><a href='class#nt:class-name'>class-name</a></i> <span class='texttt'>&#x200b;::&#x200b;~</span> <i ><a href='class#nt:class-name'>class-name</a></i> is used,
the two <i ><a href='class#nt:class-name'>class-name</a></i><span class='textit'>s</span> shall refer to the same class; this
notation names the <a href='class.dtor'>destructor</a><a class='hidden_link' href='#prim.id.qual-2.sentence-5'>.</a></div> <div id='prim.id.qual-2.sentence-6' class='sentence'>The form <span class='texttt'>~</span> <i ><a href='dcl.type.simple#nt:decltype-specifier'>decltype-specifier</a></i> also denotes the destructor,
but it shall not be used as the <i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i> in a <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i><a class='hidden_link' href='#prim.id.qual-2.sentence-6'>.</a></div> <div id='prim.id.qual-2.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#prim.id.qual-2.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='prim.id.qual-2.sentence-8' class='sentence'>A <i ><a href='dcl.typedef#nt:typedef-name'>typedef-name</a></i> that names a class is a
<i ><a href='class#nt:class-name'>class-name</a></i> (<a href='class.name'>[class.name]</a>)<a class='hidden_link' href='#prim.id.qual-2.sentence-8'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.id.qual-3'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.qual-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L790'>#</a></div><div id='prim.id.qual-3.sentence-1' class='sentence'>The <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> <span class='texttt'>&#x200b;::&#x200b;</span> names the global namespace<a class='hidden_link' href='#prim.id.qual-3.sentence-1'>.</a></div> <div id='prim.id.qual-3.sentence-2' class='sentence'>A <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> that names a
<a href='basic.namespace'>namespace</a>, optionally followed by the keyword
<span class='texttt'>template</span> (<a href='temp.names'>[temp.names]</a>), and then followed by the name of a member
of that namespace (or the name of a member of a namespace made visible by a
<i ><a href='namespace.udir#nt:using-directive'>using-directive</a></i>), is a
<span class='indexparent'><a class='index' id=':id,qualified_'></a></span><i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i>; <a href='namespace.qual'>[namespace.qual]</a> describes name lookup for
namespace members that appear in <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i><span class='textit'>s</span><a class='hidden_link' href='#prim.id.qual-3.sentence-2'>.</a></div> <div id='prim.id.qual-3.sentence-3' class='sentence'>The result is
the member<a class='hidden_link' href='#prim.id.qual-3.sentence-3'>.</a></div> <div id='prim.id.qual-3.sentence-4' class='sentence'>The type of the result is the type of the member<a class='hidden_link' href='#prim.id.qual-3.sentence-4'>.</a></div> <div id='prim.id.qual-3.sentence-5' class='sentence'>The result
is an lvalue if the member is a function or a variable and a prvalue otherwise<a class='hidden_link' href='#prim.id.qual-3.sentence-5'>.</a></div></div><div class='para' id='prim.id.qual-4'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.qual-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L803'>#</a></div><div id='prim.id.qual-4.sentence-1' class='sentence'>A <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> that denotes an
<a href='dcl.enum'>enumeration</a>, followed by the name of an
enumerator of that enumeration, is a <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i>
that refers to the enumerator<a class='hidden_link' href='#prim.id.qual-4.sentence-1'>.</a></div> <div id='prim.id.qual-4.sentence-2' class='sentence'>The result is the enumerator<a class='hidden_link' href='#prim.id.qual-4.sentence-2'>.</a></div> <div id='prim.id.qual-4.sentence-3' class='sentence'>The type
of the result is the type of the enumeration<a class='hidden_link' href='#prim.id.qual-4.sentence-3'>.</a></div> <div id='prim.id.qual-4.sentence-4' class='sentence'>The result is a prvalue<a class='hidden_link' href='#prim.id.qual-4.sentence-4'>.</a></div></div><div class='para' id='prim.id.qual-5'><div class='marginalizedparent'><a class='marginalized' href='#prim.id.qual-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L810'>#</a></div><div id='prim.id.qual-5.sentence-1' class='sentence'>In a <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i>, if the
<i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i>
is a
<i ><a href='class.conv.fct#nt:conversion-function-id'>conversion-function-id</a></i>, its <i ><a href='class.conv.fct#nt:conversion-type-id'>conversion-type-id</a></i>
shall denote the same type in both the context in which the entire
<i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> occurs and in the context of the class denoted
by the <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i><a class='hidden_link' href='#prim.id.qual-5.sentence-1'>.</a></div></div></div></div><div id='prim.lambda' class='section'><h3 ><a class='secnum' href='#prim.lambda' style='min-width:103pt'>8.4.5</a> Lambda expressions <a class='abbr_ref' href='expr.prim.lambda'>[expr.prim.lambda]</a></h3><span class='indexparent'><a class='index' id=':expression,lambda'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:lambda-expression' id='nt:lambda-expression'>lambda-expression:</a>
&#9;<i ><a href='expr.prim.lambda#nt:lambda-introducer'>lambda-introducer</a></i> <i ><a href='stmt.block#nt:compound-statement'>compound-statement</a></i>
&#9;<i ><a href='expr.prim.lambda#nt:lambda-introducer'>lambda-introducer</a></i> <i ><a href='expr.prim.lambda#nt:lambda-declarator'>lambda-declarator</a></i> <i ><a href='temp#nt:requires-clause'>requires-clause</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='stmt.block#nt:compound-statement'>compound-statement</a></i>
&#9;<i ><a href='expr.prim.lambda#nt:lambda-introducer'>lambda-introducer</a></i> <span class='terminal'>&lt;</span> <i ><a href='temp#nt:template-parameter-list'>template-parameter-list</a></i> <span class='terminal'>&gt;</span> <i ><a href='temp#nt:requires-clause'>requires-clause</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='stmt.block#nt:compound-statement'>compound-statement</a></i>
&#9;<i ><a href='expr.prim.lambda#nt:lambda-introducer'>lambda-introducer</a></i> <span class='terminal'>&lt;</span> <i ><a href='temp#nt:template-parameter-list'>template-parameter-list</a></i> <span class='terminal'>&gt;</span> <i ><a href='temp#nt:requires-clause'>requires-clause</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='expr.prim.lambda#nt:lambda-declarator'>lambda-declarator</a></i> <i ><a href='temp#nt:requires-clause'>requires-clause</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='stmt.block#nt:compound-statement'>compound-statement</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:lambda-introducer' id='nt:lambda-introducer'>lambda-introducer:</a>
&#9;<span class='terminal'>[</span> <i ><a href='expr.prim.lambda.capture#nt:lambda-capture'>lambda-capture</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>]</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:lambda-declarator' id='nt:lambda-declarator'>lambda-declarator:</a>
&#9;<span class='terminal'>(</span> <i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> <span class='terminal'>)</span> <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.decl#nt:trailing-return-type'>trailing-return-type</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><div class='para' id='prim.lambda-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L842'>#</a></div><div id='prim.lambda-1.sentence-1' class='sentence'>Lambda expressions provide a concise way to create simple function objects<a class='hidden_link' href='#prim.lambda-1.sentence-1'>.</a></div> <div id='prim.lambda-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.lambda-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
#include &lt;algorithm&gt;
#include &lt;cmath&gt;
void abssort(float* x, unsigned N) {
  std::sort(x, x + N, [](float a, float b) { return std::abs(a) &lt; std::abs(b); });
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.lambda-2'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L854'>#</a></div><div id='prim.lambda-2.sentence-1' class='sentence'>A <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i> is a prvalue
whose result object is called the <a class='hidden_link' href='#def:closure_object' id='def:closure_object'><i >closure object</i></a><a class='hidden_link' href='#prim.lambda-2.sentence-1'>.</a></div> <div id='prim.lambda-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#prim.lambda-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='prim.lambda-2.sentence-2' class='sentence'>A closure object behaves like a <a href='function.objects'>function
object</a><a class='hidden_link' href='#prim.lambda-2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.lambda-3'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L861'>#</a></div><div id='prim.lambda-3.sentence-1' class='sentence'>In the <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> of the <i ><a href='expr.prim.lambda#nt:lambda-declarator'>lambda-declarator</a></i>,
each <i ><a href='dcl.spec#nt:decl-specifier'>decl-specifier</a></i>
shall either be <span class='texttt'>mutable</span> or <span class='texttt'>constexpr</span><a class='hidden_link' href='#prim.lambda-3.sentence-1'>.</a></div> <div id='prim.lambda-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#prim.lambda-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='prim.lambda-3.sentence-2' class='sentence'>The trailing <i ><a href='temp#nt:requires-clause'>requires-clause</a></i> is described in <a href='dcl.decl'>[dcl.decl]</a><a class='hidden_link' href='#prim.lambda-3.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.lambda-4'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L869'>#</a></div><div id='prim.lambda-4.sentence-1' class='sentence'>If a <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i> does not include a
<i ><a href='expr.prim.lambda#nt:lambda-declarator'>lambda-declarator</a></i>, it is as if the <i ><a href='expr.prim.lambda#nt:lambda-declarator'>lambda-declarator</a></i> were
<span class='texttt'>()</span><a class='hidden_link' href='#prim.lambda-4.sentence-1'>.</a></div> <div id='prim.lambda-4.sentence-2' class='sentence'>The lambda return type is <span class='texttt'>auto</span>, which is replaced by the
type specified by the
<i ><a href='dcl.decl#nt:trailing-return-type'>trailing-return-type</a></i> if provided and/or deduced from
<span class='texttt'>return</span> statements as described in <a href='dcl.spec.auto'>[dcl.spec.auto]</a><a class='hidden_link' href='#prim.lambda-4.sentence-2'>.</a></div> <div id='prim.lambda-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.lambda-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
auto x1 = [](int i){ return i; };     <span class='comment'>// OK: return type is <span class='tcode_in_codeblock'>int</span>
</span>auto x2 = []{ return { 1, 2 }; };     <span class='comment'>// error: deducing return type from <span class='grammarterm'>braced-init-list</span>
</span>int j;
auto x3 = []()-&gt;auto&amp;&amp; { return j; }; <span class='comment'>// OK: return type is <span class='tcode_in_codeblock'>int&amp;</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.lambda-5'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L886'>#</a></div><div id='prim.lambda-5.sentence-1' class='sentence'>A lambda is a <a class='hidden_link' href='#def:generic_lambda' id='def:generic_lambda'><i >generic lambda</i></a>
if the <span class='texttt'>auto</span> <i ><a href='dcl.type#nt:type-specifier'>type-specifier</a></i> appears as one of the
<i ><a href='dcl.spec#nt:decl-specifier'>decl-specifier</a></i><span class='textit'>s</span> in the <i ><a href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a></i> of a
<i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i> of the <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i>,
or if the lambda has a <i ><a href='temp#nt:template-parameter-list'>template-parameter-list</a></i><a class='hidden_link' href='#prim.lambda-5.sentence-1'>.</a></div> <div id='prim.lambda-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.lambda-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int i = [](int i, auto a) { return i; }(3, 4);         <span class='comment'>// OK: a generic lambda
</span>int j = []&lt;class T&gt;(T t, int i) { return i; }(3, 4);   <span class='comment'>// OK: a generic lambda
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div id='prim.lambda.closure' class='section'><h4 ><a class='secnum' href='#prim.lambda.closure' style='min-width:118pt'>8.4.5.1</a> Closure types <a class='abbr_ref' href='expr.prim.lambda.closure'>[expr.prim.lambda.closure]</a></h4><div class='para' id='prim.lambda.closure-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L901'>#</a></div><div id='prim.lambda.closure-1.sentence-1' class='sentence'>The type of a <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i> (which is also the type of the
closure object) is a unique, unnamed non-union class type,
called the <a class='hidden_link' href='#def:closure_type' id='def:closure_type'><i >closure type</i></a>,
whose properties are described below<a class='hidden_link' href='#prim.lambda.closure-1.sentence-1'>.</a></div></div><div class='para' id='prim.lambda.closure-2'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L907'>#</a></div><div id='prim.lambda.closure-2.sentence-1' class='sentence'>The closure type is declared in the smallest block
scope, class scope, or namespace scope that contains the corresponding
<i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i><a class='hidden_link' href='#prim.lambda.closure-2.sentence-1'>.</a></div> <div id='prim.lambda.closure-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#prim.lambda.closure-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='prim.lambda.closure-2.sentence-4' class='sentence'>This determines the set of namespaces and
classes associated with the closure type (<a href='basic.lookup.argdep'>[basic.lookup.argdep]</a>)<a class='hidden_link' href='#prim.lambda.closure-2.sentence-4'>.</a></div> <div id='prim.lambda.closure-2.sentence-5' class='sentence'>The parameter
types of a <i ><a href='expr.prim.lambda#nt:lambda-declarator'>lambda-declarator</a></i> do not affect these associated namespaces and
classes<a class='hidden_link' href='#prim.lambda.closure-2.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='prim.lambda.closure-2.sentence-2' class='sentence'> The closure type is not an <a href='dcl.init.aggr#def:aggregate'>aggregate</a> type<a class='hidden_link' href='#prim.lambda.closure-2.sentence-2'>.</a></div> <div id='prim.lambda.closure-2.sentence-3' class='sentence'>An implementation may define the closure type differently from what
is described below provided this does not alter the observable behavior of the program
other than by changing:</div><div id='prim.lambda.closure-2.sentence-6' class='sentence'><ul class='itemize'><li id='prim.lambda.closure-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#prim.lambda.closure-2.1'>(2.1)</a></div><div id='prim.lambda.closure-2.1.sentence-1' class='sentence'>the size and/or alignment of the closure type,</div></li><li id='prim.lambda.closure-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#prim.lambda.closure-2.2'>(2.2)</a></div><div id='prim.lambda.closure-2.2.sentence-1' class='sentence'>whether the closure type is <a href='class#def:trivially_copyable'>trivially copyable</a>, or</div></li><li id='prim.lambda.closure-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#prim.lambda.closure-2.3'>(2.3)</a></div><div id='prim.lambda.closure-2.3.sentence-1' class='sentence'>whether the closure type is a <a href='class#def:standard-layout_class'>standard-layout class</a><a class='hidden_link' href='#prim.lambda.closure-2.3.sentence-1'>.</a></div></li></ul></div><div id='prim.lambda.closure-2.sentence-7' class='sentence'>An implementation shall not add members of rvalue reference type to the closure
type<a class='hidden_link' href='#prim.lambda.closure-2.sentence-7'>.</a></div></div><div class='para' id='prim.lambda.closure-3'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L929'>#</a></div><div id='prim.lambda.closure-3.sentence-1' class='sentence'>The closure type for a non-generic <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i> has a public
inline <a href='over.call'>function call operator</a> whose parameters and return type
are described by the <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i>'s
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> and <i ><a href='dcl.decl#nt:trailing-return-type'>trailing-return-type</a></i>
respectively<a class='hidden_link' href='#prim.lambda.closure-3.sentence-1'>.</a></div> <div id='prim.lambda.closure-3.sentence-2' class='sentence'>For a generic lambda, the closure type has a public inline function call
operator <a href='temp.mem'>member template</a> whose
<i ><a href='temp#nt:template-parameter-list'>template-parameter-list</a></i> consists of
the specified <i ><a href='temp#nt:template-parameter-list'>template-parameter-list</a></i>, if any,
to which is appended one invented type
<i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i> for each occurrence of <span class='texttt'>auto</span> in the
lambda's <i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>, in order of appearance<a class='hidden_link' href='#prim.lambda.closure-3.sentence-2'>.</a></div> <div id='prim.lambda.closure-3.sentence-3' class='sentence'>The invented type <i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i> is a parameter pack if
the corresponding <i ><a href='dcl.fct#nt:parameter-declaration'>parameter-declaration</a></i> declares a function
parameter pack (<a href='dcl.fct'>[dcl.fct]</a>)<a class='hidden_link' href='#prim.lambda.closure-3.sentence-3'>.</a></div> <div id='prim.lambda.closure-3.sentence-4' class='sentence'>The return type and function parameters of the
function call operator template are derived from the
<i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i>'s <i ><a href='dcl.decl#nt:trailing-return-type'>trailing-return-type</a></i> and
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> by replacing each occurrence of
<span class='texttt'>auto</span> in the <i ><a href='dcl.spec#nt:decl-specifier'>decl-specifier</a></i><span class='textit'>s</span> of the
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> with the name of the corresponding
invented <i ><a href='temp.param#nt:template-parameter'>template-parameter</a></i><a class='hidden_link' href='#prim.lambda.closure-3.sentence-4'>.</a></div> <div id='prim.lambda.closure-3.sentence-5' class='sentence'>The <i ><a href='temp#nt:requires-clause'>requires-clause</a></i> of the function call operator template
is the <i ><a href='temp#nt:requires-clause'>requires-clause</a></i> immediately following
<span class='texttt'>&lt;</span> <i ><a href='temp#nt:template-parameter-list'>template-parameter-list</a></i> <span class='texttt'>&gt;</span>, if any<a class='hidden_link' href='#prim.lambda.closure-3.sentence-5'>.</a></div> <div id='prim.lambda.closure-3.sentence-6' class='sentence'>The trailing <i ><a href='temp#nt:requires-clause'>requires-clause</a></i> of the function call operator
or operator template is the <i ><a href='temp#nt:requires-clause'>requires-clause</a></i>
following the <i ><a href='expr.prim.lambda#nt:lambda-declarator'>lambda-declarator</a></i>, if any<a class='hidden_link' href='#prim.lambda.closure-3.sentence-6'>.</a></div> <div id='prim.lambda.closure-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.lambda.closure-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
auto glambda = [](auto a, auto&amp;&amp; b) { return a &lt; b; };
bool b = glambda(3, 3.14);                             <span class='comment'>// OK
</span>
auto vglambda = [](auto printer) {
  return [=](auto&amp;&amp; ... ts) {                          <span class='comment'>// OK: <span class='tcode_in_codeblock'>ts</span> is a function parameter pack
</span>    printer(std::forward&lt;decltype(ts)&gt;(ts)...);

    return [=]() {
      printer(ts ...);
    };
  };
};
auto p = vglambda( [](auto v1, auto v2, auto v3)
                   { std::cout &lt;&lt; v1 &lt;&lt; v2 &lt;&lt; v3; } );
auto q = p(1, 'a', 3.14);                              <span class='comment'>// OK: outputs <span class='tcode_in_codeblock'>1a3.14</span>
</span>q();                                                   <span class='comment'>// OK: outputs <span class='tcode_in_codeblock'>1a3.14</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.lambda.closure-4'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L978'>#</a></div><div id='prim.lambda.closure-4.sentence-1' class='sentence'>The function call operator or operator template is declared
<span class='texttt'>const</span> (<a href='class.mfct.non-static'>[class.mfct.non-static]</a>) if and only if the
<i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i>'s <i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> is not
followed by <span class='texttt'>mutable</span><a class='hidden_link' href='#prim.lambda.closure-4.sentence-1'>.</a></div> <div id='prim.lambda.closure-4.sentence-2' class='sentence'>It is neither virtual nor declared <span class='texttt'>volatile</span><a class='hidden_link' href='#prim.lambda.closure-4.sentence-2'>.</a></div> <div id='prim.lambda.closure-4.sentence-3' class='sentence'>Any
<i ><a href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a></i> specified on a <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i>
applies to the corresponding function call operator or operator template<a class='hidden_link' href='#prim.lambda.closure-4.sentence-3'>.</a></div> <div id='prim.lambda.closure-4.sentence-4' class='sentence'>An <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> in a <i ><a href='expr.prim.lambda#nt:lambda-declarator'>lambda-declarator</a></i> appertains
to the type of the corresponding function call operator or operator template<a class='hidden_link' href='#prim.lambda.closure-4.sentence-4'>.</a></div> <div id='prim.lambda.closure-4.sentence-5' class='sentence'>The function call operator or any given operator template specialization
is a constexpr function if either
the corresponding <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i>'s
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> is followed by <span class='texttt'>constexpr</span>, or
it satisfies the requirements for a <a href='dcl.constexpr'>constexpr</a> function<a class='hidden_link' href='#prim.lambda.closure-4.sentence-5'>.</a></div> <div id='prim.lambda.closure-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#prim.lambda.closure-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='prim.lambda.closure-4.sentence-6' class='sentence'>Names referenced in
the <i ><a href='expr.prim.lambda#nt:lambda-declarator'>lambda-declarator</a></i> are looked up in the context in which the
<i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i> appears<a class='hidden_link' href='#prim.lambda.closure-4.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='prim.lambda.closure-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.lambda.closure-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
auto ID = [](auto a) { return a; };
static_assert(ID(3) == 3); <span class='comment'>// OK
</span>
struct NonLiteral {
  NonLiteral(int n) : n(n) { }
  int n;
};
static_assert(ID(NonLiteral{3}).n == 3); <span class='comment'>// ill-formed
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.lambda.closure-5'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1008'>#</a></div><div id='prim.lambda.closure-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.lambda.closure-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
auto monoid = [](auto v) { return [=] { return v; }; };
auto add = [](auto m1) constexpr {
  auto ret = m1();
  return [=](auto m2) mutable {
    auto m1val = m1();
    auto plus = [=](auto m2val) mutable constexpr
                   { return m1val += m2val; };
    ret = plus(m2());
    return monoid(ret);
  };
};
constexpr auto zero = monoid(0);
constexpr auto one = monoid(1);
static_assert(add(one)(zero)() == one()); <span class='comment'>// OK
</span>
<span class='comment'>// Since <span class='tcode_in_codeblock'>two</span> below is not declared <span class='tcode_in_codeblock'>constexpr</span>, an evaluation of its <span class='tcode_in_codeblock'>constexpr</span> member function call operator
</span><span class='comment'>// cannot perform an lvalue-to-rvalue conversion on one of its subobjects (that represents its capture)
</span><span class='comment'>// in a constant expression.
</span>auto two = monoid(2);
assert(two() == 2); <span class='comment'>// OK, not a constant expression.
</span>static_assert(add(one)(one)() == two()); <span class='comment'>// ill-formed: <span class='tcode_in_codeblock'>two()</span> is not a constant expression
</span>static_assert(add(one)(one)() == monoid(2)()); <span class='comment'>// OK
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.lambda.closure-6'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1036'>#</a></div><div id='prim.lambda.closure-6.sentence-1' class='sentence'>The function call operator or operator template may be <a href='temp.constr.decl'>constrained</a>
by a <i ><a href='temp.param#nt:constrained-parameter'>constrained-parameter</a></i>, a <i ><a href='temp#nt:requires-clause'>requires-clause</a></i>,
or a trailing <i ><a href='temp#nt:requires-clause'>requires-clause</a></i> (<a href='dcl.decl'>[dcl.decl]</a>)<a class='hidden_link' href='#prim.lambda.closure-6.sentence-1'>.</a></div> <div id='prim.lambda.closure-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.lambda.closure-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template &lt;typename T&gt; concept C1 = <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span>;
template &lt;std::size_t N&gt; concept C2 = <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span>;
template &lt;typename A, typename B&gt; concept C3 = <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span>;

auto f = []&lt;typename T1, C1 T2&gt; requires C2&lt;sizeof(T1) + sizeof(T2)&gt;
         (T1 a1, T1 b1, T2 a2, auto a3, auto a4) requires C3&lt;decltype(a4), T2&gt; {
  <span class='comment'>// <span class='tcode_in_codeblock'>T2</span> is a constrained parameter,
</span>  <span class='comment'>// <span class='tcode_in_codeblock'>T1</span> and <span class='tcode_in_codeblock'>T2</span> are constrained by a <span class='grammarterm'>requires-clause</span>, and
</span>  <span class='comment'>// <span class='tcode_in_codeblock'>T2</span> and the type of <span class='tcode_in_codeblock'>a4</span> are constrained by a trailing <span class='grammarterm'>requires-clause</span>.
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.lambda.closure-7'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1055'>#</a></div><div id='prim.lambda.closure-7.sentence-1' class='sentence'>The closure type for a non-generic <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i> with no
<i ><a href='expr.prim.lambda.capture#nt:lambda-capture'>lambda-capture</a></i>
whose constraints (if any) are satisfied
has a conversion function to pointer to
function with C++ language <a href='dcl.link'>linkage</a> having
the same parameter and return types as the closure type's function call operator<a class='hidden_link' href='#prim.lambda.closure-7.sentence-1'>.</a></div> <div id='prim.lambda.closure-7.sentence-2' class='sentence'>The conversion is to “pointer to <span class='texttt'>noexcept</span> function”
if the function call operator
has a non-throwing exception specification<a class='hidden_link' href='#prim.lambda.closure-7.sentence-2'>.</a></div> <div id='prim.lambda.closure-7.sentence-3' class='sentence'>The value returned by this conversion function
is the address of a function <span class='texttt'>F</span> that, when invoked,
has the same effect as invoking the closure type's function call operator<a class='hidden_link' href='#prim.lambda.closure-7.sentence-3'>.</a></div> <div id='prim.lambda.closure-7.sentence-4' class='sentence'><span class='texttt'>F</span> is a constexpr function
if the function call operator is a constexpr function<a class='hidden_link' href='#prim.lambda.closure-7.sentence-4'>.</a></div> <div id='prim.lambda.closure-7.sentence-5' class='sentence'>For a generic lambda with no <i ><a href='expr.prim.lambda.capture#nt:lambda-capture'>lambda-capture</a></i>, the closure type has a
conversion function template to
pointer to function<a class='hidden_link' href='#prim.lambda.closure-7.sentence-5'>.</a></div> <div id='prim.lambda.closure-7.sentence-6' class='sentence'>The conversion function template has the same invented
template parameter list, and the pointer to function has the same
parameter types, as the function call operator template<a class='hidden_link' href='#prim.lambda.closure-7.sentence-6'>.</a></div> <div id='prim.lambda.closure-7.sentence-7' class='sentence'>The return type of
the pointer to function shall behave as if it were a
<i ><a href='dcl.type.simple#nt:decltype-specifier'>decltype-specifier</a></i> denoting the return type of the corresponding
function call operator template specialization<a class='hidden_link' href='#prim.lambda.closure-7.sentence-7'>.</a></div></div><div class='para' id='prim.lambda.closure-8'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1079'>#</a></div><div id='prim.lambda.closure-8.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#prim.lambda.closure-8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='prim.lambda.closure-8.sentence-1' class='sentence'>If the generic lambda has no <i ><a href='dcl.decl#nt:trailing-return-type'>trailing-return-type</a></i> or
the <i ><a href='dcl.decl#nt:trailing-return-type'>trailing-return-type</a></i> contains a placeholder type, return type
deduction of the corresponding function call operator template specialization
has to be done<a class='hidden_link' href='#prim.lambda.closure-8.sentence-1'>.</a></div> <div id='prim.lambda.closure-8.sentence-2' class='sentence'>The corresponding specialization is that instantiation of the
function call operator template with the same template arguments as those
deduced for the conversion function template<a class='hidden_link' href='#prim.lambda.closure-8.sentence-2'>.</a></div> <div id='prim.lambda.closure-8.sentence-3' class='sentence'>Consider the following:
<pre class='codeblock'>
auto glambda = [](auto a) { return a; };
int (*fp)(int) = glambda;</pre>
The behavior of the conversion function of <span class='texttt'>glambda</span> above is like
that of the following conversion function:
<pre class='codeblock'>
struct Closure {
  template&lt;class T&gt; auto operator()(T t) const { ... }
  template&lt;class T&gt; static auto lambda_call_operator_invoker(T a) {
    <span class='comment'>// forwards execution to <span class='tcode_in_codeblock'>operator()(a)</span> and therefore has
</span>    <span class='comment'>// the same return type deduced
</span>    ...
  }
  template&lt;class T&gt; using fptr_t =
     decltype(lambda_call_operator_invoker(declval&lt;T&gt;())) (*)(T);

  template&lt;class T&gt; operator fptr_t&lt;T&gt;() const
    { return &amp;lambda_call_operator_invoker; }
};</pre></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> <div id='prim.lambda.closure-8.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.lambda.closure-8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void f1(int (*)(int))   { }
void f2(char (*)(int))  { }

void g(int (*)(int))    { }  <span class='comment'>// #1
</span>void g(char (*)(char))  { }  <span class='comment'>// #2
</span>
void h(int (*)(int))    { }  <span class='comment'>// #3
</span>void h(char (*)(int))   { }  <span class='comment'>// #4
</span>
auto glambda = [](auto a) { return a; };
f1(glambda);  <span class='comment'>// OK
</span>f2(glambda);  <span class='comment'>// error: ID is not convertible
</span>g(glambda);   <span class='comment'>// error: ambiguous
</span>h(glambda);   <span class='comment'>// OK: calls #3 since it is convertible from ID
</span>int&amp; (*fpi)(int*) = [](auto* a) -&gt; auto&amp; { return *a; }; <span class='comment'>// OK
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.lambda.closure-9'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1130'>#</a></div><div id='prim.lambda.closure-9.sentence-1' class='sentence'>The value returned by any given specialization of this conversion function
template is the address of a function <span class='texttt'>F</span> that, when invoked, has the same
effect as invoking the generic lambda's corresponding function call operator
template specialization<a class='hidden_link' href='#prim.lambda.closure-9.sentence-1'>.</a></div> <div id='prim.lambda.closure-9.sentence-2' class='sentence'><span class='texttt'>F</span> is a constexpr function
if the corresponding specialization is a constexpr function<a class='hidden_link' href='#prim.lambda.closure-9.sentence-2'>.</a></div> <div id='prim.lambda.closure-9.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#prim.lambda.closure-9.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='prim.lambda.closure-9.sentence-3' class='sentence'>This will result in the implicit instantiation of the generic lambda's body<a class='hidden_link' href='#prim.lambda.closure-9.sentence-3'>.</a></div> <div id='prim.lambda.closure-9.sentence-4' class='sentence'>The instantiated generic lambda's return type and parameter types shall match
the return type and parameter types of the pointer to function<a class='hidden_link' href='#prim.lambda.closure-9.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='prim.lambda.closure-9.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.lambda.closure-9.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
auto GL = [](auto a) { std::cout &lt;&lt; a; return a; };
int (*GL_int)(int) = GL;  <span class='comment'>// OK: through conversion function template
</span>GL_int(3);                <span class='comment'>// OK: same as <span class='tcode_in_codeblock'>GL(3)</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.lambda.closure-10'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1150'>#</a></div><div id='prim.lambda.closure-10.sentence-1' class='sentence'>The conversion function or conversion function template is public,
constexpr, non-virtual, non-explicit, const, and has a non-throwing <a href='except.spec'>exception
specification</a><a class='hidden_link' href='#prim.lambda.closure-10.sentence-1'>.</a></div> <div id='prim.lambda.closure-10.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.lambda.closure-10.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
auto Fwd = [](int (*fp)(int), auto a) { return fp(a); };
auto C = [](auto a) { return a; };

static_assert(Fwd(C,3) == 3); <span class='comment'>// OK
</span>
<span class='comment'>// No specialization of the function call operator template can be constexpr (due to the local static).
</span>auto NC = [](auto a) { static int s; return a; };
static_assert(Fwd(NC,3) == 3); <span class='comment'>// ill-formed
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.lambda.closure-11'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1167'>#</a></div><div id='prim.lambda.closure-11.sentence-1' class='sentence'>The <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i>'s <i ><a href='stmt.block#nt:compound-statement'>compound-statement</a></i> yields the
<i ><a href='dcl.fct.def.general#nt:function-body'>function-body</a></i> (<a href='dcl.fct.def'>[dcl.fct.def]</a>) of the function call operator, but for
purposes of <a href='basic.lookup'>name lookup</a>, determining the type and value of
<a href='class.this'><span class='texttt'>this</span></a> and transforming <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i><span class='textit'>s</span>
referring to non-static class members into class member access expressions using
<span class='texttt'>(*this)</span> (<a href='class.mfct.non-static'>[class.mfct.non-static]</a>), the <i ><a href='stmt.block#nt:compound-statement'>compound-statement</a></i> is
considered in the context of the <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i><a class='hidden_link' href='#prim.lambda.closure-11.sentence-1'>.</a></div> <div id='prim.lambda.closure-11.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.lambda.closure-11.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct S1 {
  int x, y;
  int operator()(int);
  void f() {
    [=]()-&gt;int {
      return operator()(this-&gt;x + y); <span class='comment'>// equivalent to <span class='tcode_in_codeblock'>S1&#x200b;::&#x200b;operator()(this-&gt;x + (*this).y)</span>
</span>                                      <span class='comment'>// <span class='tcode_in_codeblock'>this</span> has type <span class='tcode_in_codeblock'>S1*</span>
</span>    };
  }
};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='prim.lambda.closure-11.sentence-2' class='sentence'>
Further, a variable <span class='texttt'>_&shy;_&shy;func_&shy;_&shy;</span> is implicitly defined at the beginning of
the <i ><a href='stmt.block#nt:compound-statement'>compound-statement</a></i> of the <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i>,
with semantics as described in <a href='dcl.fct.def.general'>[dcl.fct.def.general]</a><a class='hidden_link' href='#prim.lambda.closure-11.sentence-2'>.</a></div></div><div class='para' id='prim.lambda.closure-12'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1193'>#</a></div><div id='prim.lambda.closure-12.sentence-1' class='sentence'>The closure type associated with a <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i> has no
default constructor
if the <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i> has a <i ><a href='expr.prim.lambda.capture#nt:lambda-capture'>lambda-capture</a></i>
and a defaulted default constructor otherwise<a class='hidden_link' href='#prim.lambda.closure-12.sentence-1'>.</a></div> <div id='prim.lambda.closure-12.sentence-2' class='sentence'>It has a defaulted copy constructor and a defaulted move constructor (<a href='class.copy'>[class.copy]</a>)<a class='hidden_link' href='#prim.lambda.closure-12.sentence-2'>.</a></div> <div id='prim.lambda.closure-12.sentence-3' class='sentence'>It has a deleted copy assignment operator if the <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i>
has a <i ><a href='expr.prim.lambda.capture#nt:lambda-capture'>lambda-capture</a></i> and defaulted copy and move assignment
operators otherwise<a class='hidden_link' href='#prim.lambda.closure-12.sentence-3'>.</a></div> <div id='prim.lambda.closure-12.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#prim.lambda.closure-12.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='prim.lambda.closure-12.sentence-4' class='sentence'>These special member functions are implicitly defined as
usual, and might therefore be defined as deleted<a class='hidden_link' href='#prim.lambda.closure-12.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.lambda.closure-13'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1205'>#</a></div><div id='prim.lambda.closure-13.sentence-1' class='sentence'>The closure type associated with a <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i> has an
implicitly-declared destructor (<a href='class.dtor'>[class.dtor]</a>)<a class='hidden_link' href='#prim.lambda.closure-13.sentence-1'>.</a></div></div><div class='para' id='prim.lambda.closure-14'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.closure-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1209'>#</a></div><div id='prim.lambda.closure-14.sentence-1' class='sentence'>A member of a closure type shall not be
<a href='temp.explicit'>explicitly instantiated</a>,
<a href='temp.expl.spec'>explicitly specialized</a>, or
named in a <a href='class.friend'>friend declaration</a><a class='hidden_link' href='#prim.lambda.closure-14.sentence-1'>.</a></div></div></div><div id='prim.lambda.capture' class='section'><h4 ><a class='secnum' href='#prim.lambda.capture' style='min-width:118pt'>8.4.5.2</a> Captures <a class='abbr_ref' href='expr.prim.lambda.capture'>[expr.prim.lambda.capture]</a></h4><pre class='bnf'><a class='nontermdef' href='#nt:lambda-capture' id='nt:lambda-capture'>lambda-capture:</a>
&#9;<i ><a href='expr.prim.lambda.capture#nt:capture-default'>capture-default</a></i>
&#9;<i ><a href='expr.prim.lambda.capture#nt:capture-list'>capture-list</a></i>
&#9;<i ><a href='expr.prim.lambda.capture#nt:capture-default'>capture-default</a></i> <span class='terminal'>,</span> <i ><a href='expr.prim.lambda.capture#nt:capture-list'>capture-list</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:capture-default' id='nt:capture-default'>capture-default:</a>
&#9;<span class='terminal'>&amp;</span>
&#9;<span class='terminal'>=</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:capture-list' id='nt:capture-list'>capture-list:</a>
&#9;<i ><a href='expr.prim.lambda.capture#nt:capture'>capture</a></i> <span class='terminal'>...</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='expr.prim.lambda.capture#nt:capture-list'>capture-list</a></i> <span class='terminal'>,</span> <i ><a href='expr.prim.lambda.capture#nt:capture'>capture</a></i> <span class='terminal'>...</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:capture' id='nt:capture'>capture:</a>
&#9;<i ><a href='expr.prim.lambda.capture#nt:simple-capture'>simple-capture</a></i>
&#9;<i ><a href='expr.prim.lambda.capture#nt:init-capture'>init-capture</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:simple-capture' id='nt:simple-capture'>simple-capture:</a>
&#9;<i ><a href='lex.name#nt:identifier'>identifier</a></i>
&#9;<span class='terminal'>&amp;</span> <i ><a href='lex.name#nt:identifier'>identifier</a></i>
&#9;<span class='terminal'>this</span>
&#9;<span class='terminal'>* this</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:init-capture' id='nt:init-capture'>init-capture:</a>
&#9;<i ><a href='lex.name#nt:identifier'>identifier</a></i> <i ><a href='dcl.init#nt:initializer'>initializer</a></i>
&#9;<span class='terminal'>&amp;</span> <i ><a href='lex.name#nt:identifier'>identifier</a></i> <i ><a href='dcl.init#nt:initializer'>initializer</a></i>
</pre><div class='para' id='prim.lambda.capture-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1256'>#</a></div><div id='prim.lambda.capture-1.sentence-1' class='sentence'>The body of a <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i> may refer to variables
with automatic storage duration and the <span class='texttt'>*this</span> object (if any)
of enclosing block scopes by capturing those entities, as described
below<a class='hidden_link' href='#prim.lambda.capture-1.sentence-1'>.</a></div></div><div class='para' id='prim.lambda.capture-2'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1262'>#</a></div><div id='prim.lambda.capture-2.sentence-1' class='sentence'>If a <i ><a href='expr.prim.lambda.capture#nt:lambda-capture'>lambda-capture</a></i> includes a <i ><a href='expr.prim.lambda.capture#nt:capture-default'>capture-default</a></i> that
is <span class='texttt'>&amp;</span>, no identifier in a <i ><a href='expr.prim.lambda.capture#nt:simple-capture'>simple-capture</a></i> of that
<i ><a href='expr.prim.lambda.capture#nt:lambda-capture'>lambda-capture</a></i> shall be preceded
by <span class='texttt'>&amp;</span><a class='hidden_link' href='#prim.lambda.capture-2.sentence-1'>.</a></div> <div id='prim.lambda.capture-2.sentence-2' class='sentence'>If a <i ><a href='expr.prim.lambda.capture#nt:lambda-capture'>lambda-capture</a></i> includes a
<i ><a href='expr.prim.lambda.capture#nt:capture-default'>capture-default</a></i> that is <span class='texttt'>=</span>, each
<i ><a href='expr.prim.lambda.capture#nt:simple-capture'>simple-capture</a></i> of that <i ><a href='expr.prim.lambda.capture#nt:lambda-capture'>lambda-capture</a></i> shall
be of the form
“<span class='texttt'>&amp;</span> <i ><a href='lex.name#nt:identifier'>identifier</a></i>”,
“<span class='texttt'>this</span>”,
or “<span class='texttt'>* this</span>”<a class='hidden_link' href='#prim.lambda.capture-2.sentence-2'>.</a></div> <div id='prim.lambda.capture-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#prim.lambda.capture-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='prim.lambda.capture-2.sentence-4' class='sentence'>The form <span class='texttt'>[&amp;,this]</span> is redundant but accepted
for compatibility with ISO C++ 2014<a class='hidden_link' href='#prim.lambda.capture-2.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='prim.lambda.capture-2.sentence-3' class='sentence'>
Ignoring appearances in
<i ><a href='dcl.init#nt:initializer'>initializer</a></i><span class='textit'>s</span> of <i ><a href='expr.prim.lambda.capture#nt:init-capture'>init-capture</a></i><span class='textit'>s</span>, an identifier or
<span class='texttt'>this</span> shall not appear more than once in a
<i ><a href='expr.prim.lambda.capture#nt:lambda-capture'>lambda-capture</a></i><a class='hidden_link' href='#prim.lambda.capture-2.sentence-3'>.</a></div> <div id='prim.lambda.capture-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.lambda.capture-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct S2 { void f(int i); };
void S2::f(int i) {
  [&amp;, i]{ };        <span class='comment'>// OK
</span>  [&amp;, this, i]{ };  <span class='comment'>// OK, equivalent to <span class='tcode_in_codeblock'>[&amp;, i]</span>
</span>  [&amp;, &amp;i]{ };       <span class='comment'>// error: <span class='tcode_in_codeblock'>i</span> preceded by <span class='tcode_in_codeblock'>&amp;</span> when <span class='tcode_in_codeblock'>&amp;</span> is the default
</span>  [=, *this]{ };    <span class='comment'>// OK
</span>  [=, this]{ };     <span class='comment'>// OK, equivalent to <span class='tcode_in_codeblock'>[=]</span>
</span>  [i, i]{ };        <span class='comment'>// error: <span class='tcode_in_codeblock'>i</span> repeated
</span>  [this, *this]{ }; <span class='comment'>// error: <span class='tcode_in_codeblock'>this</span> appears twice
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.lambda.capture-3'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1294'>#</a></div><div id='prim.lambda.capture-3.sentence-1' class='sentence'>A <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i>
is a <a class='hidden_link' href='#def:local_lambda_expression' id='def:local_lambda_expression'><i >local lambda expression</i></a>
if its innermost enclosing scope is a <a href='basic.scope.block'>block scope</a>,
or if it appears within a default member initializer
and its innermost enclosing scope is
the corresponding class scope (<a href='basic.scope.class'>[basic.scope.class]</a>);
any other
<i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i> shall not have a <i ><a href='expr.prim.lambda.capture#nt:capture-default'>capture-default</a></i> or
<i ><a href='expr.prim.lambda.capture#nt:simple-capture'>simple-capture</a></i> in its
<i ><a href='expr.prim.lambda#nt:lambda-introducer'>lambda-introducer</a></i><a class='hidden_link' href='#prim.lambda.capture-3.sentence-1'>.</a></div></div><div class='para' id='prim.lambda.capture-4'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1306'>#</a></div><div id='prim.lambda.capture-4.sentence-1' class='sentence'>The <i ><a href='lex.name#nt:identifier'>identifier</a></i> in a <i ><a href='expr.prim.lambda.capture#nt:simple-capture'>simple-capture</a></i> is looked up using the
usual rules for <a href='basic.lookup.unqual'>unqualified name lookup</a>; each such lookup
shall find a local entity<a class='hidden_link' href='#prim.lambda.capture-4.sentence-1'>.</a></div> <div id='prim.lambda.capture-4.sentence-2' class='sentence'>The <i ><a href='expr.prim.lambda.capture#nt:simple-capture'>simple-capture</a></i><span class='textit'>s</span> <span class='texttt'>this</span> and <span class='texttt'>* this</span>
denote the local entity <span class='texttt'>*this</span><a class='hidden_link' href='#prim.lambda.capture-4.sentence-2'>.</a></div> <div id='prim.lambda.capture-4.sentence-3' class='sentence'>An entity that is designated by a
<i ><a href='expr.prim.lambda.capture#nt:simple-capture'>simple-capture</a></i>
is said to be <a class='hidden_link' href='#def:explicitly_captured' id='def:explicitly_captured'><i >explicitly captured</i></a><a class='hidden_link' href='#prim.lambda.capture-4.sentence-3'>.</a></div></div><div class='para' id='prim.lambda.capture-5'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1316'>#</a></div><div id='prim.lambda.capture-5.sentence-1' class='sentence'>If an <i ><a href='lex.name#nt:identifier'>identifier</a></i> in a <i ><a href='expr.prim.lambda.capture#nt:simple-capture'>simple-capture</a></i> appears
as the <i ><a href='dcl.decl#nt:declarator-id'>declarator-id</a></i> of a parameter of
the <i ><a href='expr.prim.lambda#nt:lambda-declarator'>lambda-declarator</a></i>'s <i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i>,
the program is ill-formed<a class='hidden_link' href='#prim.lambda.capture-5.sentence-1'>.</a></div> <div id='prim.lambda.capture-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.lambda.capture-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void f() {
  int x = 0;
  auto g = [x](int x) { return 0; }    <span class='comment'>// error: parameter and <span class='grammarterm'>simple-capture</span> have the same name
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.lambda.capture-6'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1330'>#</a></div><div id='prim.lambda.capture-6.sentence-1' class='sentence'>An <i ><a href='expr.prim.lambda.capture#nt:init-capture'>init-capture</a></i> behaves as if it declares and explicitly captures a
variable of
the form “<span class='texttt'>auto</span> <i ><a href='expr.prim.lambda.capture#nt:init-capture'>init-capture</a></i> <span class='texttt'>;</span>”
whose declarative region is the <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i>'s
<i ><a href='stmt.block#nt:compound-statement'>compound-statement</a></i>, except that:
<ul class='itemize'><li id='prim.lambda.capture-6.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#prim.lambda.capture-6.1'>(6.1)</a></div><div id='prim.lambda.capture-6.1.sentence-1' class='sentence'>if the capture is by copy (see below), the non-static data member
declared for the capture and the variable are treated as two different ways
of referring to the same object, which has the lifetime of the non-static
data member, and no additional copy and destruction is performed, and</div></li><li id='prim.lambda.capture-6.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#prim.lambda.capture-6.2'>(6.2)</a></div><div id='prim.lambda.capture-6.2.sentence-1' class='sentence'>if the capture is by reference, the variable's lifetime ends when the
closure object's lifetime ends<a class='hidden_link' href='#prim.lambda.capture-6.2.sentence-1'>.</a></div></li></ul></div> <div id='prim.lambda.capture-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#prim.lambda.capture-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='prim.lambda.capture-6.sentence-2' class='sentence'>This enables an <i ><a href='expr.prim.lambda.capture#nt:init-capture'>init-capture</a></i> like
“<span class='texttt'>x = std&#x200b;::&#x200b;move(x)</span>”; the second “<span class='texttt'>x</span>” must bind to a
declaration in the surrounding context<a class='hidden_link' href='#prim.lambda.capture-6.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='prim.lambda.capture-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.lambda.capture-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int x = 4;
auto y = [&amp;r = x, x = x+1]()-&gt;int {
            r += 2;
            return x+2;
         }();  <span class='comment'>// Updates <span class='tcode_in_codeblock'>&#x200b;::&#x200b;x</span> to 6, and initializes <span class='tcode_in_codeblock'>y</span> to 7.
</span>
auto z = [a = 42](int a) { return 1; } <span class='comment'>// error: parameter and local variable have the same name
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.lambda.capture-7'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1361'>#</a></div><div id='prim.lambda.capture-7.sentence-1' class='sentence'>For the purposes of lambda capture,
an expression potentially references local entities as follows:</div><div id='prim.lambda.capture-7.sentence-2' class='sentence'><ul class='itemize'><li id='prim.lambda.capture-7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#prim.lambda.capture-7.1'>(7.1)</a></div><div id='prim.lambda.capture-7.1.sentence-1' class='sentence'>An <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> that names a local entity
potentially references that entity;
an <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> that names
one or more non-static class members
and does not form a pointer to member (<a href='expr.unary.op'>[expr.unary.op]</a>)
potentially references <span class='texttt'>*this</span><a class='hidden_link' href='#prim.lambda.capture-7.1.sentence-1'>.</a></div> <div id='prim.lambda.capture-7.1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#prim.lambda.capture-7.1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='prim.lambda.capture-7.1.sentence-2' class='sentence'>This occurs even if overload resolution
selects a static member function for the <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i><a class='hidden_link' href='#prim.lambda.capture-7.1.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </li><li id='prim.lambda.capture-7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#prim.lambda.capture-7.2'>(7.2)</a></div><div id='prim.lambda.capture-7.2.sentence-1' class='sentence'>A <span class='texttt'>this</span> expression potentially references <span class='texttt'>*this</span><a class='hidden_link' href='#prim.lambda.capture-7.2.sentence-1'>.</a></div></li><li id='prim.lambda.capture-7.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#prim.lambda.capture-7.3'>(7.3)</a></div><div id='prim.lambda.capture-7.3.sentence-1' class='sentence'>A <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i> potentially references
the local entities named by its <i ><a href='expr.prim.lambda.capture#nt:simple-capture'>simple-capture</a></i><span class='textit'>s</span><a class='hidden_link' href='#prim.lambda.capture-7.3.sentence-1'>.</a></div></li></ul></div><div id='prim.lambda.capture-7.sentence-3' class='sentence'>If an expression potentially references a local entity
within a declarative region in which it is odr-usable,
and the expression would be potentially evaluated
if the effect of any enclosing <span class='texttt'>typeid</span> expressions (<a href='expr.typeid'>[expr.typeid]</a>) were ignored,
the entity is said to be <a class='hidden_link' href='#def:capture,implicit' id='def:capture,implicit'><i >implicitly captured</i></a>
by each intervening <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i> with an associated
<i ><a href='expr.prim.lambda.capture#nt:capture-default'>capture-default</a></i> that does not explicitly capture it<a class='hidden_link' href='#prim.lambda.capture-7.sentence-3'>.</a></div> <div id='prim.lambda.capture-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.lambda.capture-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void f(int, const int (&amp;)[2] = {});         <span class='comment'>// #1
</span>void f(const int&amp;, const int (&amp;)[1]);       <span class='comment'>// #2
</span>void test() {
  const int x = 17;
  auto g = [](auto a) {
    f(x);                       <span class='comment'>// OK: calls #1, does not capture <span class='tcode_in_codeblock'>x</span>
</span>  };

  auto g1 = [=](auto a) {
    f(x);                       <span class='comment'>// OK: calls #1, captures <span class='tcode_in_codeblock'>x</span>
</span>  };

  auto g2 = [=](auto a) {
    int selector[sizeof(a) == 1 ? 1 : 2]{};
    f(x, selector);             <span class='comment'>// OK: captures <span class='tcode_in_codeblock'>x</span>, might call #1 or #2
</span>  };

  auto g3 = [=](auto a) {
    typeid(a + x);              <span class='comment'>// captures <span class='tcode_in_codeblock'>x</span> regardless of whether <span class='tcode_in_codeblock'>a + x</span> is an unevaluated operand
</span>  };
}</pre> <div id='prim.lambda.capture-7.sentence-4' class='sentence'>
Within <span class='texttt'>g1</span>, an implementation might optimize away
the capture of <span class='texttt'>x</span> as it is not odr-used<a class='hidden_link' href='#prim.lambda.capture-7.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='prim.lambda.capture-7.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#prim.lambda.capture-7.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='prim.lambda.capture-7.sentence-5' class='sentence'>The set of captured entities is determined syntactically,
and entities might be implicitly captured
even if the expression denoting a local entity
is within a discarded statement (<a href='stmt.if'>[stmt.if]</a>)<a class='hidden_link' href='#prim.lambda.capture-7.sentence-5'>.</a></div> <div id='prim.lambda.capture-7.example-2' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.lambda.capture-7.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;bool B&gt;
void f(int n) {
  [=](auto a) {
    if constexpr (B &amp;&amp; sizeof(a) &gt; 4) {
      (void)n;                  <span class='comment'>// captures <span class='tcode_in_codeblock'>n</span> regardless of the value of <span class='tcode_in_codeblock'>B</span> and <span class='tcode_in_codeblock'>sizeof(int)</span>
</span>    }
  }(0);
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.lambda.capture-8'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1439'>#</a></div><div id='prim.lambda.capture-8.sentence-1' class='sentence'>An entity is <a class='hidden_link' href='#def:captured' id='def:captured'><i >captured</i></a> if it is captured explicitly or implicitly<a class='hidden_link' href='#prim.lambda.capture-8.sentence-1'>.</a></div> <div id='prim.lambda.capture-8.sentence-2' class='sentence'>An entity
captured by a <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i> is odr-used (<a href='basic.def.odr'>[basic.def.odr]</a>) in the scope
containing the <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i><a class='hidden_link' href='#prim.lambda.capture-8.sentence-2'>.</a></div> <div id='prim.lambda.capture-8.sentence-3' class='sentence'>If a <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i>
explicitly captures an entity that is not odr-usable
or
captures a structured binding (explicitly or implicitly),
the program is
ill-formed<a class='hidden_link' href='#prim.lambda.capture-8.sentence-3'>.</a></div> <div id='prim.lambda.capture-8.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.lambda.capture-8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <span class='indexparent'><a class='index' id=':Bond,James_Bond'></a></span><pre class='codeblock'>
void f1(int i) {
  int const N = 20;
  auto m1 = [=]{
    int const M = 30;
    auto m2 = [i]{
      int x[N][M];          <span class='comment'>// OK: <span class='tcode_in_codeblock'>N</span> and <span class='tcode_in_codeblock'>M</span> are not odr-used
</span>      x[0][0] = i;          <span class='comment'>// OK: <span class='tcode_in_codeblock'>i</span> is explicitly captured by <span class='tcode_in_codeblock'>m2</span> and implicitly captured by <span class='tcode_in_codeblock'>m1</span>
</span>    };
  };
  struct s1 {
    int f;
    void work(int n) {
      int m = n*n;
      int j = 40;
      auto m3 = [this,m] {
        auto m4 = [&amp;,j] {   <span class='comment'>// error: <span class='tcode_in_codeblock'>j</span> not odr-usable due to intervening lambda <span class='tcode_in_codeblock'>m3</span>
</span>          int x = n;        <span class='comment'>// error: <span class='tcode_in_codeblock'>n</span> is odr-used but not odr-usable due to intervening lambda <span class='tcode_in_codeblock'>m3</span>
</span>          x += m;           <span class='comment'>// OK: <span class='tcode_in_codeblock'>m</span> implicitly captured by <span class='tcode_in_codeblock'>m4</span> and explicitly captured by <span class='tcode_in_codeblock'>m3</span>
</span>          x += i;           <span class='comment'>// error: <span class='tcode_in_codeblock'>i</span> is odr-used but not odr-usable
</span>                            <span class='comment'>// due to intervening function and class scopes
</span>          x += f;           <span class='comment'>// OK: <span class='tcode_in_codeblock'>this</span> captured implicitly by <span class='tcode_in_codeblock'>m4</span> and explicitly by <span class='tcode_in_codeblock'>m3</span>
</span>        };
      };
    }
  };
}

struct s2 {
  double ohseven = .007;
  auto f() {
    return [this] {
      return [*this] {
          return ohseven;   <span class='comment'>// OK
</span>      }
    }();
  }
  auto g() {
    return [] {
      return [*this] { };   <span class='comment'>// error: <span class='tcode_in_codeblock'>*this</span> not captured by outer <span class='grammarterm'>lambda-expression</span>
</span>    }();
  }
};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.lambda.capture-9'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1496'>#</a></div><div id='prim.lambda.capture-9.sentence-1' class='sentence'>A <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i> appearing in a default argument shall not
implicitly or explicitly capture any entity<a class='hidden_link' href='#prim.lambda.capture-9.sentence-1'>.</a></div> <div id='prim.lambda.capture-9.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.lambda.capture-9.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void f2() {
  int i = 1;
  void g1(int = ([i]{ return i; })());          <span class='comment'>// ill-formed
</span>  void g2(int = ([i]{ return 0; })());          <span class='comment'>// ill-formed
</span>  void g3(int = ([=]{ return i; })());          <span class='comment'>// ill-formed
</span>  void g4(int = ([=]{ return 0; })());          <span class='comment'>// OK
</span>  void g5(int = ([]{ return sizeof i; })());    <span class='comment'>// OK
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.lambda.capture-10'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1512'>#</a></div><div id='prim.lambda.capture-10.sentence-1' class='sentence'>An entity is <a class='hidden_link' href='#def:captured,by_copy' id='def:captured,by_copy'><i >captured by copy</i></a> if
<ul class='itemize'><li id='prim.lambda.capture-10.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#prim.lambda.capture-10.1'>(10.1)</a></div><div id='prim.lambda.capture-10.1.sentence-1' class='sentence'>it is implicitly captured,
the <i ><a href='expr.prim.lambda.capture#nt:capture-default'>capture-default</a></i> is <span class='texttt'>=</span>, and
the captured entity is not <span class='texttt'>*this</span>, or</div></li><li id='prim.lambda.capture-10.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#prim.lambda.capture-10.2'>(10.2)</a></div><div id='prim.lambda.capture-10.2.sentence-1' class='sentence'>it is explicitly captured with a capture that is not of the form
<span class='texttt'>this</span>,
<span class='texttt'>&amp;</span> <i ><a href='lex.name#nt:identifier'>identifier</a></i>, or
<span class='texttt'>&amp;</span> <i ><a href='lex.name#nt:identifier'>identifier</a></i> <i ><a href='dcl.init#nt:initializer'>initializer</a></i><a class='hidden_link' href='#prim.lambda.capture-10.2.sentence-1'>.</a></div></li></ul></div> <div id='prim.lambda.capture-10.sentence-2' class='sentence'>
For each entity captured by copy, an
unnamed non-static data member is declared in the closure type<a class='hidden_link' href='#prim.lambda.capture-10.sentence-2'>.</a></div> <div id='prim.lambda.capture-10.sentence-3' class='sentence'>The declaration order of
these members is unspecified<a class='hidden_link' href='#prim.lambda.capture-10.sentence-3'>.</a></div> <div id='prim.lambda.capture-10.sentence-4' class='sentence'>The type of such a data member is
the referenced type if the entity is a reference to an object,
an lvalue reference to the referenced function type if the entity is a reference to a function, or
the type of the corresponding captured entity otherwise<a class='hidden_link' href='#prim.lambda.capture-10.sentence-4'>.</a></div> <div id='prim.lambda.capture-10.sentence-5' class='sentence'>A member of an anonymous union shall not be captured by copy<a class='hidden_link' href='#prim.lambda.capture-10.sentence-5'>.</a></div></div><div class='para' id='prim.lambda.capture-11'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1533'>#</a></div><div id='prim.lambda.capture-11.sentence-1' class='sentence'>Every <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> within the <i ><a href='stmt.block#nt:compound-statement'>compound-statement</a></i> of a
<i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i> that is an <a href='basic.def.odr'>odr-use</a> of an
entity captured by copy is transformed into an access to the corresponding unnamed data
member of the closure type<a class='hidden_link' href='#prim.lambda.capture-11.sentence-1'>.</a></div> <div id='prim.lambda.capture-11.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#prim.lambda.capture-11.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='prim.lambda.capture-11.sentence-3' class='sentence'>An <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> that is not an odr-use refers to
the original entity, never to a member of the closure type<a class='hidden_link' href='#prim.lambda.capture-11.sentence-3'>.</a></div> <div id='prim.lambda.capture-11.sentence-4' class='sentence'>However, such
an <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> can still cause the implicit capture of the
entity<a class='hidden_link' href='#prim.lambda.capture-11.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='prim.lambda.capture-11.sentence-2' class='sentence'>
If <span class='texttt'>*this</span> is captured by copy, each expression that odr-uses <span class='texttt'>*this</span> is
transformed to instead refer to the corresponding unnamed data member of the closure type<a class='hidden_link' href='#prim.lambda.capture-11.sentence-2'>.</a></div> <div id='prim.lambda.capture-11.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.lambda.capture-11.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void f(const int*);
void g() {
  const int N = 10;
  [=] {
    int arr[N];     <span class='comment'>// OK: not an odr-use, refers to automatic variable
</span>    f(&amp;N);          <span class='comment'>// OK: causes <span class='tcode_in_codeblock'>N</span> to be captured; <span class='tcode_in_codeblock'>&amp;N</span> points to
</span>                    <span class='comment'>// the corresponding member of the closure type
</span>  };
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.lambda.capture-12'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1559'>#</a></div><div id='prim.lambda.capture-12.sentence-1' class='sentence'>An entity is <a class='hidden_link' href='#def:captured,by_reference' id='def:captured,by_reference'><i >captured by reference</i></a> if it is implicitly or explicitly
captured but not captured by copy<a class='hidden_link' href='#prim.lambda.capture-12.sentence-1'>.</a></div> <div id='prim.lambda.capture-12.sentence-2' class='sentence'>It is unspecified whether additional unnamed
non-static data members are declared in the closure type for entities captured by
reference<a class='hidden_link' href='#prim.lambda.capture-12.sentence-2'>.</a></div> <div id='prim.lambda.capture-12.sentence-3' class='sentence'>If declared, such non-static data members shall be of literal type<a class='hidden_link' href='#prim.lambda.capture-12.sentence-3'>.</a></div> <div id='prim.lambda.capture-12.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.lambda.capture-12.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='comment'>// The inner closure type must be a literal type regardless of how reference captures are represented.
</span>static_assert([](int n) { return [&amp;n] { return ++n; }(); }(3) == 4);</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='prim.lambda.capture-12.sentence-4' class='sentence'>
A bit-field or a member of an anonymous union shall not be captured by reference<a class='hidden_link' href='#prim.lambda.capture-12.sentence-4'>.</a></div></div><div class='para' id='prim.lambda.capture-13'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1573'>#</a></div><div id='prim.lambda.capture-13.sentence-1' class='sentence'>An <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> within
the <i ><a href='stmt.block#nt:compound-statement'>compound-statement</a></i> of a <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i>
that is an odr-use of a reference captured by reference
refers to the entity to which the captured reference is bound and
not to the captured reference<a class='hidden_link' href='#prim.lambda.capture-13.sentence-1'>.</a></div> <div id='prim.lambda.capture-13.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#prim.lambda.capture-13.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='prim.lambda.capture-13.sentence-2' class='sentence'>The validity of such captures is determined by
the lifetime of the object to which the reference refers,
not by the lifetime of the reference itself<a class='hidden_link' href='#prim.lambda.capture-13.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='prim.lambda.capture-13.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.lambda.capture-13.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
auto h(int &amp;r) {
  return [&amp;] {
    ++r;            <span class='comment'>// Valid after <span class='tcode_in_codeblock'>h</span> returns if the lifetime of the
</span>                    <span class='comment'>// object to which <span class='tcode_in_codeblock'>r</span> is bound has not ended
</span>  };
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.lambda.capture-14'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1593'>#</a></div><div id='prim.lambda.capture-14.sentence-1' class='sentence'>If a <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i> <span class='texttt'>m2</span> captures an entity and that entity is
captured by an immediately enclosing <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i>
<span class='texttt'>m1</span>, then
<span class='texttt'>m2</span>'s capture is transformed as follows:</div><div id='prim.lambda.capture-14.sentence-2' class='sentence'><ul class='itemize'><li id='prim.lambda.capture-14.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#prim.lambda.capture-14.1'>(14.1)</a></div><div id='prim.lambda.capture-14.1.sentence-1' class='sentence'>if <span class='texttt'>m1</span> captures the entity by copy,
<span class='texttt'>m2</span> captures the corresponding
non-static data member of <span class='texttt'>m1</span>'s closure type;</div></li><li id='prim.lambda.capture-14.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#prim.lambda.capture-14.2'>(14.2)</a></div><div id='prim.lambda.capture-14.2.sentence-1' class='sentence'>if <span class='texttt'>m1</span> captures the entity by reference,
<span class='texttt'>m2</span> captures the same
entity captured by <span class='texttt'>m1</span><a class='hidden_link' href='#prim.lambda.capture-14.2.sentence-1'>.</a></div></li></ul></div> <div id='prim.lambda.capture-14.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.lambda.capture-14.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='prim.lambda.capture-14.sentence-3' class='sentence'>The nested lambda expressions and invocations below will output
<span class='texttt'>123234</span><a class='hidden_link' href='#prim.lambda.capture-14.sentence-3'>.</a></div> <pre class='codeblock'>
int a = 1, b = 1, c = 1;
auto m1 = [a, &amp;b, &amp;c]() mutable {
  auto m2 = [a, b, &amp;c]() mutable {
    std::cout &lt;&lt; a &lt;&lt; b &lt;&lt; c;
    a = 4; b = 4; c = 4;
  };
  a = 3; b = 3; c = 3;
  m2();
};
a = 2; b = 2; c = 2;
m1();
std::cout &lt;&lt; a &lt;&lt; b &lt;&lt; c;</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.lambda.capture-15'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1626'>#</a></div><div id='prim.lambda.capture-15.sentence-1' class='sentence'>When the <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i> is evaluated, the entities that are
captured by copy are used to direct-initialize each corresponding non-static data member
of the resulting closure object, and the non-static data members corresponding to the
<i ><a href='expr.prim.lambda.capture#nt:init-capture'>init-capture</a></i><span class='textit'>s</span> are initialized as indicated by the corresponding
<i ><a href='dcl.init#nt:initializer'>initializer</a></i> (which may be copy- or direct-initialization)<a class='hidden_link' href='#prim.lambda.capture-15.sentence-1'>.</a></div> <div id='prim.lambda.capture-15.sentence-2' class='sentence'>(For array members, the array elements are
direct-initialized in increasing subscript order<a class='hidden_link' href='#prim.lambda.capture-15.sentence-2'>.</a>)</div> <div id='prim.lambda.capture-15.sentence-3' class='sentence'>These initializations are performed
in the (unspecified) order in which the non-static data members are declared<a class='hidden_link' href='#prim.lambda.capture-15.sentence-3'>.</a></div> <div id='prim.lambda.capture-15.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#prim.lambda.capture-15.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='prim.lambda.capture-15.sentence-4' class='sentence'>This ensures that the destructions will occur in the reverse order of the constructions<a class='hidden_link' href='#prim.lambda.capture-15.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.lambda.capture-16'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1637'>#</a></div><div id='prim.lambda.capture-16.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#prim.lambda.capture-16.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='prim.lambda.capture-16.sentence-1' class='sentence'>If a non-reference entity is implicitly or explicitly captured by reference,
invoking the function call operator of the corresponding <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i>
after the lifetime of the entity has ended is likely to result in undefined behavior<a class='hidden_link' href='#prim.lambda.capture-16.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.lambda.capture-17'><div class='marginalizedparent'><a class='marginalized' href='#prim.lambda.capture-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1643'>#</a></div><div id='prim.lambda.capture-17.sentence-1' class='sentence'>A <i ><a href='expr.prim.lambda.capture#nt:simple-capture'>simple-capture</a></i> followed by an ellipsis is a <a href='temp.variadic#def:pack_expansion'>pack expansion</a><a class='hidden_link' href='#prim.lambda.capture-17.sentence-1'>.</a></div> <div id='prim.lambda.capture-17.sentence-2' class='sentence'>An <i ><a href='expr.prim.lambda.capture#nt:init-capture'>init-capture</a></i> followed by an
ellipsis is ill-formed<a class='hidden_link' href='#prim.lambda.capture-17.sentence-2'>.</a></div> <div id='prim.lambda.capture-17.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.lambda.capture-17.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class... Args&gt;
void f(Args... args) {
  auto lm = [&amp;, args...] { return g(args...); };
  lm();
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  </div></div></div><div id='prim.fold' class='section'><h3 ><a class='secnum' href='#prim.fold' style='min-width:103pt'>8.4.6</a> Fold expressions <a class='abbr_ref' href='expr.prim.fold'>[expr.prim.fold]</a></h3><span class='indexparent'><a class='index' id=':expression,fold'></a></span><div class='para' id='prim.fold-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.fold-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1661'>#</a></div><div id='prim.fold-1.sentence-1' class='sentence'>A fold expression performs a fold of a
<a href='temp.variadic#def:template_parameter_pack'>template parameter pack</a> over a binary operator<a class='hidden_link' href='#prim.fold-1.sentence-1'>.</a></div><pre class='bnf'><a class='nontermdef' href='#nt:fold-expression' id='nt:fold-expression'>fold-expression:</a>
&#9;<span class='terminal'>(</span> <i ><a href='expr.cast#nt:cast-expression'>cast-expression</a></i> <i ><a href='expr.prim.fold#nt:fold-operator'>fold-operator</a></i> <span class='terminal'>...</span> <span class='terminal'>)</span>
&#9;<span class='terminal'>(</span> <span class='terminal'>...</span> <i ><a href='expr.prim.fold#nt:fold-operator'>fold-operator</a></i> <i ><a href='expr.cast#nt:cast-expression'>cast-expression</a></i> <span class='terminal'>)</span>
&#9;<span class='terminal'>(</span> <i ><a href='expr.cast#nt:cast-expression'>cast-expression</a></i> <i ><a href='expr.prim.fold#nt:fold-operator'>fold-operator</a></i> <span class='terminal'>...</span> <i ><a href='expr.prim.fold#nt:fold-operator'>fold-operator</a></i> <i ><a href='expr.cast#nt:cast-expression'>cast-expression</a></i> <span class='terminal'>)</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:fold-operator' id='nt:fold-operator'>fold-operator:</a> <span class='textnormal'>one of</span>
&#9;<span class='terminal'>+ </span>&emsp;&ensp;<span class='terminal'>- </span>&emsp;&ensp;<span class='terminal'>* </span>&emsp;&ensp;<span class='terminal'>/ </span>&emsp;&ensp;<span class='terminal'>% </span>&emsp;&ensp;<span class='terminal'>^ </span>&emsp;&ensp;<span class='terminal'>&amp; </span>&emsp;&ensp;<span class='terminal'>| </span>&emsp;&ensp;<span class='terminal'>&lt;&lt; </span>&emsp;&ensp;<span class='terminal'>&gt;&gt; </span>
&#9;<span class='terminal'>+=</span>&emsp;&ensp;<span class='terminal'>-=</span>&emsp;&ensp;<span class='terminal'>*=</span>&emsp;&ensp;<span class='terminal'>/=</span>&emsp;&ensp;<span class='terminal'>%=</span>&emsp;&ensp;<span class='terminal'>^=</span>&emsp;&ensp;<span class='terminal'>&amp;=</span>&emsp;&ensp;<span class='terminal'>|=</span>&emsp;&ensp;<span class='terminal'>&lt;&lt;=</span>&emsp;&ensp;<span class='terminal'>&gt;&gt;=</span>&emsp;&ensp;<span class='terminal'>=</span>
&#9;<span class='terminal'>==</span>&emsp;&ensp;<span class='terminal'>!=</span>&emsp;&ensp;<span class='terminal'>&lt; </span>&emsp;&ensp;<span class='terminal'>&gt; </span>&emsp;&ensp;<span class='terminal'>&lt;=</span>&emsp;&ensp;<span class='terminal'>&gt;=</span>&emsp;&ensp;<span class='terminal'>&amp;&amp;</span>&emsp;&ensp;<span class='terminal'>||</span>&emsp;&ensp;<span class='terminal'>,  </span>&emsp;&ensp;<span class='terminal'>.* </span>&emsp;&ensp;<span class='terminal'>-&gt;*</span>
</pre></div><div class='para' id='prim.fold-2'><div class='marginalizedparent'><a class='marginalized' href='#prim.fold-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1681'>#</a></div><div id='prim.fold-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':fold,unary'></a></span>An expression of the form
<span class='texttt'>(...</span> <span class='textit'>op</span> <span class='texttt'>e)</span>
where <span class='textit'>op</span> is a <i ><a href='expr.prim.fold#nt:fold-operator'>fold-operator</a></i>
is called a <a class='hidden_link' href='#def:unary_left_fold' id='def:unary_left_fold'><i >unary left fold</i></a><a class='hidden_link' href='#prim.fold-2.sentence-1'>.</a></div> <div id='prim.fold-2.sentence-2' class='sentence'>An expression of the form
<span class='texttt'>(e</span> <span class='textit'>op</span> <span class='texttt'>...)</span>
where <span class='textit'>op</span> is a <i ><a href='expr.prim.fold#nt:fold-operator'>fold-operator</a></i>
is called a <a class='hidden_link' href='#def:unary_right_fold' id='def:unary_right_fold'><i >unary right fold</i></a><a class='hidden_link' href='#prim.fold-2.sentence-2'>.</a></div> <div id='prim.fold-2.sentence-3' class='sentence'>Unary left folds and unary right folds
are collectively called <a class='hidden_link' href='#def:unary_fold' id='def:unary_fold'><i >unary folds</i></a><a class='hidden_link' href='#prim.fold-2.sentence-3'>.</a></div> <div id='prim.fold-2.sentence-4' class='sentence'>In a unary fold,
the <i ><a href='expr.cast#nt:cast-expression'>cast-expression</a></i>
shall contain an <a href='temp.variadic#def:parameter_pack,unexpanded'>unexpanded parameter pack</a><a class='hidden_link' href='#prim.fold-2.sentence-4'>.</a></div></div><div class='para' id='prim.fold-3'><div class='marginalizedparent'><a class='marginalized' href='#prim.fold-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1697'>#</a></div><div id='prim.fold-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':fold,binary'></a></span>An expression of the form
<span class='texttt'>(e1</span> <span class='textit'>op1</span> <span class='texttt'>...</span> <span class='textit'>op2</span> <span class='texttt'>e2)</span>
where <span class='textit'>op1</span> and <span class='textit'>op2</span> are <i ><a href='expr.prim.fold#nt:fold-operator'>fold-operator</a></i><span class='textit'>s</span>
is called a <a class='hidden_link' href='#def:binary_fold' id='def:binary_fold'><i >binary fold</i></a><a class='hidden_link' href='#prim.fold-3.sentence-1'>.</a></div> <div id='prim.fold-3.sentence-2' class='sentence'>In a binary fold,
<span class='textit'>op1</span> and <span class='textit'>op2</span>
shall be the same <i ><a href='expr.prim.fold#nt:fold-operator'>fold-operator</a></i>,
and either <span class='texttt'>e1</span>
shall contain an unexpanded parameter pack
or <span class='texttt'>e2</span>
shall contain an unexpanded parameter pack,
but not both<a class='hidden_link' href='#prim.fold-3.sentence-2'>.</a></div> <div id='prim.fold-3.sentence-3' class='sentence'>If <span class='texttt'>e2</span> contains an unexpanded parameter pack,
the expression is called a <a class='hidden_link' href='#def:binary_left_fold' id='def:binary_left_fold'><i >binary left fold</i></a><a class='hidden_link' href='#prim.fold-3.sentence-3'>.</a></div> <div id='prim.fold-3.sentence-4' class='sentence'>If <span class='texttt'>e1</span> contains an unexpanded parameter pack,
the expression is called a <a class='hidden_link' href='#def:binary_right_fold' id='def:binary_right_fold'><i >binary right fold</i></a><a class='hidden_link' href='#prim.fold-3.sentence-4'>.</a></div> <div id='prim.fold-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.fold-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;typename ...Args&gt;
bool f(Args ...args) {
  return (true &amp;&amp; ... &amp;&amp; args); <span class='comment'>// OK
</span>}

template&lt;typename ...Args&gt;
bool f(Args ...args) {
  return (args + ... + args);   <span class='comment'>// error: both operands contain unexpanded parameter packs
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  </div></div><div id='prim.req' class='section'><h3 ><a class='secnum' href='#prim.req' style='min-width:103pt'>8.4.7</a> Requires expressions <a class='abbr_ref' href='expr.prim.req'>[expr.prim.req]</a></h3><span class='indexparent'><a class='index' id=':expression,requires'></a></span><div class='para' id='prim.req-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.req-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1733'>#</a></div><div id='prim.req-1.sentence-1' class='sentence'>A <i ><a href='expr.prim.req#nt:requires-expression'>requires-expression</a></i> provides a concise way to express
requirements on template arguments
that can be checked by <a href='basic.lookup'>name lookup</a>
or by checking properties of types and expressions<a class='hidden_link' href='#prim.req-1.sentence-1'>.</a></div><pre class='bnf'><a class='nontermdef' href='#nt:requires-expression' id='nt:requires-expression'>requires-expression:</a>
&#9;<span class='terminal'>requires</span> <i ><a href='expr.prim.req#nt:requirement-parameter-list'>requirement-parameter-list</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='expr.prim.req#nt:requirement-body'>requirement-body</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:requirement-parameter-list' id='nt:requirement-parameter-list'>requirement-parameter-list:</a>
&#9;<span class='terminal'>(</span> <i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>)</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:requirement-body' id='nt:requirement-body'>requirement-body:</a>
&#9;<span class='terminal'>{</span> <i ><a href='expr.prim.req#nt:requirement-seq'>requirement-seq</a></i> <span class='terminal'>}</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:requirement-seq' id='nt:requirement-seq'>requirement-seq:</a>
&#9;<i ><a href='expr.prim.req#nt:requirement'>requirement</a></i>
&#9;<i ><a href='expr.prim.req#nt:requirement-seq'>requirement-seq</a></i> <i ><a href='expr.prim.req#nt:requirement'>requirement</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:requirement' id='nt:requirement'>requirement:</a>
&#9;<i ><a href='expr.prim.req.simple#nt:simple-requirement'>simple-requirement</a></i>
&#9;<i ><a href='expr.prim.req.type#nt:type-requirement'>type-requirement</a></i>
&#9;<i ><a href='expr.prim.req.compound#nt:compound-requirement'>compound-requirement</a></i>
&#9;<i ><a href='expr.prim.req.nested#nt:nested-requirement'>nested-requirement</a></i>
</pre></div><div class='para' id='prim.req-2'><div class='marginalizedparent'><a class='marginalized' href='#prim.req-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1768'>#</a></div><div id='prim.req-2.sentence-1' class='sentence'>A <i ><a href='expr.prim.req#nt:requires-expression'>requires-expression</a></i> is a prvalue of type <span class='texttt'>bool</span>
whose value is described below<a class='hidden_link' href='#prim.req-2.sentence-1'>.</a></div> <div id='prim.req-2.sentence-2' class='sentence'>Expressions appearing within a <i ><a href='expr.prim.req#nt:requirement-body'>requirement-body</a></i>
are <a href='expr.prop#def:unevaluated_operand'>unevaluated operands</a><a class='hidden_link' href='#prim.req-2.sentence-2'>.</a></div></div><div class='para' id='prim.req-3'><div class='marginalizedparent'><a class='marginalized' href='#prim.req-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1774'>#</a></div><div id='prim.req-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.req-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='prim.req-3.sentence-1' class='sentence'>A common use of <i ><a href='expr.prim.req#nt:requires-expression'>requires-expression</a></i>s is to define
requirements in concepts such as the one below:
<pre class='codeblock'>
template&lt;typename T&gt;
  concept R = requires (T i) {
    typename T::type;
    {*i} -&gt; const typename T::type&amp;;
  };</pre>
A <i ><a href='expr.prim.req#nt:requires-expression'>requires-expression</a></i> can also be used in a
<i ><a href='temp#nt:requires-clause'>requires-clause</a></i> as a way of writing ad hoc
constraints on template arguments such as the one below:
<pre class='codeblock'>
template&lt;typename T&gt;
  requires requires (T x) { x + x; }
    T add(T a, T b) { return a + b; }</pre>
The first <span class='texttt'>requires</span> introduces the
<i ><a href='temp#nt:requires-clause'>requires-clause</a></i>, and the second
introduces the <i ><a href='expr.prim.req#nt:requires-expression'>requires-expression</a></i><a class='hidden_link' href='#prim.req-3.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.req-4'><div class='marginalizedparent'><a class='marginalized' href='#prim.req-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1798'>#</a></div><div id='prim.req-4.sentence-1' class='sentence'>A <i ><a href='expr.prim.req#nt:requires-expression'>requires-expression</a></i> may introduce local parameters using a
<i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i><a class='hidden_link' href='#prim.req-4.sentence-1'>.</a></div> <div id='prim.req-4.sentence-2' class='sentence'>A local parameter of a <i ><a href='expr.prim.req#nt:requires-expression'>requires-expression</a></i> shall not have a
default argument<a class='hidden_link' href='#prim.req-4.sentence-2'>.</a></div> <div id='prim.req-4.sentence-3' class='sentence'>Each name introduced by a local parameter is in scope from the point
of its declaration until the closing brace of the
<i ><a href='expr.prim.req#nt:requirement-body'>requirement-body</a></i><a class='hidden_link' href='#prim.req-4.sentence-3'>.</a></div> <div id='prim.req-4.sentence-4' class='sentence'>These parameters have no linkage, storage, or lifetime; they are only used
as notation for the purpose of defining <i ><a href='expr.prim.req#nt:requirement'>requirement</a></i>s<a class='hidden_link' href='#prim.req-4.sentence-4'>.</a></div> <div id='prim.req-4.sentence-5' class='sentence'>The <i ><a href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a></i> of a
<i ><a href='expr.prim.req#nt:requirement-parameter-list'>requirement-parameter-list</a></i>
shall not terminate with an ellipsis<a class='hidden_link' href='#prim.req-4.sentence-5'>.</a></div> <div id='prim.req-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.req-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;typename T&gt;
concept C = requires(T t, ...) {    <span class='comment'>// error: terminates with an ellipsis
</span>  t;
};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.req-5'><div class='marginalizedparent'><a class='marginalized' href='#prim.req-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1820'>#</a></div><div id='prim.req-5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':requirement'></a></span>The <i ><a href='expr.prim.req#nt:requirement-body'>requirement-body</a></i> contains
a sequence of <i ><a href='expr.prim.req#nt:requirement'>requirement</a></i>s<a class='hidden_link' href='#prim.req-5.sentence-1'>.</a></div> <div id='prim.req-5.sentence-2' class='sentence'>These <i ><a href='expr.prim.req#nt:requirement'>requirement</a></i>s may refer to local
parameters, template parameters, and any other declarations visible from the
enclosing context<a class='hidden_link' href='#prim.req-5.sentence-2'>.</a></div></div><div class='para' id='prim.req-6'><div class='marginalizedparent'><a class='marginalized' href='#prim.req-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1828'>#</a></div><div id='prim.req-6.sentence-1' class='sentence'>The substitution of template arguments into a <i ><a href='expr.prim.req#nt:requires-expression'>requires-expression</a></i>
may result in the formation of invalid types or expressions in its
requirements or the violation of the semantic constraints of those requirements<a class='hidden_link' href='#prim.req-6.sentence-1'>.</a></div> <div id='prim.req-6.sentence-2' class='sentence'>In such cases, the <i ><a href='expr.prim.req#nt:requires-expression'>requires-expression</a></i> evaluates to <span class='texttt'>false</span>;
it does not cause the program to be ill-formed<a class='hidden_link' href='#prim.req-6.sentence-2'>.</a></div> <div id='prim.req-6.sentence-3' class='sentence'>The substitution and semantic constraint checking
proceeds in lexical order and stops when a condition that
determines the result of the <i ><a href='expr.prim.req#nt:requires-expression'>requires-expression</a></i> is encountered<a class='hidden_link' href='#prim.req-6.sentence-3'>.</a></div> <div id='prim.req-6.sentence-4' class='sentence'>If substitution (if any) and semantic constraint checking succeed,
the <i ><a href='expr.prim.req#nt:requires-expression'>requires-expression</a></i> evaluates to <span class='texttt'>true</span><a class='hidden_link' href='#prim.req-6.sentence-4'>.</a></div> <div id='prim.req-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#prim.req-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='prim.req-6.sentence-6' class='sentence'>If a <i ><a href='expr.prim.req#nt:requires-expression'>requires-expression</a></i> contains invalid types or expressions in
its requirements, and it does not appear within the declaration of a templated
entity, then the program is ill-formed<a class='hidden_link' href='#prim.req-6.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='prim.req-6.sentence-5' class='sentence'>
If the substitution of template arguments into a <i ><a href='expr.prim.req#nt:requirement'>requirement</a></i>
would always result in a substitution failure, the program is ill-formed;
no diagnostic required<a class='hidden_link' href='#prim.req-6.sentence-5'>.</a></div> <div id='prim.req-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.req-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;typename T&gt; concept C =
requires {
  new int[-(int)sizeof(T)]; <span class='comment'>// ill-formed, no diagnostic required
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div id='prim.req.simple' class='section'><h4 ><a class='secnum' href='#prim.req.simple' style='min-width:118pt'>8.4.7.1</a> Simple requirements <a class='abbr_ref' href='expr.prim.req.simple'>[expr.prim.req.simple]</a></h4><span class='indexparent'><a class='index' id=':requirement,simple'></a></span>
<pre class='bnf'><a class='nontermdef' href='#nt:simple-requirement' id='nt:simple-requirement'>simple-requirement:</a>
&#9;<i ><a href='expr.comma#nt:expression'>expression</a></i> <span class='terminal'>;</span>
</pre><div class='para' id='prim.req.simple-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.req.simple-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1864'>#</a></div><div id='prim.req.simple-1.sentence-1' class='sentence'>A <i ><a href='expr.prim.req.simple#nt:simple-requirement'>simple-requirement</a></i> asserts
the validity of an <i ><a href='expr.comma#nt:expression'>expression</a></i><a class='hidden_link' href='#prim.req.simple-1.sentence-1'>.</a></div> <div id='prim.req.simple-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#prim.req.simple-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='prim.req.simple-1.sentence-2' class='sentence'>The enclosing <i ><a href='expr.prim.req#nt:requires-expression'>requires-expression</a></i> will evaluate to <span class='texttt'>false</span>
if substitution of template arguments into the <i ><a href='expr.comma#nt:expression'>expression</a></i> fails<a class='hidden_link' href='#prim.req.simple-1.sentence-2'>.</a></div> <div id='prim.req.simple-1.sentence-3' class='sentence'>The <i ><a href='expr.comma#nt:expression'>expression</a></i> is an <a href='expr.prop#def:unevaluated_operand'>unevaluated operand</a><a class='hidden_link' href='#prim.req.simple-1.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='prim.req.simple-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.req.simple-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;typename T&gt; concept C =
  requires (T a, T b) {
    a + b;  <span class='comment'>// <span class='tcode_in_codeblock'>C&lt;T&gt;</span> is <span class='tcode_in_codeblock'>true</span> if <span class='tcode_in_codeblock'>a + b</span> is a valid expression
</span>  };</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='prim.req.type' class='section'><h4 ><a class='secnum' href='#prim.req.type' style='min-width:118pt'>8.4.7.2</a> Type requirements <a class='abbr_ref' href='expr.prim.req.type'>[expr.prim.req.type]</a></h4><span class='indexparent'><a class='index' id=':requirement,type'></a></span>
<pre class='bnf'><a class='nontermdef' href='#nt:type-requirement' id='nt:type-requirement'>type-requirement:</a>
&#9;<span class='terminal'>typename</span> <i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i> <span class='terminal'>;</span>
</pre><div class='para' id='prim.req.type-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.req.type-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1889'>#</a></div><div id='prim.req.type-1.sentence-1' class='sentence'>A <i ><a href='expr.prim.req.type#nt:type-requirement'>type-requirement</a></i> asserts the validity of a type<a class='hidden_link' href='#prim.req.type-1.sentence-1'>.</a></div> <div id='prim.req.type-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#prim.req.type-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='prim.req.type-1.sentence-2' class='sentence'>The enclosing <i ><a href='expr.prim.req#nt:requires-expression'>requires-expression</a></i> will evaluate to <span class='texttt'>false</span>
if substitution of template arguments fails<a class='hidden_link' href='#prim.req.type-1.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='prim.req.type-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.req.type-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;typename T, typename T::type = 0&gt; struct S;
template&lt;typename T&gt; using Ref = T&amp;;

template&lt;typename T&gt; concept C = requires {
  typename T::inner;    <span class='comment'>// required nested member name
</span>  typename S&lt;T&gt;;        <span class='comment'>// required class template specialization
</span>  typename Ref&lt;T&gt;;      <span class='comment'>// required alias template substitution, fails if <span class='tcode_in_codeblock'>T</span> is void
</span>};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.req.type-2'><div class='marginalizedparent'><a class='marginalized' href='#prim.req.type-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1908'>#</a></div><div id='prim.req.type-2.sentence-1' class='sentence'>A <i ><a href='expr.prim.req.type#nt:type-requirement'>type-requirement</a></i> that names a class template specialization
does not require that type to be complete (<a href='basic.types'>[basic.types]</a>)<a class='hidden_link' href='#prim.req.type-2.sentence-1'>.</a></div></div></div><div id='prim.req.compound' class='section'><h4 ><a class='secnum' href='#prim.req.compound' style='min-width:118pt'>8.4.7.3</a> Compound requirements <a class='abbr_ref' href='expr.prim.req.compound'>[expr.prim.req.compound]</a></h4><span class='indexparent'><a class='index' id=':requirement,compound'></a></span>
<pre class='bnf'><a class='nontermdef' href='#nt:compound-requirement' id='nt:compound-requirement'>compound-requirement:</a>
&#9;<span class='terminal'>{</span> <i ><a href='expr.comma#nt:expression'>expression</a></i> <span class='terminal'>}</span> <span class='terminal'>noexcept</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='expr.prim.req.compound#nt:return-type-requirement'>return-type-requirement</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>;</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:return-type-requirement' id='nt:return-type-requirement'>return-type-requirement:</a>
&#9;<i ><a href='dcl.decl#nt:trailing-return-type'>trailing-return-type</a></i>
&#9;<span class='terminal'>-&gt;</span> <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='temp.param#nt:constrained-parameter'>constrained-parameter</a></i> <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.name#nt:abstract-declarator'>abstract-declarator</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><div class='para' id='prim.req.compound-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.req.compound-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L1926'>#</a></div><div id='prim.req.compound-1.sentence-1' class='sentence'>A <i ><a href='expr.prim.req.compound#nt:compound-requirement'>compound-requirement</a></i> asserts properties
of the <i ><a href='expr.comma#nt:expression'>expression</a></i> <span class='texttt'>E</span><a class='hidden_link' href='#prim.req.compound-1.sentence-1'>.</a></div> <div id='prim.req.compound-1.sentence-2' class='sentence'>Substitution
of template arguments (if any) and verification of
semantic properties proceed in the following order:</div><div id='prim.req.compound-1.sentence-3' class='sentence'><ul class='itemize'><li id='prim.req.compound-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#prim.req.compound-1.1'>(1.1)</a></div><div id='prim.req.compound-1.1.sentence-1' class='sentence'>Substitution of template arguments (if any)
into the <i ><a href='expr.comma#nt:expression'>expression</a></i> is performed<a class='hidden_link' href='#prim.req.compound-1.1.sentence-1'>.</a></div></li><li id='prim.req.compound-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#prim.req.compound-1.2'>(1.2)</a></div><div id='prim.req.compound-1.2.sentence-1' class='sentence'>If the <span class='texttt'>noexcept</span> specifier is present,
<span class='texttt'>E</span> shall not be a <a href='except.spec#def:potentially-throwing,expression'>potentially-throwing expression</a><a class='hidden_link' href='#prim.req.compound-1.2.sentence-1'>.</a></div></li><li id='prim.req.compound-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#prim.req.compound-1.3'>(1.3)</a></div><div id='prim.req.compound-1.3.sentence-1' class='sentence'>If the <i ><a href='expr.prim.req.compound#nt:return-type-requirement'>return-type-requirement</a></i> is present, then:</div><div id='prim.req.compound-1.3.sentence-2' class='sentence'><ul class='itemize'><li id='prim.req.compound-1.3.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#prim.req.compound-1.3.1'>(1.3.1)</a></div><div id='prim.req.compound-1.3.1.sentence-1' class='sentence'>Substitution of template arguments (if any)
into the <i ><a href='expr.prim.req.compound#nt:return-type-requirement'>return-type-requirement</a></i> is performed<a class='hidden_link' href='#prim.req.compound-1.3.1.sentence-1'>.</a></div></li><li id='prim.req.compound-1.3.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#prim.req.compound-1.3.2'>(1.3.2)</a></div><div id='prim.req.compound-1.3.2.sentence-1' class='sentence'>If the <i ><a href='expr.prim.req.compound#nt:return-type-requirement'>return-type-requirement</a></i> is a
<i ><a href='dcl.decl#nt:trailing-return-type'>trailing-return-type</a></i>,
<span class='texttt'>E</span> is implicitly convertible to
the type named by the <i ><a href='dcl.decl#nt:trailing-return-type'>trailing-return-type</a></i><a class='hidden_link' href='#prim.req.compound-1.3.2.sentence-1'>.</a></div> <div id='prim.req.compound-1.3.2.sentence-2' class='sentence'>If conversion fails, the enclosing <i ><a href='expr.prim.req#nt:requires-expression'>requires-expression</a></i>
is <span class='texttt'>false</span><a class='hidden_link' href='#prim.req.compound-1.3.2.sentence-2'>.</a></div></li><li id='prim.req.compound-1.3.3'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#prim.req.compound-1.3.3'>(1.3.3)</a></div><div id='prim.req.compound-1.3.3.sentence-1' class='sentence'>If the <i ><a href='expr.prim.req.compound#nt:return-type-requirement'>return-type-requirement</a></i>
starts with a <i ><a href='temp.param#nt:constrained-parameter'>constrained-parameter</a></i>,
the <i ><a href='expr.comma#nt:expression'>expression</a></i> is deduced against
an invented function template <span class='texttt'>F</span>
using the rules in <a href='temp.deduct.call'>[temp.deduct.call]</a><a class='hidden_link' href='#prim.req.compound-1.3.3.sentence-1'>.</a></div> <div id='prim.req.compound-1.3.3.sentence-2' class='sentence'><span class='texttt'>F</span> is a <span class='texttt'>void</span> function template
with a single type template parameter <span class='texttt'>T</span>
declared with the <i ><a href='temp.param#nt:constrained-parameter'>constrained-parameter</a></i><a class='hidden_link' href='#prim.req.compound-1.3.3.sentence-2'>.</a></div> <div id='prim.req.compound-1.3.3.sentence-3' class='sentence'>A <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i> <span class='textit'>cv</span> is formed
as the union of <span class='texttt'>const</span> and <span class='texttt'>volatile</span> specifiers
around the <i ><a href='temp.param#nt:constrained-parameter'>constrained-parameter</a></i><a class='hidden_link' href='#prim.req.compound-1.3.3.sentence-3'>.</a></div> <div id='prim.req.compound-1.3.3.sentence-4' class='sentence'><span class='texttt'>F</span> has a single parameter
whose <i ><a href='dcl.type#nt:type-specifier'>type-specifier</a></i> is <span class='textit'>cv</span> <span class='texttt'>T</span>
followed by the <i ><a href='dcl.name#nt:abstract-declarator'>abstract-declarator</a></i><a class='hidden_link' href='#prim.req.compound-1.3.3.sentence-4'>.</a></div> <div id='prim.req.compound-1.3.3.sentence-5' class='sentence'>If deduction fails,
the enclosing <i ><a href='expr.prim.req#nt:requires-expression'>requires-expression</a></i> is <span class='texttt'>false</span><a class='hidden_link' href='#prim.req.compound-1.3.3.sentence-5'>.</a></div></li></ul></div></li></ul></div><div id='prim.req.compound-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.req.compound-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;typename T&gt; concept C1 = requires(T x) {
  {x++};
};</pre> <div id='prim.req.compound-1.sentence-4' class='sentence'>
The <i ><a href='expr.prim.req.compound#nt:compound-requirement'>compound-requirement</a></i> in <span class='texttt'>C1</span>
requires that <span class='texttt'>x++</span> is a valid expression<a class='hidden_link' href='#prim.req.compound-1.sentence-4'>.</a></div> <div id='prim.req.compound-1.sentence-5' class='sentence'>It is equivalent to the <i ><a href='expr.prim.req.simple#nt:simple-requirement'>simple-requirement</a></i>
<span class='texttt'>x++;</span><a class='hidden_link' href='#prim.req.compound-1.sentence-5'>.</a></div><pre class='codeblock'>
template&lt;typename T&gt; concept C2 = requires(T x) {
  {*x} -&gt; typename T::inner;
};</pre><div id='prim.req.compound-1.sentence-6' class='sentence'>The <i ><a href='expr.prim.req.compound#nt:compound-requirement'>compound-requirement</a></i> in <span class='texttt'>C2</span>
requires that <span class='texttt'>*x</span> is a valid expression,
that <span class='texttt'>typename T&#x200b;::&#x200b;inner</span> is a valid type, and
that <span class='texttt'>*x</span> is implicitly convertible to
<span class='texttt'>typename T&#x200b;::&#x200b;inner</span><a class='hidden_link' href='#prim.req.compound-1.sentence-6'>.</a></div><pre class='codeblock'>
template&lt;typename T, typename U&gt; concept C3 = requires (T t, U u) {
  t == u;
};
template&lt;typename T&gt; concept C4 = requires(T x) {
  {*x} -&gt; C3&lt;int&gt; const&amp;;
};</pre> <div id='prim.req.compound-1.sentence-7' class='sentence'>
The <i ><a href='expr.prim.req.compound#nt:compound-requirement'>compound-requirement</a></i>
requires that <span class='texttt'>*x</span> be deduced
as an argument for the invented function:
<pre class='codeblock'>
template&lt;C3&lt;int&gt; X&gt; void f(X const&amp;);</pre>
In this case, deduction only succeeds if
an expression of the type deduced for <span class='texttt'>X</span>
can be compared to an <span class='texttt'>int</span>
with the <span class='texttt'>==</span> operator<a class='hidden_link' href='#prim.req.compound-1.sentence-7'>.</a></div><pre class='codeblock'>
template&lt;typename T&gt; concept C5 =
  requires(T x) {
    {g(x)} noexcept;
  };</pre><div id='prim.req.compound-1.sentence-8' class='sentence'>The <i ><a href='expr.prim.req.compound#nt:compound-requirement'>compound-requirement</a></i> in <span class='texttt'>C5</span>
requires that <span class='texttt'>g(x)</span> is a valid expression and
that <span class='texttt'>g(x)</span> is non-throwing<a class='hidden_link' href='#prim.req.compound-1.sentence-8'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='prim.req.nested' class='section'><h4 ><a class='secnum' href='#prim.req.nested' style='min-width:118pt'>8.4.7.4</a> Nested requirements <a class='abbr_ref' href='expr.prim.req.nested'>[expr.prim.req.nested]</a></h4><span class='indexparent'><a class='index' id=':requirement,nested'></a></span>
<pre class='bnf'><a class='nontermdef' href='#nt:nested-requirement' id='nt:nested-requirement'>nested-requirement:</a>
&#9;<span class='terminal'>requires</span> <i ><a href='temp.constr.decl#nt:constraint-expression'>constraint-expression</a></i> <span class='terminal'>;</span>
</pre><div class='para' id='prim.req.nested-1'><div class='marginalizedparent'><a class='marginalized' href='#prim.req.nested-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2036'>#</a></div><div id='prim.req.nested-1.sentence-1' class='sentence'>A <i ><a href='expr.prim.req.nested#nt:nested-requirement'>nested-requirement</a></i> can be used
to specify additional constraints in terms of local parameters<a class='hidden_link' href='#prim.req.nested-1.sentence-1'>.</a></div> <div id='prim.req.nested-1.sentence-2' class='sentence'>The <i ><a href='temp.constr.decl#nt:constraint-expression'>constraint-expression</a></i>
shall be satisfied (<a href='temp.constr.decl'>[temp.constr.decl]</a>)
by the substituted template arguments, if any<a class='hidden_link' href='#prim.req.nested-1.sentence-2'>.</a></div> <div id='prim.req.nested-1.sentence-3' class='sentence'>Substitution of template arguments into a <i ><a href='expr.prim.req.nested#nt:nested-requirement'>nested-requirement</a></i>
does not result in substitution into the <i ><a href='temp.constr.decl#nt:constraint-expression'>constraint-expression</a></i>
other than as specified in <a href='temp.constr.decl'>[temp.constr.decl]</a><a class='hidden_link' href='#prim.req.nested-1.sentence-3'>.</a></div> <div id='prim.req.nested-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.req.nested-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;typename U&gt; concept C = sizeof(U) == 1;

template&lt;typename T&gt; concept D = requires (T t) {
  requires C&lt;decltype (+t)&gt;;
};</pre> <div id='prim.req.nested-1.sentence-4' class='sentence'><span class='texttt'>D&lt;T&gt;</span> is satisfied if <span class='texttt'>sizeof(decltype (+t)) == 1</span> (<a href='temp.constr.atomic'>[temp.constr.atomic]</a>)<a class='hidden_link' href='#prim.req.nested-1.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='prim.req.nested-2'><div class='marginalizedparent'><a class='marginalized' href='#prim.req.nested-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2056'>#</a></div><div id='prim.req.nested-2.sentence-1' class='sentence'>A local parameter shall only appear as an <a href='expr.prop#def:unevaluated_operand'>unevaluated operand</a>
within the <i ><a href='temp.constr.decl#nt:constraint-expression'>constraint-expression</a></i><a class='hidden_link' href='#prim.req.nested-2.sentence-1'>.</a></div> <div id='prim.req.nested-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#prim.req.nested-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;typename T&gt; concept C = requires (T a) {
  requires sizeof(a) == 4;  <span class='comment'>// OK
</span>  requires a == 0;          <span class='comment'>// error: evaluation of a constraint variable
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  
</div></div></div></div><div id='compound' class='section'><h2 ><a class='secnum' href='#compound' style='min-width:88pt'>8.5</a> Compound expressions <a class='abbr_ref' href='expr.compound'>[expr.compound]</a></h2><div id='post' class='section'><h3 ><a class='secnum' href='#post' style='min-width:103pt'>8.5.1</a> Postfix expressions <a class='abbr_ref' href='expr.post'>[expr.post]</a></h3><span class='indexparent'><a class='index' id=':expression,postfix'></a></span><div class='para' id='post-1'><div class='marginalizedparent'><a class='marginalized' href='#post-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2075'>#</a></div><div id='post-1.sentence-1' class='sentence'>Postfix expressions group left-to-right<a class='hidden_link' href='#post-1.sentence-1'>.</a></div><pre class='bnf'><a class='nontermdef' href='#nt:postfix-expression' id='nt:postfix-expression'>postfix-expression:</a>
&#9;<i ><a href='expr.prim#nt:primary-expression'>primary-expression</a></i>
&#9;<i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> <span class='terminal'>[</span> <i ><a href='dcl.init#nt:expr-or-braced-init-list'>expr-or-braced-init-list</a></i> <span class='terminal'>]</span>
&#9;<i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> <span class='terminal'>(</span> <i ><a href='expr.post#nt:expression-list'>expression-list</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>)</span>
&#9;<i ><a href='dcl.type.simple#nt:simple-type-specifier'>simple-type-specifier</a></i> <span class='terminal'>(</span> <i ><a href='expr.post#nt:expression-list'>expression-list</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>)</span>
&#9;<i ><a href='temp.res#nt:typename-specifier'>typename-specifier</a></i> <span class='terminal'>(</span> <i ><a href='expr.post#nt:expression-list'>expression-list</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>)</span>
&#9;<i ><a href='dcl.type.simple#nt:simple-type-specifier'>simple-type-specifier</a></i> <i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i>
&#9;<i ><a href='temp.res#nt:typename-specifier'>typename-specifier</a></i> <i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i>
&#9;<i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> <span class='terminal'>. template</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i>
&#9;<i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> <span class='terminal'>-&gt; template</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i>
&#9;<i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> <span class='terminal'>.</span> <i ><a href='expr.post#nt:pseudo-destructor-name'>pseudo-destructor-name</a></i>
&#9;<i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> <span class='terminal'>-&gt;</span> <i ><a href='expr.post#nt:pseudo-destructor-name'>pseudo-destructor-name</a></i>
&#9;<i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> <span class='terminal'>++</span>
&#9;<i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> <span class='terminal'>--</span>
&#9;<span class='terminal'>dynamic_cast &lt;</span> <i ><a href='dcl.name#nt:type-id'>type-id</a></i> <span class='terminal'>&gt; (</span> <i ><a href='expr.comma#nt:expression'>expression</a></i> <span class='terminal'>)</span>
&#9;<span class='terminal'>static_cast &lt;</span> <i ><a href='dcl.name#nt:type-id'>type-id</a></i> <span class='terminal'>&gt; (</span> <i ><a href='expr.comma#nt:expression'>expression</a></i> <span class='terminal'>)</span>
&#9;<span class='terminal'>reinterpret_cast &lt;</span> <i ><a href='dcl.name#nt:type-id'>type-id</a></i> <span class='terminal'>&gt; (</span> <i ><a href='expr.comma#nt:expression'>expression</a></i> <span class='terminal'>)</span>
&#9;<span class='terminal'>const_cast &lt;</span> <i ><a href='dcl.name#nt:type-id'>type-id</a></i> <span class='terminal'>&gt; (</span> <i ><a href='expr.comma#nt:expression'>expression</a></i> <span class='terminal'>)</span>
&#9;<span class='terminal'>typeid (</span> <i ><a href='expr.comma#nt:expression'>expression</a></i> <span class='terminal'>)</span>
&#9;<span class='terminal'>typeid (</span> <i ><a href='dcl.name#nt:type-id'>type-id</a></i> <span class='terminal'>)</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:expression-list' id='nt:expression-list'>expression-list:</a>
&#9;<i ><a href='dcl.init#nt:initializer-list'>initializer-list</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:pseudo-destructor-name' id='nt:pseudo-destructor-name'>pseudo-destructor-name:</a>
&#9;<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i> <span class='terminal'>::<span style='white-space:nowrap'>&thinsp;</span>~</span> <i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i>
&#9;<i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i> <span class='terminal'>template</span> <i ><a href='temp.names#nt:simple-template-id'>simple-template-id</a></i> <span class='terminal'>::<span style='white-space:nowrap'>&thinsp;</span>~</span> <i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i>
&#9;<span class='terminal'>~</span> <i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i>
&#9;<span class='terminal'>~</span> <i ><a href='dcl.type.simple#nt:decltype-specifier'>decltype-specifier</a></i>
</pre></div><div class='para' id='post-2'><div class='marginalizedparent'><a class='marginalized' href='#post-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2116'>#</a></div><div id='post-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#post-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='post-2.sentence-1' class='sentence'>The <span class='texttt'>&gt;</span> token following the
<i ><a href='dcl.name#nt:type-id'>type-id</a></i> in a <span class='texttt'>dynamic_&shy;cast</span>,
<span class='texttt'>static_&shy;cast</span>, <span class='texttt'>reinterpret_&shy;cast</span>, or
<span class='texttt'>const_&shy;cast</span> may be the product of replacing a
<span class='texttt'>&gt;&gt;</span> token by two consecutive <span class='texttt'>&gt;</span>
tokens (<a href='temp.names'>[temp.names]</a>)<a class='hidden_link' href='#post-2.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div id='sub' class='section'><h4 ><a class='secnum' href='#sub' style='min-width:118pt'>8.5.1.1</a> Subscripting <a class='abbr_ref' href='expr.sub'>[expr.sub]</a></h4><div class='para' id='sub-1'><div class='marginalizedparent'><a class='marginalized' href='#sub-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2126'>#</a></div><div id='sub-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':operator,subscripting'></a></span>A postfix expression followed by an expression in square brackets is a
postfix expression<a class='hidden_link' href='#sub-1.sentence-1'>.</a></div> <div id='sub-1.sentence-2' class='sentence'>One of the expressions shall be a glvalue of type “array of
<span class='texttt'>T</span>” or a prvalue of type “pointer
to <span class='texttt'>T</span>” and the other shall be a prvalue of unscoped enumeration or integral type<a class='hidden_link' href='#sub-1.sentence-2'>.</a></div> <div id='sub-1.sentence-3' class='sentence'>The result is of type “<span class='texttt'>T</span>”<a class='hidden_link' href='#sub-1.sentence-3'>.</a></div> <div id='sub-1.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':type,incomplete'></a></span>The type “<span class='texttt'>T</span>” shall be a completely-defined object type<a class='hidden_link' href='#sub-1.sentence-4'>.</a><a class='footnotenum' href='#footnote-66'>66</a></div> <div id='sub-1.sentence-5' class='sentence'>
The expression <span class='texttt'>E1[E2]</span> is identical (by definition) to
<span class='texttt'>*((E1)+(E2))</span>
<div id='sub-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#sub-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='sub-1.sentence-7' class='sentence'>see <a href='expr.unary'>[expr.unary]</a> and <a href='expr.add'>[expr.add]</a> for details of <span class='texttt'>*</span> and
<span class='texttt'>+</span> and <a href='dcl.array'>[dcl.array]</a> for details of arrays<a class='hidden_link' href='#sub-1.sentence-7'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> , except that in the case of an array operand, the result is an lvalue
if that operand is an lvalue and an xvalue otherwise<a class='hidden_link' href='#sub-1.sentence-5'>.</a></div> <div id='sub-1.sentence-6' class='sentence'>The expression <span class='texttt'>E1</span> is sequenced before the expression <span class='texttt'>E2</span><a class='hidden_link' href='#sub-1.sentence-6'>.</a></div></div><div class='para' id='sub-2'><div class='marginalizedparent'><a class='marginalized' href='#sub-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2147'>#</a></div><div id='sub-2.sentence-1' class='sentence'>A <i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i> shall not be used with the built-in subscript operator<a class='hidden_link' href='#sub-2.sentence-1'>.</a></div></div><div class='footnote' id='footnote-66'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-66'>66)</a></div><div id='footnote-66.sentence-1' class='sentence'>This
is true even if the subscript operator is used in the following common idiom:
<span class='texttt'>&amp;x[0]</span><a class='hidden_link' href='#footnote-66.sentence-1'>.</a></div></div></div><div id='call' class='section'><h4 ><a class='secnum' href='#call' style='min-width:118pt'>8.5.1.2</a> Function call <a class='abbr_ref' href='expr.call'>[expr.call]</a></h4><div class='para' id='call-1'><div class='marginalizedparent'><a class='marginalized' href='#call-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2152'>#</a></div><div id='call-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':expression,function_call'></a></span><span class='indexparent'><a class='index' id=':operator,function_call'></a></span>A function call is a postfix expression followed by parentheses
containing a possibly empty, comma-separated list of
<i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i><span class='textit'>s</span> which
constitute the arguments to the function<a class='hidden_link' href='#call-1.sentence-1'>.</a></div> <div id='call-1.sentence-2' class='sentence'>The postfix expression shall
have function type or function pointer type<a class='hidden_link' href='#call-1.sentence-2'>.</a></div> <div id='call-1.sentence-3' class='sentence'>For a call to a non-member function or to a static member function,
the postfix expression shall be either an lvalue that refers to a
function (in which case the <a href='conv.func'>function-to-pointer standard
conversion</a> is suppressed on the postfix expression),
or it shall have function pointer type<a class='hidden_link' href='#call-1.sentence-3'>.</a></div> <div id='call-1.sentence-4' class='sentence'>Calling a function through an
expression whose function type is different
from the function type of the called function's
definition results in undefined behavior (<a href='dcl.link'>[dcl.link]</a>)<a class='hidden_link' href='#call-1.sentence-4'>.</a></div> <div id='call-1.sentence-5' class='sentence'>For a call to a non-static
member function,
the postfix expression shall be an
implicit (<a href='class.mfct.non-static'>[class.mfct.non-static]</a>, <a href='class.static'>[class.static]</a>) or explicit
<a href='expr.ref'>class member access</a> whose <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> is a
function member name, or a <a href='expr.mptr.oper'>pointer-to-member
expression</a> selecting a function member; the call is as a member of
the class object referred to by the
object expression<a class='hidden_link' href='#call-1.sentence-5'>.</a></div> <div id='call-1.sentence-6' class='sentence'>In the case of an implicit class
member access, the implied object is the one pointed to by <span class='texttt'>this</span><a class='hidden_link' href='#call-1.sentence-6'>.</a></div> <div id='call-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#call-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='call-1.sentence-10' class='sentence'>A member function call of the form <span class='texttt'>f()</span> is interpreted as
<span class='texttt'>(*this).f()</span> (see <a href='class.mfct.non-static'>[class.mfct.non-static]</a>)<a class='hidden_link' href='#call-1.sentence-10'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='call-1.sentence-7' class='sentence'>
If a function or member function name is used, the name can be
<a href='over'>overloaded</a>, in which case the appropriate function
shall be selected according to the rules in <a href='over.match'>[over.match]</a><a class='hidden_link' href='#call-1.sentence-7'>.</a></div> <div id='call-1.sentence-8' class='sentence'>If the selected
function is non-virtual, or if the <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> in the class
member access expression is a <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i>, that function is
called<a class='hidden_link' href='#call-1.sentence-8'>.</a></div> <div id='call-1.sentence-9' class='sentence'>Otherwise, its <a href='class.virtual#def:final_overrider'>final overrider</a> in the dynamic type
of the object expression is called; such a call is referred to as a
<a class='hidden_link' href='#def:function,virtual_function_call' id='def:function,virtual_function_call'><i >virtual function call</i></a><a class='hidden_link' href='#call-1.sentence-9'>.</a></div> <div id='call-1.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#call-1.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='call-1.sentence-11' class='sentence'>The dynamic type is the type of the object referred to by the
current value of the object expression<a class='hidden_link' href='#call-1.sentence-11'>.</a></div> <div id='call-1.sentence-12' class='sentence'><a href='class.cdtor'>[class.cdtor]</a> describes the
behavior of virtual function calls when the object expression
refers to
an object under construction or destruction<a class='hidden_link' href='#call-1.sentence-12'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='call-2'><div class='marginalizedparent'><a class='marginalized' href='#call-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2198'>#</a></div><div id='call-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#call-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='call-2.sentence-1' class='sentence'>If a function or member function name is used, and <a href='basic.lookup'>name
lookup</a> does not find a declaration of that name,
the program is ill-formed<a class='hidden_link' href='#call-2.sentence-1'>.</a></div> <div id='call-2.sentence-2' class='sentence'>No function is implicitly declared by such a
call<a class='hidden_link' href='#call-2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='call-3'><div class='marginalizedparent'><a class='marginalized' href='#call-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2206'>#</a></div><div id='call-3.sentence-1' class='sentence'>If the <i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> designates a <a href='class.dtor'>destructor</a>,
the type of the function call expression is <span class='texttt'>void</span>; otherwise, the
type of the function call expression is the return type of the
statically chosen function (i.e., ignoring the <span class='texttt'>virtual</span> keyword),
even if the type of the function actually called is different<a class='hidden_link' href='#call-3.sentence-1'>.</a></div> <div id='call-3.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':type,incomplete_'></a></span>This return type shall be an object type, a reference type or <span class='textit'>cv</span> <span class='texttt'>void</span><a class='hidden_link' href='#call-3.sentence-2'>.</a></div></div><div class='para' id='call-4'><div class='marginalizedparent'><a class='marginalized' href='#call-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2215'>#</a></div><div id='call-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':initialization,parameter'></a></span>When a function is called, each parameter (<a href='dcl.fct'>[dcl.fct]</a>) shall be
initialized (<a href='dcl.init'>[dcl.init]</a>, <a href='class.copy'>[class.copy]</a>, <a href='class.ctor'>[class.ctor]</a>) with
its corresponding argument<a class='hidden_link' href='#call-4.sentence-1'>.</a></div> <div id='call-4.sentence-2' class='sentence'>If the function is a non-static member
function, the <a href='class.this'><span class='texttt'>this</span> parameter</a> of the function
shall be initialized with a pointer to the object of the call, converted
as if by an <a href='expr.cast'>explicit type conversion</a><a class='hidden_link' href='#call-4.sentence-2'>.</a></div> <div id='call-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#call-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='call-4.sentence-6' class='sentence'>There is no access or ambiguity checking on this conversion; the access
checking and disambiguation are done as part of the (possibly implicit)
class member access operator<a class='hidden_link' href='#call-4.sentence-6'>.</a></div> <div id='call-4.sentence-7' class='sentence'>See <a href='class.member.lookup'>[class.member.lookup]</a>, <a href='class.access.base'>[class.access.base]</a>,
and <a href='expr.ref'>[expr.ref]</a><a class='hidden_link' href='#call-4.sentence-7'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='call-4.sentence-3' class='sentence'>
When a function is called, the parameters that have object type shall
have completely-defined object type<a class='hidden_link' href='#call-4.sentence-3'>.</a></div> <div id='call-4.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#call-4.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='call-4.sentence-8' class='sentence'>this still allows a parameter to be a pointer or reference to an
incomplete class type<a class='hidden_link' href='#call-4.sentence-8'>.</a></div> <div id='call-4.sentence-9' class='sentence'>However, it prevents a passed-by-value parameter
to have an incomplete class type<a class='hidden_link' href='#call-4.sentence-9'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='call-4.sentence-4' class='sentence'>
It is <span class='indexparent'><a class='index' id=':whether_the_lifetime_of_a_parameter_ends_when_the_callee_returns_or_at_the_end_of_the_enclosing_full-expression'></a></span>implementation-defined whether the
lifetime of a parameter ends when the function in which it is defined
returns or at the end of the enclosing full-expression<a class='hidden_link' href='#call-4.sentence-4'>.</a></div> <div id='call-4.sentence-5' class='sentence'>The initialization and destruction of each parameter occurs
within the context of the calling function<a class='hidden_link' href='#call-4.sentence-5'>.</a></div> <div id='call-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#call-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='call-4.sentence-10' class='sentence'>The access of the constructor, conversion functions or destructor is
checked at the point of call in the calling function<a class='hidden_link' href='#call-4.sentence-10'>.</a></div> <div id='call-4.sentence-11' class='sentence'>If a constructor
or destructor for a function parameter throws an exception, the search
for a handler starts in the scope of the calling function; in
particular, if the function called has a <i ><a href='except#nt:function-try-block'>function-try-block</a></i>
with a handler that could handle the exception,
this handler is not considered<a class='hidden_link' href='#call-4.sentence-11'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='call-5'><div class='marginalizedparent'><a class='marginalized' href='#call-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2256'>#</a></div><div id='call-5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':evaluation,order_of_argument'></a></span><span class='indexparent'><a class='index' id=':evaluation,unspecified_order_of_function_call'></a></span><span class='indexparent'><a class='index' id=':evaluation,unspecified_order_of_argument'></a></span>The <i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> is sequenced before
each <i ><a href='expr.comma#nt:expression'>expression</a></i> in the <i ><a href='expr.post#nt:expression-list'>expression-list</a></i>
and any default argument<a class='hidden_link' href='#call-5.sentence-1'>.</a></div> <div id='call-5.sentence-2' class='sentence'>The initialization of a parameter,
including every associated value computation and side effect,
is indeterminately sequenced with respect to that of any other parameter<a class='hidden_link' href='#call-5.sentence-2'>.</a></div> <div id='call-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#call-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='call-5.sentence-3' class='sentence'>All side effects of
argument evaluations are sequenced before the function is
entered (see <a href='intro.execution'>[intro.execution]</a>)<a class='hidden_link' href='#call-5.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='call-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#call-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void f() {
  std::string s = "but I have heard it works even if you don't believe in it";
  s.replace(0, 4, "").replace(s.find("even"), 4, "only").replace(s.find(" don't"), 6, "");
  assert(s == "I have heard it works only if you believe in it"); <span class='comment'>// OK
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='call-5.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#call-5.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='call-5.sentence-4' class='sentence'>If an operator function is invoked
using operator notation,
argument evaluation is sequenced
as specified for the built-in operator;
see <a href='over.match.oper'>[over.match.oper]</a><a class='hidden_link' href='#call-5.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='call-5.example-2' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#call-5.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct S {
  S(int);
};
int operator&lt;&lt;(S, int);
int i, j;
int x = S(i=1) &lt;&lt; (i=2);
int y = operator&lt;&lt;(S(j=1), j=2);</pre> <div id='call-5.sentence-5' class='sentence'>
After performing the initializations,
the value of <span class='texttt'>i</span> is 2 (see <a href='expr.shift'>[expr.shift]</a>),
but it is unspecified whether the value of <span class='texttt'>j</span> is 1 or 2<a class='hidden_link' href='#call-5.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='call-6'><div class='marginalizedparent'><a class='marginalized' href='#call-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2302'>#</a></div><div id='call-6.sentence-1' class='sentence'>The result of a function call is the
result of the operand of the evaluated <a href='stmt.return'><span class='texttt'>return</span> statement</a>
in the called function (if any),
except in a virtual function call if the return type of the
final overrider is different from the return type of the statically
chosen function, the value returned from the final overrider is
converted to the return type of the statically chosen function<a class='hidden_link' href='#call-6.sentence-1'>.</a></div></div><div class='para' id='call-7'><div class='marginalizedparent'><a class='marginalized' href='#call-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2311'>#</a></div><div id='call-7.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#call-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='call-7.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':type_checking,argument'></a></span><span class='indexparent'><a class='index' id=':function_call'></a></span><span class='indexparent'><a class='index' id=':argument_passing'></a></span><span class='indexparent'><a class='index' id=':value,call_by'></a></span><span class='indexparent'><a class='index' id=':reference,call_by'></a></span><span class='indexparent'><a class='index' id=':argument,reference'></a></span>A function can change the values of its non-const parameters, but these
changes cannot affect the values of the arguments except where a
parameter is of a reference type (<a href='dcl.ref'>[dcl.ref]</a>); if the reference is to
a const-qualified type, <span class='texttt'>const_&shy;cast</span> is required to be used to
cast away the constness in order to modify the argument's value<a class='hidden_link' href='#call-7.sentence-1'>.</a></div> <div id='call-7.sentence-2' class='sentence'>Where a
parameter is of <span class='texttt'>const</span> reference type a temporary object is
introduced if
needed (<a href='dcl.type'>[dcl.type]</a>, <a href='lex.literal'>[lex.literal]</a>, <a href='lex.string'>[lex.string]</a>, <a href='dcl.array'>[dcl.array]</a>, <a href='class.temporary'>[class.temporary]</a>)<a class='hidden_link' href='#call-7.sentence-2'>.</a></div> <div id='call-7.sentence-3' class='sentence'>In addition, it is possible to modify the values of non-constant objects through
pointer parameters<a class='hidden_link' href='#call-7.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='call-8'><div class='marginalizedparent'><a class='marginalized' href='#call-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2331'>#</a></div><div id='call-8.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':declaration,ellipsis_in_function'></a></span><span class='indexparent'><a class='index' id=':parameter_list,variable'></a></span>A function can be declared to accept fewer arguments (by declaring <a href='dcl.fct.default'>default
arguments</a>) or more arguments (by using the ellipsis,
<span class='texttt'>...</span>, or a function parameter pack (<a href='dcl.fct'>[dcl.fct]</a>)) than the number of
parameters in the <a href='dcl.fct.def'>function definition</a><a class='hidden_link' href='#call-8.sentence-1'>.</a></div> <div id='call-8.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#call-8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='call-8.sentence-2' class='sentence'>This implies that, except where the ellipsis (<span class='texttt'>...</span>) or a function
parameter pack is used, a parameter is available for each argument<a class='hidden_link' href='#call-8.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='call-9'><div class='marginalizedparent'><a class='marginalized' href='#call-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2343'>#</a></div><div id='call-9.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':ellipsis,conversion_sequence'></a></span>When there is no parameter for a given argument, the argument is passed
in such a way that the receiving function can obtain the value of the
argument by invoking <a href='support.runtime#lib:va_arg'><span class='texttt'>va_&shy;arg</span></a><a class='hidden_link' href='#call-9.sentence-1'>.</a></div> <div id='call-9.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#call-9.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='call-9.sentence-8' class='sentence'>This paragraph does not apply to arguments passed to a function parameter pack<a class='hidden_link' href='#call-9.sentence-8'>.</a></div> <div id='call-9.sentence-9' class='sentence'>Function parameter packs are expanded during template instantiation (<a href='temp.variadic'>[temp.variadic]</a>),
thus each such argument has a corresponding parameter when a function template
specialization is actually called<a class='hidden_link' href='#call-9.sentence-9'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='call-9.sentence-2' class='sentence'>
The
<a href='conv.lval'>lvalue-to-rvalue</a>, <a href='conv.array'>array-to-pointer</a>,
and <a href='conv.func'>function-to-pointer</a> standard conversions are
performed on the argument expression<a class='hidden_link' href='#call-9.sentence-2'>.</a></div> <div id='call-9.sentence-3' class='sentence'>An argument that has type <span class='textit'>cv</span> <span class='texttt'>std&#x200b;::&#x200b;nullptr_&shy;t</span> is <a href='conv.ptr'>converted</a>
to type <span class='texttt'>void*</span><a class='hidden_link' href='#call-9.sentence-3'>.</a></div> <div id='call-9.sentence-4' class='sentence'>After these conversions, if the
argument does not have arithmetic, enumeration, pointer, pointer-to-member,
or class type, the program is ill-formed<a class='hidden_link' href='#call-9.sentence-4'>.</a></div> <div id='call-9.sentence-5' class='sentence'>Passing a potentially-evaluated
argument of <a href='class'>class type</a> having a non-trivial
copy constructor, a non-trivial move constructor,
or a
non-trivial destructor, with no corresponding parameter, is conditionally-supported with
<span class='indexparent'><a class='index' id=':passing_argument_of_class_type_through_ellipsis'></a></span>implementation-defined semantics<a class='hidden_link' href='#call-9.sentence-5'>.</a></div> <div id='call-9.sentence-6' class='sentence'>If the argument has
integral or enumeration type that is subject to the <a href='conv.prom'>integral
promotions</a>, or a floating-point type that is subject to the
<a href='conv.fpprom'>floating-point promotion</a>, the value of the argument is converted to the
promoted type before the call<a class='hidden_link' href='#call-9.sentence-6'>.</a></div> <div id='call-9.sentence-7' class='sentence'>These promotions are referred to as
the <a class='hidden_link' href='#def:promotion,default_argument_promotion' id='def:promotion,default_argument_promotion'><i >default argument promotions</i></a><a class='hidden_link' href='#call-9.sentence-7'>.</a></div></div><div class='para' id='call-10'><div class='marginalizedparent'><a class='marginalized' href='#call-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2372'>#</a></div><div id='call-10.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':function_call,recursive'></a></span>Recursive calls are permitted, except to the <a href='basic.start.main'><span class='texttt'>main</span>
function</a><a class='hidden_link' href='#call-10.sentence-1'>.</a></div></div><div class='para' id='call-11'><div class='marginalizedparent'><a class='marginalized' href='#call-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2377'>#</a></div><div id='call-11.sentence-1' class='sentence'>A function call is an lvalue
if the result type is an lvalue reference type or an rvalue reference to function type,
an xvalue if the result type is an rvalue reference to object type, and a prvalue
otherwise<a class='hidden_link' href='#call-11.sentence-1'>.</a></div></div></div><div id='type.conv' class='section'><h4 ><a class='secnum' href='#type.conv' style='min-width:118pt'>8.5.1.3</a> Explicit type conversion (functional notation) <a class='abbr_ref' href='expr.type.conv'>[expr.type.conv]</a></h4><div class='para' id='type.conv-1'><div class='marginalizedparent'><a class='marginalized' href='#type.conv-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2385'>#</a></div><div id='type.conv-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':expression,cast'></a></span><span class='indexparent'><a class='index' id=':casting'></a></span>A <a href='dcl.type.simple'><i >simple-type-specifier</i></a> or
<a href='temp.res'><i >typename-specifier</i></a> followed
by a parenthesized optional <i ><a href='expr.post#nt:expression-list'>expression-list</a></i> or
by a <i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i>
(the initializer)
constructs a value of the specified type
given the initializer<a class='hidden_link' href='#type.conv-1.sentence-1'>.</a></div> <div id='type.conv-1.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':deduction,class_template_arguments'></a></span>If the type is a placeholder
for a deduced class type,
it is replaced by the return type
of the function selected by overload resolution
for <a href='over.match.class.deduct'>class template deduction</a>
for the remainder of this subclause<a class='hidden_link' href='#type.conv-1.sentence-2'>.</a></div></div><div class='para' id='type.conv-2'><div class='marginalizedparent'><a class='marginalized' href='#type.conv-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2406'>#</a></div><div id='type.conv-2.sentence-1' class='sentence'>If the initializer is a parenthesized single expression,
the type conversion expression is equivalent
to the corresponding <a href='expr.cast'>cast expression</a><a class='hidden_link' href='#type.conv-2.sentence-1'>.</a></div> <div id='type.conv-2.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':type,incomplete__'></a></span>Otherwise, if the type is <span class='textit'>cv</span> <span class='texttt'>void</span>
and the initializer is <span class='texttt'>()</span>,
the expression is a prvalue of the specified type
that performs no initialization<a class='hidden_link' href='#type.conv-2.sentence-2'>.</a></div> <div id='type.conv-2.sentence-3' class='sentence'>Otherwise,
the expression is a prvalue of the specified type
whose result object is <a href='dcl.init#def:direct-initialization'>direct-initialized</a>
with the initializer<a class='hidden_link' href='#type.conv-2.sentence-3'>.</a></div> <div id='type.conv-2.sentence-4' class='sentence'>For an expression of the form <span class='texttt'>T()</span>,
<span class='texttt'>T</span> shall not be an array type<a class='hidden_link' href='#type.conv-2.sentence-4'>.</a></div></div></div><div id='pseudo' class='section'><h4 ><a class='secnum' href='#pseudo' style='min-width:118pt'>8.5.1.4</a> Pseudo destructor call <a class='abbr_ref' href='expr.pseudo'>[expr.pseudo]</a></h4><div class='para' id='pseudo-1'><div class='marginalizedparent'><a class='marginalized' href='#pseudo-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2424'>#</a></div><div id='pseudo-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':expression,pseudo-destructor_call'></a></span><span class='indexparent'><a class='index' id=':call,pseudo_destructor'></a></span><span class='indexparent'><a class='index' id=':pseudo-destructor-name'></a></span>The use of a <i ><a href='expr.post#nt:pseudo-destructor-name'>pseudo-destructor-name</a></i> after a dot <span class='texttt'>.</span> or
arrow <span class='texttt'>-&gt;</span> operator represents the destructor for the non-class
type denoted by <i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i> or <i ><a href='dcl.type.simple#nt:decltype-specifier'>decltype-specifier</a></i><a class='hidden_link' href='#pseudo-1.sentence-1'>.</a></div> <div id='pseudo-1.sentence-2' class='sentence'>The result shall only be used as the
operand for the function call operator <span class='texttt'>()</span>, and the result of
such a call has type <span class='texttt'>void</span><a class='hidden_link' href='#pseudo-1.sentence-2'>.</a></div> <div id='pseudo-1.sentence-3' class='sentence'>The only effect is the evaluation of
the <i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i> before the dot or arrow<a class='hidden_link' href='#pseudo-1.sentence-3'>.</a></div></div><div class='para' id='pseudo-2'><div class='marginalizedparent'><a class='marginalized' href='#pseudo-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2436'>#</a></div><div id='pseudo-2.sentence-1' class='sentence'>The left-hand side of the dot operator shall be of scalar type<a class='hidden_link' href='#pseudo-2.sentence-1'>.</a></div> <div id='pseudo-2.sentence-2' class='sentence'>The
left-hand side of the arrow operator shall be of pointer to scalar type<a class='hidden_link' href='#pseudo-2.sentence-2'>.</a></div> <div id='pseudo-2.sentence-3' class='sentence'>This scalar type is the object type<a class='hidden_link' href='#pseudo-2.sentence-3'>.</a></div> <div id='pseudo-2.sentence-4' class='sentence'>The <span class='textit'>cv</span>-unqualified
versions of the object type and of the type designated by the
<i ><a href='expr.post#nt:pseudo-destructor-name'>pseudo-destructor-name</a></i> shall be the same type<a class='hidden_link' href='#pseudo-2.sentence-4'>.</a></div> <div id='pseudo-2.sentence-5' class='sentence'>Furthermore,
the two <i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i><span class='textit'>s</span> in a <i ><a href='expr.post#nt:pseudo-destructor-name'>pseudo-destructor-name</a></i> of
the form
<pre class='ncbnf'><i ><a href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i> <span class='terminal'>::<span style='white-space:nowrap'>&thinsp;</span>~</span> <i ><a href='dcl.type.simple#nt:type-name'>type-name</a></i>
</pre>
shall designate the same scalar type (ignoring cv-qualification)<a class='hidden_link' href='#pseudo-2.sentence-5'>.</a></div></div></div><div id='ref' class='section'><h4 ><a class='secnum' href='#ref' style='min-width:118pt'>8.5.1.5</a> Class member access <a class='abbr_ref' href='expr.ref'>[expr.ref]</a></h4><div class='para' id='ref-1'><div class='marginalizedparent'><a class='marginalized' href='#ref-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2451'>#</a></div><div id='ref-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':expression,class_member_access'></a></span><span class='indexparent'><a class='index' id=':access_control,class_member'></a></span><span class='indexparent'><a class='index' id=':syntax,class_member'></a></span><span class='indexparent'><a class='index' id=':semantics,class_member'></a></span><span class='indexparent'><a class='index' id=':operator,class_member_access'></a></span><span class='indexparent'><a class='index' id=':operator,class_member_access_'></a></span>A postfix expression followed by a dot <span class='texttt'>.</span> or an arrow <span class='texttt'>-&gt;</span>,
optionally followed by the keyword
<span class='texttt'>template</span> (<a href='temp.names'>[temp.names]</a>), and then followed by an
<i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i>, is a postfix expression<a class='hidden_link' href='#ref-1.sentence-1'>.</a></div> <div id='ref-1.sentence-2' class='sentence'>The postfix
expression before the dot or arrow is evaluated;<a class='footnotenum' href='#footnote-67'>67</a>
the result of that evaluation, together with the
<i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i>, determines the result of the entire postfix
expression<a class='hidden_link' href='#ref-1.sentence-2'>.</a></div></div><div class='para' id='ref-2'><div class='marginalizedparent'><a class='marginalized' href='#ref-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2475'>#</a></div><div id='ref-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':type,incomplete___'></a></span>For the first option (dot) the first expression
shall be a glvalue having class type<a class='hidden_link' href='#ref-2.sentence-1'>.</a></div> <div id='ref-2.sentence-2' class='sentence'>For the second option (arrow) the first expression
shall be a prvalue having pointer to class type<a class='hidden_link' href='#ref-2.sentence-2'>.</a></div> <div id='ref-2.sentence-3' class='sentence'>In both cases, the class type shall be complete
unless the class member access appears in the definition of that class<a class='hidden_link' href='#ref-2.sentence-3'>.</a></div> <div id='ref-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#ref-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='ref-2.sentence-6' class='sentence'>If the class is incomplete, lookup in the complete class type
is required to refer to the same declaration (<a href='basic.scope.class'>[basic.scope.class]</a>)<a class='hidden_link' href='#ref-2.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='ref-2.sentence-4' class='sentence'>
The expression <span class='texttt'>E1-&gt;E2</span> is
converted to the equivalent form <span class='texttt'>(*(E1)).E2</span>; the remainder of
<a href='expr.ref'>[expr.ref]</a> will address only the first option (dot)<a class='hidden_link' href='#ref-2.sentence-4'>.</a><a class='footnotenum' href='#footnote-68'>68</a></div> <div id='ref-2.sentence-5' class='sentence'>
In either case, the
<i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> shall name a member of the class or of one of
its base classes<a class='hidden_link' href='#ref-2.sentence-5'>.</a></div> <div id='ref-2.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#ref-2.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='ref-2.sentence-7' class='sentence'>Because the name of a class is inserted in its class scope (<a href='class'>[class]</a>),
the name of a class is also considered a nested
member of that class<a class='hidden_link' href='#ref-2.sentence-7'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='ref-2.note-3' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#ref-2.note-3'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='ref-2.sentence-8' class='sentence'><a href='basic.lookup.classref'>[basic.lookup.classref]</a> describes how names are looked up after the
<span class='texttt'>.</span> and <span class='texttt'>-&gt;</span> operators<a class='hidden_link' href='#ref-2.sentence-8'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='ref-3'><div class='marginalizedparent'><a class='marginalized' href='#ref-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2504'>#</a></div><div id='ref-3.sentence-1' class='sentence'>Abbreviating <i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i><span class='texttt'>.</span><i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i>
as <span class='texttt'>E1.E2</span>,
<span class='texttt'>E1</span> is called the <a class='hidden_link' href='#def:object_expression' id='def:object_expression'><i >object expression</i></a><a class='hidden_link' href='#ref-3.sentence-1'>.</a></div> <div id='ref-3.sentence-2' class='sentence'>If <span class='texttt'>E2</span> is a bit-field, <span class='texttt'>E1.E2</span> is a bit-field<a class='hidden_link' href='#ref-3.sentence-2'>.</a></div> <div id='ref-3.sentence-3' class='sentence'>The
type and value category of <span class='texttt'>E1.E2</span> are determined as follows<a class='hidden_link' href='#ref-3.sentence-3'>.</a></div> <div id='ref-3.sentence-4' class='sentence'>In the remainder of <a href='expr.ref'>[expr.ref]</a>, <span class='textit'>cq</span> represents either
<span class='texttt'>const</span> or the absence of <span class='texttt'>const</span> and <span class='textit'>vq</span> represents
either <span class='texttt'>volatile</span> or the absence of <span class='texttt'>volatile</span><a class='hidden_link' href='#ref-3.sentence-4'>.</a></div> <div id='ref-3.sentence-5' class='sentence'><span class='textit'>cv</span>
represents an arbitrary set of cv-qualifiers, as defined
in <a href='basic.type.qualifier'>[basic.type.qualifier]</a><a class='hidden_link' href='#ref-3.sentence-5'>.</a></div></div><div class='para' id='ref-4'><div class='marginalizedparent'><a class='marginalized' href='#ref-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2516'>#</a></div><div id='ref-4.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is declared to have type “reference to <span class='texttt'>T</span>”, then
<span class='texttt'>E1.E2</span> is an lvalue; the type of <span class='texttt'>E1.E2</span> is <span class='texttt'>T</span><a class='hidden_link' href='#ref-4.sentence-1'>.</a></div> <div id='ref-4.sentence-2' class='sentence'>Otherwise, one of the following rules applies<a class='hidden_link' href='#ref-4.sentence-2'>.</a></div><div id='ref-4.sentence-3' class='sentence'><ul class='itemize'><li id='ref-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#ref-4.1'>(4.1)</a></div><div id='ref-4.1.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a static data member and the type of <span class='texttt'>E2</span>
is <span class='texttt'>T</span>, then <span class='texttt'>E1.E2</span> is an lvalue; the expression designates
the named member of the class<a class='hidden_link' href='#ref-4.1.sentence-1'>.</a></div> <div id='ref-4.1.sentence-2' class='sentence'>The type of <span class='texttt'>E1.E2</span> is <span class='texttt'>T</span><a class='hidden_link' href='#ref-4.1.sentence-2'>.</a></div></li><li id='ref-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#ref-4.2'>(4.2)</a></div><div id='ref-4.2.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a non-static data member and the type of
<span class='texttt'>E1</span> is “<span class='textit'>cq1 vq1</span> <span class='texttt'>X</span>”, and the type of <span class='texttt'>E2</span>
is “<span class='textit'>cq2 vq2</span> <span class='texttt'>T</span>”, the expression designates the named
member of the object designated by the first expression<a class='hidden_link' href='#ref-4.2.sentence-1'>.</a></div> <div id='ref-4.2.sentence-2' class='sentence'>If <span class='texttt'>E1</span>
is an lvalue, then <span class='texttt'>E1.E2</span> is an lvalue;
otherwise <span class='texttt'>E1.E2</span> is an xvalue<a class='hidden_link' href='#ref-4.2.sentence-2'>.</a></div> <div id='ref-4.2.sentence-3' class='sentence'>Let the notation <span class='textit'>vq12</span> stand for the “union” of
<span class='textit'>vq1</span> and <span class='textit'>vq2</span>; that is, if <span class='textit'>vq1</span> or <span class='textit'>vq2</span>
is <span class='texttt'>volatile</span>, then <span class='textit'>vq12</span> is <span class='texttt'>volatile</span><a class='hidden_link' href='#ref-4.2.sentence-3'>.</a></div> <div id='ref-4.2.sentence-4' class='sentence'>Similarly,
let the notation <span class='textit'>cq12</span> stand for the “union” of <span class='textit'>cq1</span>
and <span class='textit'>cq2</span>; that is, if <span class='textit'>cq1</span> or <span class='textit'>cq2</span> is
<span class='texttt'>const</span>, then <span class='textit'>cq12</span> is <span class='texttt'>const</span><a class='hidden_link' href='#ref-4.2.sentence-4'>.</a></div> <div id='ref-4.2.sentence-5' class='sentence'>If <span class='texttt'>E2</span> is
declared to be a <span class='texttt'>mutable</span> member, then the type of <span class='texttt'>E1.E2</span>
is “<span class='textit'>vq12</span> <span class='texttt'>T</span>”<a class='hidden_link' href='#ref-4.2.sentence-5'>.</a></div> <div id='ref-4.2.sentence-6' class='sentence'>If <span class='texttt'>E2</span> is not declared to be a
<span class='texttt'>mutable</span> member, then the type of <span class='texttt'>E1.E2</span> is
“<span class='textit'>cq12</span> <span class='textit'>vq12</span> <span class='texttt'>T</span>”<a class='hidden_link' href='#ref-4.2.sentence-6'>.</a></div></li><li id='ref-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#ref-4.3'>(4.3)</a></div><div id='ref-4.3.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a (possibly overloaded) member function, function
<a href='over.match'>overload resolution</a> is used to determine whether
<span class='texttt'>E1.E2</span> refers to a static or a non-static member function<a class='hidden_link' href='#ref-4.3.sentence-1'>.</a></div><div id='ref-4.3.sentence-2' class='sentence'><ul class='itemize'><li id='ref-4.3.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#ref-4.3.1'>(4.3.1)</a></div><div id='ref-4.3.1.sentence-1' class='sentence'>If it refers to a static member function and the type of
<span class='texttt'>E2</span> is “function of parameter-type-list returning <span class='texttt'>T</span>”,
then <span class='texttt'>E1.E2</span> is an lvalue; the expression designates the static
member function<a class='hidden_link' href='#ref-4.3.1.sentence-1'>.</a></div> <div id='ref-4.3.1.sentence-2' class='sentence'>The type of <span class='texttt'>E1.E2</span> is the same type as that of
<span class='texttt'>E2</span>, namely “function of parameter-type-list returning
<span class='texttt'>T</span>”<a class='hidden_link' href='#ref-4.3.1.sentence-2'>.</a></div></li><li id='ref-4.3.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#ref-4.3.2'>(4.3.2)</a></div><div id='ref-4.3.2.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>E1.E2</span> refers to a non-static member
function and the type of <span class='texttt'>E2</span> is “function of
parameter-type-list <span class='textit'>cv</span> <i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> returning <span class='texttt'>T</span>”, then
<span class='texttt'>E1.E2</span> is a prvalue<a class='hidden_link' href='#ref-4.3.2.sentence-1'>.</a></div> <div id='ref-4.3.2.sentence-2' class='sentence'>The expression designates a
non-static member function<a class='hidden_link' href='#ref-4.3.2.sentence-2'>.</a></div> <div id='ref-4.3.2.sentence-3' class='sentence'>The expression can be used only as the
left-hand operand of a member function call (<a href='class.mfct'>[class.mfct]</a>)<a class='hidden_link' href='#ref-4.3.2.sentence-3'>.</a></div> <div id='ref-4.3.2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#ref-4.3.2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='ref-4.3.2.sentence-5' class='sentence'>Any redundant set of parentheses surrounding the expression
is ignored (<a href='expr.prim'>[expr.prim]</a>)<a class='hidden_link' href='#ref-4.3.2.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='ref-4.3.2.sentence-4' class='sentence'> The type of <span class='texttt'>E1.E2</span> is
“function of parameter-type-list <span class='textit'>cv</span> returning <span class='texttt'>T</span>”<a class='hidden_link' href='#ref-4.3.2.sentence-4'>.</a></div></li></ul></div></li><li id='ref-4.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#ref-4.4'>(4.4)</a></div><div id='ref-4.4.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a nested type, the expression <span class='texttt'>E1.E2</span> is
ill-formed<a class='hidden_link' href='#ref-4.4.sentence-1'>.</a></div></li><li id='ref-4.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#ref-4.5'>(4.5)</a></div><div id='ref-4.5.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a member enumerator and the type of <span class='texttt'>E2</span>
is <span class='texttt'>T</span>, the expression <span class='texttt'>E1.E2</span> is a prvalue<a class='hidden_link' href='#ref-4.5.sentence-1'>.</a></div> <div id='ref-4.5.sentence-2' class='sentence'>The type of
<span class='texttt'>E1.E2</span> is <span class='texttt'>T</span><a class='hidden_link' href='#ref-4.5.sentence-2'>.</a></div></li></ul></div></div><div class='para' id='ref-5'><div class='marginalizedparent'><a class='marginalized' href='#ref-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2574'>#</a></div><div id='ref-5.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a non-static data member or a non-static member
function, the program is ill-formed if the class of which <span class='texttt'>E2</span> is
directly a member is an ambiguous base (<a href='class.member.lookup'>[class.member.lookup]</a>) of
the naming class (<a href='class.access.base'>[class.access.base]</a>) of <span class='texttt'>E2</span><a class='hidden_link' href='#ref-5.sentence-1'>.</a></div> <div id='ref-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#ref-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='ref-5.sentence-2' class='sentence'>The program is also ill-formed if the naming class is an ambiguous base of the class type
of the object expression; see <a href='class.access.base'>[class.access.base]</a><a class='hidden_link' href='#ref-5.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='footnote' id='footnote-67'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-67'>67)</a></div><div id='footnote-67.sentence-1' class='sentence'>If the class member
access expression is evaluated, the subexpression evaluation happens even if the
result is unnecessary to determine
the value of the entire postfix expression, for example if the
<i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> denotes a static member<a class='hidden_link' href='#footnote-67.sentence-1'>.</a></div></div><div class='footnote' id='footnote-68'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-68'>68)</a></div><div id='footnote-68.sentence-1' class='sentence'>Note that
<span class='texttt'>(*(E1))</span> is an lvalue<a class='hidden_link' href='#footnote-68.sentence-1'>.</a></div></div></div><div id='post.incr' class='section'><h4 ><a class='secnum' href='#post.incr' style='min-width:118pt'>8.5.1.6</a> Increment and decrement <a class='abbr_ref' href='expr.post.incr'>[expr.post.incr]</a></h4><div class='para' id='post.incr-1'><div class='marginalizedparent'><a class='marginalized' href='#post.incr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2586'>#</a></div><div id='post.incr-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':expression,increment'></a></span><span class='indexparent'><a class='index' id=':operator,increment'></a></span><span class='indexparent'><a class='index' id=':postfix_++'></a></span>The value of a postfix <span class='texttt'>++</span> expression is the value of its
operand<a class='hidden_link' href='#post.incr-1.sentence-1'>.</a></div> <div id='post.incr-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#post.incr-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='post.incr-1.sentence-11' class='sentence'>The value obtained is a copy of the original value</div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='post.incr-1.sentence-2' class='sentence'>
The operand shall be a modifiable lvalue<a class='hidden_link' href='#post.incr-1.sentence-2'>.</a></div> <div id='post.incr-1.sentence-3' class='sentence'>The type of the operand shall
be an arithmetic type other than <span class='textit'>cv</span> <span class='texttt'>bool</span>,
or a pointer to a complete object type<a class='hidden_link' href='#post.incr-1.sentence-3'>.</a></div> <div id='post.incr-1.sentence-4' class='sentence'>The value
of the operand object is modified by adding <span class='texttt'>1</span> to it<a class='hidden_link' href='#post.incr-1.sentence-4'>.</a></div> <div id='post.incr-1.sentence-5' class='sentence'>The
<span class='indexparent'><a class='index' id=':value_computation'></a></span>value computation of the <span class='texttt'>++</span> expression is sequenced before the
modification of the operand object<a class='hidden_link' href='#post.incr-1.sentence-5'>.</a></div> <div id='post.incr-1.sentence-6' class='sentence'>With respect to an
indeterminately-sequenced function call, the operation of postfix
<span class='texttt'>++</span> is
a single evaluation<a class='hidden_link' href='#post.incr-1.sentence-6'>.</a></div> <div id='post.incr-1.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#post.incr-1.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='post.incr-1.sentence-12' class='sentence'>Therefore, a function call shall not intervene between the
lvalue-to-rvalue conversion and the side effect associated with any
single postfix ++ operator<a class='hidden_link' href='#post.incr-1.sentence-12'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='post.incr-1.sentence-7' class='sentence'>
The result is a prvalue<a class='hidden_link' href='#post.incr-1.sentence-7'>.</a></div> <div id='post.incr-1.sentence-8' class='sentence'>The type of the result is the cv-unqualified
version of the type of the operand<a class='hidden_link' href='#post.incr-1.sentence-8'>.</a></div> <div id='post.incr-1.sentence-9' class='sentence'>If the operand is a bit-field that cannot represent the incremented value, the
resulting value of the bit-field is
<span class='indexparent'><a class='index' id=':value_of_bit-field_that_cannot_represent,incremented_value'></a></span>implementation-defined<a class='hidden_link' href='#post.incr-1.sentence-9'>.</a></div> <div id='post.incr-1.sentence-10' class='sentence'>See also <a href='expr.add'>[expr.add]</a>
and <a href='expr.ass'>[expr.ass]</a><a class='hidden_link' href='#post.incr-1.sentence-10'>.</a></div></div><div class='para' id='post.incr-2'><div class='marginalizedparent'><a class='marginalized' href='#post.incr-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2620'>#</a></div><div id='post.incr-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':expression,decrement'></a></span><span class='indexparent'><a class='index' id=':operator,decrement'></a></span><span class='indexparent'><a class='index' id=':postfix_--'></a></span>The operand of postfix <span class='texttt'>--</span> is decremented analogously to the
postfix <span class='texttt'>++</span> operator<a class='hidden_link' href='#post.incr-2.sentence-1'>.</a></div> <div id='post.incr-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#post.incr-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='post.incr-2.sentence-2' class='sentence'>For prefix increment and decrement, see <a href='expr.pre.incr'>[expr.pre.incr]</a><a class='hidden_link' href='#post.incr-2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='dynamic.cast' class='section'><h4 ><a class='secnum' href='#dynamic.cast' style='min-width:118pt'>8.5.1.7</a> Dynamic cast <a class='abbr_ref' href='expr.dynamic.cast'>[expr.dynamic.cast]</a></h4><div class='para' id='dynamic.cast-1'><div class='marginalizedparent'><a class='marginalized' href='#dynamic.cast-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2633'>#</a></div><div id='dynamic.cast-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':expression,dynamic_cast'></a></span><span class='indexparent'><a class='index' id=':cast,dynamic'></a></span>The result of the expression <span class='texttt'>dynamic_&shy;cast&lt;T&gt;(v)</span> is the result of
converting the expression <span class='texttt'>v</span> to type <span class='texttt'>T</span><a class='hidden_link' href='#dynamic.cast-1.sentence-1'>.</a></div> <div id='dynamic.cast-1.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':type,incomplete____'></a></span><span class='texttt'>T</span> shall be a pointer or reference to a complete class type, or
“pointer to <span class='textit'>cv</span> <span class='texttt'>void</span>”<a class='hidden_link' href='#dynamic.cast-1.sentence-2'>.</a></div> <div id='dynamic.cast-1.sentence-3' class='sentence'>The <span class='texttt'>dynamic_&shy;cast</span> operator shall not
<a href='expr.const.cast#def:casting_away_constness'>cast away constness</a><a class='hidden_link' href='#dynamic.cast-1.sentence-3'>.</a></div></div><div class='para' id='dynamic.cast-2'><div class='marginalizedparent'><a class='marginalized' href='#dynamic.cast-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2643'>#</a></div><div id='dynamic.cast-2.sentence-1' class='sentence'>If <span class='texttt'>T</span> is a pointer type, <span class='texttt'>v</span> shall be a prvalue of a
pointer to complete class type, and the result is a prvalue of type
<span class='texttt'>T</span><a class='hidden_link' href='#dynamic.cast-2.sentence-1'>.</a></div> <div id='dynamic.cast-2.sentence-2' class='sentence'>If <span class='texttt'>T</span> is an lvalue reference type, <span class='texttt'>v</span> shall be
an lvalue of a complete class type, and the result is an lvalue of the
type referred to by <span class='texttt'>T</span><a class='hidden_link' href='#dynamic.cast-2.sentence-2'>.</a></div> <div id='dynamic.cast-2.sentence-3' class='sentence'>If <span class='texttt'>T</span> is an rvalue reference type,
<span class='texttt'>v</span> shall be a glvalue having a complete class type, and the
result is an xvalue of the type referred to by <span class='texttt'>T</span><a class='hidden_link' href='#dynamic.cast-2.sentence-3'>.</a></div></div><div class='para' id='dynamic.cast-3'><div class='marginalizedparent'><a class='marginalized' href='#dynamic.cast-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2652'>#</a></div><div id='dynamic.cast-3.sentence-1' class='sentence'>If the type of <span class='texttt'>v</span> is the same as <span class='texttt'>T</span>, or it is
the same as <span class='texttt'>T</span> except that the class object type in <span class='texttt'>T</span> is
more cv-qualified than the class object type in <span class='texttt'>v</span>, the result is
<span class='texttt'>v</span> (converted if necessary)<a class='hidden_link' href='#dynamic.cast-3.sentence-1'>.</a></div></div><div class='para' id='dynamic.cast-4'><div class='marginalizedparent'><a class='marginalized' href='#dynamic.cast-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2658'>#</a></div><div id='dynamic.cast-4.sentence-1' class='sentence'>If the value of <span class='texttt'>v</span> is a null pointer value in the pointer case,
the result is the null pointer value of type <span class='texttt'>T</span><a class='hidden_link' href='#dynamic.cast-4.sentence-1'>.</a></div></div><div class='para' id='dynamic.cast-5'><div class='marginalizedparent'><a class='marginalized' href='#dynamic.cast-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2662'>#</a></div><div id='dynamic.cast-5.sentence-1' class='sentence'>If <span class='texttt'>T</span> is “pointer to <span class='textit'>cv1</span> <span class='texttt'>B</span>” and <span class='texttt'>v</span> has
type “pointer to <span class='textit'>cv2</span> <span class='texttt'>D</span>” such that <span class='texttt'>B</span> is a base
class of <span class='texttt'>D</span>, the result is a pointer to the unique <span class='texttt'>B</span>
subobject of the <span class='texttt'>D</span> object pointed to by <span class='texttt'>v</span><a class='hidden_link' href='#dynamic.cast-5.sentence-1'>.</a></div> <div id='dynamic.cast-5.sentence-2' class='sentence'>Similarly, if
<span class='texttt'>T</span> is “reference to <span class='textit'>cv1</span> <span class='texttt'>B</span>” and <span class='texttt'>v</span> has
type <span class='textit'>cv2</span> <span class='texttt'>D</span> such that <span class='texttt'>B</span> is a base class of
<span class='texttt'>D</span>, the result is the unique <span class='texttt'>B</span> subobject of the <span class='texttt'>D</span>
object referred to by <span class='texttt'>v</span><a class='hidden_link' href='#dynamic.cast-5.sentence-2'>.</a><a class='footnotenum' href='#footnote-69'>69</a></div> <div id='dynamic.cast-5.sentence-3' class='sentence'>
In both the pointer and
reference cases, the program is ill-formed if <span class='textit'>cv2</span> has greater
cv-qualification than <span class='textit'>cv1</span> or if <span class='texttt'>B</span> is an inaccessible or
ambiguous base class of <span class='texttt'>D</span><a class='hidden_link' href='#dynamic.cast-5.sentence-3'>.</a></div> <div id='dynamic.cast-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dynamic.cast-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct B { };
struct D : B { };
void foo(D* dp) {
  B*  bp = dynamic_cast&lt;B*&gt;(dp);    <span class='comment'>// equivalent to <span class='tcode_in_codeblock'>B* bp = dp;</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='dynamic.cast-6'><div class='marginalizedparent'><a class='marginalized' href='#dynamic.cast-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2689'>#</a></div><div id='dynamic.cast-6.sentence-1' class='sentence'>Otherwise, <span class='texttt'>v</span> shall be a pointer to or a glvalue of a
<a href='class.virtual#def:polymorphic_class'>polymorphic type</a><a class='hidden_link' href='#dynamic.cast-6.sentence-1'>.</a></div></div><div class='para' id='dynamic.cast-7'><div class='marginalizedparent'><a class='marginalized' href='#dynamic.cast-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2693'>#</a></div><div id='dynamic.cast-7.sentence-1' class='sentence'>If <span class='texttt'>T</span> is “pointer to <span class='textit'>cv</span> <span class='texttt'>void</span>”, then the result
is a pointer to the most derived object pointed to by <span class='texttt'>v</span><a class='hidden_link' href='#dynamic.cast-7.sentence-1'>.</a></div> <div id='dynamic.cast-7.sentence-2' class='sentence'>Otherwise, a runtime check is applied to see if the object pointed or
referred to by <span class='texttt'>v</span> can be converted to the type pointed or
referred to by <span class='texttt'>T</span><a class='hidden_link' href='#dynamic.cast-7.sentence-2'>.</a></div></div><div class='para' id='dynamic.cast-8'><div class='marginalizedparent'><a class='marginalized' href='#dynamic.cast-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2700'>#</a></div><div id='dynamic.cast-8.sentence-1' class='sentence'>If <span class='texttt'>C</span> is the class type to which <span class='texttt'>T</span> points or refers, the runtime
check logically executes as follows:</div><div id='dynamic.cast-8.sentence-2' class='sentence'><ul class='itemize'><li id='dynamic.cast-8.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dynamic.cast-8.1'>(8.1)</a></div><div id='dynamic.cast-8.1.sentence-1' class='sentence'>If, in the most derived object pointed (referred) to by <span class='texttt'>v</span>,
<span class='texttt'>v</span> points (refers) to a public base class subobject of a
<span class='texttt'>C</span> object, and if only one object of type <span class='texttt'>C</span> is derived
from the subobject pointed (referred) to by <span class='texttt'>v</span> the result points (refers) to that <span class='texttt'>C</span> object<a class='hidden_link' href='#dynamic.cast-8.1.sentence-1'>.</a></div></li><li id='dynamic.cast-8.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dynamic.cast-8.2'>(8.2)</a></div><div id='dynamic.cast-8.2.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>v</span> points (refers) to a public base
class subobject of the most derived object, and the type of the most
derived object has a base class, of type <span class='texttt'>C</span>, that is unambiguous
and public, the result points (refers) to the
<span class='texttt'>C</span> subobject of the most derived object<a class='hidden_link' href='#dynamic.cast-8.2.sentence-1'>.</a></div></li><li id='dynamic.cast-8.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#dynamic.cast-8.3'>(8.3)</a></div><div id='dynamic.cast-8.3.sentence-1' class='sentence'>Otherwise, the
runtime check <a class='hidden_link' href='#def:fails' id='def:fails'><i>fails</i></a><a class='hidden_link' href='#dynamic.cast-8.3.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='dynamic.cast-9'><div class='marginalizedparent'><a class='marginalized' href='#dynamic.cast-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2720'>#</a></div><div id='dynamic.cast-9.sentence-1' class='sentence'>The value of a failed cast to pointer type is the null pointer value of
the required result type<a class='hidden_link' href='#dynamic.cast-9.sentence-1'>.</a></div> <div id='dynamic.cast-9.sentence-2' class='sentence'>A failed cast to reference type <a href='except.throw'>throws
an exception</a> of a type that would match a
<a href='except.handle'>handler</a> of type <a href='bad.cast'><span class='texttt'>std&#x200b;::&#x200b;bad_&shy;cast</span></a><a class='hidden_link' href='#dynamic.cast-9.sentence-2'>.</a></div><div style='height:0.6em;display:block'></div><span class='indexparent'><a class='index' id=':bad_cast'></a></span><span class='indexparent'><a class='index' id='lib:bad_cast'></a></span><div id='dynamic.cast-9.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#dynamic.cast-9.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
class A { virtual void f(); };
class B { virtual void g(); };
class D : public virtual A, private B { };
void g() {
  D   d;
  B*  bp = (B*)&amp;d;                  <span class='comment'>// cast needed to break protection
</span>  A*  ap = &amp;d;                      <span class='comment'>// public derivation, no cast needed
</span>  D&amp;  dr = dynamic_cast&lt;D&amp;&gt;(*bp);   <span class='comment'>// fails
</span>  ap = dynamic_cast&lt;A*&gt;(bp);        <span class='comment'>// fails
</span>  bp = dynamic_cast&lt;B*&gt;(ap);        <span class='comment'>// fails
</span>  ap = dynamic_cast&lt;A*&gt;(&amp;d);        <span class='comment'>// succeeds
</span>  bp = dynamic_cast&lt;B*&gt;(&amp;d);        <span class='comment'>// ill-formed (not a runtime check)
</span>}

class E : public D, public B { };
class F : public E, public D { };
void h() {
  F   f;
  A*  ap  = &amp;f;                     <span class='comment'>// succeeds: finds unique <span class='tcode_in_codeblock'>A</span>
</span>  D*  dp  = dynamic_cast&lt;D*&gt;(ap);   <span class='comment'>// fails: yields null; <span class='tcode_in_codeblock'>f</span> has two <span class='tcode_in_codeblock'>D</span> subobjects
</span>  E*  ep  = (E*)ap;                 <span class='comment'>// ill-formed: cast from virtual base
</span>  E*  ep1 = dynamic_cast&lt;E*&gt;(ap);   <span class='comment'>// succeeds
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> 
<div id='dynamic.cast-9.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#dynamic.cast-9.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='dynamic.cast-9.sentence-3' class='sentence'><a href='class.cdtor'>[class.cdtor]</a> describes the behavior of a <span class='texttt'>dynamic_&shy;cast</span>
applied to an object under construction or destruction<a class='hidden_link' href='#dynamic.cast-9.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='footnote' id='footnote-69'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-69'>69)</a></div><div id='footnote-69.sentence-1' class='sentence'>The <a href='intro.object#def:most_derived_object'>most derived
object</a> pointed or referred to by
<span class='texttt'>v</span> can contain other <span class='texttt'>B</span> objects as base classes, but these
are ignored<a class='hidden_link' href='#footnote-69.sentence-1'>.</a></div></div></div><div id='typeid' class='section'><h4 ><a class='secnum' href='#typeid' style='min-width:118pt'>8.5.1.8</a> Type identification <a class='abbr_ref' href='expr.typeid'>[expr.typeid]</a></h4><div class='para' id='typeid-1'><div class='marginalizedparent'><a class='marginalized' href='#typeid-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2763'>#</a></div><div id='typeid-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':expression,type_identification'></a></span><span class='indexparent'><a class='index' id=':typeid'></a></span>The result of a <span class='texttt'>typeid</span> expression is an lvalue of static type
<span class='indexparent'><a class='index' id=':type_info'></a></span><span class='indexparent'><a class='index' id='lib:type_info'></a></span><span class='texttt'>const</span> <a href='type.info'><span class='texttt'>std&#x200b;::&#x200b;type_&shy;info</span></a> and dynamic type <span class='texttt'>const</span>
<span class='texttt'>std&#x200b;::&#x200b;type_&shy;info</span> or <span class='texttt'>const</span> <span class='textit'>name</span> where <span class='textit'>name</span> is an
<span class='indexparent'><a class='index' id=':derived_type_for_typeid'></a></span>implementation-defined class publicly derived from
<span class='texttt'>std&#x200b;::&#x200b;type_&shy;info</span> which preserves the behavior described
in <a href='type.info'>[type.info]</a><a class='hidden_link' href='#typeid-1.sentence-1'>.</a><a class='footnotenum' href='#footnote-70'>70</a></div> <div id='typeid-1.sentence-2' class='sentence'>
The lifetime of the object referred to by the lvalue extends to the end
of the program<a class='hidden_link' href='#typeid-1.sentence-2'>.</a></div> <div id='typeid-1.sentence-3' class='sentence'>Whether or not the destructor is called for the
<span class='texttt'>std&#x200b;::&#x200b;type_&shy;info</span> object at the end of the program is unspecified<a class='hidden_link' href='#typeid-1.sentence-3'>.</a></div></div><div class='para' id='typeid-2'><div class='marginalizedparent'><a class='marginalized' href='#typeid-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2779'>#</a></div><div id='typeid-2.sentence-1' class='sentence'>When <span class='texttt'>typeid</span> is applied to a glvalue expression whose type is a
<a href='class.virtual#def:class,polymorphic'>polymorphic class</a> type, the result refers to a
<span class='texttt'>std&#x200b;::&#x200b;type_&shy;info</span> object representing the type of the <a href='intro.object#def:most_derived_object'>most derived
object</a> (that is, the dynamic type) to which the
glvalue refers<a class='hidden_link' href='#typeid-2.sentence-1'>.</a></div> <div id='typeid-2.sentence-2' class='sentence'>If the glvalue expression is obtained by applying the
unary <span class='texttt'>*</span> operator to a pointer<a class='footnotenum' href='#footnote-71'>71</a>
and the pointer is a <a href='conv.ptr'>null pointer value</a>, the
<span class='texttt'>typeid</span> expression <a href='except.throw'>throws an exception</a> of
a type that would match a handler of type
<span class='indexparent'><a class='index' id=':bad_typeid'></a></span><span class='indexparent'><a class='index' id='lib:bad_typeid'></a></span><a href='bad.typeid'><span class='texttt'>std&#x200b;::&#x200b;bad_&shy;typeid</span></a>
exception<a class='hidden_link' href='#typeid-2.sentence-2'>.</a></div></div><div class='para' id='typeid-3'><div class='marginalizedparent'><a class='marginalized' href='#typeid-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2797'>#</a></div><div id='typeid-3.sentence-1' class='sentence'>When <span class='texttt'>typeid</span> is applied to an expression other than a glvalue of
a polymorphic class type, the result refers to a <span class='texttt'>std&#x200b;::&#x200b;type_&shy;info</span>
object representing the static type of the expression<a class='hidden_link' href='#typeid-3.sentence-1'>.</a></div> <div id='typeid-3.sentence-2' class='sentence'><a href='conv.lval'>Lvalue-to-rvalue</a>, <a href='conv.array'>array-to-pointer</a>,
and <a href='conv.func'>function-to-pointer</a> conversions are not applied to
the expression<a class='hidden_link' href='#typeid-3.sentence-2'>.</a></div> <div id='typeid-3.sentence-3' class='sentence'>If the expression is a prvalue,
the <a href='conv.rval'>temporary materialization conversion</a>
is applied<a class='hidden_link' href='#typeid-3.sentence-3'>.</a></div> <div id='typeid-3.sentence-4' class='sentence'>The expression is an <a href='expr.prop#def:unevaluated_operand'>unevaluated operand</a><a class='hidden_link' href='#typeid-3.sentence-4'>.</a></div></div><div class='para' id='typeid-4'><div class='marginalizedparent'><a class='marginalized' href='#typeid-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2809'>#</a></div><div id='typeid-4.sentence-1' class='sentence'>When <span class='texttt'>typeid</span> is applied to a <i ><a href='dcl.name#nt:type-id'>type-id</a></i>, the result
refers to a <span class='texttt'>std&#x200b;::&#x200b;type_&shy;info</span> object representing the type of the
<i ><a href='dcl.name#nt:type-id'>type-id</a></i><a class='hidden_link' href='#typeid-4.sentence-1'>.</a></div> <div id='typeid-4.sentence-2' class='sentence'>If the type of the <i ><a href='dcl.name#nt:type-id'>type-id</a></i> is a reference
to a possibly cv-qualified type, the result of the
<span class='texttt'>typeid</span> expression refers to a <span class='texttt'>std&#x200b;::&#x200b;type_&shy;info</span> object
representing the cv-unqualified referenced type<a class='hidden_link' href='#typeid-4.sentence-2'>.</a></div> <div id='typeid-4.sentence-3' class='sentence'>If the type of
the <i ><a href='dcl.name#nt:type-id'>type-id</a></i> is a class type or a reference to a class type,
the class shall be completely-defined<a class='hidden_link' href='#typeid-4.sentence-3'>.</a></div></div><div class='para' id='typeid-5'><div class='marginalizedparent'><a class='marginalized' href='#typeid-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2819'>#</a></div><div id='typeid-5.sentence-1' class='sentence'>If the type of the expression or <i ><a href='dcl.name#nt:type-id'>type-id</a></i> is a
cv-qualified type, the result of the <span class='texttt'>typeid</span> expression refers
to a <span class='texttt'>std&#x200b;::&#x200b;type_&shy;info</span> object representing the cv-unqualified
type<a class='hidden_link' href='#typeid-5.sentence-1'>.</a></div> <div id='typeid-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#typeid-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
class D { <span class='tcode_in_codeblock'>/* ...&nbsp;*/</span> };
D d1;
const D d2;

typeid(d1) == typeid(d2);       <span class='comment'>// yields <span class='tcode_in_codeblock'>true</span>
</span>typeid(D)  == typeid(const D);  <span class='comment'>// yields <span class='tcode_in_codeblock'>true</span>
</span>typeid(D)  == typeid(d2);       <span class='comment'>// yields <span class='tcode_in_codeblock'>true</span>
</span>typeid(D)  == typeid(const D&amp;); <span class='comment'>// yields <span class='tcode_in_codeblock'>true</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='typeid-6'><div class='marginalizedparent'><a class='marginalized' href='#typeid-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2838'>#</a></div><div id='typeid-6.sentence-1' class='sentence'>If the header <a href='type.info'><span class='texttt'>&lt;typeinfo&gt;</span></a> is not included prior
to a use of <span class='texttt'>typeid</span>, the program is ill-formed<a class='hidden_link' href='#typeid-6.sentence-1'>.</a></div></div><div class='para' id='typeid-7'><div class='marginalizedparent'><a class='marginalized' href='#typeid-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2842'>#</a></div><div id='typeid-7.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#typeid-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='typeid-7.sentence-1' class='sentence'><a href='class.cdtor'>[class.cdtor]</a> describes the behavior of <span class='texttt'>typeid</span> applied to an
object under construction or destruction<a class='hidden_link' href='#typeid-7.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='footnote' id='footnote-70'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-70'>70)</a></div><div id='footnote-70.sentence-1' class='sentence'>The recommended name for such a class is
<span class='texttt'>extended_&shy;type_&shy;info</span><a class='hidden_link' href='#footnote-70.sentence-1'>.</a></div></div><div class='footnote' id='footnote-71'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-71'>71)</a></div><div id='footnote-71.sentence-1' class='sentence'>If <span class='texttt'>p</span> is an expression of
pointer type, then <span class='texttt'>*p</span>,
<span class='texttt'>(*p)</span>, <span class='texttt'>*(p)</span>, <span class='texttt'>((*p))</span>, <span class='texttt'>*((p))</span>, and so on
all meet this requirement<a class='hidden_link' href='#footnote-71.sentence-1'>.</a></div></div></div><div id='static.cast' class='section'><h4 ><a class='secnum' href='#static.cast' style='min-width:118pt'>8.5.1.9</a> Static cast <a class='abbr_ref' href='expr.static.cast'>[expr.static.cast]</a></h4><div class='para' id='static.cast-1'><div class='marginalizedparent'><a class='marginalized' href='#static.cast-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2850'>#</a></div><div id='static.cast-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':expression,static_cast'></a></span><span class='indexparent'><a class='index' id=':cast,static'></a></span>The result of the expression <span class='texttt'>static_&shy;cast&lt;T&gt;(v)</span> is the result of
converting the expression <span class='texttt'>v</span> to type <span class='texttt'>T</span><a class='hidden_link' href='#static.cast-1.sentence-1'>.</a></div> <div id='static.cast-1.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':cast,static,lvalue'></a></span><span class='indexparent'><a class='index' id=':cast,lvalue'></a></span>If <span class='texttt'>T</span> is an lvalue reference type
or an rvalue reference to function type, the result is an lvalue;
if <span class='texttt'>T</span> is an rvalue reference to object type, the result is an xvalue;
otherwise, the result is a prvalue<a class='hidden_link' href='#static.cast-1.sentence-2'>.</a></div> <div id='static.cast-1.sentence-3' class='sentence'>The <span class='texttt'>static_&shy;cast</span> operator shall not
<a href='expr.const.cast#def:casting_away_constness'>cast away constness</a><a class='hidden_link' href='#static.cast-1.sentence-3'>.</a></div></div><div class='para' id='static.cast-2'><div class='marginalizedparent'><a class='marginalized' href='#static.cast-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2863'>#</a></div><div id='static.cast-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':cast,static,reference'></a></span><span class='indexparent'><a class='index' id=':cast,reference'></a></span>An lvalue of type “<span class='textit'>cv1</span> <span class='texttt'>B</span>”, where <span class='texttt'>B</span> is a class
type, can be cast to type “reference to <span class='textit'>cv2</span> <span class='texttt'>D</span>”, where
<span class='texttt'>D</span> is a class <a href='class.derived'>derived</a> from <span class='texttt'>B</span>,
if <span class='textit'>cv2</span> is the
same cv-qualification as, or greater cv-qualification than,
<span class='textit'>cv1</span><a class='hidden_link' href='#static.cast-2.sentence-1'>.</a></div> <div id='static.cast-2.sentence-2' class='sentence'>If <span class='texttt'>B</span> is a virtual base class of <span class='texttt'>D</span>
or a base class of a virtual base class of <span class='texttt'>D</span>,
or if no valid standard conversion from “pointer to <span class='texttt'>D</span>”
to “pointer to <span class='texttt'>B</span>” exists (<a href='conv.ptr'>[conv.ptr]</a>), the program is ill-formed<a class='hidden_link' href='#static.cast-2.sentence-2'>.</a></div> <div id='static.cast-2.sentence-3' class='sentence'>An xvalue of type
“<span class='textit'>cv1</span> <span class='texttt'>B</span>” can be cast to type “rvalue reference to
<span class='textit'>cv2</span> <span class='texttt'>D</span>” with the same constraints as for an lvalue of
type “<span class='textit'>cv1</span> <span class='texttt'>B</span>”<a class='hidden_link' href='#static.cast-2.sentence-3'>.</a></div> <div id='static.cast-2.sentence-4' class='sentence'>If the object
of type “<span class='textit'>cv1</span> <span class='texttt'>B</span>” is actually a base class subobject of an object
of type <span class='texttt'>D</span>, the result refers to the enclosing object of type
<span class='texttt'>D</span><a class='hidden_link' href='#static.cast-2.sentence-4'>.</a></div> <div id='static.cast-2.sentence-5' class='sentence'>Otherwise, the behavior is undefined<a class='hidden_link' href='#static.cast-2.sentence-5'>.</a></div> <div id='static.cast-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#static.cast-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct B { };
struct D : public B { };
D d;
B &amp;br = d;

static_cast&lt;D&amp;&gt;(br);            <span class='comment'>// produces lvalue to the original <span class='tcode_in_codeblock'>d</span> object
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='static.cast-3'><div class='marginalizedparent'><a class='marginalized' href='#static.cast-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2894'>#</a></div><div id='static.cast-3.sentence-1' class='sentence'>An lvalue
of type “<span class='textit'>cv1</span> <span class='texttt'>T1</span>” can be cast to type “rvalue
reference to <span class='textit'>cv2</span> <span class='texttt'>T2</span>” if “<span class='textit'>cv2</span> <span class='texttt'>T2</span>” is
<a href='dcl.init.ref#def:reference-compatible'>reference-compatible</a> with “<span class='textit'>cv1</span>
<span class='texttt'>T1</span>”<a class='hidden_link' href='#static.cast-3.sentence-1'>.</a></div> <div id='static.cast-3.sentence-2' class='sentence'>If the value is not a bit-field,
the result refers to the object or the specified base class subobject
thereof; otherwise, the <a href='conv.lval'>lvalue-to-rvalue conversion</a>
is applied to the bit-field and the resulting prvalue is used as the
<i ><a href='expr.comma#nt:expression'>expression</a></i> of the <span class='texttt'>static_&shy;cast</span> for the remainder of this subclause<a class='hidden_link' href='#static.cast-3.sentence-2'>.</a></div> <div id='static.cast-3.sentence-3' class='sentence'>If <span class='texttt'>T2</span> is an <a href='class.access'>inaccessible</a> or
<a href='class.member.lookup'>ambiguous</a> base class of <span class='texttt'>T1</span>,
a program that necessitates such a cast is ill-formed<a class='hidden_link' href='#static.cast-3.sentence-3'>.</a></div></div><div class='para' id='static.cast-4'><div class='marginalizedparent'><a class='marginalized' href='#static.cast-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2908'>#</a></div><div id='static.cast-4.sentence-1' class='sentence'>An expression <span class='texttt'>e</span> can be explicitly converted to a type <span class='texttt'>T</span>
if there is an <a href='over.best.ics'>implicit conversion sequence</a>
from <span class='texttt'>e</span> to <span class='texttt'>T</span>, or
if overload resolution for a <a href='dcl.init#def:direct-initialization'>direct-initialization</a>
of an object or reference of type <span class='texttt'>T</span> from <span class='texttt'>e</span>
would find at least one viable function (<a href='over.match.viable'>[over.match.viable]</a>)<a class='hidden_link' href='#static.cast-4.sentence-1'>.</a></div> <div id='static.cast-4.sentence-2' class='sentence'>If <span class='texttt'>T</span> is a reference type, the effect is
the same as performing the declaration and initialization
<pre class='codeblock'>
 T t(e);</pre>
for some invented temporary variable <span class='texttt'>t</span> (<a href='dcl.init'>[dcl.init]</a>)
and then using the temporary variable as the result of the conversion<a class='hidden_link' href='#static.cast-4.sentence-2'>.</a></div> <div id='static.cast-4.sentence-3' class='sentence'>Otherwise, the result object is direct-initialized from <span class='texttt'>e</span><a class='hidden_link' href='#static.cast-4.sentence-3'>.</a></div> <div id='static.cast-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#static.cast-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='static.cast-4.sentence-4' class='sentence'>The conversion is ill-formed when attempting to convert an
expression of class type to an inaccessible or ambiguous base class<a class='hidden_link' href='#static.cast-4.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='static.cast-5'><div class='marginalizedparent'><a class='marginalized' href='#static.cast-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2928'>#</a></div><div id='static.cast-5.sentence-1' class='sentence'>Otherwise, the <span class='texttt'>static_&shy;cast</span> shall perform one of the conversions
listed below<a class='hidden_link' href='#static.cast-5.sentence-1'>.</a></div> <div id='static.cast-5.sentence-2' class='sentence'>No other conversion shall be performed explicitly using a
<span class='texttt'>static_&shy;cast</span><a class='hidden_link' href='#static.cast-5.sentence-2'>.</a></div></div><div class='para' id='static.cast-6'><div class='marginalizedparent'><a class='marginalized' href='#static.cast-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2933'>#</a></div><div id='static.cast-6.sentence-1' class='sentence'>Any expression can be explicitly converted to type <span class='textit'>cv</span> <span class='texttt'>void</span>,
in which case it becomes a <a href='expr.prop#def:discarded-value_expression'>discarded-value expression</a><a class='hidden_link' href='#static.cast-6.sentence-1'>.</a></div> <div id='static.cast-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#static.cast-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='static.cast-6.sentence-2' class='sentence'>However, if the value is in a <a href='class.temporary'>temporary
object</a>, the destructor for that
object is
not executed until the usual time, and the value of the object is
preserved for the purpose of executing the destructor<a class='hidden_link' href='#static.cast-6.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='static.cast-7'><div class='marginalizedparent'><a class='marginalized' href='#static.cast-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2945'>#</a></div><div id='static.cast-7.sentence-1' class='sentence'>The inverse of any <a href='conv'>standard conversion sequence</a> not containing an
<a href='conv.lval'>lvalue-to-rvalue</a>,
<a href='conv.array'>array-to-pointer</a>,
<a href='conv.func'>function-to-pointer</a>,
<a href='conv.ptr'>null pointer</a>, <a href='conv.mem'>null member pointer</a>,
<a href='conv.bool'>boolean</a>, or
<a href='conv.fctptr'>function pointer</a>
conversion, can be performed explicitly using <span class='texttt'>static_&shy;cast</span><a class='hidden_link' href='#static.cast-7.sentence-1'>.</a></div> <div id='static.cast-7.sentence-2' class='sentence'>A
program is ill-formed if it uses <span class='texttt'>static_&shy;cast</span> to perform the
inverse of an ill-formed standard conversion sequence<a class='hidden_link' href='#static.cast-7.sentence-2'>.</a></div> <div id='static.cast-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#static.cast-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct B { };
struct D : private B { };
void f() {
  static_cast&lt;D*&gt;((B*)0);               <span class='comment'>// error: <span class='tcode_in_codeblock'>B</span> is a private base of <span class='tcode_in_codeblock'>D</span>
</span>  static_cast&lt;int B::*&gt;((int D::*)0);   <span class='comment'>// error: <span class='tcode_in_codeblock'>B</span> is a private base of <span class='tcode_in_codeblock'>D</span>
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='static.cast-8'><div class='marginalizedparent'><a class='marginalized' href='#static.cast-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2967'>#</a></div><div id='static.cast-8.sentence-1' class='sentence'>The <a href='conv.lval'>lvalue-to-rvalue</a>,
<a href='conv.array'>array-to-pointer</a>, and
<a href='conv.func'>function-to-pointer</a> conversions are applied to the
operand<a class='hidden_link' href='#static.cast-8.sentence-1'>.</a></div> <div id='static.cast-8.sentence-2' class='sentence'>Such a <span class='texttt'>static_&shy;cast</span> is subject to the restriction that
the explicit conversion does not <a href='expr.const.cast#def:casting_away_constness'>cast away
constness</a>, and the following additional rules
for specific cases:</div></div><div class='para' id='static.cast-9'><div class='marginalizedparent'><a class='marginalized' href='#static.cast-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2976'>#</a></div><div id='static.cast-9.sentence-1' class='sentence'>A value of a <a href='dcl.enum#def:enumeration,scoped'>scoped enumeration type</a> can be explicitly converted to an
integral type<a class='hidden_link' href='#static.cast-9.sentence-1'>.</a></div> <div id='static.cast-9.sentence-2' class='sentence'>When that type is <span class='textit'>cv</span> <span class='texttt'>bool</span>, the resulting value is
<span class='texttt'>false</span> if the original value is zero and <span class='texttt'>true</span> for all other
values<a class='hidden_link' href='#static.cast-9.sentence-2'>.</a></div> <div id='static.cast-9.sentence-3' class='sentence'>For the remaining integral types, the value is unchanged if the
original value can be represented by the
specified type<a class='hidden_link' href='#static.cast-9.sentence-3'>.</a></div> <div id='static.cast-9.sentence-4' class='sentence'>Otherwise, the resulting value is unspecified<a class='hidden_link' href='#static.cast-9.sentence-4'>.</a></div> <div id='static.cast-9.sentence-5' class='sentence'>A value of a scoped enumeration type can also be explicitly converted to a
floating-point type; the result is the same as that of converting from the original
value to the floating-point type<a class='hidden_link' href='#static.cast-9.sentence-5'>.</a></div></div><div class='para' id='static.cast-10'><div class='marginalizedparent'><a class='marginalized' href='#static.cast-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L2987'>#</a></div><div id='static.cast-10.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':enumeration_type,conversion_to'></a></span><span class='indexparent'><a class='index' id=':enumeration_type,static_cast,conversion_to'></a></span>A value of integral or enumeration type can be explicitly converted to
a complete enumeration type<a class='hidden_link' href='#static.cast-10.sentence-1'>.</a></div> <div id='static.cast-10.sentence-2' class='sentence'>If the enumeration type has a fixed underlying type,
the value is first converted to that type
by integral conversion, if necessary, and
then to the enumeration type<a class='hidden_link' href='#static.cast-10.sentence-2'>.</a></div> <div id='static.cast-10.sentence-3' class='sentence'>If the enumeration type does not have a fixed underlying type,
the value is unchanged
if the original value is within the range
of the enumeration values (<a href='dcl.enum'>[dcl.enum]</a>), and
otherwise, the behavior is undefined<a class='hidden_link' href='#static.cast-10.sentence-3'>.</a></div> <div id='static.cast-10.sentence-4' class='sentence'>A value of floating-point type can also be explicitly converted to an enumeration type<a class='hidden_link' href='#static.cast-10.sentence-4'>.</a></div> <div id='static.cast-10.sentence-5' class='sentence'>The resulting value is the same as converting the original value to the
underlying type of the enumeration (<a href='conv.fpint'>[conv.fpint]</a>), and subsequently to
the enumeration type<a class='hidden_link' href='#static.cast-10.sentence-5'>.</a></div></div><div class='para' id='static.cast-11'><div class='marginalizedparent'><a class='marginalized' href='#static.cast-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3006'>#</a></div><div id='static.cast-11.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':cast,base_class'></a></span><span class='indexparent'><a class='index' id=':cast,derived_class'></a></span>A prvalue of type “pointer to <span class='textit'>cv1</span> <span class='texttt'>B</span>”, where <span class='texttt'>B</span>
is a class type, can be converted to a prvalue of type “pointer to
<span class='textit'>cv2</span> <span class='texttt'>D</span>”, where <span class='texttt'>D</span> is a class
<a href='class.derived'>derived</a> from <span class='texttt'>B</span>,
if <span class='textit'>cv2</span> is the same cv-qualification as,
or greater cv-qualification than, <span class='textit'>cv1</span><a class='hidden_link' href='#static.cast-11.sentence-1'>.</a></div> <div id='static.cast-11.sentence-2' class='sentence'>If <span class='texttt'>B</span> is a virtual base class of <span class='texttt'>D</span> or
a base class of a virtual base class of <span class='texttt'>D</span>, or
if no valid standard conversion from “pointer to <span class='texttt'>D</span>”
to “pointer to <span class='texttt'>B</span>” exists (<a href='conv.ptr'>[conv.ptr]</a>), the program is ill-formed<a class='hidden_link' href='#static.cast-11.sentence-2'>.</a></div> <div id='static.cast-11.sentence-3' class='sentence'>The <a href='conv.ptr'>null pointer value</a> is converted to the null pointer value of the destination type<a class='hidden_link' href='#static.cast-11.sentence-3'>.</a></div> <div id='static.cast-11.sentence-4' class='sentence'>If the prvalue of type
“pointer to <span class='textit'>cv1</span> <span class='texttt'>B</span>” points to a <span class='texttt'>B</span> that is
actually a subobject of an object of type <span class='texttt'>D</span>, the resulting
pointer points to the enclosing object of type <span class='texttt'>D</span><a class='hidden_link' href='#static.cast-11.sentence-4'>.</a></div> <div id='static.cast-11.sentence-5' class='sentence'>Otherwise, the
behavior is undefined<a class='hidden_link' href='#static.cast-11.sentence-5'>.</a></div></div><div class='para' id='static.cast-12'><div class='marginalizedparent'><a class='marginalized' href='#static.cast-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3026'>#</a></div><div id='static.cast-12.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':cast,pointer-to-member'></a></span>A prvalue of type “pointer to member of <span class='texttt'>D</span> of type <span class='textit'>cv1</span>
<span class='texttt'>T</span>” can be converted to a prvalue of type “pointer to member of
<span class='texttt'>B</span> of type <span class='textit'>cv2</span> <span class='texttt'>T</span>”, where <span class='texttt'>B</span> is a <a href='class.derived'>base
class</a> of <span class='texttt'>D</span>,
if <span class='textit'>cv2</span> is the same cv-qualification
as, or greater cv-qualification than, <span class='textit'>cv1</span><a class='hidden_link' href='#static.cast-12.sentence-1'>.</a><a class='footnotenum' href='#footnote-72'>72</a></div> <div id='static.cast-12.sentence-2' class='sentence'>
If no valid standard conversion
from “pointer to member of <span class='texttt'>B</span> of type <span class='texttt'>T</span>”
to “pointer to member of <span class='texttt'>D</span> of type <span class='texttt'>T</span>”
exists (<a href='conv.mem'>[conv.mem]</a>), the program is ill-formed<a class='hidden_link' href='#static.cast-12.sentence-2'>.</a></div> <div id='static.cast-12.sentence-3' class='sentence'>The <a href='conv.mem#def:null_member_pointer_value'>null member pointer value</a> is converted to the null
member pointer value of the destination type<a class='hidden_link' href='#static.cast-12.sentence-3'>.</a></div> <div id='static.cast-12.sentence-4' class='sentence'>If class <span class='texttt'>B</span>
contains the original member, or is a base or derived class of the class
containing the original member, the resulting pointer to member points
to the original member<a class='hidden_link' href='#static.cast-12.sentence-4'>.</a></div> <div id='static.cast-12.sentence-5' class='sentence'>Otherwise, the behavior is undefined<a class='hidden_link' href='#static.cast-12.sentence-5'>.</a></div> <div id='static.cast-12.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#static.cast-12.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='static.cast-12.sentence-6' class='sentence'>Although class <span class='texttt'>B</span> need not contain the original member, the
dynamic type of the object with which indirection through the pointer
to member is performed must contain the original member;
see <a href='expr.mptr.oper'>[expr.mptr.oper]</a><a class='hidden_link' href='#static.cast-12.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='static.cast-13'><div class='marginalizedparent'><a class='marginalized' href='#static.cast-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3052'>#</a></div><div id='static.cast-13.sentence-1' class='sentence'>A prvalue of type “pointer to <span class='textit'>cv1</span> <span class='texttt'>void</span>” can be
converted to a prvalue of type “pointer to <span class='textit'>cv2</span> <span class='texttt'>T</span>”,
where <span class='texttt'>T</span> is an object type and <span class='textit'>cv2</span> is the same
cv-qualification as, or greater cv-qualification than, <span class='textit'>cv1</span><a class='hidden_link' href='#static.cast-13.sentence-1'>.</a></div> <div id='static.cast-13.sentence-2' class='sentence'>If the original pointer value represents the address
<span class='texttt'>A</span> of a byte in memory and
<span class='texttt'>A</span> does not satisfy the alignment requirement of <span class='texttt'>T</span>,
then the resulting pointer value is unspecified<a class='hidden_link' href='#static.cast-13.sentence-2'>.</a></div> <div id='static.cast-13.sentence-3' class='sentence'>Otherwise, if the original pointer value points to an object <span class='textit'>a</span>,
and there is an object <span class='textit'>b</span> of type <span class='texttt'>T</span> (ignoring cv-qualification)
that is <a href='basic.compound#def:pointer-interconvertible'>pointer-interconvertible</a> with <span class='textit'>a</span>,
the result is a pointer to <span class='textit'>b</span><a class='hidden_link' href='#static.cast-13.sentence-3'>.</a></div> <div id='static.cast-13.sentence-4' class='sentence'>Otherwise, the pointer value is unchanged by the conversion<a class='hidden_link' href='#static.cast-13.sentence-4'>.</a></div> <div id='static.cast-13.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#static.cast-13.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
T* p1 = new T;
const T* p2 = static_cast&lt;const T*&gt;(static_cast&lt;void*&gt;(p1));
bool b = p1 == p2;  <span class='comment'>// <span class='tcode_in_codeblock'>b</span> will have the value <span class='tcode_in_codeblock'>true</span>.
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='footnote' id='footnote-72'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-72'>72)</a></div><div id='footnote-72.sentence-1' class='sentence'>Function types
(including those used in pointer-to-member-function
types) are never cv-qualified; see <a href='dcl.fct'>[dcl.fct]</a><a class='hidden_link' href='#footnote-72.sentence-1'>.</a></div></div></div><div id='reinterpret.cast' class='section'><h4 ><a class='secnum' href='#reinterpret.cast' style='min-width:118pt'>8.5.1.10</a> Reinterpret cast <a class='abbr_ref' href='expr.reinterpret.cast'>[expr.reinterpret.cast]</a></h4><div class='para' id='reinterpret.cast-1'><div class='marginalizedparent'><a class='marginalized' href='#reinterpret.cast-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3077'>#</a></div><div id='reinterpret.cast-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':expression,reinterpret_cast'></a></span><span class='indexparent'><a class='index' id=':cast,reinterpret'></a></span>The result of the expression <span class='texttt'>reinterpret_&shy;cast&lt;T&gt;(v)</span> is the
result of converting the expression <span class='texttt'>v</span> to type <span class='texttt'>T</span><a class='hidden_link' href='#reinterpret.cast-1.sentence-1'>.</a></div> <div id='reinterpret.cast-1.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':cast,reinterpret,lvalue'></a></span><span class='indexparent'><a class='index' id=':cast,lvalue_'></a></span>If <span class='texttt'>T</span> is an lvalue reference type or an rvalue reference to function type, the result is an lvalue;
if <span class='texttt'>T</span> is an rvalue reference to object type, the result is an xvalue;
otherwise, the result is a prvalue and the
<a href='conv.lval'>lvalue-to-rvalue</a>, <a href='conv.array'>array-to-pointer</a>,
and <a href='conv.func'>function-to-pointer</a> standard conversions are
performed on the expression <span class='texttt'>v</span><a class='hidden_link' href='#reinterpret.cast-1.sentence-2'>.</a></div> <div id='reinterpret.cast-1.sentence-3' class='sentence'>Conversions that can be performed explicitly
using <span class='texttt'>reinterpret_&shy;cast</span> are listed below<a class='hidden_link' href='#reinterpret.cast-1.sentence-3'>.</a></div> <div id='reinterpret.cast-1.sentence-4' class='sentence'>No other conversion can
be performed explicitly using <span class='texttt'>reinterpret_&shy;cast</span><a class='hidden_link' href='#reinterpret.cast-1.sentence-4'>.</a></div></div><div class='para' id='reinterpret.cast-2'><div class='marginalizedparent'><a class='marginalized' href='#reinterpret.cast-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3093'>#</a></div><div id='reinterpret.cast-2.sentence-1' class='sentence'>The <span class='texttt'>reinterpret_&shy;cast</span> operator shall not <a href='expr.const.cast#def:casting_away_constness'>cast away constness</a><a class='hidden_link' href='#reinterpret.cast-2.sentence-1'>.</a></div> <div id='reinterpret.cast-2.sentence-2' class='sentence'>An expression of integral, enumeration, pointer, or pointer-to-member type
can be explicitly converted to its own type; such a cast yields the value of
its operand<a class='hidden_link' href='#reinterpret.cast-2.sentence-2'>.</a></div></div><div class='para' id='reinterpret.cast-3'><div class='marginalizedparent'><a class='marginalized' href='#reinterpret.cast-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3099'>#</a></div><div id='reinterpret.cast-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#reinterpret.cast-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='reinterpret.cast-3.sentence-1' class='sentence'>The mapping performed by <span class='texttt'>reinterpret_&shy;cast</span> might, or might not, produce a
representation different from the original value<a class='hidden_link' href='#reinterpret.cast-3.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='reinterpret.cast-4'><div class='marginalizedparent'><a class='marginalized' href='#reinterpret.cast-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3105'>#</a></div><div id='reinterpret.cast-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':cast,reinterpret,pointer_to_integer'></a></span><span class='indexparent'><a class='index' id=':cast,pointer_to_integer'></a></span>A pointer can be explicitly converted to any integral type large enough
to hold it<a class='hidden_link' href='#reinterpret.cast-4.sentence-1'>.</a></div> <div id='reinterpret.cast-4.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':conversion,implementation-defined_pointer_integer'></a></span>The mapping function is <span class='indexparent'><a class='index' id=':mapping_of_pointer_to_integer'></a></span>implementation-defined<a class='hidden_link' href='#reinterpret.cast-4.sentence-2'>.</a></div> <div id='reinterpret.cast-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#reinterpret.cast-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='reinterpret.cast-4.sentence-4' class='sentence'>It is intended to be unsurprising to those who know the addressing
structure of the underlying machine<a class='hidden_link' href='#reinterpret.cast-4.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='reinterpret.cast-4.sentence-3' class='sentence'> A value of type <span class='texttt'>std&#x200b;::&#x200b;nullptr_&shy;t</span> can be converted to an integral
type; the conversion has the same meaning and validity as a conversion of
<span class='texttt'>(void*)0</span> to the integral type<a class='hidden_link' href='#reinterpret.cast-4.sentence-3'>.</a></div> <div id='reinterpret.cast-4.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#reinterpret.cast-4.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='reinterpret.cast-4.sentence-5' class='sentence'>A <span class='texttt'>reinterpret_&shy;cast</span>
cannot be used to convert a value of any type to the type
<span class='texttt'>std&#x200b;::&#x200b;nullptr_&shy;t</span><a class='hidden_link' href='#reinterpret.cast-4.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='reinterpret.cast-5'><div class='marginalizedparent'><a class='marginalized' href='#reinterpret.cast-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3121'>#</a></div><div id='reinterpret.cast-5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':cast,reinterpret,integer_to_pointer'></a></span><span class='indexparent'><a class='index' id=':cast,integer_to_pointer'></a></span>A value of integral type or enumeration type can be explicitly converted
to a pointer<a class='hidden_link' href='#reinterpret.cast-5.sentence-1'>.</a></div> <div id='reinterpret.cast-5.sentence-2' class='sentence'>A pointer converted to an integer of sufficient size (if
any such exists on the implementation) and back to the same pointer type
will have its original value;
<span class='indexparent'><a class='index' id=':conversion,implementation-defined_pointer_integer_'></a></span>mappings between pointers and integers are otherwise
<span class='indexparent'><a class='index' id=':conversions_between_pointers_and_integers'></a></span>implementation-defined<a class='hidden_link' href='#reinterpret.cast-5.sentence-2'>.</a></div> <div id='reinterpret.cast-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#reinterpret.cast-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='reinterpret.cast-5.sentence-3' class='sentence'>Except as described in <a href='basic.stc.dynamic.safety'>[basic.stc.dynamic.safety]</a>, the result of
such a conversion will not be a safely-derived pointer value<a class='hidden_link' href='#reinterpret.cast-5.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='reinterpret.cast-6'><div class='marginalizedparent'><a class='marginalized' href='#reinterpret.cast-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3134'>#</a></div><div id='reinterpret.cast-6.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':cast,reinterpret,pointer-to-function'></a></span><span class='indexparent'><a class='index' id=':cast,pointer-to-function'></a></span><span class='indexparent'><a class='index' id=':cast,undefined_pointer-to-function'></a></span>A function pointer can be explicitly converted
to a function pointer of a different type<a class='hidden_link' href='#reinterpret.cast-6.sentence-1'>.</a></div> <div id='reinterpret.cast-6.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':function_call,undefined'></a></span><div id='reinterpret.cast-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#reinterpret.cast-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='reinterpret.cast-6.sentence-3' class='sentence'>The effect of calling a function through a pointer to a function
type (<a href='dcl.fct'>[dcl.fct]</a>) that is not the same as the type used in the
definition of the function is undefined<a class='hidden_link' href='#reinterpret.cast-6.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> 
Except that converting
a prvalue of type “pointer to <span class='texttt'>T1</span>” to the type “pointer to
<span class='texttt'>T2</span>” (where <span class='texttt'>T1</span> and <span class='texttt'>T2</span> are function types) and
back to its original type yields the original pointer value, the result
of such a pointer conversion is unspecified<a class='hidden_link' href='#reinterpret.cast-6.sentence-2'>.</a></div> <div id='reinterpret.cast-6.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#reinterpret.cast-6.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='reinterpret.cast-6.sentence-4' class='sentence'>See also <a href='conv.ptr'>[conv.ptr]</a> for more details of pointer conversions<a class='hidden_link' href='#reinterpret.cast-6.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='reinterpret.cast-7'><div class='marginalizedparent'><a class='marginalized' href='#reinterpret.cast-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3155'>#</a></div><div id='reinterpret.cast-7.sentence-1' class='sentence'>An object pointer
can be explicitly converted to an object pointer of a different type<a class='hidden_link' href='#reinterpret.cast-7.sentence-1'>.</a><a class='footnotenum' href='#footnote-73'>73</a></div> <div id='reinterpret.cast-7.sentence-2' class='sentence'>
When a prvalue <span class='texttt'>v</span> of object pointer type is converted to
the object pointer type “pointer to <span class='textit'>cv</span> <span class='texttt'>T</span>”, the result is <span class='texttt'>static_&shy;cast&lt;<span class='textit'>cv</span> T*&gt;(static_&shy;cast&lt;<span class='textit'>cv</span> void*&gt;(v))</span><a class='hidden_link' href='#reinterpret.cast-7.sentence-2'>.</a></div> <div id='reinterpret.cast-7.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#reinterpret.cast-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='reinterpret.cast-7.sentence-3' class='sentence'>Converting a prvalue of type “pointer to <span class='texttt'>T1</span>” to
the type “pointer to <span class='texttt'>T2</span>” (where <span class='texttt'>T1</span> and <span class='texttt'>T2</span> are
object types and where the alignment requirements of <span class='texttt'>T2</span> are no
stricter than those of <span class='texttt'>T1</span>) and back to its original type yields
the original pointer value<a class='hidden_link' href='#reinterpret.cast-7.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='reinterpret.cast-8'><div class='marginalizedparent'><a class='marginalized' href='#reinterpret.cast-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3171'>#</a></div><div id='reinterpret.cast-8.sentence-1' class='sentence'>Converting a function pointer to an object pointer
type or vice versa is
conditionally-supported<a class='hidden_link' href='#reinterpret.cast-8.sentence-1'>.</a></div> <div id='reinterpret.cast-8.sentence-2' class='sentence'>The meaning of such a conversion is
<span class='indexparent'><a class='index' id=':converting_function_pointer_to_object_pointer_and_vice_versa'></a></span>implementation-defined,
except that if an implementation
supports conversions in both directions, converting a prvalue of one type to the other
type and back, possibly with different cv-qualification, shall yield the original
pointer value<a class='hidden_link' href='#reinterpret.cast-8.sentence-2'>.</a></div></div><div class='para' id='reinterpret.cast-9'><div class='marginalizedparent'><a class='marginalized' href='#reinterpret.cast-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3181'>#</a></div><div id='reinterpret.cast-9.sentence-1' class='sentence'>The <a href='conv.ptr'>null pointer value</a> is converted to the null pointer value
of the destination type<a class='hidden_link' href='#reinterpret.cast-9.sentence-1'>.</a></div> <div id='reinterpret.cast-9.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#reinterpret.cast-9.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='reinterpret.cast-9.sentence-2' class='sentence'>A null pointer constant of type <span class='texttt'>std&#x200b;::&#x200b;nullptr_&shy;t</span> cannot be converted to a
pointer type, and a null pointer constant of integral type is not necessarily
converted to a null pointer value<a class='hidden_link' href='#reinterpret.cast-9.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='reinterpret.cast-10'><div class='marginalizedparent'><a class='marginalized' href='#reinterpret.cast-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3190'>#</a></div><div id='reinterpret.cast-10.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':cast,reinterpret,pointer-to-member'></a></span><span class='indexparent'><a class='index' id=':cast,pointer-to-member_'></a></span>A prvalue of type “pointer to member of <span class='texttt'>X</span> of type <span class='texttt'>T1</span>”
can be explicitly converted to a prvalue of a different type “pointer to member of
<span class='texttt'>Y</span> of type <span class='texttt'>T2</span>” if <span class='texttt'>T1</span> and <span class='texttt'>T2</span> are both
function types or both object types<a class='hidden_link' href='#reinterpret.cast-10.sentence-1'>.</a><a class='footnotenum' href='#footnote-74'>74</a></div> <div id='reinterpret.cast-10.sentence-2' class='sentence'> The <a href='conv.mem#def:null_member_pointer_value'>null member pointer value</a> is converted to the
null member pointer value of the destination type<a class='hidden_link' href='#reinterpret.cast-10.sentence-2'>.</a></div> <div id='reinterpret.cast-10.sentence-3' class='sentence'>The result of this
conversion is unspecified, except in the following cases:</div><div id='reinterpret.cast-10.sentence-4' class='sentence'><ul class='itemize'><li id='reinterpret.cast-10.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#reinterpret.cast-10.1'>(10.1)</a></div><div id='reinterpret.cast-10.1.sentence-1' class='sentence'>converting a prvalue of type “pointer to member function” to a
different pointer-to-member-function type and back to its original type
yields the original pointer-to-member value<a class='hidden_link' href='#reinterpret.cast-10.1.sentence-1'>.</a></div></li><li id='reinterpret.cast-10.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#reinterpret.cast-10.2'>(10.2)</a></div><div id='reinterpret.cast-10.2.sentence-1' class='sentence'>converting a prvalue of type “pointer to data member of <span class='texttt'>X</span>
of type <span class='texttt'>T1</span>” to the type “pointer to data member of <span class='texttt'>Y</span>
of type <span class='texttt'>T2</span>” (where the alignment requirements of <span class='texttt'>T2</span> are
no stricter than those of <span class='texttt'>T1</span>) and back to its original type
yields the original pointer-to-member value<a class='hidden_link' href='#reinterpret.cast-10.2.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='reinterpret.cast-11'><div class='marginalizedparent'><a class='marginalized' href='#reinterpret.cast-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3215'>#</a></div><div id='reinterpret.cast-11.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':cast,reinterpret,reference'></a></span><span class='indexparent'><a class='index' id=':cast,reference_'></a></span>A glvalue expression of type <span class='texttt'>T1</span>,
designating an object <span class='textit'>x</span>,
can be cast to the type “reference to <span class='texttt'>T2</span>”
if an expression of type “pointer to <span class='texttt'>T1</span>”
can be explicitly converted to the type “pointer to <span class='texttt'>T2</span>”
using a <span class='texttt'>reinterpret_&shy;cast</span><a class='hidden_link' href='#reinterpret.cast-11.sentence-1'>.</a></div> <div id='reinterpret.cast-11.sentence-2' class='sentence'>The result is that of <span class='texttt'>*reinterpret_&shy;cast&lt;T2 *&gt;(p)</span>
where <span class='texttt'>p</span> is a pointer to <span class='textit'>x</span>
of type “pointer to <span class='texttt'>T1</span>”<a class='hidden_link' href='#reinterpret.cast-11.sentence-2'>.</a></div> <div id='reinterpret.cast-11.sentence-3' class='sentence'>No temporary is created, no copy is made, and
no constructors (<a href='class.ctor'>[class.ctor]</a>) or conversion
functions (<a href='class.conv'>[class.conv]</a>) are called<a class='hidden_link' href='#reinterpret.cast-11.sentence-3'>.</a><a class='footnotenum' href='#footnote-75'>75</a></div></div><div class='footnote' id='footnote-73'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-73'>73)</a></div><div id='footnote-73.sentence-1' class='sentence'>The
types may have different <span class='textit'>cv</span>-qualifiers, subject to
the overall
restriction that a <span class='texttt'>reinterpret_&shy;cast</span> cannot cast away constness<a class='hidden_link' href='#footnote-73.sentence-1'>.</a></div></div><div class='footnote' id='footnote-74'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-74'>74)</a></div><div id='footnote-74.sentence-1' class='sentence'><span class='texttt'>T1</span> and <span class='texttt'>T2</span> may have
different <span class='textit'>cv</span>-qualifiers, subject to
the overall restriction that a <span class='texttt'>reinterpret_&shy;cast</span> cannot cast away
constness<a class='hidden_link' href='#footnote-74.sentence-1'>.</a></div></div><div class='footnote' id='footnote-75'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-75'>75)</a></div><div id='footnote-75.sentence-1' class='sentence'>This is sometimes referred to as a <a class='hidden_link' href='#def:type_pun' id='def:type_pun'><i >type pun</i></a>
when the result refers to the same object as the source glvalue<a class='hidden_link' href='#footnote-75.sentence-1'>.</a></div></div></div><div id='const.cast' class='section'><h4 ><a class='secnum' href='#const.cast' style='min-width:118pt'>8.5.1.11</a> Const cast <a class='abbr_ref' href='expr.const.cast'>[expr.const.cast]</a></h4><div class='para' id='const.cast-1'><div class='marginalizedparent'><a class='marginalized' href='#const.cast-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3235'>#</a></div><div id='const.cast-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':expression,const_cast'></a></span><span class='indexparent'><a class='index' id=':cast,const'></a></span>The result of the expression <span class='texttt'>const_&shy;cast&lt;T&gt;(v)</span> is of type
<span class='texttt'>T</span><a class='hidden_link' href='#const.cast-1.sentence-1'>.</a></div> <div id='const.cast-1.sentence-2' class='sentence'>If <span class='texttt'>T</span> is an lvalue reference to object type, the result is an
lvalue;
if <span class='texttt'>T</span> is an rvalue reference to object type, the result is an xvalue;
otherwise, the result is a prvalue and the
<a href='conv.lval'>lvalue-to-rvalue</a>, <a href='conv.array'>array-to-pointer</a>,
and <a href='conv.func'>function-to-pointer</a> standard conversions are
performed on the expression <span class='texttt'>v</span><a class='hidden_link' href='#const.cast-1.sentence-2'>.</a></div> <div id='const.cast-1.sentence-3' class='sentence'>Conversions that can be performed explicitly using
<span class='texttt'>const_&shy;cast</span> are listed below<a class='hidden_link' href='#const.cast-1.sentence-3'>.</a></div> <div id='const.cast-1.sentence-4' class='sentence'>No other conversion shall be
performed explicitly using <span class='texttt'>const_&shy;cast</span><a class='hidden_link' href='#const.cast-1.sentence-4'>.</a></div></div><div class='para' id='const.cast-2'><div class='marginalizedparent'><a class='marginalized' href='#const.cast-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3249'>#</a></div><div id='const.cast-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#const.cast-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='const.cast-2.sentence-1' class='sentence'>Subject to the restrictions in this subclause, an expression may be cast
to its own type using a <span class='texttt'>const_&shy;cast</span> operator<a class='hidden_link' href='#const.cast-2.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='const.cast-3'><div class='marginalizedparent'><a class='marginalized' href='#const.cast-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3255'>#</a></div><div id='const.cast-3.sentence-1' class='sentence'>For two <a href='conv.qual#def:similar_types'>similar types</a> <span class='texttt'>T1</span> and <span class='texttt'>T2</span>,
a prvalue of type <span class='texttt'>T1</span> may be explicitly
converted to the type <span class='texttt'>T2</span> using a <span class='texttt'>const_&shy;cast</span><a class='hidden_link' href='#const.cast-3.sentence-1'>.</a></div> <div id='const.cast-3.sentence-2' class='sentence'>The result
of a <span class='texttt'>const_&shy;cast</span> refers to the original entity<a class='hidden_link' href='#const.cast-3.sentence-2'>.</a></div> <div id='const.cast-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#const.cast-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
typedef int *A[3];               <span class='comment'>// array of 3 pointer to <span class='tcode_in_codeblock'>int</span>
</span>typedef const int *const CA[3];  <span class='comment'>// array of 3 const pointer to <span class='tcode_in_codeblock'>const int</span>
</span>
CA &amp;&amp;r = A{}; <span class='comment'>// OK, reference binds to temporary array object after qualification conversion to type <span class='tcode_in_codeblock'>CA</span>
</span>A &amp;&amp;r1 = const_cast&lt;A&gt;(CA{});    <span class='comment'>// error: temporary array decayed to pointer
</span>A &amp;&amp;r2 = const_cast&lt;A&amp;&amp;&gt;(CA{});  <span class='comment'>// OK
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='const.cast-4'><div class='marginalizedparent'><a class='marginalized' href='#const.cast-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3271'>#</a></div><div id='const.cast-4.sentence-1' class='sentence'>For two object types <span class='texttt'>T1</span> and <span class='texttt'>T2</span>, if a pointer to <span class='texttt'>T1</span> can
be explicitly converted to the type “pointer to <span class='texttt'>T2</span>” using a
<span class='texttt'>const_&shy;cast</span>, then the following conversions can also be made:</div><div id='const.cast-4.sentence-2' class='sentence'><ul class='itemize'><li id='const.cast-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const.cast-4.1'>(4.1)</a></div><div id='const.cast-4.1.sentence-1' class='sentence'>an lvalue of type <span class='texttt'>T1</span> can be explicitly converted to an lvalue
of type <span class='texttt'>T2</span> using the cast <span class='texttt'>const_&shy;cast&lt;T2&amp;&gt;</span>;</div></li><li id='const.cast-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const.cast-4.2'>(4.2)</a></div><div id='const.cast-4.2.sentence-1' class='sentence'>a glvalue of type <span class='texttt'>T1</span> can be explicitly converted to an xvalue
of type <span class='texttt'>T2</span> using the cast <span class='texttt'>const_&shy;cast&lt;T2&amp;&amp;&gt;</span>; and</div></li><li id='const.cast-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const.cast-4.3'>(4.3)</a></div><div id='const.cast-4.3.sentence-1' class='sentence'>if <span class='texttt'>T1</span> is a class type, a prvalue of type <span class='texttt'>T1</span> can be
explicitly converted to an xvalue of type <span class='texttt'>T2</span> using the cast
<span class='texttt'>const_&shy;cast&lt;T2&amp;&amp;&gt;</span><a class='hidden_link' href='#const.cast-4.3.sentence-1'>.</a></div></li></ul></div><div id='const.cast-4.sentence-3' class='sentence'>The result of a reference <span class='texttt'>const_&shy;cast</span> refers
to the original object if the operand is a glvalue and
to the result of applying the <a href='conv.rval'>temporary materialization conversion</a> otherwise<a class='hidden_link' href='#const.cast-4.sentence-3'>.</a></div></div><div class='para' id='const.cast-5'><div class='marginalizedparent'><a class='marginalized' href='#const.cast-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3292'>#</a></div><div id='const.cast-5.sentence-1' class='sentence'>A <a href='conv.ptr#def:null_pointer_value'>null pointer value</a> is converted to the null pointer
value of the destination type<a class='hidden_link' href='#const.cast-5.sentence-1'>.</a></div> <div id='const.cast-5.sentence-2' class='sentence'>The
<a href='conv.mem#def:null_member_pointer_value'>null member pointer value</a> is converted to the null member pointer value of
the destination type<a class='hidden_link' href='#const.cast-5.sentence-2'>.</a></div></div><div class='para' id='const.cast-6'><div class='marginalizedparent'><a class='marginalized' href='#const.cast-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3298'>#</a></div><div id='const.cast-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#const.cast-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='const.cast-6.sentence-1' class='sentence'>Depending on the type of the object, a write operation through the
pointer, lvalue or pointer to data member resulting from a
<span class='texttt'>const_&shy;cast</span> that casts away a const-qualifier<a class='footnotenum' href='#footnote-76'>76</a>
may produce undefined behavior (<a href='dcl.type.cv'>[dcl.type.cv]</a>)<a class='hidden_link' href='#const.cast-6.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='const.cast-7'><div class='marginalizedparent'><a class='marginalized' href='#const.cast-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3308'>#</a></div><div id='const.cast-7.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':const,cast_away'></a></span>A conversion from a type <span class='texttt'>T1</span> to a type <span class='texttt'>T2</span>
<a class='hidden_link' href='#def:casting_away_constness' id='def:casting_away_constness'><i >casts away constness</i></a>
if <span class='texttt'>T1</span> and <span class='texttt'>T2</span> are different,
there is a <a href='conv.qual#def:cv-decomposition'>cv-decomposition</a> of <span class='texttt'>T1</span>
yielding <span class='textit'>n</span> such that
<span class='texttt'>T2</span> has a cv-decomposition of the form
<span class='indented'>
<span class="mjx-chtml"><span class="mjx-math" aria-label="cv_0^2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span><span class="mjx-stack" style="vertical-align: -0.315em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span></span> <span class="mjx-chtml"><span class="mjx-math" aria-label="P_0^2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-stack" style="vertical-align: -0.315em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.271em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span></span> <span class="mjx-chtml"><span class="mjx-math" aria-label="cv_1^2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span><span class="mjx-stack" style="vertical-align: -0.315em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span> <span class="mjx-chtml"><span class="mjx-math" aria-label="P_1^2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-stack" style="vertical-align: -0.315em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.271em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span> <span class='math'>⋯</span> <span class="mjx-chtml"><span class="mjx-math" aria-label="cv_{n-1}^2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span><span class="mjx-stack" style="vertical-align: -0.315em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span></span> <span class="mjx-chtml"><span class="mjx-math" aria-label="P_{n-1}^2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-stack" style="vertical-align: -0.315em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.271em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span></span> <span class="mjx-chtml"><span class="mjx-math" aria-label="cv_n^2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span><span class="mjx-stack" style="vertical-align: -0.157em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span></span> <span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{U}_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em; padding-right: 0.003em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span>,
</span>
and there is no qualification conversion that converts <span class='texttt'>T1</span> to
<span class='indented'>
<span class="mjx-chtml"><span class="mjx-math" aria-label="cv_0^2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span><span class="mjx-stack" style="vertical-align: -0.315em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span></span> <span class="mjx-chtml"><span class="mjx-math" aria-label="P_0^1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-stack" style="vertical-align: -0.315em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.271em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span></span> <span class="mjx-chtml"><span class="mjx-math" aria-label="cv_1^2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span><span class="mjx-stack" style="vertical-align: -0.315em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span> <span class="mjx-chtml"><span class="mjx-math" aria-label="P_1^1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-stack" style="vertical-align: -0.315em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.271em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span> <span class='math'>⋯</span> <span class="mjx-chtml"><span class="mjx-math" aria-label="cv_{n-1}^2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span><span class="mjx-stack" style="vertical-align: -0.315em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span></span> <span class="mjx-chtml"><span class="mjx-math" aria-label="P_{n-1}^1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.109em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span></span><span class="mjx-stack" style="vertical-align: -0.315em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.271em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span></span> <span class="mjx-chtml"><span class="mjx-math" aria-label="cv_n^2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span><span class="mjx-stack" style="vertical-align: -0.157em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span></span> <span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{U}_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em; padding-right: 0.003em;">U</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>.
</span></div></div><div class='para' id='const.cast-8'><div class='marginalizedparent'><a class='marginalized' href='#const.cast-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3324'>#</a></div><div id='const.cast-8.sentence-1' class='sentence'>Casting from an lvalue of type <span class='texttt'>T1</span> to an lvalue of type
<span class='texttt'>T2</span> using an lvalue reference cast
or casting from an expression of type <span class='texttt'>T1</span> to an xvalue of type <span class='texttt'>T2</span> using
an rvalue reference cast
casts away constness if a cast from a prvalue of type “pointer to <span class='texttt'>T1</span>” to the type “pointer to
<span class='texttt'>T2</span>” casts away constness<a class='hidden_link' href='#const.cast-8.sentence-1'>.</a></div></div><div class='para' id='const.cast-9'><div class='marginalizedparent'><a class='marginalized' href='#const.cast-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3332'>#</a></div><div id='const.cast-9.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#const.cast-9.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='const.cast-9.sentence-1' class='sentence'>Some conversions which involve only changes in cv-qualification cannot
be done using <span class='texttt'>const_&shy;cast.</span> For instance, conversions between
pointers to functions are not covered because such conversions lead to
values whose use causes undefined behavior<a class='hidden_link' href='#const.cast-9.sentence-1'>.</a></div> <div id='const.cast-9.sentence-2' class='sentence'>For the same reasons,
conversions between pointers to member functions, and in particular, the
conversion from a pointer to a const member function to a pointer to a
non-const member function, are not covered<a class='hidden_link' href='#const.cast-9.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  </div><div class='footnote' id='footnote-76'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-76'>76)</a></div><div id='footnote-76.sentence-1' class='sentence'><span class='texttt'>const_&shy;cast</span>
is not limited to conversions that cast away a
const-qualifier<a class='hidden_link' href='#footnote-76.sentence-1'>.</a></div></div></div></div><div id='unary' class='section'><h3 ><a class='secnum' href='#unary' style='min-width:103pt'>8.5.2</a> Unary expressions <a class='abbr_ref' href='expr.unary'>[expr.unary]</a></h3><div class='para' id='unary-1'><div class='marginalizedparent'><a class='marginalized' href='#unary-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3346'>#</a></div><div id='unary-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':expression,unary'></a></span>Expressions with unary operators group right-to-left<a class='hidden_link' href='#unary-1.sentence-1'>.</a></div><span class='indexparent'><a class='index' id=':expression,unary_'></a></span><span class='indexparent'><a class='index' id=':operator,unary'></a></span><span class='indexparent'><a class='index' id=':operator,sizeof'></a></span><span class='indexparent'><a class='index' id=':operator,cast'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:unary-expression' id='nt:unary-expression'>unary-expression:</a>
&#9;<i ><a href='expr.post#nt:postfix-expression'>postfix-expression</a></i>
&#9;<span class='terminal'>++</span> <i ><a href='expr.cast#nt:cast-expression'>cast-expression</a></i>
&#9;<span class='terminal'>--</span> <i ><a href='expr.cast#nt:cast-expression'>cast-expression</a></i>
&#9;<i ><a href='expr.unary#nt:unary-operator'>unary-operator</a></i> <i ><a href='expr.cast#nt:cast-expression'>cast-expression</a></i>
&#9;<span class='terminal'>sizeof</span> <i ><a href='expr.unary#nt:unary-expression'>unary-expression</a></i>
&#9;<span class='terminal'>sizeof (</span> <i ><a href='dcl.name#nt:type-id'>type-id</a></i> <span class='terminal'>)</span>
&#9;<span class='terminal'>sizeof ...</span> <span class='terminal'>(</span> <i ><a href='lex.name#nt:identifier'>identifier</a></i> <span class='terminal'>)</span>
&#9;<span class='terminal'>alignof (</span> <i ><a href='dcl.name#nt:type-id'>type-id</a></i> <span class='terminal'>)</span>
&#9;<i ><a href='expr.unary.noexcept#nt:noexcept-expression'>noexcept-expression</a></i>
&#9;<i ><a href='expr.new#nt:new-expression'>new-expression</a></i>
&#9;<i ><a href='expr.delete#nt:delete-expression'>delete-expression</a></i>
</pre><span class='indexparent'><a class='index' id=':operator,indirection'></a></span><span class='indexparent'><a class='index' id=':operator,address-of'></a></span><span class='indexparent'><a class='index' id=':operator,unary_minus'></a></span><span class='indexparent'><a class='index' id=':operator,unary_plus'></a></span><span class='indexparent'><a class='index' id=':operator,logical_negation'></a></span><span class='indexparent'><a class='index' id=':operator,ones&#39;_complement'></a></span><span class='indexparent'><a class='index' id=':operator,increment_'></a></span><span class='indexparent'><a class='index' id=':operator,decrement_'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:unary-operator' id='nt:unary-operator'>unary-operator:</a> <span class='textnormal'>one of</span>
&#9;<span class='terminal'>*  &amp;  +  -  !  ~</span>
</pre></div><div id='unary.op' class='section'><h4 ><a class='secnum' href='#unary.op' style='min-width:118pt'>8.5.2.1</a> Unary operators <a class='abbr_ref' href='expr.unary.op'>[expr.unary.op]</a></h4><div class='para' id='unary.op-1'><div class='marginalizedparent'><a class='marginalized' href='#unary.op-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3392'>#</a></div><div id='unary.op-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':expression,unary_operator'></a></span><span class='indexparent'><a class='index' id=':operator,unary_'></a></span>The unary <span class='texttt'>*</span> operator performs <a class='hidden_link' href='#def:indirection' id='def:indirection'><i >indirection</i></a>:
the expression to which it is applied shall be a pointer to an object
type, or a pointer to a function type and the result is an lvalue
referring to the object or function to which the expression points<a class='hidden_link' href='#unary.op-1.sentence-1'>.</a></div> <div id='unary.op-1.sentence-2' class='sentence'>If
the type of the expression is “pointer to <span class='texttt'>T</span>”, the type of the
result is “<span class='texttt'>T</span>”<a class='hidden_link' href='#unary.op-1.sentence-2'>.</a></div> <div id='unary.op-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#unary.op-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='unary.op-1.sentence-3' class='sentence'><span class='indexparent'><a class='index' id=':type,incomplete_____'></a></span>Indirection through a pointer to an incomplete type (other than
<span class='textit'>cv</span> <span class='texttt'>void</span>) is valid<a class='hidden_link' href='#unary.op-1.sentence-3'>.</a></div> <div id='unary.op-1.sentence-4' class='sentence'>The lvalue thus obtained can be
used in limited ways (to initialize a reference, for example); this
lvalue must not be converted to a prvalue, see <a href='conv.lval'>[conv.lval]</a><a class='hidden_link' href='#unary.op-1.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='unary.op-2'><div class='marginalizedparent'><a class='marginalized' href='#unary.op-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3410'>#</a></div><div id='unary.op-2.sentence-1' class='sentence'>The result of each of the following unary operators is a prvalue<a class='hidden_link' href='#unary.op-2.sentence-1'>.</a></div></div><div class='para' id='unary.op-3'><div class='marginalizedparent'><a class='marginalized' href='#unary.op-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3413'>#</a></div><div id='unary.op-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':name,address_of_cv-qualified'></a></span><span class='indexparent'><a class='index' id=':expression,pointer-to-member_constant'></a></span>The result of the unary <span class='texttt'>&amp;</span> operator is a pointer to its operand<a class='hidden_link' href='#unary.op-3.sentence-1'>.</a></div> <div id='unary.op-3.sentence-2' class='sentence'>The operand shall be an lvalue or a <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i><a class='hidden_link' href='#unary.op-3.sentence-2'>.</a></div> <div id='unary.op-3.sentence-3' class='sentence'>If the operand is a <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> naming a non-static or variant member <span class='texttt'>m</span>
of some class <span class='texttt'>C</span> with type <span class='texttt'>T</span>, the result has type “pointer to member
of class <span class='texttt'>C</span> of type <span class='texttt'>T</span>” and is a prvalue designating <span class='texttt'>C&#x200b;::&#x200b;m</span><a class='hidden_link' href='#unary.op-3.sentence-3'>.</a></div> <div id='unary.op-3.sentence-4' class='sentence'>Otherwise, if the type of the expression is <span class='texttt'>T</span>, the result has type “pointer to
<span class='texttt'>T</span>” and is a prvalue that is the address of the designated object (<a href='intro.memory'>[intro.memory]</a>)
or a pointer to the designated function<a class='hidden_link' href='#unary.op-3.sentence-4'>.</a></div> <div id='unary.op-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#unary.op-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='unary.op-3.sentence-6' class='sentence'>In particular, the address of an
object of type “<span class='textit'>cv</span> <span class='texttt'>T</span>” is “pointer to <span class='textit'>cv</span> <span class='texttt'>T</span>”, with the same
cv-qualification<a class='hidden_link' href='#unary.op-3.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='unary.op-3.sentence-5' class='sentence'>
For purposes of pointer arithmetic (<a href='expr.add'>[expr.add]</a>) and
comparison (<a href='expr.rel'>[expr.rel]</a>, <a href='expr.eq'>[expr.eq]</a>),
an object that is not an array element whose
address is taken in this way is considered to belong to an array with one
element of type <span class='texttt'>T</span><a class='hidden_link' href='#unary.op-3.sentence-5'>.</a></div> <div id='unary.op-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#unary.op-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A { int i; };
struct B : A { };
... &amp;B::i ...       <span class='comment'>// has type <span class='tcode_in_codeblock'>int A&#x200b;::&#x200b;*</span>
</span>int a;
int* p1 = &amp;a;
int* p2 = p1 + 1;   <span class='comment'>// defined behavior
</span>bool b = p2 &gt; p1;   <span class='comment'>// defined behavior, with value <span class='tcode_in_codeblock'>true</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='unary.op-3.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#unary.op-3.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='unary.op-3.sentence-7' class='sentence'>A pointer to member formed from a <span class='texttt'>mutable</span> non-static data
member (<a href='dcl.stc'>[dcl.stc]</a>) does not reflect the <span class='texttt'>mutable</span> specifier
associated with the non-static data member<a class='hidden_link' href='#unary.op-3.sentence-7'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='unary.op-4'><div class='marginalizedparent'><a class='marginalized' href='#unary.op-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3449'>#</a></div><div id='unary.op-4.sentence-1' class='sentence'>A pointer to member is only formed when an explicit <span class='texttt'>&amp;</span> is used
and its operand is a <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> not enclosed in
parentheses<a class='hidden_link' href='#unary.op-4.sentence-1'>.</a></div> <div id='unary.op-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#unary.op-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='unary.op-4.sentence-2' class='sentence'>That is, the expression <span class='texttt'>&amp;(qualified-id)</span>, where the
<i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> is enclosed in parentheses, does not form an
expression of type “pointer to member”<a class='hidden_link' href='#unary.op-4.sentence-2'>.</a></div> <div id='unary.op-4.sentence-3' class='sentence'>Neither does
<span class='texttt'>qualified-id</span>, because there is no implicit conversion from a
<i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> for a non-static member function to the type
“pointer to member function” as there is from an lvalue of function
type to the type “pointer to function” (<a href='conv.func'>[conv.func]</a>)<a class='hidden_link' href='#unary.op-4.sentence-3'>.</a></div> <div id='unary.op-4.sentence-4' class='sentence'>Nor is
<span class='texttt'>&amp;unqualified-id</span> a pointer to member, even within the scope of
the <i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i>'s class<a class='hidden_link' href='#unary.op-4.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='unary.op-5'><div class='marginalizedparent'><a class='marginalized' href='#unary.op-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3465'>#</a></div><div id='unary.op-5.sentence-1' class='sentence'>If <span class='texttt'>&amp;</span> is applied to an lvalue of incomplete class type and the
complete type declares <span class='texttt'>operator&amp;()</span>, it is unspecified whether
the operator has the built-in meaning or the operator function is
called<a class='hidden_link' href='#unary.op-5.sentence-1'>.</a></div> <div id='unary.op-5.sentence-2' class='sentence'>The operand of <span class='texttt'>&amp;</span> shall not be a bit-field<a class='hidden_link' href='#unary.op-5.sentence-2'>.</a></div></div><div class='para' id='unary.op-6'><div class='marginalizedparent'><a class='marginalized' href='#unary.op-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3471'>#</a></div><div id='unary.op-6.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':overloaded_function,address_of'></a></span>The address of an <a href='over'>overloaded function</a> can be taken
only in a context that uniquely determines which version of the
overloaded function is referred to (see <a href='over.over'>[over.over]</a>)<a class='hidden_link' href='#unary.op-6.sentence-1'>.</a></div> <div id='unary.op-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#unary.op-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='unary.op-6.sentence-2' class='sentence'>Since the context might determine whether the operand is a static or
non-static member function, the context can also affect whether the
expression has type “pointer to function” or “pointer to member
function”<a class='hidden_link' href='#unary.op-6.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='unary.op-7'><div class='marginalizedparent'><a class='marginalized' href='#unary.op-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3483'>#</a></div><div id='unary.op-7.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':operator,unary_plus_'></a></span>The operand of the unary <span class='texttt'>+</span> operator shall have arithmetic, unscoped
enumeration, or pointer type and the result is the value of the
argument<a class='hidden_link' href='#unary.op-7.sentence-1'>.</a></div> <div id='unary.op-7.sentence-2' class='sentence'>Integral promotion is performed on integral or enumeration
operands<a class='hidden_link' href='#unary.op-7.sentence-2'>.</a></div> <div id='unary.op-7.sentence-3' class='sentence'>The type of the result is the type of the promoted operand<a class='hidden_link' href='#unary.op-7.sentence-3'>.</a></div></div><div class='para' id='unary.op-8'><div class='marginalizedparent'><a class='marginalized' href='#unary.op-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3490'>#</a></div><div id='unary.op-8.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':operator,unary_minus_'></a></span>The operand of the unary <span class='texttt'>-</span> operator shall have arithmetic or unscoped
enumeration type and the result is the negation of its operand<a class='hidden_link' href='#unary.op-8.sentence-1'>.</a></div> <div id='unary.op-8.sentence-2' class='sentence'>Integral
promotion is performed on integral or enumeration operands<a class='hidden_link' href='#unary.op-8.sentence-2'>.</a></div> <div id='unary.op-8.sentence-3' class='sentence'>The negative
of an unsigned quantity is computed by subtracting its value from <span class="mjx-chtml"><span class="mjx-math" aria-label="2^n"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.591em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span>,
where <span class='math'><span class='mathalpha'>n</span></span> is the number of bits in the promoted operand<a class='hidden_link' href='#unary.op-8.sentence-3'>.</a></div> <div id='unary.op-8.sentence-4' class='sentence'>The type of the
result is the type of the promoted operand<a class='hidden_link' href='#unary.op-8.sentence-4'>.</a></div></div><div class='para' id='unary.op-9'><div class='marginalizedparent'><a class='marginalized' href='#unary.op-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3499'>#</a></div><div id='unary.op-9.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':operator,logical_negation_'></a></span>The operand of the logical negation operator <span class='texttt'>!</span> is
<a href='conv#def:conversion,contextual_to_bool'>contextually converted to <span class='texttt'>bool</span></a>;
its value is <span class='texttt'>true</span>
if the converted operand is <span class='texttt'>false</span> and <span class='texttt'>false</span> otherwise<a class='hidden_link' href='#unary.op-9.sentence-1'>.</a></div> <div id='unary.op-9.sentence-2' class='sentence'>The type of the result is <span class='texttt'>bool</span><a class='hidden_link' href='#unary.op-9.sentence-2'>.</a></div></div><div class='para' id='unary.op-10'><div class='marginalizedparent'><a class='marginalized' href='#unary.op-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3508'>#</a></div><div id='unary.op-10.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':signed_integer_representation,ones&#39;_complement'></a></span><span class='indexparent'><a class='index' id=':operator,ones&#39;_complement_'></a></span>The operand of <span class='texttt'>~</span> shall have integral or unscoped enumeration type; the
result is the ones' complement of its operand<a class='hidden_link' href='#unary.op-10.sentence-1'>.</a></div> <div id='unary.op-10.sentence-2' class='sentence'>Integral promotions are
performed<a class='hidden_link' href='#unary.op-10.sentence-2'>.</a></div> <div id='unary.op-10.sentence-3' class='sentence'>The type of the result is the type of the promoted operand<a class='hidden_link' href='#unary.op-10.sentence-3'>.</a></div> <div id='unary.op-10.sentence-4' class='sentence'>There is an ambiguity
in the grammar when <span class='texttt'>~</span> is followed by
a <i ><a href='class#nt:class-name'>class-name</a></i> or <i ><a href='dcl.type.simple#nt:decltype-specifier'>decltype-specifier</a></i><a class='hidden_link' href='#unary.op-10.sentence-4'>.</a></div> <div id='unary.op-10.sentence-5' class='sentence'>The ambiguity is resolved by treating <span class='texttt'>~</span> as the unary complement
operator rather than as the start of an <i ><a href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a></i>
naming a destructor<a class='hidden_link' href='#unary.op-10.sentence-5'>.</a></div> <div id='unary.op-10.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#unary.op-10.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='unary.op-10.sentence-6' class='sentence'>Because the grammar does not permit an operator to follow the
<span class='texttt'>.</span>, <span class='texttt'>-&gt;</span>, or <span class='texttt'>&#x200b;::&#x200b;</span> tokens, a <span class='texttt'>~</span> followed by
a <i ><a href='class#nt:class-name'>class-name</a></i> or <i ><a href='dcl.type.simple#nt:decltype-specifier'>decltype-specifier</a></i> in a
member access expression or <i ><a href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a></i> is
unambiguously parsed as a destructor name<a class='hidden_link' href='#unary.op-10.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='pre.incr' class='section'><h4 ><a class='secnum' href='#pre.incr' style='min-width:118pt'>8.5.2.2</a> Increment and decrement <a class='abbr_ref' href='expr.pre.incr'>[expr.pre.incr]</a></h4><div class='para' id='pre.incr-1'><div class='marginalizedparent'><a class='marginalized' href='#pre.incr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3530'>#</a></div><div id='pre.incr-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':expression,increment_'></a></span><span class='indexparent'><a class='index' id=':expression,decrement_'></a></span>The operand of prefix <span class='texttt'>++</span>
<span class='indexparent'><a class='index' id=':operator,increment__'></a></span><span class='indexparent'><a class='index' id=':prefix_++'></a></span>is modified by adding <span class='texttt'>1</span><a class='hidden_link' href='#pre.incr-1.sentence-1'>.</a></div> <div id='pre.incr-1.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':prefix_--'></a></span>The operand shall be a modifiable lvalue<a class='hidden_link' href='#pre.incr-1.sentence-2'>.</a></div> <div id='pre.incr-1.sentence-3' class='sentence'>The type of the operand shall
be an arithmetic type other than <span class='textit'>cv</span> <span class='texttt'>bool</span>,
or a pointer to a completely-defined object type<a class='hidden_link' href='#pre.incr-1.sentence-3'>.</a></div> <div id='pre.incr-1.sentence-4' class='sentence'>The result is the updated operand; it is an lvalue, and it is a
bit-field if the operand is a bit-field<a class='hidden_link' href='#pre.incr-1.sentence-4'>.</a></div> <div id='pre.incr-1.sentence-5' class='sentence'>The expression <span class='texttt'>++x</span> is equivalent to <span class='texttt'>x+=1</span><a class='hidden_link' href='#pre.incr-1.sentence-5'>.</a></div> <span class='indexparent'><a class='index' id=':operator,+='></a></span><div id='pre.incr-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#pre.incr-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='pre.incr-1.sentence-6' class='sentence'>See the discussions of <a href='expr.add'>addition</a> and <a href='expr.ass'>assignment
operators</a> for information on conversions<a class='hidden_link' href='#pre.incr-1.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='pre.incr-2'><div class='marginalizedparent'><a class='marginalized' href='#pre.incr-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3550'>#</a></div><div id='pre.incr-2.sentence-1' class='sentence'>The operand of prefix
<span class='indexparent'><a class='index' id=':operator,decrement__'></a></span><span class='texttt'>--</span> is modified by subtracting <span class='texttt'>1</span><a class='hidden_link' href='#pre.incr-2.sentence-1'>.</a></div> <div id='pre.incr-2.sentence-2' class='sentence'>The requirements on the operand of prefix
<span class='texttt'>--</span> and the properties of its result are otherwise the same as
those of prefix <span class='texttt'>++</span><a class='hidden_link' href='#pre.incr-2.sentence-2'>.</a></div> <div id='pre.incr-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#pre.incr-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='pre.incr-2.sentence-3' class='sentence'>For postfix increment and decrement, see <a href='expr.post.incr'>[expr.post.incr]</a><a class='hidden_link' href='#pre.incr-2.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='sizeof' class='section'><h4 ><a class='secnum' href='#sizeof' style='min-width:118pt'>8.5.2.3</a> Sizeof <a class='abbr_ref' href='expr.sizeof'>[expr.sizeof]</a></h4><div class='para' id='sizeof-1'><div class='marginalizedparent'><a class='marginalized' href='#sizeof-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3563'>#</a></div><div id='sizeof-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':expression,sizeof'></a></span><span class='indexparent'><a class='index' id=':operator,sizeof_'></a></span><span class='indexparent'><a class='index' id=':byte'></a></span>The <span class='texttt'>sizeof</span> operator yields the number of bytes in the object
representation of its operand<a class='hidden_link' href='#sizeof-1.sentence-1'>.</a></div> <div id='sizeof-1.sentence-2' class='sentence'>The operand is either an expression,
which is an <a href='expr.prop#def:unevaluated_operand'>unevaluated operand</a>, or a parenthesized
<i ><a href='dcl.name#nt:type-id'>type-id</a></i><a class='hidden_link' href='#sizeof-1.sentence-2'>.</a></div> <div id='sizeof-1.sentence-3' class='sentence'><span class='indexparent'><a class='index' id=':type,incomplete______'></a></span>The <span class='texttt'>sizeof</span> operator shall not be applied to an expression that
has function or incomplete type,
to the parenthesized name of such
types, or to a glvalue that designates a bit-field<a class='hidden_link' href='#sizeof-1.sentence-3'>.</a></div> <div id='sizeof-1.sentence-4' class='sentence'><span class='texttt'>sizeof(char)</span>, <span class='texttt'>sizeof(signed char)</span> and
<span class='texttt'>sizeof(unsigned char)</span> are <span class='texttt'>1</span><a class='hidden_link' href='#sizeof-1.sentence-4'>.</a></div> <div id='sizeof-1.sentence-5' class='sentence'>The result of
<span class='texttt'>sizeof</span> applied to any other <a href='basic.fundamental'>fundamental
type</a> is <span class='indexparent'><a class='index' id=':sizeof_applied_to_fundamental_types_other_than_char,_signed_char,_and_unsigned_char'></a></span>implementation-defined<a class='hidden_link' href='#sizeof-1.sentence-5'>.</a></div> <div id='sizeof-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#sizeof-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='sizeof-1.sentence-6' class='sentence'>In particular, <span class='texttt'>sizeof(bool)</span>, <span class='texttt'>sizeof(char16_&shy;t)</span>,
<span class='texttt'>sizeof(char32_&shy;t)</span>, and <span class='texttt'>sizeof(wchar_&shy;t)</span> are
implementation-defined<a class='hidden_link' href='#sizeof-1.sentence-6'>.</a><a class='footnotenum' href='#footnote-77'>77</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='sizeof-1.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#sizeof-1.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='sizeof-1.sentence-7' class='sentence'>See <a href='intro.memory'>[intro.memory]</a> for the definition of <span class='textit'>byte</span>
and <a href='basic.types'>[basic.types]</a> for the definition of <span class='textit'>object representation</span><a class='hidden_link' href='#sizeof-1.sentence-7'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='sizeof-2'><div class='marginalizedparent'><a class='marginalized' href='#sizeof-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3592'>#</a></div><div id='sizeof-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':reference,sizeof'></a></span>When applied to a reference or a reference type, the result is the size
of the referenced type<a class='hidden_link' href='#sizeof-2.sentence-1'>.</a></div> <div id='sizeof-2.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':class_object,sizeof'></a></span>When applied to a class, the result is the number of bytes in an object
of that class including any padding required for placing objects of that
type in an array<a class='hidden_link' href='#sizeof-2.sentence-2'>.</a></div> <div id='sizeof-2.sentence-3' class='sentence'>The size of a <a href='intro.object#def:most_derived_class'>most derived class</a> shall be greater than
zero<a class='hidden_link' href='#sizeof-2.sentence-3'>.</a></div> <div id='sizeof-2.sentence-4' class='sentence'>The result of applying <span class='texttt'>sizeof</span> to a
base class subobject is the size of the base class type<a class='hidden_link' href='#sizeof-2.sentence-4'>.</a><a class='footnotenum' href='#footnote-78'>78</a></div> <div id='sizeof-2.sentence-5' class='sentence'><span class='indexparent'><a class='index' id=':array,sizeof'></a></span>When applied to an array, the result is the total number of bytes in the
array<a class='hidden_link' href='#sizeof-2.sentence-5'>.</a></div> <div id='sizeof-2.sentence-6' class='sentence'>This implies that the size of an array of <span class='math'><span class='mathalpha'>n</span></span> elements is
<span class='math'><span class='mathalpha'>n</span></span> times the size of an element<a class='hidden_link' href='#sizeof-2.sentence-6'>.</a></div></div><div class='para' id='sizeof-3'><div class='marginalizedparent'><a class='marginalized' href='#sizeof-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3610'>#</a></div><div id='sizeof-3.sentence-1' class='sentence'>The <span class='texttt'>sizeof</span> operator can be applied to a pointer to a function,
but shall not be applied directly to a function<a class='hidden_link' href='#sizeof-3.sentence-1'>.</a></div></div><div class='para' id='sizeof-4'><div class='marginalizedparent'><a class='marginalized' href='#sizeof-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3614'>#</a></div><div id='sizeof-4.sentence-1' class='sentence'>The <a href='conv.lval'>lvalue-to-rvalue</a>,
<a href='conv.array'>array-to-pointer</a>, and
<a href='conv.func'>function-to-pointer</a> standard conversions are not
applied to the operand of <span class='texttt'>sizeof</span><a class='hidden_link' href='#sizeof-4.sentence-1'>.</a></div> <div id='sizeof-4.sentence-2' class='sentence'>If the operand is a prvalue,
the <a href='conv.rval'>temporary materialization conversion</a>
is applied<a class='hidden_link' href='#sizeof-4.sentence-2'>.</a></div></div><div class='para' id='sizeof-5'><div class='marginalizedparent'><a class='marginalized' href='#sizeof-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3623'>#</a></div><div id='sizeof-5.sentence-1' class='sentence'>The identifier in a <span class='texttt'>sizeof...</span> expression shall name a parameter
pack<a class='hidden_link' href='#sizeof-5.sentence-1'>.</a></div> <div id='sizeof-5.sentence-2' class='sentence'>The <span class='texttt'>sizeof...</span> operator yields the number of arguments
provided for the parameter pack <i ><a href='lex.name#nt:identifier'>identifier</a></i><a class='hidden_link' href='#sizeof-5.sentence-2'>.</a></div> <div id='sizeof-5.sentence-3' class='sentence'>A <span class='texttt'>sizeof...</span> expression is a <a href='temp.variadic#def:pack_expansion'>pack expansion</a><a class='hidden_link' href='#sizeof-5.sentence-3'>.</a></div> <div id='sizeof-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#sizeof-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
template&lt;class... Types&gt;
struct count {
  static const std::size_t value = sizeof...(Types);
};</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='sizeof-6'><div class='marginalizedparent'><a class='marginalized' href='#sizeof-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3638'>#</a></div><div id='sizeof-6.sentence-1' class='sentence'>The result of <span class='texttt'>sizeof</span> and <span class='texttt'>sizeof...</span> is a constant of type
<span class='texttt'>std&#x200b;::&#x200b;size_&shy;t</span><a class='hidden_link' href='#sizeof-6.sentence-1'>.</a></div> <div id='sizeof-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#sizeof-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='sizeof-6.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':size_t'></a></span><span class='indexparent'><a class='index' id='lib:size_t'></a></span><span class='texttt'>std&#x200b;::&#x200b;size_&shy;t</span> is defined in the standard header
<span class='indexparent'><a class='index' id=':<cstddef>'></a></span><span class='indexparent'><a class='index' id=':<cstddef>'></a></span><span class='texttt'>&lt;cstddef&gt;</span> (<a href='cstddef.syn'>[cstddef.syn]</a>, <a href='support.types.layout'>[support.types.layout]</a>)<a class='hidden_link' href='#sizeof-6.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='footnote' id='footnote-77'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-77'>77)</a></div><div id='footnote-77.sentence-1' class='sentence'><span class='texttt'>sizeof(bool)</span> is not required to be <span class='texttt'>1</span><a class='hidden_link' href='#footnote-77.sentence-1'>.</a></div></div><div class='footnote' id='footnote-78'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-78'>78)</a></div><div id='footnote-78.sentence-1' class='sentence'>The actual
size of a base class subobject may be less than the result of
applying <span class='texttt'>sizeof</span> to the subobject, due to virtual base classes
and less strict padding requirements on base class subobjects<a class='hidden_link' href='#footnote-78.sentence-1'>.</a></div></div></div><div id='new' class='section'><h4 ><a class='secnum' href='#new' style='min-width:118pt'>8.5.2.4</a> New <a class='abbr_ref' href='expr.new'>[expr.new]</a></h4><div class='para' id='new-1'><div class='marginalizedparent'><a class='marginalized' href='#new-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3651'>#</a></div><div id='new-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':expression,new'></a></span><span class='indexparent'><a class='index' id=':new'></a></span>The <i ><a href='expr.new#nt:new-expression'>new-expression</a></i> attempts to create an object of the
<i ><a href='dcl.name#nt:type-id'>type-id</a></i> or <i ><a href='expr.new#nt:new-type-id'>new-type-id</a></i> to which
it is applied<a class='hidden_link' href='#new-1.sentence-1'>.</a></div> <div id='new-1.sentence-2' class='sentence'>The type of that object is the <a class='hidden_link' href='#def:type,allocated' id='def:type,allocated'><i >allocated type</i></a><a class='hidden_link' href='#new-1.sentence-2'>.</a></div> <div id='new-1.sentence-3' class='sentence'><span class='indexparent'><a class='index' id=':type,incomplete_______'></a></span>This type shall be a complete object type, but not an abstract class
type or array
thereof (<a href='intro.object'>[intro.object]</a>, <a href='basic.types'>[basic.types]</a>, <a href='class.abstract'>[class.abstract]</a>)<a class='hidden_link' href='#new-1.sentence-3'>.</a></div> <div id='new-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#new-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='new-1.sentence-4' class='sentence'>Because references are not objects, references cannot be created by
<i ><a href='expr.new#nt:new-expression'>new-expression</a></i><span class='textit'>s</span><a class='hidden_link' href='#new-1.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='new-1.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#new-1.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='new-1.sentence-5' class='sentence'>The <i ><a href='dcl.name#nt:type-id'>type-id</a></i> may be a cv-qualified type, in which case the
object created by the <i ><a href='expr.new#nt:new-expression'>new-expression</a></i> has a cv-qualified type<a class='hidden_link' href='#new-1.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> <pre class='bnf'><a class='nontermdef' href='#nt:new-expression' id='nt:new-expression'>new-expression:</a>
&#9;<span class='terminal'>::</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>new</span> <i ><a href='expr.new#nt:new-placement'>new-placement</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <i ><a href='expr.new#nt:new-type-id'>new-type-id</a></i> <i ><a href='expr.new#nt:new-initializer'>new-initializer</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> 
&#9;<span class='terminal'>::</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>new</span> <i ><a href='expr.new#nt:new-placement'>new-placement</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>(</span> <i ><a href='dcl.name#nt:type-id'>type-id</a></i> <span class='terminal'>)</span> <i ><a href='expr.new#nt:new-initializer'>new-initializer</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><span class='indexparent'><a class='index' id=':new,storage_allocation'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:new-placement' id='nt:new-placement'>new-placement:</a>
&#9;<span class='terminal'>(</span> <i ><a href='expr.post#nt:expression-list'>expression-list</a></i> <span class='terminal'>)</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:new-type-id' id='nt:new-type-id'>new-type-id:</a>
&#9;<i ><a href='dcl.type#nt:type-specifier-seq'>type-specifier-seq</a></i> <i ><a href='expr.new#nt:new-declarator'>new-declarator</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:new-declarator' id='nt:new-declarator'>new-declarator:</a>
&#9;<i ><a href='dcl.decl#nt:ptr-operator'>ptr-operator</a></i> <i ><a href='expr.new#nt:new-declarator'>new-declarator</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> 
&#9;<i ><a href='expr.new#nt:noptr-new-declarator'>noptr-new-declarator</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:noptr-new-declarator' id='nt:noptr-new-declarator'>noptr-new-declarator:</a>
&#9;<span class='terminal'>[</span> <i ><a href='expr.comma#nt:expression'>expression</a></i> <span class='terminal'>]</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<i ><a href='expr.new#nt:noptr-new-declarator'>noptr-new-declarator</a></i> <span class='terminal'>[</span> <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i> <span class='terminal'>]</span> <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:new-initializer' id='nt:new-initializer'>new-initializer:</a>
&#9;<span class='terminal'>(</span> <i ><a href='expr.post#nt:expression-list'>expression-list</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>)</span>
&#9;<i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i>
</pre><div id='new-1.sentence-6' class='sentence'><span class='indexparent'><a class='index' id=':storage_duration,dynamic'></a></span>Entities created by a <i ><a href='expr.new#nt:new-expression'>new-expression</a></i> have
<a href='basic.stc.dynamic'>dynamic storage duration</a><a class='hidden_link' href='#new-1.sentence-6'>.</a></div> <div id='new-1.note-3' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#new-1.note-3'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='new-1.sentence-9' class='sentence'><span class='indexparent'><a class='index' id=':new,scoping_and'></a></span>The lifetime of such an entity is not necessarily restricted to the
scope in which it is created<a class='hidden_link' href='#new-1.sentence-9'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='new-1.sentence-7' class='sentence'>
If the entity is a non-array object, the result of the <i ><a href='expr.new#nt:new-expression'>new-expression</a></i>
is a pointer to the object created<a class='hidden_link' href='#new-1.sentence-7'>.</a></div> <div id='new-1.sentence-8' class='sentence'>If it is an array, the result of the
<i ><a href='expr.new#nt:new-expression'>new-expression</a></i> is a pointer to the initial element of
the array<a class='hidden_link' href='#new-1.sentence-8'>.</a></div></div><div class='para' id='new-2'><div class='marginalizedparent'><a class='marginalized' href='#new-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3722'>#</a></div><div id='new-2.sentence-1' class='sentence'>If a <a href='dcl.spec.auto'>placeholder type</a> appears in the
<i ><a href='dcl.type#nt:type-specifier-seq'>type-specifier-seq</a></i> of a <i ><a href='expr.new#nt:new-type-id'>new-type-id</a></i> or
<i ><a href='dcl.name#nt:type-id'>type-id</a></i> of a <i ><a href='expr.new#nt:new-expression'>new-expression</a></i>,
the allocated type is deduced as follows:
Let
<span class='textit'>init</span> be the <i ><a href='expr.new#nt:new-initializer'>new-initializer</a></i>, if any,
and
<span class='texttt'>T</span> be the <i ><a href='expr.new#nt:new-type-id'>new-type-id</a></i> or <i ><a href='dcl.name#nt:type-id'>type-id</a></i> of
the <i ><a href='expr.new#nt:new-expression'>new-expression</a></i>, then the allocated type is the type
deduced for the variable <span class='texttt'>x</span> in the invented
declaration (<a href='dcl.spec.auto'>[dcl.spec.auto]</a>):</div><pre class='codeblock'>
T x <span class='textrm'><span class='textit'>init</span></span> ;</pre><div id='new-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#new-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
new auto(1);                    <span class='comment'>// allocated type is <span class='tcode_in_codeblock'>int</span>
</span>auto x = new auto('a');         <span class='comment'>// allocated type is <span class='tcode_in_codeblock'>char</span>, <span class='tcode_in_codeblock'>x</span> is of type <span class='tcode_in_codeblock'>char*</span>
</span>
template&lt;class T&gt; struct A { A(T, T); };
auto y = new A{1, 2};           <span class='comment'>// allocated type is <span class='tcode_in_codeblock'>A&lt;int&gt;</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='new-3'><div class='marginalizedparent'><a class='marginalized' href='#new-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3749'>#</a></div><div id='new-3.sentence-1' class='sentence'>The <i ><a href='expr.new#nt:new-type-id'>new-type-id</a></i> in a <i ><a href='expr.new#nt:new-expression'>new-expression</a></i> is the longest
possible sequence of <i ><a href='expr.new#nt:new-declarator'>new-declarator</a></i><span class='textit'>s</span><a class='hidden_link' href='#new-3.sentence-1'>.</a></div> <div id='new-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#new-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='new-3.sentence-2' class='sentence'>This prevents ambiguities between the declarator operators <span class='texttt'>&amp;</span>, <span class='texttt'>&amp;&amp;</span>,
<span class='texttt'>*</span>, and <span class='texttt'>[]</span> and their expression counterparts<a class='hidden_link' href='#new-3.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='new-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#new-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
new int * i;                    <span class='comment'>// syntax error: parsed as <span class='tcode_in_codeblock'>(new int*) i</span>, not as <span class='tcode_in_codeblock'>(new int)*i</span>
</span></pre> <div id='new-3.sentence-3' class='sentence'>
The <span class='texttt'>*</span> is the pointer declarator and not the multiplication
operator<a class='hidden_link' href='#new-3.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='new-4'><div class='marginalizedparent'><a class='marginalized' href='#new-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3764'>#</a></div><div id='new-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#new-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='new-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':ambiguity,parentheses_and'></a></span>Parentheses in a <i ><a href='expr.new#nt:new-type-id'>new-type-id</a></i> of a <i ><a href='expr.new#nt:new-expression'>new-expression</a></i>
can have surprising effects<a class='hidden_link' href='#new-4.sentence-1'>.</a></div> <div id='new-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#new-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
new int(*[10])();               <span class='comment'>// error
</span></pre> <div id='new-4.sentence-2' class='sentence'>
is ill-formed because the binding is
<pre class='codeblock'>
(new int) (*[10])();            <span class='comment'>// error
</span></pre></div><div id='new-4.sentence-3' class='sentence'>Instead, the explicitly parenthesized version of the <span class='texttt'>new</span>
operator can be used to create objects of <a href='basic.compound'>compound
types</a>:
<pre class='codeblock'>
new (int (*[10])());</pre>
allocates an array of <span class='texttt'>10</span> pointers to functions (taking no
argument and returning <span class='texttt'>int</span>)<a class='hidden_link' href='#new-4.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='new-5'><div class='marginalizedparent'><a class='marginalized' href='#new-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3789'>#</a></div><div id='new-5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':array,new'></a></span>When the allocated object is an array (that is, the
<i ><a href='expr.new#nt:noptr-new-declarator'>noptr-new-declarator</a></i> syntax is used or the
<i ><a href='expr.new#nt:new-type-id'>new-type-id</a></i> or <i ><a href='dcl.name#nt:type-id'>type-id</a></i> denotes an array type), the
<i ><a href='expr.new#nt:new-expression'>new-expression</a></i> yields a pointer to the initial element (if
any) of the array<a class='hidden_link' href='#new-5.sentence-1'>.</a></div> <div id='new-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#new-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='new-5.sentence-3' class='sentence'>Both <span class='texttt'>new int</span> and <span class='texttt'>new int[10]</span> have type <span class='texttt'>int*</span> and
the type of <span class='texttt'>new int[i][10]</span> is <span class='texttt'>int (*)[10]</span></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='new-5.sentence-2' class='sentence'>
The <i ><a href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a></i> in a <i ><a href='expr.new#nt:noptr-new-declarator'>noptr-new-declarator</a></i> appertains
to the associated array type<a class='hidden_link' href='#new-5.sentence-2'>.</a></div></div><div class='para' id='new-6'><div class='marginalizedparent'><a class='marginalized' href='#new-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3803'>#</a></div><div id='new-6.sentence-1' class='sentence'>Every <i ><a href='expr.const#nt:constant-expression'>constant-expression</a></i> in a
<i ><a href='expr.new#nt:noptr-new-declarator'>noptr-new-declarator</a></i> shall be a
<a href='expr.const#def:expression,converted_constant'>converted constant expression</a>
of type <span class='texttt'>std&#x200b;::&#x200b;size_&shy;t</span> and
shall evaluate to a strictly positive value<a class='hidden_link' href='#new-6.sentence-1'>.</a></div> <div id='new-6.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':new_'></a></span>The <i ><a href='expr.comma#nt:expression'>expression</a></i> in a <i ><a href='expr.new#nt:noptr-new-declarator'>noptr-new-declarator</a></i> is
implicitly converted to <span class='texttt'>std&#x200b;::&#x200b;size_&shy;t</span><a class='hidden_link' href='#new-6.sentence-2'>.</a></div> <div id='new-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#new-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='new-6.sentence-3' class='sentence'>Given the definition <span class='texttt'>int n = 42</span>,
<span class='texttt'>new float[n][5]</span> is well-formed (because <span class='texttt'>n</span> is the
<i ><a href='expr.comma#nt:expression'>expression</a></i> of a <i ><a href='expr.new#nt:noptr-new-declarator'>noptr-new-declarator</a></i>), but
<span class='texttt'>new float[5][n]</span> is ill-formed (because <span class='texttt'>n</span> is not a
constant expression)<a class='hidden_link' href='#new-6.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='new-7'><div class='marginalizedparent'><a class='marginalized' href='#new-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3820'>#</a></div><div id='new-7.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':function,allocation'></a></span>The <i ><a href='expr.comma#nt:expression'>expression</a></i> in a <i ><a href='expr.new#nt:noptr-new-declarator'>noptr-new-declarator</a></i> is
erroneous if:</div><div id='new-7.sentence-2' class='sentence'><ul class='itemize'><li id='new-7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#new-7.1'>(7.1)</a></div><div id='new-7.1.sentence-1' class='sentence'>the expression is of non-class type and its value before converting to
<span class='texttt'>std&#x200b;::&#x200b;size_&shy;t</span> is less than zero;</div></li><li id='new-7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#new-7.2'>(7.2)</a></div><div id='new-7.2.sentence-1' class='sentence'>the expression is of class type and its value before application of the second
standard conversion (<a href='over.ics.user'>[over.ics.user]</a>)<a class='footnotenum' href='#footnote-79'>79</a> is less than zero;</div></li><li id='new-7.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#new-7.3'>(7.3)</a></div><div id='new-7.3.sentence-1' class='sentence'>its value is such that the size of the allocated object would exceed the
<span class='indexparent'><a class='index' id=':maximum_size_of_an_allocated_object'></a></span>implementation-defined <a href='implimits'>limit</a>; or</div></li><li id='new-7.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#new-7.4'>(7.4)</a></div><div id='new-7.4.sentence-1' class='sentence'>the <i ><a href='expr.new#nt:new-initializer'>new-initializer</a></i> is a <i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i> and the
number of array elements for which initializers are provided (including the
terminating <span class='texttt'>'\0'</span> in a <a href='lex.string'>string literal</a>) exceeds the
number of elements to initialize<a class='hidden_link' href='#new-7.4.sentence-1'>.</a></div></li></ul></div><div id='new-7.sentence-3' class='sentence'>If the <i ><a href='expr.comma#nt:expression'>expression</a></i> is erroneous after converting to <span class='texttt'>std&#x200b;::&#x200b;size_&shy;t</span>:
<ul class='itemize'><li id='new-7.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#new-7.5'>(7.5)</a></div><div id='new-7.5.sentence-1' class='sentence'>if the <i ><a href='expr.comma#nt:expression'>expression</a></i> is a core constant expression,
the program is ill-formed;</div></li><li id='new-7.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#new-7.6'>(7.6)</a></div><div id='new-7.6.sentence-1' class='sentence'>otherwise, an allocation function is not called; instead
<ul class='itemize'><li id='new-7.6.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#new-7.6.1'>(7.6.1)</a></div><div id='new-7.6.1.sentence-1' class='sentence'>if the allocation function that would have been called
has a non-throwing exception specification (<a href='except.spec'>[except.spec]</a>),
the value of the <i ><a href='expr.new#nt:new-expression'>new-expression</a></i>
is the null pointer value of the required result type;</div></li><li id='new-7.6.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#new-7.6.2'>(7.6.2)</a></div><div id='new-7.6.2.sentence-1' class='sentence'>otherwise, the <i ><a href='expr.new#nt:new-expression'>new-expression</a></i> terminates by throwing an
exception of a type that would match a handler (<a href='except.handle'>[except.handle]</a>) of type
<a href='new.badlength'><span class='texttt'>std&#x200b;::&#x200b;bad_&shy;array_&shy;new_&shy;length</span></a><a class='hidden_link' href='#new-7.6.2.sentence-1'>.</a></div></li></ul></div></li></ul></div> <div id='new-7.sentence-4' class='sentence'>
When the value of the <i ><a href='expr.comma#nt:expression'>expression</a></i> is zero, the allocation
function is called to allocate an array with no elements<a class='hidden_link' href='#new-7.sentence-4'>.</a></div></div><div class='para' id='new-8'><div class='marginalizedparent'><a class='marginalized' href='#new-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3870'>#</a></div><div id='new-8.sentence-1' class='sentence'>A <i ><a href='expr.new#nt:new-expression'>new-expression</a></i> may obtain storage for the object by calling an
allocation function (<a href='basic.stc.dynamic.allocation'>[basic.stc.dynamic.allocation]</a>)<a class='hidden_link' href='#new-8.sentence-1'>.</a></div> <div id='new-8.sentence-2' class='sentence'>If
the <i ><a href='expr.new#nt:new-expression'>new-expression</a></i> terminates by throwing an exception, it
may release storage by calling a <a href='basic.stc.dynamic.deallocation'>deallocation
function</a><a class='hidden_link' href='#new-8.sentence-2'>.</a></div> <div id='new-8.sentence-3' class='sentence'>If the allocated type
is a non-array type, the allocation function's name is
<span class='indexparent'><a class='index' id=':operator_new'></a></span><span class='indexparent'><a class='index' id=':operator_delete'></a></span><span class='texttt'>operator new</span> and the deallocation function's name is
<span class='texttt'>operator delete</span><a class='hidden_link' href='#new-8.sentence-3'>.</a></div> <div id='new-8.sentence-4' class='sentence'>If the allocated type is an array type, the
allocation function's name is
<span class='indexparent'><a class='index' id=':operator_new_'></a></span><span class='indexparent'><a class='index' id=':operator_delete_'></a></span><span class='texttt'>operator new[]</span>
and the deallocation function's name is
<span class='texttt'>operator delete[]</span><a class='hidden_link' href='#new-8.sentence-4'>.</a></div> <div id='new-8.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#new-8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='new-8.sentence-5' class='sentence'>An implementation shall provide default definitions for the global
allocation
functions (<a href='basic.stc.dynamic'>[basic.stc.dynamic]</a>, <a href='new.delete.single'>[new.delete.single]</a>, <a href='new.delete.array'>[new.delete.array]</a>)<a class='hidden_link' href='#new-8.sentence-5'>.</a></div> <div id='new-8.sentence-6' class='sentence'>A C++ program can provide alternative definitions of
these functions (<a href='replacement.functions'>[replacement.functions]</a>) and/or class-specific
versions (<a href='class.free'>[class.free]</a>)<a class='hidden_link' href='#new-8.sentence-6'>.</a></div> <div id='new-8.sentence-7' class='sentence'>The set of allocation and deallocation functions that may be called
by a <i ><a href='expr.new#nt:new-expression'>new-expression</a></i>
may include functions that do not perform allocation or deallocation;
for example, see <a href='new.delete.placement'>[new.delete.placement]</a><a class='hidden_link' href='#new-8.sentence-7'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='new-9'><div class='marginalizedparent'><a class='marginalized' href='#new-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3900'>#</a></div><div id='new-9.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':operator,scope_resolution__'></a></span>If the <i ><a href='expr.new#nt:new-expression'>new-expression</a></i> begins with a unary <span class='texttt'>&#x200b;::&#x200b;</span>
operator, the allocation function's name is looked up in the global
scope<a class='hidden_link' href='#new-9.sentence-1'>.</a></div> <div id='new-9.sentence-2' class='sentence'>Otherwise, if the allocated type is a class type <span class='texttt'>T</span> or
array thereof, the allocation function's name is looked up in the scope
of <span class='texttt'>T</span><a class='hidden_link' href='#new-9.sentence-2'>.</a></div> <div id='new-9.sentence-3' class='sentence'>If this lookup fails to find the name, or if the allocated
type is not a class type, the allocation function's name is looked up in
the global scope<a class='hidden_link' href='#new-9.sentence-3'>.</a></div></div><div class='para' id='new-10'><div class='marginalizedparent'><a class='marginalized' href='#new-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3910'>#</a></div><div id='new-10.sentence-1' class='sentence'>An implementation is allowed to omit a call to a replaceable global allocation
function (<a href='new.delete.single'>[new.delete.single]</a>, <a href='new.delete.array'>[new.delete.array]</a>)<a class='hidden_link' href='#new-10.sentence-1'>.</a></div> <div id='new-10.sentence-2' class='sentence'>When it does so,
the storage is instead provided by the implementation or provided by extending
the allocation of another <i ><a href='expr.new#nt:new-expression'>new-expression</a></i><a class='hidden_link' href='#new-10.sentence-2'>.</a></div> <div id='new-10.sentence-3' class='sentence'>The implementation may
extend the allocation of a <i ><a href='expr.new#nt:new-expression'>new-expression</a></i> <span class='texttt'>e1</span> to provide
storage for a <i ><a href='expr.new#nt:new-expression'>new-expression</a></i> <span class='texttt'>e2</span> if the
following would be true were the allocation not extended:</div><div id='new-10.sentence-4' class='sentence'><ul class='itemize'><li id='new-10.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#new-10.1'>(10.1)</a></div><div id='new-10.1.sentence-1' class='sentence'>the evaluation of <span class='texttt'>e1</span> is sequenced before the evaluation of
<span class='texttt'>e2</span>, and</div></li><li id='new-10.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#new-10.2'>(10.2)</a></div><div id='new-10.2.sentence-1' class='sentence'><span class='texttt'>e2</span> is evaluated whenever <span class='texttt'>e1</span> obtains storage, and</div></li><li id='new-10.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#new-10.3'>(10.3)</a></div><div id='new-10.3.sentence-1' class='sentence'>both <span class='texttt'>e1</span> and <span class='texttt'>e2</span> invoke the same replaceable global
allocation function, and</div></li><li id='new-10.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#new-10.4'>(10.4)</a></div><div id='new-10.4.sentence-1' class='sentence'>if the allocation function invoked by <span class='texttt'>e1</span> and <span class='texttt'>e2</span> is
throwing, any exceptions thrown in the evaluation of either <span class='texttt'>e1</span> or
<span class='texttt'>e2</span> would be first caught in the same handler, and</div></li><li id='new-10.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#new-10.5'>(10.5)</a></div><div id='new-10.5.sentence-1' class='sentence'>the pointer values produced by <span class='texttt'>e1</span> and <span class='texttt'>e2</span> are operands to
evaluated <i ><a href='expr.delete#nt:delete-expression'>delete-expression</a></i><span class='textit'>s</span>, and</div></li><li id='new-10.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#new-10.6'>(10.6)</a></div><div id='new-10.6.sentence-1' class='sentence'>the evaluation of <span class='texttt'>e2</span> is sequenced before the evaluation of the
<i ><a href='expr.delete#nt:delete-expression'>delete-expression</a></i> whose operand is the pointer value produced
by <span class='texttt'>e1</span><a class='hidden_link' href='#new-10.6.sentence-1'>.</a></div></li></ul></div><div id='new-10.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#new-10.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
  void mergeable(int x) {
    <span class='comment'>// These allocations are safe for merging:
</span>    std::unique_ptr&lt;char[]&gt; a{new (std::nothrow) char[8]};
    std::unique_ptr&lt;char[]&gt; b{new (std::nothrow) char[8]};
    std::unique_ptr&lt;char[]&gt; c{new (std::nothrow) char[x]};

    g(a.get(), b.get(), c.get());
  }

  void unmergeable(int x) {
    std::unique_ptr&lt;char[]&gt; a{new char[8]};
    try {
      <span class='comment'>// Merging this allocation would change its catch handler.
</span>      std::unique_ptr&lt;char[]&gt; b{new char[x]};
    } catch (const std::bad_alloc&amp; e) {
      std::cerr &lt;&lt; "Allocation failed: " &lt;&lt; e.what() &lt;&lt; std::endl;
      throw;
    }
  }</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='new-11'><div class='marginalizedparent'><a class='marginalized' href='#new-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3964'>#</a></div><div id='new-11.sentence-1' class='sentence'>When a <i ><a href='expr.new#nt:new-expression'>new-expression</a></i> calls an allocation function and that
allocation has not been extended, the
<i ><a href='expr.new#nt:new-expression'>new-expression</a></i> passes the amount of space requested to the
allocation function as the first argument of type
<span class='texttt'>std&#x200b;::&#x200b;size_&shy;t</span><a class='hidden_link' href='#new-11.sentence-1'>.</a></div> <div id='new-11.sentence-2' class='sentence'>That argument shall be no less than the size
of the object being created; it may be greater than the size of the
object being created only if the object is an array<a class='hidden_link' href='#new-11.sentence-2'>.</a></div> <div id='new-11.sentence-3' class='sentence'>For arrays of
<span class='texttt'>char</span>, <span class='texttt'>unsigned char</span>, and <span class='texttt'>std&#x200b;::&#x200b;byte</span>,
the difference between the
result of the <i ><a href='expr.new#nt:new-expression'>new-expression</a></i> and the address returned by the
allocation function shall be an integral multiple of the
strictest fundamental
<a href='basic.align'>alignment requirement</a> of any object type whose size
is no greater than the size of the array being created<a class='hidden_link' href='#new-11.sentence-3'>.</a></div> <div id='new-11.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#new-11.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='new-11.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':allocation,alignment_storage'></a></span>Because allocation functions are assumed to return pointers to storage
that is appropriately aligned for objects of any type
with fundamental alignment, this constraint
on array allocation overhead permits the common idiom of allocating
character arrays into which objects of other types will later be placed<a class='hidden_link' href='#new-11.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='new-12'><div class='marginalizedparent'><a class='marginalized' href='#new-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3988'>#</a></div><div id='new-12.sentence-1' class='sentence'>When a <i ><a href='expr.new#nt:new-expression'>new-expression</a></i> calls an allocation function and that
allocation has been extended, the size argument to the allocation call shall
be no greater than the sum of the sizes for the omitted calls as specified
above, plus the size for the extended call had it not been extended, plus any
padding necessary to align the allocated objects within the allocated memory<a class='hidden_link' href='#new-12.sentence-1'>.</a></div></div><div class='para' id='new-13'><div class='marginalizedparent'><a class='marginalized' href='#new-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L3995'>#</a></div><div id='new-13.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':placement_syntax,new'></a></span><span class='indexparent'><a class='index' id=':new-expression,placement'></a></span>The <i ><a href='expr.new#nt:new-placement'>new-placement</a></i> syntax is used to supply additional
arguments to an allocation function; such an expression is called
a <a class='hidden_link' href='#def:placement_new-expression' id='def:placement_new-expression'><i >placement <i >new-expression</i></i></a>.</div></div><div class='para' id='new-14'><div class='marginalizedparent'><a class='marginalized' href='#new-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4002'>#</a></div><div id='new-14.sentence-1' class='sentence'>Overload resolution is
performed on a function call created by assembling an argument list<a class='hidden_link' href='#new-14.sentence-1'>.</a></div> <div id='new-14.sentence-2' class='sentence'>The first argument is
the amount of space requested,
and has type <span class='texttt'>std&#x200b;::&#x200b;size_&shy;t</span><a class='hidden_link' href='#new-14.sentence-2'>.</a></div> <div id='new-14.sentence-3' class='sentence'>If the type of the allocated object has new-extended alignment,
the next argument is
the type's alignment,
and has type <span class='texttt'>std&#x200b;::&#x200b;align_&shy;val_&shy;t</span><a class='hidden_link' href='#new-14.sentence-3'>.</a></div> <div id='new-14.sentence-4' class='sentence'>If the <i ><a href='expr.new#nt:new-placement'>new-placement</a></i> syntax is used,
the <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i><span class='textit'>s</span>
in its <i ><a href='expr.post#nt:expression-list'>expression-list</a></i>
are the succeeding arguments<a class='hidden_link' href='#new-14.sentence-4'>.</a></div> <div id='new-14.sentence-5' class='sentence'>If no matching function is found
and the allocated object type has new-extended alignment,
the alignment argument is removed from the argument list,
and overload resolution is performed again<a class='hidden_link' href='#new-14.sentence-5'>.</a></div></div><div class='para' id='new-15'><div class='marginalizedparent'><a class='marginalized' href='#new-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4021'>#</a></div><div id='new-15.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#new-15.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='new-15.sentence-1' class='sentence'><ul class='itemize'><li ><div id='new-15.sentence-1' class='sentence'><span class='texttt'>new T</span> results in one of the following calls:
<pre class='codeblock'>
operator new(sizeof(T))
operator new(sizeof(T), std::align_val_t(alignof(T)))</pre></div></li><li ><div id='new-15.sentence-1' class='sentence'><span class='texttt'>new(2,f) T</span> results in one of the following calls:
<pre class='codeblock'>
operator new(sizeof(T), 2, f)
operator new(sizeof(T), std::align_val_t(alignof(T)), 2, f)</pre></div></li><li ><div id='new-15.sentence-1' class='sentence'><span class='texttt'>new T[5]</span> results in one of the following calls:
<pre class='codeblock'>
operator new[](sizeof(T) * 5 + x)
operator new[](sizeof(T) * 5 + x, std::align_val_t(alignof(T)))</pre></div></li><li ><div id='new-15.sentence-1' class='sentence'><span class='texttt'>new(2,f) T[5]</span> results in one of the following calls:
<pre class='codeblock'>
operator new[](sizeof(T) * 5 + x, 2, f)
operator new[](sizeof(T) * 5 + x, std::align_val_t(alignof(T)), 2, f)</pre></div></li></ul>
Here, each instance of <span class='texttt'>x</span> is a non-negative unspecified value
representing array allocation overhead; the result of the
<i ><a href='expr.new#nt:new-expression'>new-expression</a></i> will be offset by this amount from the value
returned by <span class='texttt'>operator new[]</span><a class='hidden_link' href='#new-15.sentence-1'>.</a></div> <div id='new-15.sentence-2' class='sentence'>This overhead may be applied in all
array <i ><a href='expr.new#nt:new-expression'>new-expression</a></i><span class='textit'>s</span>, including those referencing the
library function <span class='texttt'>operator new[](std&#x200b;::&#x200b;size_&shy;t, void*)</span> and other
placement allocation functions<a class='hidden_link' href='#new-15.sentence-2'>.</a></div> <div id='new-15.sentence-3' class='sentence'>The amount of overhead may vary from one
invocation of <span class='texttt'>new</span> to another<a class='hidden_link' href='#new-15.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='new-16'><div class='marginalizedparent'><a class='marginalized' href='#new-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4056'>#</a></div><div id='new-16.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#new-16.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='new-16.sentence-3' class='sentence'>Unless an allocation function has a non-throwing
<a href='except.spec'>exception specification</a>,
it indicates failure to allocate storage by throwing a
<span class='indexparent'><a class='index' id=':bad_alloc'></a></span><span class='indexparent'><a class='index' id='lib:bad_alloc'></a></span><span class='texttt'>std&#x200b;::&#x200b;bad_&shy;alloc</span> exception (<a href='basic.stc.dynamic.allocation'>[basic.stc.dynamic.allocation]</a>,
<a href='except'>[except]</a>, <a href='bad.alloc'>[bad.alloc]</a>);
it returns a non-null pointer otherwise<a class='hidden_link' href='#new-16.sentence-3'>.</a></div> <div id='new-16.sentence-4' class='sentence'>If the allocation function
has a non-throwing exception specification,
it returns null to indicate failure to allocate storage
and a non-null pointer otherwise<a class='hidden_link' href='#new-16.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='new-16.sentence-1' class='sentence'>
If the allocation function is a non-allocating
form (<a href='new.delete.placement'>[new.delete.placement]</a>) that returns null,
the behavior is undefined<a class='hidden_link' href='#new-16.sentence-1'>.</a></div> <div id='new-16.sentence-2' class='sentence'>Otherwise,
if the allocation function returns null, initialization shall not be
done, the deallocation function shall not be called, and the value of
the <i ><a href='expr.new#nt:new-expression'>new-expression</a></i> shall be null<a class='hidden_link' href='#new-16.sentence-2'>.</a></div></div><div class='para' id='new-17'><div class='marginalizedparent'><a class='marginalized' href='#new-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4078'>#</a></div><div id='new-17.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#new-17.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='new-17.sentence-1' class='sentence'>When the allocation function returns a value other than null, it must be
a pointer to a block of storage in which space for the object has been
reserved<a class='hidden_link' href='#new-17.sentence-1'>.</a></div> <div id='new-17.sentence-2' class='sentence'>The block of storage is assumed to be appropriately aligned
and of the requested size<a class='hidden_link' href='#new-17.sentence-2'>.</a></div> <div id='new-17.sentence-3' class='sentence'>The address of the created object will not
necessarily be the same as that of the block if the object is an array<a class='hidden_link' href='#new-17.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='new-18'><div class='marginalizedparent'><a class='marginalized' href='#new-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4087'>#</a></div><div id='new-18.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':new,array_of_class_objects_and'></a></span><span class='indexparent'><a class='index' id=':new,initialization_and'></a></span><span class='indexparent'><a class='index' id=':new,constructor_and'></a></span><span class='indexparent'><a class='index' id=':new,default_constructor_and'></a></span><span class='indexparent'><a class='index' id=':trivial_type'></a></span><span class='indexparent'><a class='index' id=':trivial_class_type'></a></span>A <i ><a href='expr.new#nt:new-expression'>new-expression</a></i> that creates an object of type <span class='texttt'>T</span>
initializes that object as follows:</div><div id='new-18.sentence-2' class='sentence'><ul class='itemize'><li id='new-18.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#new-18.1'>(18.1)</a></div><div id='new-18.1.sentence-1' class='sentence'>If the <i ><a href='expr.new#nt:new-initializer'>new-initializer</a></i> is omitted, the object is
default-initialized (<a href='dcl.init'>[dcl.init]</a>)<a class='hidden_link' href='#new-18.1.sentence-1'>.</a></div> <div id='new-18.1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#new-18.1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='new-18.1.sentence-2' class='sentence'>If no initialization
is performed, the object has an indeterminate value<a class='hidden_link' href='#new-18.1.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </li><li id='new-18.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#new-18.2'>(18.2)</a></div><div id='new-18.2.sentence-1' class='sentence'>Otherwise, the <i ><a href='expr.new#nt:new-initializer'>new-initializer</a></i> is interpreted according to
the initialization rules of <a href='dcl.init'>[dcl.init]</a> for direct-initialization<a class='hidden_link' href='#new-18.2.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='new-19'><div class='marginalizedparent'><a class='marginalized' href='#new-19'>19</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4107'>#</a></div><div id='new-19.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':new,unspecified_order_of_evaluation'></a></span><span class='indexparent'><a class='index' id=':new,unspecified_constructor_and'></a></span>The invocation of the allocation function is sequenced before
the evaluations of expressions in the <i ><a href='expr.new#nt:new-initializer'>new-initializer</a></i><a class='hidden_link' href='#new-19.sentence-1'>.</a></div> <div id='new-19.sentence-2' class='sentence'>Initialization of
the allocated object is sequenced before the
<span class='indexparent'><a class='index' id=':value_computation_'></a></span>value computation of the
<i ><a href='expr.new#nt:new-expression'>new-expression</a></i><a class='hidden_link' href='#new-19.sentence-2'>.</a></div></div><div class='para' id='new-20'><div class='marginalizedparent'><a class='marginalized' href='#new-20'>20</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4117'>#</a></div><div id='new-20.sentence-1' class='sentence'>If the <i ><a href='expr.new#nt:new-expression'>new-expression</a></i> creates an object or an array of
objects of class type, access and ambiguity control are done for the
allocation function, the <a href='class.free'>deallocation function</a>, and
the <a href='class.ctor'>constructor</a><a class='hidden_link' href='#new-20.sentence-1'>.</a></div> <div id='new-20.sentence-2' class='sentence'>If the <i ><a href='expr.new#nt:new-expression'>new-expression</a></i>
creates an array of objects of class type, the <a href='class.dtor'>destructor</a>
is potentially invoked<a class='hidden_link' href='#new-20.sentence-2'>.</a></div></div><div class='para' id='new-21'><div class='marginalizedparent'><a class='marginalized' href='#new-21'>21</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4125'>#</a></div><div id='new-21.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':new,exception_and'></a></span>If any part of the object initialization described above<a class='footnotenum' href='#footnote-80'>80</a>
terminates by throwing an exception and a suitable deallocation function
can be found, the deallocation function is called to free the memory in
which the object was being constructed, after which the exception
continues to propagate in the context of the <i ><a href='expr.new#nt:new-expression'>new-expression</a></i><a class='hidden_link' href='#new-21.sentence-1'>.</a></div> <div id='new-21.sentence-2' class='sentence'>If no unambiguous matching deallocation function can be found,
propagating the exception does not cause the object's memory to be
freed<a class='hidden_link' href='#new-21.sentence-2'>.</a></div> <div id='new-21.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#new-21.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='new-21.sentence-3' class='sentence'>This is appropriate when the called allocation function does not
allocate memory; otherwise, it is likely to result in a memory leak<a class='hidden_link' href='#new-21.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='new-22'><div class='marginalizedparent'><a class='marginalized' href='#new-22'>22</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4142'>#</a></div><div id='new-22.sentence-1' class='sentence'>If the <i ><a href='expr.new#nt:new-expression'>new-expression</a></i> begins with a unary <span class='texttt'>&#x200b;::&#x200b;</span>
operator, the deallocation function's name is looked up in the global
scope<a class='hidden_link' href='#new-22.sentence-1'>.</a></div> <div id='new-22.sentence-2' class='sentence'>Otherwise, if the allocated type is a class type <span class='texttt'>T</span> or an
array thereof, the deallocation function's name is looked up in the
scope of <span class='texttt'>T</span><a class='hidden_link' href='#new-22.sentence-2'>.</a></div> <div id='new-22.sentence-3' class='sentence'>If this lookup fails to find the name, or if the
allocated type is not a class type or array thereof, the deallocation
function's name is looked up in the global scope<a class='hidden_link' href='#new-22.sentence-3'>.</a></div></div><div class='para' id='new-23'><div class='marginalizedparent'><a class='marginalized' href='#new-23'>23</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4151'>#</a></div><div id='new-23.sentence-1' class='sentence'>A declaration of a placement deallocation function matches the
declaration of a placement allocation function if it has the same number
of parameters and, after parameter transformations (<a href='dcl.fct'>[dcl.fct]</a>), all
parameter types except the first are identical<a class='hidden_link' href='#new-23.sentence-1'>.</a></div> <div id='new-23.sentence-2' class='sentence'>If
the lookup finds a single matching deallocation function, that function
will be called; otherwise, no deallocation function will be called<a class='hidden_link' href='#new-23.sentence-2'>.</a></div> <div id='new-23.sentence-3' class='sentence'>If
the lookup finds a <a href='basic.stc.dynamic.deallocation#def:usual_deallocation_function'>usual deallocation function</a>
with a parameter of type <span class='texttt'>std&#x200b;::&#x200b;size_&shy;t</span>
and that function,
considered as a placement deallocation function, would have been
selected as a match for the allocation function, the program is
ill-formed<a class='hidden_link' href='#new-23.sentence-3'>.</a></div> <div id='new-23.sentence-4' class='sentence'>For a non-placement allocation function, the normal deallocation
function lookup is used to find the matching deallocation
function (<a href='expr.delete'>[expr.delete]</a>)
<div id='new-23.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#new-23.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct S {
  <span class='comment'>// Placement allocation function:
</span>  static void* operator new(std::size_t, std::size_t);

  <span class='comment'>// Usual (non-placement) deallocation function:
</span>  static void operator delete(void*, std::size_t);
};

S* p = new (0) S;   <span class='comment'>// ill-formed: non-placement deallocation function matches
</span>                    <span class='comment'>// placement allocation function
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div class='para' id='new-24'><div class='marginalizedparent'><a class='marginalized' href='#new-24'>24</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4183'>#</a></div><div id='new-24.sentence-1' class='sentence'>If a <i ><a href='expr.new#nt:new-expression'>new-expression</a></i> calls a deallocation function, it passes
the value returned from the allocation function call as the first
argument of type <span class='texttt'>void*</span><a class='hidden_link' href='#new-24.sentence-1'>.</a></div> <div id='new-24.sentence-2' class='sentence'>If a placement deallocation function is
called, it is passed the same additional arguments as were passed to the
placement allocation function, that is, the same arguments as those
specified with the <i ><a href='expr.new#nt:new-placement'>new-placement</a></i> syntax<a class='hidden_link' href='#new-24.sentence-2'>.</a></div> <div id='new-24.sentence-3' class='sentence'>If the implementation is allowed
to introduce a temporary object or make a copy of any argument
as part of the call to the allocation function,
it is unspecified whether the same object is used in the call
to both the allocation and deallocation functions<a class='hidden_link' href='#new-24.sentence-3'>.</a></div></div><div class='footnote' id='footnote-79'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-79'>79)</a></div><div id='footnote-79.sentence-1' class='sentence'>If the conversion function
returns a signed integer type, the second standard conversion converts to the
unsigned type <span class='texttt'>std&#x200b;::&#x200b;size_&shy;t</span> and thus thwarts any attempt to detect a
negative value afterwards<a class='hidden_link' href='#footnote-79.sentence-1'>.</a></div></div><div class='footnote' id='footnote-80'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-80'>80)</a></div><div id='footnote-80.sentence-1' class='sentence'>This may
include evaluating a <i ><a href='expr.new#nt:new-initializer'>new-initializer</a></i> and/or calling
a constructor<a class='hidden_link' href='#footnote-80.sentence-1'>.</a></div></div></div><div id='delete' class='section'><h4 ><a class='secnum' href='#delete' style='min-width:118pt'>8.5.2.5</a> Delete <a class='abbr_ref' href='expr.delete'>[expr.delete]</a></h4><div class='para' id='delete-1'><div class='marginalizedparent'><a class='marginalized' href='#delete-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4198'>#</a></div><div id='delete-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':expression,delete'></a></span><span class='indexparent'><a class='index' id=':delete'></a></span>The <i ><a href='expr.delete#nt:delete-expression'>delete-expression</a></i> operator destroys a
<a href='intro.object#def:most_derived_object'>most derived object</a> or array created by a
<i ><a href='expr.new#nt:new-expression'>new-expression</a></i><a class='hidden_link' href='#delete-1.sentence-1'>.</a></div><pre class='bnf'><a class='nontermdef' href='#nt:delete-expression' id='nt:delete-expression'>delete-expression:</a>
&#9;<span class='terminal'>::</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>delete</span> <i ><a href='expr.cast#nt:cast-expression'>cast-expression</a></i>
&#9;<span class='terminal'>::</span><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>delete [ ]</span> <i ><a href='expr.cast#nt:cast-expression'>cast-expression</a></i>
</pre><div id='delete-1.sentence-2' class='sentence'>The first alternative is a
<a class='hidden_link' href='#def:delete,single-object' id='def:delete,single-object'><i >single-object delete expression</i></a>, and the
second is an <a class='hidden_link' href='#def:delete,array' id='def:delete,array'><i >array delete expression</i></a><a class='hidden_link' href='#delete-1.sentence-2'>.</a></div> <div id='delete-1.sentence-3' class='sentence'>Whenever the <span class='texttt'>delete</span> keyword is immediately followed by empty square
brackets, it shall be interpreted as the second alternative<a class='hidden_link' href='#delete-1.sentence-3'>.</a><a class='footnotenum' href='#footnote-81'>81</a></div> <div id='delete-1.sentence-4' class='sentence'>
The operand shall be of pointer to object type or of class type<a class='hidden_link' href='#delete-1.sentence-4'>.</a></div> <div id='delete-1.sentence-5' class='sentence'>If of
class type, the operand is <a href='conv#def:contextually_implicitly_converted'>contextually implicitly converted</a>
to a pointer to object
type<a class='hidden_link' href='#delete-1.sentence-5'>.</a><a class='footnotenum' href='#footnote-82'>82</a></div> <div id='delete-1.sentence-6' class='sentence'>
The <i ><a href='expr.delete#nt:delete-expression'>delete-expression</a></i>'s result has type
<span class='texttt'>void</span><a class='hidden_link' href='#delete-1.sentence-6'>.</a></div></div><div class='para' id='delete-2'><div class='marginalizedparent'><a class='marginalized' href='#delete-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4228'>#</a></div><div id='delete-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':delete,single-object'></a></span>If the operand has a class type, the operand is converted to a pointer
type by calling the above-mentioned conversion function, and the
converted operand is used in place of the original operand for the
remainder of this subclause<a class='hidden_link' href='#delete-2.sentence-1'>.</a></div> <div id='delete-2.sentence-2' class='sentence'>In a single-object delete expression, the value of the operand of
<span class='texttt'>delete</span> may be a null pointer value, a pointer to a non-array object
created by a previous <i ><a href='expr.new#nt:new-expression'>new-expression</a></i>,
or a pointer to a
<a href='intro.object#def:subobject'>subobject</a> representing a
<a href='class.derived'>base class</a> of such an
object<a class='hidden_link' href='#delete-2.sentence-2'>.</a></div> <div id='delete-2.sentence-3' class='sentence'>If not, the behavior is undefined<a class='hidden_link' href='#delete-2.sentence-3'>.</a></div> <div id='delete-2.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':array,delete'></a></span>In an array delete expression, the value of the operand of <span class='texttt'>delete</span>
may be a null pointer value or a pointer value that resulted from
a previous array <i ><a href='expr.new#nt:new-expression'>new-expression</a></i><a class='hidden_link' href='#delete-2.sentence-4'>.</a><a class='footnotenum' href='#footnote-83'>83</a></div> <div id='delete-2.sentence-5' class='sentence'>
If not, the behavior is undefined<a class='hidden_link' href='#delete-2.sentence-5'>.</a></div> <div id='delete-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#delete-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='delete-2.sentence-6' class='sentence'>This means that the syntax of the <i ><a href='expr.delete#nt:delete-expression'>delete-expression</a></i> must
match the type of the object allocated by <span class='texttt'>new</span>, not the syntax of the
<i ><a href='expr.new#nt:new-expression'>new-expression</a></i><a class='hidden_link' href='#delete-2.sentence-6'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='delete-2.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#delete-2.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='delete-2.sentence-7' class='sentence'>A pointer to a <span class='texttt'>const</span> type can be the operand of a
<i ><a href='expr.delete#nt:delete-expression'>delete-expression</a></i>; it is not necessary to
<a href='expr.const.cast#def:casting_away_constness'>cast away the constness</a>
of the pointer expression before it is
used as the operand of the <i ><a href='expr.delete#nt:delete-expression'>delete-expression</a></i><a class='hidden_link' href='#delete-2.sentence-7'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='delete-3'><div class='marginalizedparent'><a class='marginalized' href='#delete-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4262'>#</a></div><div id='delete-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':delete,undefined'></a></span>In a single-object delete expression, if the static type of the object to be
deleted is different from its dynamic type, the static type shall be a base
class of the dynamic type of the object to be deleted and the static type shall
have a virtual destructor or the behavior is undefined<a class='hidden_link' href='#delete-3.sentence-1'>.</a></div> <div id='delete-3.sentence-2' class='sentence'>In an array delete
expression, if the dynamic type of the object to be deleted differs from its
static type, the behavior is undefined<a class='hidden_link' href='#delete-3.sentence-2'>.</a></div></div><div class='para' id='delete-4'><div class='marginalizedparent'><a class='marginalized' href='#delete-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4271'>#</a></div><div id='delete-4.sentence-1' class='sentence'>The <i ><a href='expr.cast#nt:cast-expression'>cast-expression</a></i> in a <i ><a href='expr.delete#nt:delete-expression'>delete-expression</a></i> shall
be evaluated exactly once<a class='hidden_link' href='#delete-4.sentence-1'>.</a></div></div><div class='para' id='delete-5'><div class='marginalizedparent'><a class='marginalized' href='#delete-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4275'>#</a></div><div id='delete-5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':type,incomplete________'></a></span>If the object being deleted has incomplete class type at the point of
deletion and the complete class has a non-trivial destructor or a
deallocation function, the behavior is undefined<a class='hidden_link' href='#delete-5.sentence-1'>.</a></div></div><div class='para' id='delete-6'><div class='marginalizedparent'><a class='marginalized' href='#delete-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4281'>#</a></div><div id='delete-6.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':delete,destructor_and'></a></span>If the value of the operand of the <i ><a href='expr.delete#nt:delete-expression'>delete-expression</a></i> is not a
null pointer value, the <i ><a href='expr.delete#nt:delete-expression'>delete-expression</a></i> will invoke the
destructor (if any) for the object or the elements of the array being
deleted<a class='hidden_link' href='#delete-6.sentence-1'>.</a></div> <div id='delete-6.sentence-2' class='sentence'>In the case of an array, the elements will be destroyed in
order of decreasing address (that is, in reverse order of the completion
of their constructor; see <a href='class.base.init'>[class.base.init]</a>)<a class='hidden_link' href='#delete-6.sentence-2'>.</a></div></div><div class='para' id='delete-7'><div class='marginalizedparent'><a class='marginalized' href='#delete-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4290'>#</a></div><div id='delete-7.sentence-1' class='sentence'>If the value of the operand of the <i ><a href='expr.delete#nt:delete-expression'>delete-expression</a></i> is not a
null pointer value, then:</div><div id='delete-7.sentence-2' class='sentence'><ul class='itemize'><li id='delete-7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#delete-7.1'>(7.1)</a></div><div id='delete-7.1.sentence-1' class='sentence'>If the allocation call for the <i ><a href='expr.new#nt:new-expression'>new-expression</a></i> for the object to
be deleted was not omitted and the allocation was not extended (<a href='expr.new'>[expr.new]</a>), the
<i ><a href='expr.delete#nt:delete-expression'>delete-expression</a></i> shall call a <a href='basic.stc.dynamic.deallocation'>deallocation
function</a><a class='hidden_link' href='#delete-7.1.sentence-1'>.</a></div> <div id='delete-7.1.sentence-2' class='sentence'>The value returned from the
allocation call of the <i ><a href='expr.new#nt:new-expression'>new-expression</a></i> shall be passed as the
first argument to the deallocation function<a class='hidden_link' href='#delete-7.1.sentence-2'>.</a></div></li><li id='delete-7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#delete-7.2'>(7.2)</a></div><div id='delete-7.2.sentence-1' class='sentence'>Otherwise, if the allocation was extended or was provided by extending the
allocation of another <i ><a href='expr.new#nt:new-expression'>new-expression</a></i>, and the
<i ><a href='expr.delete#nt:delete-expression'>delete-expression</a></i> for every other pointer value produced by a
<i ><a href='expr.new#nt:new-expression'>new-expression</a></i> that had storage provided by the extended
<i ><a href='expr.new#nt:new-expression'>new-expression</a></i> has been evaluated, the
<i ><a href='expr.delete#nt:delete-expression'>delete-expression</a></i> shall call a deallocation function<a class='hidden_link' href='#delete-7.2.sentence-1'>.</a></div> <div id='delete-7.2.sentence-2' class='sentence'>The value
returned from the allocation call of the extended <i ><a href='expr.new#nt:new-expression'>new-expression</a></i>
shall be passed as the first argument to the deallocation function<a class='hidden_link' href='#delete-7.2.sentence-2'>.</a></div></li><li id='delete-7.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#delete-7.3'>(7.3)</a></div><div id='delete-7.3.sentence-1' class='sentence'>Otherwise, the <i ><a href='expr.delete#nt:delete-expression'>delete-expression</a></i> will not call a
deallocation function<a class='hidden_link' href='#delete-7.3.sentence-1'>.</a></div></li></ul></div> <div id='delete-7.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#delete-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='delete-7.sentence-4' class='sentence'>The deallocation function is called regardless of whether the destructor
for the object or some element of the array throws an exception<a class='hidden_link' href='#delete-7.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='delete-7.sentence-3' class='sentence'>
If the value of the operand of the <i ><a href='expr.delete#nt:delete-expression'>delete-expression</a></i> is a
null pointer value, it is unspecified whether a deallocation function will be
called as described above<a class='hidden_link' href='#delete-7.sentence-3'>.</a></div></div><div class='para' id='delete-8'><div class='marginalizedparent'><a class='marginalized' href='#delete-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4325'>#</a></div><div id='delete-8.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#delete-8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='delete-8.sentence-1' class='sentence'>An implementation provides default definitions of the global
deallocation functions <span class='texttt'>operator delete</span> for
non-arrays (<a href='new.delete.single'>[new.delete.single]</a>) and
<span class='indexparent'><a class='index' id=':operator_delete__'></a></span><span class='texttt'>operator delete[]</span> for arrays (<a href='new.delete.array'>[new.delete.array]</a>)<a class='hidden_link' href='#delete-8.sentence-1'>.</a></div> <div id='delete-8.sentence-2' class='sentence'>A C++
program can provide alternative definitions of these
functions (<a href='replacement.functions'>[replacement.functions]</a>), and/or class-specific
versions (<a href='class.free'>[class.free]</a>)<a class='hidden_link' href='#delete-8.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='delete-9'><div class='marginalizedparent'><a class='marginalized' href='#delete-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4337'>#</a></div><div id='delete-9.sentence-1' class='sentence'>When the keyword <span class='texttt'>delete</span> in a <i ><a href='expr.delete#nt:delete-expression'>delete-expression</a></i> is
preceded by the unary <span class='texttt'>&#x200b;::&#x200b;</span> operator, the deallocation function's name is looked
up in global scope<a class='hidden_link' href='#delete-9.sentence-1'>.</a></div> <div id='delete-9.sentence-2' class='sentence'>Otherwise, the lookup considers class-specific deallocation
functions (<a href='class.free'>[class.free]</a>)<a class='hidden_link' href='#delete-9.sentence-2'>.</a></div> <div id='delete-9.sentence-3' class='sentence'>If no class-specific deallocation function is found,
the deallocation function's name is looked up in global scope<a class='hidden_link' href='#delete-9.sentence-3'>.</a></div></div><div class='para' id='delete-10'><div class='marginalizedparent'><a class='marginalized' href='#delete-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4344'>#</a></div><div id='delete-10.sentence-1' class='sentence'>If deallocation function lookup finds more than one usual
deallocation function,
the function to be called is selected as follows:
<ul class='itemize'><li id='delete-10.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#delete-10.1'>(10.1)</a></div><div id='delete-10.1.sentence-1' class='sentence'>If the type has new-extended alignment,
a function with a parameter of type <span class='texttt'>std&#x200b;::&#x200b;align_&shy;val_&shy;t</span> is preferred;
otherwise a function without such a parameter is preferred<a class='hidden_link' href='#delete-10.1.sentence-1'>.</a></div> <div id='delete-10.1.sentence-2' class='sentence'>If exactly one preferred function is found,
that function is selected and the selection process terminates<a class='hidden_link' href='#delete-10.1.sentence-2'>.</a></div> <div id='delete-10.1.sentence-3' class='sentence'>If more than one preferred function is found,
all non-preferred functions are eliminated from further consideration<a class='hidden_link' href='#delete-10.1.sentence-3'>.</a></div></li><li id='delete-10.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#delete-10.2'>(10.2)</a></div><div id='delete-10.2.sentence-1' class='sentence'>If the deallocation functions have class scope,
the one without a parameter of type <span class='texttt'>std&#x200b;::&#x200b;size_&shy;t</span> is selected<a class='hidden_link' href='#delete-10.2.sentence-1'>.</a></div></li><li id='delete-10.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#delete-10.3'>(10.3)</a></div><div id='delete-10.3.sentence-1' class='sentence'>If the type is complete and if, for the second alternative (delete
array) only, the operand is a pointer to a class type with a
non-trivial destructor or a (possibly multi-dimensional) array thereof,
the function with a parameter of type <span class='texttt'>std&#x200b;::&#x200b;size_&shy;t</span> is selected<a class='hidden_link' href='#delete-10.3.sentence-1'>.</a></div></li><li id='delete-10.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#delete-10.4'>(10.4)</a></div><div id='delete-10.4.sentence-1' class='sentence'>Otherwise, it is unspecified
whether a deallocation function with a parameter of type <span class='texttt'>std&#x200b;::&#x200b;size_&shy;t</span>
is selected<a class='hidden_link' href='#delete-10.4.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='delete-11'><div class='marginalizedparent'><a class='marginalized' href='#delete-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4371'>#</a></div><div id='delete-11.sentence-1' class='sentence'>When a <i ><a href='expr.delete#nt:delete-expression'>delete-expression</a></i>
is executed, the selected deallocation function shall be called with
the address of the most-derived object in a single-object delete expression, or
the address of the object suitably adjusted for the array allocation
overhead (<a href='expr.new'>[expr.new]</a>) in an array delete expression,
as its first argument<a class='hidden_link' href='#delete-11.sentence-1'>.</a></div> <div id='delete-11.sentence-2' class='sentence'>If a deallocation function
with a parameter of type <span class='texttt'>std&#x200b;::&#x200b;align_&shy;val_&shy;t</span>
is used,
the alignment of the type of the object to be deleted
is passed as the corresponding argument<a class='hidden_link' href='#delete-11.sentence-2'>.</a></div> <div id='delete-11.sentence-3' class='sentence'>If a deallocation function
with a parameter of type <span class='texttt'>std&#x200b;::&#x200b;size_&shy;t</span> is used,
the size
of the most-derived type, or
of the array plus allocation overhead, respectively,
is passed as the corresponding argument<a class='hidden_link' href='#delete-11.sentence-3'>.</a><a class='footnotenum' href='#footnote-84'>84</a></div> <div id='delete-11.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#delete-11.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='delete-11.sentence-4' class='sentence'>If this results in a call to a usual deallocation function, and either
the first argument was not the result of
a prior call to a usual allocation function or
the second argument was not the corresponding argument in said call,
the behavior is undefined (<a href='new.delete.single'>[new.delete.single]</a>, <a href='new.delete.array'>[new.delete.array]</a>)<a class='hidden_link' href='#delete-11.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='delete-12'><div class='marginalizedparent'><a class='marginalized' href='#delete-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4400'>#</a></div><div id='delete-12.sentence-1' class='sentence'>Access and ambiguity control are done for both the deallocation function
and the destructor (<a href='class.dtor'>[class.dtor]</a>, <a href='class.free'>[class.free]</a>)<a class='hidden_link' href='#delete-12.sentence-1'>.</a></div></div><div class='footnote' id='footnote-81'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-81'>81)</a></div><div id='footnote-81.sentence-1' class='sentence'>A lambda
expression with a <i ><a href='expr.prim.lambda#nt:lambda-introducer'>lambda-introducer</a></i> that consists of empty square
brackets can follow the <span class='texttt'>delete</span> keyword if the lambda expression is
enclosed in parentheses<a class='hidden_link' href='#footnote-81.sentence-1'>.</a></div></div><div class='footnote' id='footnote-82'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-82'>82)</a></div><div id='footnote-82.sentence-1' class='sentence'>This implies that an object
cannot be deleted using a pointer of type
<span class='texttt'>void*</span> because <span class='texttt'>void</span> is not an object type<a class='hidden_link' href='#footnote-82.sentence-1'>.</a></div></div><div class='footnote' id='footnote-83'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-83'>83)</a></div><div id='footnote-83.sentence-1' class='sentence'>For nonzero-length
arrays, this is the same as a pointer to the first
element of the array created by that <i ><a href='expr.new#nt:new-expression'>new-expression</a></i><a class='hidden_link' href='#footnote-83.sentence-1'>.</a></div> <div id='footnote-83.sentence-2' class='sentence'>Zero-length arrays do not have a first element<a class='hidden_link' href='#footnote-83.sentence-2'>.</a></div></div><div class='footnote' id='footnote-84'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-84'>84)</a></div><div id='footnote-84.sentence-1' class='sentence'>If the static type of the object to be deleted is complete
and is different from the dynamic type, and the destructor is not virtual, the size might
be incorrect, but that case is already undefined, as stated above<a class='hidden_link' href='#footnote-84.sentence-1'>.</a></div></div></div><div id='alignof' class='section'><h4 ><a class='secnum' href='#alignof' style='min-width:118pt'>8.5.2.6</a> Alignof <a class='abbr_ref' href='expr.alignof'>[expr.alignof]</a></h4><div class='para' id='alignof-1'><div class='marginalizedparent'><a class='marginalized' href='#alignof-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4406'>#</a></div><div id='alignof-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':alignof'></a></span><span class='indexparent'><a class='index' id=':expression,alignof'></a></span>An <span class='texttt'>alignof</span> expression yields the alignment requirement
of its operand type<a class='hidden_link' href='#alignof-1.sentence-1'>.</a></div> <div id='alignof-1.sentence-2' class='sentence'>The operand shall be a <i ><a href='dcl.name#nt:type-id'>type-id</a></i>
representing a complete object type, or an array thereof, or a reference
to one of those types<a class='hidden_link' href='#alignof-1.sentence-2'>.</a></div></div><div class='para' id='alignof-2'><div class='marginalizedparent'><a class='marginalized' href='#alignof-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4414'>#</a></div><div id='alignof-2.sentence-1' class='sentence'>The result is an integral constant of type
<span class='texttt'>std&#x200b;::&#x200b;size_&shy;t</span><a class='hidden_link' href='#alignof-2.sentence-1'>.</a></div></div><div class='para' id='alignof-3'><div class='marginalizedparent'><a class='marginalized' href='#alignof-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4418'>#</a></div><div id='alignof-3.sentence-1' class='sentence'>When <span class='texttt'>alignof</span> is applied to a reference type, the result
is the alignment of the referenced type<a class='hidden_link' href='#alignof-3.sentence-1'>.</a></div> <div id='alignof-3.sentence-2' class='sentence'>When <span class='texttt'>alignof</span>
is applied to an array type, the result is the alignment of the
element type<a class='hidden_link' href='#alignof-3.sentence-2'>.</a></div></div></div><div id='unary.noexcept' class='section'><h4 ><a class='secnum' href='#unary.noexcept' style='min-width:118pt'>8.5.2.7</a> <span class='texttt'>noexcept</span> operator <a class='abbr_ref' href='expr.unary.noexcept'>[expr.unary.noexcept]</a></h4><div class='para' id='unary.noexcept-1'><div class='marginalizedparent'><a class='marginalized' href='#unary.noexcept-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4426'>#</a></div><div id='unary.noexcept-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':noexcept'></a></span><span class='indexparent'><a class='index' id=':expression,noexcept'></a></span>The <span class='texttt'>noexcept</span> operator determines whether the evaluation of its operand,
which is an <a href='expr.prop#def:unevaluated_operand'>unevaluated operand</a>, can <a href='except.throw'>throw an
exception</a><a class='hidden_link' href='#unary.noexcept-1.sentence-1'>.</a></div><pre class='bnf'><a class='nontermdef' href='#nt:noexcept-expression' id='nt:noexcept-expression'>noexcept-expression:</a>
&#9;<span class='terminal'>noexcept</span> <span class='terminal'>(</span> <i ><a href='expr.comma#nt:expression'>expression</a></i> <span class='terminal'>)</span>
</pre></div><div class='para' id='unary.noexcept-2'><div class='marginalizedparent'><a class='marginalized' href='#unary.noexcept-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4438'>#</a></div><div id='unary.noexcept-2.sentence-1' class='sentence'>The result of the <span class='texttt'>noexcept</span> operator is a constant of type <span class='texttt'>bool</span>
and is a prvalue<a class='hidden_link' href='#unary.noexcept-2.sentence-1'>.</a></div></div><div class='para' id='unary.noexcept-3'><div class='marginalizedparent'><a class='marginalized' href='#unary.noexcept-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4442'>#</a></div><div id='unary.noexcept-3.sentence-1' class='sentence'>The result of the <span class='texttt'>noexcept</span> operator is <span class='texttt'>true</span>
unless the <i ><a href='expr.comma#nt:expression'>expression</a></i> is
<a href='except.spec#def:potentially-throwing,expression'>potentially-throwing</a><a class='hidden_link' href='#unary.noexcept-3.sentence-1'>.</a></div> </div></div></div><div id='cast' class='section'><h3 ><a class='secnum' href='#cast' style='min-width:103pt'>8.5.3</a> Explicit type conversion (cast notation) <a class='abbr_ref' href='expr.cast'>[expr.cast]</a></h3><span class='indexparent'><a class='index' id=':expression,cast_'></a></span><div class='para' id='cast-1'><div class='marginalizedparent'><a class='marginalized' href='#cast-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4451'>#</a></div><div id='cast-1.sentence-1' class='sentence'>The result of the expression <span class='texttt'>(T)</span> <i ><a href='expr.cast#nt:cast-expression'>cast-expression</a></i> is
of type <span class='texttt'>T</span><a class='hidden_link' href='#cast-1.sentence-1'>.</a></div> <div id='cast-1.sentence-2' class='sentence'>The result is an lvalue if <span class='texttt'>T</span> is an lvalue
reference type or an rvalue reference to function type and an xvalue if <span class='texttt'>T</span>
is an rvalue reference to object type; otherwise the result is a prvalue<a class='hidden_link' href='#cast-1.sentence-2'>.</a></div> <div id='cast-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#cast-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='cast-1.sentence-3' class='sentence'>If <span class='texttt'>T</span> is a non-class type that is cv-qualified, the
<i ><a href='dcl.decl#nt:cv-qualifier'>cv-qualifier</a></i><span class='textit'>s</span> are discarded when determining the type of the
resulting prvalue; see <a href='expr.prop'>[expr.prop]</a><a class='hidden_link' href='#cast-1.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='cast-2'><div class='marginalizedparent'><a class='marginalized' href='#cast-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4462'>#</a></div><div id='cast-2.sentence-1' class='sentence'>An explicit type conversion can be expressed using <a href='expr.type.conv'>functional
notation</a>, a type conversion operator
(<span class='texttt'>dynamic_&shy;cast</span>, <span class='texttt'>static_&shy;cast</span>, <span class='texttt'>reinterpret_&shy;cast</span>,
<span class='texttt'>const_&shy;cast</span>), or the <a class='hidden_link' href='#def:cast' id='def:cast'><i>cast</i></a> notation<a class='hidden_link' href='#cast-2.sentence-1'>.</a></div><pre class='bnf'><a class='nontermdef' href='#nt:cast-expression' id='nt:cast-expression'>cast-expression:</a>
&#9;<i ><a href='expr.unary#nt:unary-expression'>unary-expression</a></i>
&#9;<span class='terminal'>(</span> <i ><a href='dcl.name#nt:type-id'>type-id</a></i> <span class='terminal'>)</span> <i ><a href='expr.cast#nt:cast-expression'>cast-expression</a></i>
</pre></div><div class='para' id='cast-3'><div class='marginalizedparent'><a class='marginalized' href='#cast-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4474'>#</a></div><div id='cast-3.sentence-1' class='sentence'>Any type conversion not mentioned below and not explicitly defined by
the user (<a href='class.conv'>[class.conv]</a>) is ill-formed<a class='hidden_link' href='#cast-3.sentence-1'>.</a></div></div><div class='para' id='cast-4'><div class='marginalizedparent'><a class='marginalized' href='#cast-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4478'>#</a></div><div id='cast-4.sentence-1' class='sentence'>The conversions performed by
<ul class='itemize'><li id='cast-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#cast-4.1'>(4.1)</a></div><div id='cast-4.1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':cast,const_'></a></span><span class='indexparent'><a class='index' id=':cast,static_'></a></span><span class='indexparent'><a class='index' id=':cast,reinterpret_'></a></span>a <a href='expr.const.cast'><span class='texttt'>const_&shy;cast</span></a>,</div></li><li id='cast-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#cast-4.2'>(4.2)</a></div><div id='cast-4.2.sentence-1' class='sentence'>a <a href='expr.static.cast'><span class='texttt'>static_&shy;cast</span></a>,</div></li><li id='cast-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#cast-4.3'>(4.3)</a></div><div id='cast-4.3.sentence-1' class='sentence'>a <span class='texttt'>static_&shy;cast</span> followed by a <span class='texttt'>const_&shy;cast</span>,</div></li><li id='cast-4.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#cast-4.4'>(4.4)</a></div><div id='cast-4.4.sentence-1' class='sentence'>a <a href='expr.reinterpret.cast'><span class='texttt'>reinterpret_&shy;cast</span></a>, or</div></li><li id='cast-4.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#cast-4.5'>(4.5)</a></div><div id='cast-4.5.sentence-1' class='sentence'>a <span class='texttt'>reinterpret_&shy;cast</span> followed by a <span class='texttt'>const_&shy;cast</span>,</div></li></ul>
can be performed using the cast notation of explicit type conversion<a class='hidden_link' href='#cast-4.sentence-1'>.</a></div> <div id='cast-4.sentence-2' class='sentence'>The same semantic restrictions and behaviors apply, with the exception
that in performing a <span class='texttt'>static_&shy;cast</span> in the following situations the
conversion is valid even if the base class is inaccessible:</div><div id='cast-4.sentence-3' class='sentence'><ul class='itemize'><li id='cast-4.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#cast-4.6'>(4.6)</a></div><div id='cast-4.6.sentence-1' class='sentence'>a pointer to an object of derived class type or an lvalue or
rvalue of derived class type may be explicitly converted to a pointer or
reference to an unambiguous base class type, respectively;</div></li><li id='cast-4.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#cast-4.7'>(4.7)</a></div><div id='cast-4.7.sentence-1' class='sentence'>a pointer to member of derived class type may be explicitly
converted to a pointer to member of an unambiguous non-virtual base
class type;</div></li><li id='cast-4.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#cast-4.8'>(4.8)</a></div><div id='cast-4.8.sentence-1' class='sentence'>a pointer to an object of an unambiguous non-virtual base class
type, a glvalue of an unambiguous non-virtual base class type,
or a pointer to member of an unambiguous non-virtual base class type may
be explicitly converted to a pointer, a reference, or a pointer to
member of a derived class type, respectively<a class='hidden_link' href='#cast-4.8.sentence-1'>.</a></div></li></ul></div><div id='cast-4.sentence-4' class='sentence'>If a conversion can be interpreted in more than one of the ways listed
above, the interpretation that appears first in the list is used, even
if a cast resulting from that interpretation is ill-formed<a class='hidden_link' href='#cast-4.sentence-4'>.</a></div> <div id='cast-4.sentence-5' class='sentence'>If a
conversion can be interpreted in more than one way as a
<span class='texttt'>static_&shy;cast</span> followed by a <span class='texttt'>const_&shy;cast</span>, the conversion is
ill-formed<a class='hidden_link' href='#cast-4.sentence-5'>.</a></div> <div id='cast-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#cast-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A { };
struct I1 : A { };
struct I2 : A { };
struct D : I1, I2 { };
A* foo( D* p ) {
  return (A*)( p );             <span class='comment'>// ill-formed <span class='tcode_in_codeblock'>static_&shy;cast</span> interpretation
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='cast-5'><div class='marginalizedparent'><a class='marginalized' href='#cast-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4530'>#</a></div><div id='cast-5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':class,cast_to_incomplete'></a></span>The operand of a cast using the cast notation can be a prvalue of type
“pointer to incomplete class type”<a class='hidden_link' href='#cast-5.sentence-1'>.</a></div> <div id='cast-5.sentence-2' class='sentence'>The destination type of a cast
using the cast notation can be “pointer to incomplete class type”<a class='hidden_link' href='#cast-5.sentence-2'>.</a></div> <div id='cast-5.sentence-3' class='sentence'>If
both the operand and destination types are class types and one or both
are incomplete, it is unspecified whether the <span class='texttt'>static_&shy;cast</span> or the
<span class='texttt'>reinterpret_&shy;cast</span> interpretation is used, even if there is an
inheritance relationship between the two classes<a class='hidden_link' href='#cast-5.sentence-3'>.</a></div> <div id='cast-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#cast-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='cast-5.sentence-4' class='sentence'>For example, if the classes were defined later in the translation unit,
a multi-pass compiler would be permitted to interpret a cast between
pointers to the classes as if the class types were complete at the point
of the cast<a class='hidden_link' href='#cast-5.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  </div></div><div id='mptr.oper' class='section'><h3 ><a class='secnum' href='#mptr.oper' style='min-width:103pt'>8.5.4</a> Pointer-to-member operators <a class='abbr_ref' href='expr.mptr.oper'>[expr.mptr.oper]</a></h3><div class='para' id='mptr.oper-1'><div class='marginalizedparent'><a class='marginalized' href='#mptr.oper-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4549'>#</a></div><div id='mptr.oper-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':expression,pointer-to-member'></a></span><span class='indexparent'><a class='index' id=':pointer_to_member'></a></span><span class='indexparent'><a class='index' id=':operator,pointer_to_member'></a></span><span class='indexparent'><a class='index' id=':operator,pointer_to_member_'></a></span>The pointer-to-member operators <span class='texttt'>-&gt;*</span> and <span class='texttt'>.*</span> group
left-to-right<a class='hidden_link' href='#mptr.oper-1.sentence-1'>.</a></div><pre class='bnf'><a class='nontermdef' href='#nt:pm-expression' id='nt:pm-expression'>pm-expression:</a>
&#9;<i ><a href='expr.cast#nt:cast-expression'>cast-expression</a></i>
&#9;<i ><a href='expr.mptr.oper#nt:pm-expression'>pm-expression</a></i> <span class='terminal'>.*</span> <i ><a href='expr.cast#nt:cast-expression'>cast-expression</a></i>
&#9;<i ><a href='expr.mptr.oper#nt:pm-expression'>pm-expression</a></i> <span class='terminal'>-&gt;*</span> <i ><a href='expr.cast#nt:cast-expression'>cast-expression</a></i>
</pre></div><div class='para' id='mptr.oper-2'><div class='marginalizedparent'><a class='marginalized' href='#mptr.oper-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4566'>#</a></div><div id='mptr.oper-2.sentence-1' class='sentence'>The binary operator <span class='texttt'>.*</span> binds its second operand, which shall be
of type “pointer to member of <span class='texttt'>T</span>” to its first operand, which shall be
a glvalue
of
class <span class='texttt'>T</span> or of a class of which <span class='texttt'>T</span> is an unambiguous and
accessible base class<a class='hidden_link' href='#mptr.oper-2.sentence-1'>.</a></div> <div id='mptr.oper-2.sentence-2' class='sentence'>The result is an object or a function of the type
specified by the second operand<a class='hidden_link' href='#mptr.oper-2.sentence-2'>.</a></div></div><div class='para' id='mptr.oper-3'><div class='marginalizedparent'><a class='marginalized' href='#mptr.oper-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4575'>#</a></div><div id='mptr.oper-3.sentence-1' class='sentence'>The binary operator <span class='texttt'>-&gt;*</span> binds its second operand, which shall be
of type “pointer to member of <span class='texttt'>T</span>” to its first operand, which shall be of
type “pointer to <span class='texttt'>U</span>”
where <span class='texttt'>U</span> is either <span class='texttt'>T</span> or
a class of which <span class='texttt'>T</span>
is an unambiguous and accessible base class<a class='hidden_link' href='#mptr.oper-3.sentence-1'>.</a></div> <div id='mptr.oper-3.sentence-2' class='sentence'>The expression <span class='texttt'>E1-&gt;*E2</span> is converted into the equivalent form
<span class='texttt'>(*(E1)).*E2</span><a class='hidden_link' href='#mptr.oper-3.sentence-2'>.</a></div></div><div class='para' id='mptr.oper-4'><div class='marginalizedparent'><a class='marginalized' href='#mptr.oper-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4585'>#</a></div><div id='mptr.oper-4.sentence-1' class='sentence'>Abbreviating <i ><a href='expr.mptr.oper#nt:pm-expression'>pm-expression</a></i><span class='texttt'>.*</span><i ><a href='expr.cast#nt:cast-expression'>cast-expression</a></i> as <span class='texttt'>E1.*E2</span>, <span class='texttt'>E1</span>
is called the <a class='hidden_link' href='#def:object_expression_' id='def:object_expression_'><i >object expression</i></a><a class='hidden_link' href='#mptr.oper-4.sentence-1'>.</a></div> <div id='mptr.oper-4.sentence-2' class='sentence'>If the dynamic type of <span class='texttt'>E1</span> does not
contain the member to which
<span class='texttt'>E2</span> refers, the behavior is undefined<a class='hidden_link' href='#mptr.oper-4.sentence-2'>.</a></div> <div id='mptr.oper-4.sentence-3' class='sentence'>Otherwise, the expression <span class='texttt'>E1</span> is sequenced before the expression <span class='texttt'>E2</span><a class='hidden_link' href='#mptr.oper-4.sentence-3'>.</a></div></div><div class='para' id='mptr.oper-5'><div class='marginalizedparent'><a class='marginalized' href='#mptr.oper-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4593'>#</a></div><div id='mptr.oper-5.sentence-1' class='sentence'>The restrictions on <span class='textit'>cv-</span>qualification, and the manner in which
the <span class='textit'>cv-</span>qualifiers of the operands are combined to produce the
<span class='textit'>cv-</span>qualifiers of the result, are the same as the rules for
<span class='texttt'>E1.E2</span> given in <a href='expr.ref'>[expr.ref]</a><a class='hidden_link' href='#mptr.oper-5.sentence-1'>.</a></div> <div id='mptr.oper-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#mptr.oper-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='mptr.oper-5.sentence-2' class='sentence'>It is not possible to use a pointer to member that refers to a
<span class='texttt'>mutable</span> member to modify a const class object<a class='hidden_link' href='#mptr.oper-5.sentence-2'>.</a></div> <div id='mptr.oper-5.sentence-3' class='sentence'>For
example,</div><pre class='codeblock'>
struct S {
  S() : i(0) { }
  mutable int i;
};
void f()
{
  const S cs;
  int S::* pm = &amp;S::i;          <span class='comment'>// <span class='tcode_in_codeblock'>pm</span> refers to <span class='tcode_in_codeblock'>mutable</span> member <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;i</span>
</span>  cs.*pm = 88;                  <span class='comment'>// ill-formed: <span class='tcode_in_codeblock'>cs</span> is a const object
</span>}</pre> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='mptr.oper-6'><div class='marginalizedparent'><a class='marginalized' href='#mptr.oper-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4617'>#</a></div><div id='mptr.oper-6.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':function,pointer_to_member'></a></span>If the result of <span class='texttt'>.*</span> or <span class='texttt'>-&gt;*</span> is a function, then that
result can be used only as the operand for the function call operator
<span class='texttt'>()</span><a class='hidden_link' href='#mptr.oper-6.sentence-1'>.</a></div> <div id='mptr.oper-6.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#mptr.oper-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
(ptr_to_obj-&gt;*ptr_to_mfct)(10);</pre><div id='mptr.oper-6.sentence-7' class='sentence'>calls the member function denoted by <span class='texttt'>ptr_&shy;to_&shy;mfct</span> for the object
pointed to by <span class='texttt'>ptr_&shy;to_&shy;obj</span><a class='hidden_link' href='#mptr.oper-6.sentence-7'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='mptr.oper-6.sentence-2' class='sentence'>
In a <span class='texttt'>.*</span> expression whose object expression is an rvalue, the program is
ill-formed if the second operand is a pointer to member function
whose <i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i> is <span class='texttt'>&amp;</span>,
unless its <i ><a href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a></i> is <span class='texttt'>const</span><a class='hidden_link' href='#mptr.oper-6.sentence-2'>.</a></div> <div id='mptr.oper-6.sentence-3' class='sentence'>In a <span class='texttt'>.*</span>
expression whose object expression is an lvalue, the program is ill-formed if the second
operand is
a pointer to member function
whose <i ><a href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a></i> is <span class='texttt'>&amp;&amp;</span><a class='hidden_link' href='#mptr.oper-6.sentence-3'>.</a></div> <div id='mptr.oper-6.sentence-4' class='sentence'>The result of a <span class='texttt'>.*</span> expression
whose second operand is a pointer to a data member is an lvalue if the first
operand is an lvalue and an xvalue otherwise<a class='hidden_link' href='#mptr.oper-6.sentence-4'>.</a></div> <div id='mptr.oper-6.sentence-5' class='sentence'>The result of a <span class='texttt'>.*</span> expression whose
second operand is a pointer to a member function is a prvalue<a class='hidden_link' href='#mptr.oper-6.sentence-5'>.</a></div> <div id='mptr.oper-6.sentence-6' class='sentence'>If the second operand is the <a href='conv.mem#def:null_member_pointer_value'>null member pointer value</a>,
the behavior is undefined<a class='hidden_link' href='#mptr.oper-6.sentence-6'>.</a></div></div></div><div id='mul' class='section'><h3 ><a class='secnum' href='#mul' style='min-width:103pt'>8.5.5</a> Multiplicative operators <a class='abbr_ref' href='expr.mul'>[expr.mul]</a></h3><span class='indexparent'><a class='index' id=':expression,multiplicative_operators'></a></span><span class='indexparent'><a class='index' id=':operator,multiplicative'></a></span><div class='para' id='mul-1'><div class='marginalizedparent'><a class='marginalized' href='#mul-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4651'>#</a></div><div id='mul-1.sentence-1' class='sentence'>The multiplicative operators <span class='texttt'>*</span>, <span class='texttt'>/</span>, and <span class='texttt'>%</span> group
left-to-right<a class='hidden_link' href='#mul-1.sentence-1'>.</a></div><span class='indexparent'><a class='index' id=':operator,multiplication'></a></span><span class='indexparent'><a class='index' id=':operator,division'></a></span><span class='indexparent'><a class='index' id=':operator,remainder'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:multiplicative-expression' id='nt:multiplicative-expression'>multiplicative-expression:</a>
&#9;<i ><a href='expr.mptr.oper#nt:pm-expression'>pm-expression</a></i>
&#9;<i ><a href='expr.mul#nt:multiplicative-expression'>multiplicative-expression</a></i> <span class='terminal'>*</span> <i ><a href='expr.mptr.oper#nt:pm-expression'>pm-expression</a></i>
&#9;<i ><a href='expr.mul#nt:multiplicative-expression'>multiplicative-expression</a></i> <span class='terminal'>/</span> <i ><a href='expr.mptr.oper#nt:pm-expression'>pm-expression</a></i>
&#9;<i ><a href='expr.mul#nt:multiplicative-expression'>multiplicative-expression</a></i> <span class='terminal'>%</span> <i ><a href='expr.mptr.oper#nt:pm-expression'>pm-expression</a></i>
</pre></div><div class='para' id='mul-2'><div class='marginalizedparent'><a class='marginalized' href='#mul-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4671'>#</a></div><div id='mul-2.sentence-1' class='sentence'>The operands of <span class='texttt'>*</span> and <span class='texttt'>/</span> shall have arithmetic or unscoped
enumeration type; the operands of <span class='texttt'>%</span> shall have integral or unscoped
enumeration type<a class='hidden_link' href='#mul-2.sentence-1'>.</a></div> <div id='mul-2.sentence-2' class='sentence'>The <a href='expr.arith.conv'>usual arithmetic conversions</a> are performed on the
operands and determine the type of the result<a class='hidden_link' href='#mul-2.sentence-2'>.</a></div></div><div class='para' id='mul-3'><div class='marginalizedparent'><a class='marginalized' href='#mul-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4677'>#</a></div><div id='mul-3.sentence-1' class='sentence'>The binary <span class='texttt'>*</span> operator indicates multiplication<a class='hidden_link' href='#mul-3.sentence-1'>.</a></div></div><div class='para' id='mul-4'><div class='marginalizedparent'><a class='marginalized' href='#mul-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4680'>#</a></div><div id='mul-4.sentence-1' class='sentence'>The binary <span class='texttt'>/</span> operator yields the quotient, and the binary
<span class='texttt'>%</span> operator yields the remainder from the division of the first
expression by the second<a class='hidden_link' href='#mul-4.sentence-1'>.</a></div> <div id='mul-4.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':zero,undefined_division_by'></a></span>If the second operand of <span class='texttt'>/</span> or <span class='texttt'>%</span> is zero the behavior is
undefined<a class='hidden_link' href='#mul-4.sentence-2'>.</a></div> <div id='mul-4.sentence-3' class='sentence'>For integral operands the <span class='texttt'>/</span> operator yields the algebraic quotient with
any fractional part discarded;<a class='footnotenum' href='#footnote-85'>85</a> if the quotient <span class='texttt'>a/b</span> is representable in the type of the result,
<span class='texttt'>(a/b)*b + a%b</span> is equal to <span class='texttt'>a</span>; otherwise, the behavior
of both <span class='texttt'>a/b</span> and <span class='texttt'>a%b</span> is undefined<a class='hidden_link' href='#mul-4.sentence-3'>.</a></div></div><div class='footnote' id='footnote-85'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-85'>85)</a></div><div id='footnote-85.sentence-1' class='sentence'>This is often called truncation towards
zero<a class='hidden_link' href='#footnote-85.sentence-1'>.</a></div></div></div><div id='add' class='section'><h3 ><a class='secnum' href='#add' style='min-width:103pt'>8.5.6</a> Additive operators <a class='abbr_ref' href='expr.add'>[expr.add]</a></h3><span class='indexparent'><a class='index' id=':expression,additive_operators'></a></span><span class='indexparent'><a class='index' id=':operator,additive'></a></span><div class='para' id='add-1'><div class='marginalizedparent'><a class='marginalized' href='#add-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4697'>#</a></div><div id='add-1.sentence-1' class='sentence'>The additive operators <span class='texttt'>+</span> and <span class='texttt'>-</span> group left-to-right<a class='hidden_link' href='#add-1.sentence-1'>.</a></div> <div id='add-1.sentence-2' class='sentence'>The
<a href='expr.arith.conv'>usual arithmetic conversions</a> are performed for operands of arithmetic or
enumeration type<a class='hidden_link' href='#add-1.sentence-2'>.</a></div><span class='indexparent'><a class='index' id=':operator,addition'></a></span><span class='indexparent'><a class='index' id=':operator,subtraction'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:additive-expression' id='nt:additive-expression'>additive-expression:</a>
&#9;<i ><a href='expr.mul#nt:multiplicative-expression'>multiplicative-expression</a></i>
&#9;<i ><a href='expr.add#nt:additive-expression'>additive-expression</a></i> <span class='terminal'>+</span> <i ><a href='expr.mul#nt:multiplicative-expression'>multiplicative-expression</a></i>
&#9;<i ><a href='expr.add#nt:additive-expression'>additive-expression</a></i> <span class='terminal'>-</span> <i ><a href='expr.mul#nt:multiplicative-expression'>multiplicative-expression</a></i>
</pre><div id='add-1.sentence-3' class='sentence'><span class='indexparent'><a class='index' id=':incomplete'></a></span>For addition, either both operands shall have arithmetic or unscoped enumeration
type, or one operand shall be a pointer to a completely-defined object
type and the other shall have integral or unscoped enumeration type<a class='hidden_link' href='#add-1.sentence-3'>.</a></div></div><div class='para' id='add-2'><div class='marginalizedparent'><a class='marginalized' href='#add-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4721'>#</a></div><div id='add-2.sentence-1' class='sentence'>For subtraction, one of the following shall hold:</div><div id='add-2.sentence-2' class='sentence'><ul class='itemize'><li id='add-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#add-2.1'>(2.1)</a></div><div id='add-2.1.sentence-1' class='sentence'>both operands have arithmetic or unscoped enumeration type; or<span class='indexparent'><a class='index' id=':arithmetic,pointer'></a></span></div></li><li id='add-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#add-2.2'>(2.2)</a></div><div id='add-2.2.sentence-1' class='sentence'>both operands are pointers to cv-qualified or cv-unqualified
versions of the same completely-defined object type; or</div></li><li id='add-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#add-2.3'>(2.3)</a></div><div id='add-2.3.sentence-1' class='sentence'>the left operand is a pointer to a completely-defined object type
and the right operand has integral or unscoped enumeration type<a class='hidden_link' href='#add-2.3.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='add-3'><div class='marginalizedparent'><a class='marginalized' href='#add-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4735'>#</a></div><div id='add-3.sentence-1' class='sentence'>The result of the binary <span class='texttt'>+</span> operator is the sum of the operands<a class='hidden_link' href='#add-3.sentence-1'>.</a></div> <div id='add-3.sentence-2' class='sentence'>The result of the binary <span class='texttt'>-</span> operator is the difference resulting
from the subtraction of the second operand from the first<a class='hidden_link' href='#add-3.sentence-2'>.</a></div></div><div class='para' id='add-4'><div class='marginalizedparent'><a class='marginalized' href='#add-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4740'>#</a></div><div id='add-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':arithmetic,pointer_'></a></span>When an expression that has integral type is added to or subtracted from
a pointer, the result has the type of the pointer operand<a class='hidden_link' href='#add-4.sentence-1'>.</a></div> <div id='add-4.sentence-2' class='sentence'>If the expression <span class='texttt'>P</span> points to element <span class='math'><span class='mathtt'>x[</span><span class='mathalpha'>i</span><span class='mathtt'>]</span></span>
of an array object <span class='texttt'>x</span> with <span class='math'><span class='mathalpha'>n</span></span> elements,<a class='footnotenum' href='#footnote-86'>86</a>
the expressions <span class='texttt'>P + J</span> and <span class='texttt'>J + P</span>
(where <span class='texttt'>J</span> has the value <span class='math'><span class='mathalpha'>j</span></span>)
point to the (possibly-hypothetical) element
<span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{x[}i + j\mathtt{]}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.519em; padding-bottom: 0.372em;">[</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span><span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.519em; padding-bottom: 0.372em;">]</span></span></span></span></span></span></span> if <span class="mjx-chtml"><span class="mjx-math" aria-label="0 \le {}i + j \le {}n"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">≤</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span><span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">≤</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span>;
otherwise, the behavior is undefined<a class='hidden_link' href='#add-4.sentence-2'>.</a></div> <div id='add-4.sentence-3' class='sentence'>Likewise, the expression <span class='texttt'>P - J</span>
points to the (possibly-hypothetical) element
<span class="mjx-chtml"><span class="mjx-math" aria-label="\mathtt{x[}i - j\mathtt{]}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">x</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.519em; padding-bottom: 0.372em;">[</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.519em; padding-bottom: 0.372em;">]</span></span></span></span></span></span></span> if <span class="mjx-chtml"><span class="mjx-math" aria-label="0 \le {}i - j \le {}n"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">≤</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">≤</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span>;
otherwise, the behavior is undefined<a class='hidden_link' href='#add-4.sentence-3'>.</a></div></div><div class='para' id='add-5'><div class='marginalizedparent'><a class='marginalized' href='#add-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4761'>#</a></div><div id='add-5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':ptrdiff_t,implementation-defined_type_of'></a></span><span class='indexparent'><a class='index' id=':subtraction,implementation-defined_pointer'></a></span><span class='indexparent'><a class='index' id=':ptrdiff_t'></a></span><span class='indexparent'><a class='index' id=':<cstddef>_'></a></span><span class='indexparent'><a class='index' id=':<cstddef>_'></a></span><span class='indexparent'><a class='index' id=':comparison,undefined_pointer'></a></span>When two pointers to elements of the same array object are subtracted,
the type of the result is an <span class='indexparent'><a class='index' id=':type_of_ptrdiff_t'></a></span>implementation-defined signed
integral type; this type shall be the same type that is defined as
<span class='texttt'>std&#x200b;::&#x200b;ptrdiff_&shy;t</span> in the <span class='texttt'>&lt;cstddef&gt;</span>
header (<a href='support.types'>[support.types]</a>)<a class='hidden_link' href='#add-5.sentence-1'>.</a></div> <div id='add-5.sentence-2' class='sentence'>If the expressions <span class='texttt'>P</span> and <span class='texttt'>Q</span>
point to, respectively,
elements
<span class='math'><span class='mathtt'>x[</span><span class='mathalpha'>i</span><span class='mathtt'>]</span></span>
and
<span class='math'><span class='mathtt'>x[</span><span class='mathalpha'>j</span><span class='mathtt'>]</span></span>
of the same array object <span class='texttt'>x</span>,
the expression <span class='texttt'>P - Q</span> has the value <span class="mjx-chtml"><span class="mjx-math" aria-label="i - j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span>;
otherwise, the behavior is undefined<a class='hidden_link' href='#add-5.sentence-2'>.</a></div> <div id='add-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#add-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='add-5.sentence-3' class='sentence'>If the value <span class="mjx-chtml"><span class="mjx-math" aria-label="i - j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span><span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span>
is not in the range of representable values
of type <span class='texttt'>std&#x200b;::&#x200b;ptrdiff_&shy;t</span>,
the behavior is undefined<a class='hidden_link' href='#add-5.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='add-6'><div class='marginalizedparent'><a class='marginalized' href='#add-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4788'>#</a></div><div id='add-6.sentence-1' class='sentence'>For addition or subtraction, if the expressions <span class='texttt'>P</span> or <span class='texttt'>Q</span> have
type “pointer to <span class='textit'>cv</span> <span class='texttt'>T</span>”, where <span class='texttt'>T</span> and the array element type
are not <a href='conv.qual#def:similar_types'>similar</a>, the behavior is undefined<a class='hidden_link' href='#add-6.sentence-1'>.</a></div> <div id='add-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#add-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='add-6.sentence-2' class='sentence'>In particular, a pointer to a base class cannot be used for
pointer arithmetic when the array contains objects of a derived class type<a class='hidden_link' href='#add-6.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='add-7'><div class='marginalizedparent'><a class='marginalized' href='#add-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4796'>#</a></div><div id='add-7.sentence-1' class='sentence'>If the value 0 is added to or subtracted from a null pointer value,
the result is a null pointer value<a class='hidden_link' href='#add-7.sentence-1'>.</a></div> <div id='add-7.sentence-2' class='sentence'>If two null pointer values are subtracted,
the result compares equal to the value 0
converted to the type <span class='texttt'>std&#x200b;::&#x200b;ptrdiff_&shy;t</span><a class='hidden_link' href='#add-7.sentence-2'>.</a></div></div><div class='footnote' id='footnote-86'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-86'>86)</a></div><div id='footnote-86.sentence-1' class='sentence'>An object that is not an array element is considered to belong to a
single-element array for this purpose; see <a href='expr.unary.op'>[expr.unary.op]</a><a class='hidden_link' href='#footnote-86.sentence-1'>.</a></div> <div id='footnote-86.sentence-2' class='sentence'>A pointer past the last element of an array <span class='texttt'>x</span> of <span class='math'><span class='mathalpha'>n</span></span> elements
is considered to be equivalent to a pointer to a hypothetical element
<span class='math'><span class='mathtt'>x[</span><span class='mathalpha'>n</span><span class='mathtt'>]</span></span> for this purpose; see <a href='basic.compound'>[basic.compound]</a><a class='hidden_link' href='#footnote-86.sentence-2'>.</a></div></div></div><div id='shift' class='section'><h3 ><a class='secnum' href='#shift' style='min-width:103pt'>8.5.7</a> Shift operators <a class='abbr_ref' href='expr.shift'>[expr.shift]</a></h3><div class='para' id='shift-1'><div class='marginalizedparent'><a class='marginalized' href='#shift-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4805'>#</a></div><div id='shift-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':expression,left-shift-operator'></a></span><span class='indexparent'><a class='index' id=':expression,right-shift-operator'></a></span>The shift operators <span class='texttt'>&lt;&lt;</span> and <span class='texttt'>&gt;&gt;</span> group left-to-right<a class='hidden_link' href='#shift-1.sentence-1'>.</a></div><span class='indexparent'><a class='index' id=':operator,left_shift'></a></span><span class='indexparent'><a class='index' id=':operator,right_shift'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:shift-expression' id='nt:shift-expression'>shift-expression:</a>
&#9;<i ><a href='expr.add#nt:additive-expression'>additive-expression</a></i>
&#9;<i ><a href='expr.shift#nt:shift-expression'>shift-expression</a></i> <span class='terminal'>&lt;&lt;</span> <i ><a href='expr.add#nt:additive-expression'>additive-expression</a></i>
&#9;<i ><a href='expr.shift#nt:shift-expression'>shift-expression</a></i> <span class='terminal'>&gt;&gt;</span> <i ><a href='expr.add#nt:additive-expression'>additive-expression</a></i>
</pre><div id='shift-1.sentence-2' class='sentence'>The operands shall be of integral or unscoped enumeration type and integral
promotions are performed<a class='hidden_link' href='#shift-1.sentence-2'>.</a></div> <div id='shift-1.sentence-3' class='sentence'>The type of the result is that of the promoted
left operand<a class='hidden_link' href='#shift-1.sentence-3'>.</a></div> <div id='shift-1.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':left_shift,undefined'></a></span>The behavior is undefined if the right operand is negative, or greater
than or equal to the length in bits of the promoted left operand<a class='hidden_link' href='#shift-1.sentence-4'>.</a></div></div><div class='para' id='shift-2'><div class='marginalizedparent'><a class='marginalized' href='#shift-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4833'>#</a></div><div id='shift-2.sentence-1' class='sentence'>The value of <span class='texttt'>E1 &lt;&lt; E2</span> is <span class='texttt'>E1</span> left-shifted <span class='texttt'>E2</span> bit positions; vacated bits are
zero-filled<a class='hidden_link' href='#shift-2.sentence-1'>.</a></div> <div id='shift-2.sentence-2' class='sentence'>If <span class='texttt'>E1</span> has an unsigned type, the value of the result
is <span class="mjx-chtml"><span class="mjx-math" aria-label="\mathrm{E1}\times{}2^\mathrm{E2}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">E</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">×</span></span><span class="mjx-texatom MJXc-space2"><span class="mjx-mrow"></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.591em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">E</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span></span>, reduced modulo
one more than the maximum value representable in the result type<a class='hidden_link' href='#shift-2.sentence-2'>.</a></div> <div id='shift-2.sentence-3' class='sentence'>Otherwise, if
<span class='texttt'>E1</span> has a signed type and non-negative value, and <span class="mjx-chtml"><span class="mjx-math" aria-label="\mathrm{E1}\times{}2^\mathrm{E2}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">E</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">×</span></span><span class="mjx-texatom MJXc-space2"><span class="mjx-mrow"></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.591em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">E</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span></span> is
representable in the corresponding unsigned type of the result type, then
that value, converted to the result type, is the resulting value; otherwise, the
behavior is undefined<a class='hidden_link' href='#shift-2.sentence-3'>.</a></div></div><div class='para' id='shift-3'><div class='marginalizedparent'><a class='marginalized' href='#shift-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4843'>#</a></div><div id='shift-3.sentence-1' class='sentence'>The value of <span class='texttt'>E1 &gt;&gt; E2</span> is <span class='texttt'>E1</span> right-shifted <span class='texttt'>E2</span>
bit positions<a class='hidden_link' href='#shift-3.sentence-1'>.</a></div> <div id='shift-3.sentence-2' class='sentence'>If <span class='texttt'>E1</span> has an unsigned type or if <span class='texttt'>E1</span> has a
signed type and a non-negative value, the value of the result is the
integral part of the quotient of <span class="mjx-chtml"><span class="mjx-math" aria-label="\mathrm{E1}/2^\mathrm{E2}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">E</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">/</span></span></span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.591em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">E</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span></span><a class='hidden_link' href='#shift-3.sentence-2'>.</a></div> <div id='shift-3.sentence-3' class='sentence'>If <span class='texttt'>E1</span>
<span class='indexparent'><a class='index' id=':right_shift,implementation-defined'></a></span>has a signed type and a negative value, the resulting value is
<span class='indexparent'><a class='index' id=':result_of_right_shift_of_negative_value'></a></span>implementation-defined<a class='hidden_link' href='#shift-3.sentence-3'>.</a></div></div><div class='para' id='shift-4'><div class='marginalizedparent'><a class='marginalized' href='#shift-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4852'>#</a></div><div id='shift-4.sentence-1' class='sentence'>The expression <span class='texttt'>E1</span> is sequenced before the expression <span class='texttt'>E2</span><a class='hidden_link' href='#shift-4.sentence-1'>.</a></div></div></div><div id='spaceship' class='section'><h3 ><a class='secnum' href='#spaceship' style='min-width:103pt'>8.5.8</a> Three-way comparison operator <a class='abbr_ref' href='expr.spaceship'>[expr.spaceship]</a></h3><span class='indexparent'><a class='index' id=':expression,three-way_comparison'></a></span><span class='indexparent'><a class='index' id=':expression,spaceship'></a></span><div class='para' id='spaceship-1'><div class='marginalizedparent'><a class='marginalized' href='#spaceship-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4859'>#</a></div><div id='spaceship-1.sentence-1' class='sentence'>The three-way comparison operator groups left-to-right<a class='hidden_link' href='#spaceship-1.sentence-1'>.</a></div><span class='indexparent'><a class='index' id=':operator,three-way_comparison'></a></span><span class='indexparent'><a class='index' id=':operator,spaceship'></a></span>
<pre class='bnf'><a class='nontermdef' href='#nt:compare-expression' id='nt:compare-expression'>compare-expression:</a>
&#9;<i ><a href='expr.shift#nt:shift-expression'>shift-expression</a></i>
&#9;<i ><a href='expr.spaceship#nt:compare-expression'>compare-expression</a></i> <span class='terminal'>&lt;=&gt;</span> <i ><a href='expr.shift#nt:shift-expression'>shift-expression</a></i>
</pre></div><div class='para' id='spaceship-2'><div class='marginalizedparent'><a class='marginalized' href='#spaceship-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4872'>#</a></div><div id='spaceship-2.sentence-1' class='sentence'>The expression <span class='texttt'>p &lt;=&gt; q</span> is a prvalue indicating whether
<span class='texttt'>p</span> is less than, equal to, greater than, or incomparable with
<span class='texttt'>q</span><a class='hidden_link' href='#spaceship-2.sentence-1'>.</a></div></div><div class='para' id='spaceship-3'><div class='marginalizedparent'><a class='marginalized' href='#spaceship-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4877'>#</a></div><div id='spaceship-3.sentence-1' class='sentence'>If one of the operands is of type <span class='texttt'>bool</span>
and the other is not, the program is ill-formed<a class='hidden_link' href='#spaceship-3.sentence-1'>.</a></div></div><div class='para' id='spaceship-4'><div class='marginalizedparent'><a class='marginalized' href='#spaceship-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4881'>#</a></div><div id='spaceship-4.sentence-1' class='sentence'>If both operands have arithmetic types,
the <a href='expr.arith.conv'>usual arithmetic conversions</a> are applied to the operands<a class='hidden_link' href='#spaceship-4.sentence-1'>.</a></div> <div id='spaceship-4.sentence-2' class='sentence'>Then:</div><div id='spaceship-4.sentence-3' class='sentence'><ul class='itemize'><li id='spaceship-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#spaceship-4.1'>(4.1)</a></div><div id='spaceship-4.1.sentence-1' class='sentence'>If a <a href='dcl.init.list#def:narrowing_conversion'>narrowing conversion</a> is required,
other than from an integral type to a floating point type,
the program is ill-formed<a class='hidden_link' href='#spaceship-4.1.sentence-1'>.</a></div></li><li id='spaceship-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#spaceship-4.2'>(4.2)</a></div><div id='spaceship-4.2.sentence-1' class='sentence'>Otherwise, if the operands have integral type,
the result is of type <span class='texttt'>std&#x200b;::&#x200b;strong_&shy;ordering</span><a class='hidden_link' href='#spaceship-4.2.sentence-1'>.</a></div> <div id='spaceship-4.2.sentence-2' class='sentence'>The result is
<span class='texttt'>std&#x200b;::&#x200b;strong_&shy;ordering&#x200b;::&#x200b;equal</span>
if both operands are arithmetically equal,
<span class='texttt'>std&#x200b;::&#x200b;strong_&shy;ordering&#x200b;::&#x200b;less</span>
if the first operand is arithmetically
less than the second operand,
and
<span class='texttt'>std&#x200b;::&#x200b;strong_&shy;ordering&#x200b;::&#x200b;greater</span>
otherwise<a class='hidden_link' href='#spaceship-4.2.sentence-2'>.</a></div></li><li id='spaceship-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#spaceship-4.3'>(4.3)</a></div><div id='spaceship-4.3.sentence-1' class='sentence'>Otherwise, the operands have floating-point type, and
the result is of type <span class='texttt'>std&#x200b;::&#x200b;partial_&shy;ordering</span><a class='hidden_link' href='#spaceship-4.3.sentence-1'>.</a></div> <div id='spaceship-4.3.sentence-2' class='sentence'>The expression <span class='texttt'>a &lt;=&gt; b</span> yields
<span class='texttt'>std&#x200b;::&#x200b;partial_&shy;ordering&#x200b;::&#x200b;less</span>
if <span class='texttt'>a</span> is less than <span class='texttt'>b</span>,
<span class='texttt'>std&#x200b;::&#x200b;partial_&shy;ordering&#x200b;::&#x200b;greater</span>
if <span class='texttt'>a</span> is greater than <span class='texttt'>b</span>,
<span class='texttt'>std&#x200b;::&#x200b;partial_&shy;ordering&#x200b;::&#x200b;equivalent</span>
if <span class='texttt'>a</span> is equivalent to <span class='texttt'>b</span>,
and
<span class='texttt'>std&#x200b;::&#x200b;partial_&shy;ordering&#x200b;::&#x200b;unordered</span> otherwise<a class='hidden_link' href='#spaceship-4.3.sentence-2'>.</a></div></li></ul></div></div><div class='para' id='spaceship-5'><div class='marginalizedparent'><a class='marginalized' href='#spaceship-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4918'>#</a></div><div id='spaceship-5.sentence-1' class='sentence'>If both operands have the same enumeration type <span class='texttt'>E</span>,
the operator yields the result of
converting the operands to the underlying type of <span class='texttt'>E</span>
and applying <span class='texttt'>&lt;=&gt;</span> to the converted operands<a class='hidden_link' href='#spaceship-5.sentence-1'>.</a></div></div><div class='para' id='spaceship-6'><div class='marginalizedparent'><a class='marginalized' href='#spaceship-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4924'>#</a></div><div id='spaceship-6.sentence-1' class='sentence'>If at least one of the operands is of pointer type,
<a href='conv.array'>array-to-pointer conversions</a>,
<a href='conv.ptr'>pointer conversions</a>,
<a href='conv.fctptr'>function pointer conversions</a>,
and
<a href='conv.qual'>qualification conversions</a>
are performed on both operands
to bring them to their <a href='expr.type#def:composite_pointer_type'>composite pointer type</a><a class='hidden_link' href='#spaceship-6.sentence-1'>.</a></div> <div id='spaceship-6.sentence-2' class='sentence'>If at least one of the operands is of pointer-to-member type,
<a href='conv.mem'>pointer-to-member conversions</a>
and
<a href='conv.qual'>qualification conversions</a>
are performed on both operands
to bring them to their <a href='expr.type#def:composite_pointer_type'>composite pointer type</a><a class='hidden_link' href='#spaceship-6.sentence-2'>.</a></div> <div id='spaceship-6.sentence-3' class='sentence'>If both operands are null pointer constants,
but not both of integer type,
<a href='conv.ptr'>pointer conversions</a>
are performed on both operands
to bring them to their <a href='expr.type#def:composite_pointer_type'>composite pointer type</a><a class='hidden_link' href='#spaceship-6.sentence-3'>.</a></div> <div id='spaceship-6.sentence-4' class='sentence'>In all cases, after the conversions, the operands shall have the same type<a class='hidden_link' href='#spaceship-6.sentence-4'>.</a></div> <div id='spaceship-6.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#spaceship-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='spaceship-6.sentence-5' class='sentence'>If both of the operands are arrays,
<a href='conv.array'>array-to-pointer conversions</a> are not applied<a class='hidden_link' href='#spaceship-6.sentence-5'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='spaceship-7'><div class='marginalizedparent'><a class='marginalized' href='#spaceship-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4953'>#</a></div><div id='spaceship-7.sentence-1' class='sentence'>If the composite pointer type is
a function pointer type,
a pointer-to-member type, or
<span class='texttt'>std&#x200b;::&#x200b;nullptr_&shy;t</span>,
the result is of type <span class='texttt'>std&#x200b;::&#x200b;strong_&shy;equality</span>;
the result is
<span class='texttt'>std&#x200b;::&#x200b;strong_&shy;equality&#x200b;::&#x200b;equal</span>
if the (possibly converted) operands compare equal (<a href='expr.eq'>[expr.eq]</a>)
and
<span class='texttt'>std&#x200b;::&#x200b;strong_&shy;equality&#x200b;::&#x200b;unequal</span>
if they compare unequal,
otherwise the result of the operator is unspecified<a class='hidden_link' href='#spaceship-7.sentence-1'>.</a></div></div><div class='para' id='spaceship-8'><div class='marginalizedparent'><a class='marginalized' href='#spaceship-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4967'>#</a></div><div id='spaceship-8.sentence-1' class='sentence'>If the composite pointer type is an object pointer type,
<span class='texttt'>p &lt;=&gt; q</span> is of type <span class='texttt'>std&#x200b;::&#x200b;strong_&shy;ordering</span><a class='hidden_link' href='#spaceship-8.sentence-1'>.</a></div> <div id='spaceship-8.sentence-2' class='sentence'>If two pointer operands <span class='texttt'>p</span> and <span class='texttt'>q</span> compare equal (<a href='expr.eq'>[expr.eq]</a>),
<span class='texttt'>p &lt;=&gt; q</span> yields <span class='texttt'>std&#x200b;::&#x200b;strong_&shy;ordering&#x200b;::&#x200b;equal</span>;
if <span class='texttt'>p</span> and <span class='texttt'>q</span> compare unequal,
<span class='texttt'>p &lt;=&gt; q</span> yields
<span class='texttt'>std&#x200b;::&#x200b;strong_&shy;ordering&#x200b;::&#x200b;less</span>
if <span class='texttt'>q</span> compares greater than <span class='texttt'>p</span>
and
<span class='texttt'>std&#x200b;::&#x200b;strong_&shy;ordering&#x200b;::&#x200b;greater</span>
if <span class='texttt'>p</span> compares greater than <span class='texttt'>q</span> (<a href='expr.rel'>[expr.rel]</a>)<a class='hidden_link' href='#spaceship-8.sentence-2'>.</a></div> <div id='spaceship-8.sentence-3' class='sentence'>Otherwise, the result is unspecified<a class='hidden_link' href='#spaceship-8.sentence-3'>.</a></div></div><div class='para' id='spaceship-9'><div class='marginalizedparent'><a class='marginalized' href='#spaceship-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4981'>#</a></div><div id='spaceship-9.sentence-1' class='sentence'>Otherwise, the program is ill-formed<a class='hidden_link' href='#spaceship-9.sentence-1'>.</a></div></div><div class='para' id='spaceship-10'><div class='marginalizedparent'><a class='marginalized' href='#spaceship-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L4984'>#</a></div><div id='spaceship-10.sentence-1' class='sentence'>The five <a href='cmp.categories#def:comparison_category_types'>comparison category types</a>
(the types
<span class='texttt'>std&#x200b;::&#x200b;strong_&shy;ordering</span>,
<span class='texttt'>std&#x200b;::&#x200b;strong_&shy;equality</span>,
<span class='texttt'>std&#x200b;::&#x200b;weak_&shy;ordering</span>,
<span class='texttt'>std&#x200b;::&#x200b;weak_&shy;equality</span>, and
<span class='texttt'>std&#x200b;::&#x200b;partial_&shy;ordering</span>)
are not predefined;
if the header
<span class='indexparent'><a class='index' id=':<compare>'></a></span><span class='indexparent'><a class='index' id=':<compare>'></a></span><span class='texttt'>&lt;compare&gt;</span>
is not included prior to a use of such a class type –
even an implicit use in which the type is not named
(e.g., via the <a href='dcl.spec.auto'><span class='texttt'>auto</span> specifier</a>
in a defaulted <a href='class.spaceship'>three-way comparison</a>
or use of the built-in operator) – the program is ill-formed<a class='hidden_link' href='#spaceship-10.sentence-1'>.</a></div></div></div><div id='rel' class='section'><h3 ><a class='secnum' href='#rel' style='min-width:103pt'>8.5.9</a> Relational operators <a class='abbr_ref' href='expr.rel'>[expr.rel]</a></h3><span class='indexparent'><a class='index' id=':expression,relational_operators'></a></span><span class='indexparent'><a class='index' id=':operator,relational'></a></span><div class='para' id='rel-1'><div class='marginalizedparent'><a class='marginalized' href='#rel-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5005'>#</a></div><div id='rel-1.sentence-1' class='sentence'>The relational operators group left-to-right<a class='hidden_link' href='#rel-1.sentence-1'>.</a></div> <div id='rel-1.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#rel-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='rel-1.sentence-2' class='sentence'><span class='texttt'>a&lt;b&lt;c</span> means <span class='texttt'>(a&lt;b)&lt;c</span> and <span class='emph'>not</span>
<span class='texttt'>(a&lt;b)&amp;&amp;(b&lt;c)</span><a class='hidden_link' href='#rel-1.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> <span class='indexparent'><a class='index' id=':operator,less_than'></a></span><span class='indexparent'><a class='index' id=':operator,greater_than'></a></span><span class='indexparent'><a class='index' id=':operator,less_than_or_equal_to'></a></span><span class='indexparent'><a class='index' id=':operator,greater_than_or_equal_to'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:relational-expression' id='nt:relational-expression'>relational-expression:</a>
&#9;<i ><a href='expr.spaceship#nt:compare-expression'>compare-expression</a></i>
&#9;<i ><a href='expr.rel#nt:relational-expression'>relational-expression</a></i> <span class='terminal'>&lt;</span> <i ><a href='expr.spaceship#nt:compare-expression'>compare-expression</a></i>
&#9;<i ><a href='expr.rel#nt:relational-expression'>relational-expression</a></i> <span class='terminal'>&gt;</span> <i ><a href='expr.spaceship#nt:compare-expression'>compare-expression</a></i>
&#9;<i ><a href='expr.rel#nt:relational-expression'>relational-expression</a></i> <span class='terminal'>&lt;=</span> <i ><a href='expr.spaceship#nt:compare-expression'>compare-expression</a></i>
&#9;<i ><a href='expr.rel#nt:relational-expression'>relational-expression</a></i> <span class='terminal'>&gt;=</span> <i ><a href='expr.spaceship#nt:compare-expression'>compare-expression</a></i>
</pre><div id='rel-1.sentence-3' class='sentence'>The operands shall have arithmetic, enumeration, or pointer type<a class='hidden_link' href='#rel-1.sentence-3'>.</a></div> <div id='rel-1.sentence-4' class='sentence'>The
operators <span class='texttt'>&lt;</span> (less than), <span class='texttt'>&gt;</span> (greater than), <span class='texttt'>&lt;=</span>
(less than or equal to), and <span class='texttt'>&gt;=</span> (greater than or equal to) all
yield <span class='texttt'>false</span> or <span class='texttt'>true</span><a class='hidden_link' href='#rel-1.sentence-4'>.</a></div> <div id='rel-1.sentence-5' class='sentence'>The type of the result is
<span class='texttt'>bool</span><a class='hidden_link' href='#rel-1.sentence-5'>.</a></div></div><div class='para' id='rel-2'><div class='marginalizedparent'><a class='marginalized' href='#rel-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5036'>#</a></div><div id='rel-2.sentence-1' class='sentence'>The <a href='expr.arith.conv'>usual arithmetic conversions</a> are performed on operands of arithmetic
or enumeration type<a class='hidden_link' href='#rel-2.sentence-1'>.</a></div> <div id='rel-2.sentence-2' class='sentence'>If both operands are pointers, <a href='conv.ptr'>pointer
conversions</a> and <a href='conv.qual'>qualification conversions</a>
are performed to bring
them to their <a href='expr.prop#def:composite_pointer_type'>composite pointer type</a><a class='hidden_link' href='#rel-2.sentence-2'>.</a></div> <div id='rel-2.sentence-3' class='sentence'>After conversions, the operands shall have the same type<a class='hidden_link' href='#rel-2.sentence-3'>.</a></div></div><div class='para' id='rel-3'><div class='marginalizedparent'><a class='marginalized' href='#rel-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5044'>#</a></div><div id='rel-3.sentence-1' class='sentence'>Comparing unequal pointers to objects<a class='footnotenum' href='#footnote-87'>87</a>
is defined as follows:</div><div id='rel-3.sentence-2' class='sentence'><ul class='itemize'><li id='rel-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#rel-3.1'>(3.1)</a></div><div id='rel-3.1.sentence-1' class='sentence'>If two pointers point to different elements of the same array, or to
subobjects thereof, the pointer to the element with the higher subscript
compares greater<a class='hidden_link' href='#rel-3.1.sentence-1'>.</a></div></li><li id='rel-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#rel-3.2'>(3.2)</a></div><div id='rel-3.2.sentence-1' class='sentence'>If two pointers point to different non-static data members of the same
object, or to subobjects of such members, recursively,
the pointer to the later declared member compares greater provided the
two members
have the same <a href='class.access'>access control</a>
and provided their class is not a union<a class='hidden_link' href='#rel-3.2.sentence-1'>.</a></div></li><li id='rel-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#rel-3.3'>(3.3)</a></div><div id='rel-3.3.sentence-1' class='sentence'>Otherwise, neither pointer compares greater than the other<a class='hidden_link' href='#rel-3.3.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='rel-4'><div class='marginalizedparent'><a class='marginalized' href='#rel-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5069'>#</a></div><div id='rel-4.sentence-1' class='sentence'>If two operands <span class='texttt'>p</span> and <span class='texttt'>q</span> <a href='expr.eq'>compare equal</a>,
<span class='texttt'>p&lt;=q</span> and <span class='texttt'>p&gt;=q</span> both yield <span class='texttt'>true</span> and <span class='texttt'>p&lt;q</span> and
<span class='texttt'>p&gt;q</span> both yield <span class='texttt'>false</span><a class='hidden_link' href='#rel-4.sentence-1'>.</a></div> <div id='rel-4.sentence-2' class='sentence'>Otherwise, if a pointer <span class='texttt'>p</span>
compares greater than a pointer <span class='texttt'>q</span>, <span class='texttt'>p&gt;=q</span>, <span class='texttt'>p&gt;q</span>,
<span class='texttt'>q&lt;=p</span>, and <span class='texttt'>q&lt;p</span> all yield <span class='texttt'>true</span> and <span class='texttt'>p&lt;=q</span>,
<span class='texttt'>p&lt;q</span>, <span class='texttt'>q&gt;=p</span>, and <span class='texttt'>q&gt;p</span> all yield <span class='texttt'>false</span><a class='hidden_link' href='#rel-4.sentence-2'>.</a></div> <div id='rel-4.sentence-3' class='sentence'>Otherwise, the result of each of the operators is unspecified<a class='hidden_link' href='#rel-4.sentence-3'>.</a></div></div><div class='para' id='rel-5'><div class='marginalizedparent'><a class='marginalized' href='#rel-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5078'>#</a></div><div id='rel-5.sentence-1' class='sentence'>If both operands (after conversions) are of arithmetic or enumeration type, each
of the operators shall yield <span class='texttt'>true</span> if the specified relationship is true
and <span class='texttt'>false</span> if it is false<a class='hidden_link' href='#rel-5.sentence-1'>.</a></div></div><div class='footnote' id='footnote-87'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-87'>87)</a></div><div id='footnote-87.sentence-1' class='sentence'>An object that is not an array element is considered to belong to a
single-element array for this purpose; see <a href='expr.unary.op'>[expr.unary.op]</a><a class='hidden_link' href='#footnote-87.sentence-1'>.</a></div> <div id='footnote-87.sentence-2' class='sentence'>A pointer past the last element of an array <span class='texttt'>x</span> of <span class='math'><span class='mathalpha'>n</span></span> elements
is considered to be equivalent to a pointer to a hypothetical element
<span class='math'><span class='mathtt'>x[</span><span class='mathalpha'>n</span><span class='mathtt'>]</span></span> for this purpose; see <a href='basic.compound'>[basic.compound]</a><a class='hidden_link' href='#footnote-87.sentence-2'>.</a></div></div></div><div id='eq' class='section'><h3 ><a class='secnum' href='#eq' style='min-width:103pt'>8.5.10</a> Equality operators <a class='abbr_ref' href='expr.eq'>[expr.eq]</a></h3><span class='indexparent'><a class='index' id=':expression,equality_operators'></a></span><span class='indexparent'><a class='index' id=':operator,equality'></a></span><span class='indexparent'><a class='index' id=':operator,inequality'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:equality-expression' id='nt:equality-expression'>equality-expression:</a>
&#9;<i ><a href='expr.rel#nt:relational-expression'>relational-expression</a></i>
&#9;<i ><a href='expr.eq#nt:equality-expression'>equality-expression</a></i> <span class='terminal'>==</span> <i ><a href='expr.rel#nt:relational-expression'>relational-expression</a></i>
&#9;<i ><a href='expr.eq#nt:equality-expression'>equality-expression</a></i> <span class='terminal'>!=</span> <i ><a href='expr.rel#nt:relational-expression'>relational-expression</a></i>
</pre><div class='para' id='eq-1'><div class='marginalizedparent'><a class='marginalized' href='#eq-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5095'>#</a></div><div id='eq-1.sentence-1' class='sentence'>The <span class='texttt'>==</span> (equal to) and the <span class='texttt'>!=</span> (not equal to) operators
group left-to-right<a class='hidden_link' href='#eq-1.sentence-1'>.</a></div> <div id='eq-1.sentence-2' class='sentence'>The operands shall have arithmetic, enumeration, pointer,
or pointer-to-member type, or type <span class='texttt'>std&#x200b;::&#x200b;nullptr_&shy;t</span><a class='hidden_link' href='#eq-1.sentence-2'>.</a></div> <div id='eq-1.sentence-3' class='sentence'>The operators
<span class='texttt'>==</span> and <span class='texttt'>!=</span> both yield <span class='texttt'>true</span> or <span class='texttt'>false</span>, i.e., a
result of type <span class='texttt'>bool</span><a class='hidden_link' href='#eq-1.sentence-3'>.</a></div> <div id='eq-1.sentence-4' class='sentence'>In each case below, the operands shall have the
same type after the specified conversions have been applied<a class='hidden_link' href='#eq-1.sentence-4'>.</a></div></div><div class='para' id='eq-2'><div class='marginalizedparent'><a class='marginalized' href='#eq-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5103'>#</a></div><div id='eq-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':comparison,pointer'></a></span><span class='indexparent'><a class='index' id=':comparison,pointer_to_function'></a></span>If at least one of the operands is a pointer,
<a href='conv.ptr'>pointer conversions</a>,
<a href='conv.fctptr'>function pointer conversions</a>, and
<a href='conv.qual'>qualification conversions</a>
are performed on both operands to bring them to their
<a href='expr.prop#def:composite_pointer_type'>composite pointer type</a><a class='hidden_link' href='#eq-2.sentence-1'>.</a></div> <div id='eq-2.sentence-2' class='sentence'>Comparing pointers is defined as follows:</div><div id='eq-2.sentence-3' class='sentence'><ul class='itemize'><li id='eq-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#eq-2.1'>(2.1)</a></div><div id='eq-2.1.sentence-1' class='sentence'>If one pointer represents the address of a complete object, and another
pointer represents the address one past the last element of a different
complete object,<a class='footnotenum' href='#footnote-88'>88</a> the result of the comparison is unspecified<a class='hidden_link' href='#eq-2.1.sentence-1'>.</a></div></li><li id='eq-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#eq-2.2'>(2.2)</a></div><div id='eq-2.2.sentence-1' class='sentence'>Otherwise, if the pointers are both null, both point to the same
<span class='indexparent'><a class='index' id=':address'></a></span>function, or both
<a href='basic.compound#def:represents_the_address'>represent the same address</a>,
they compare equal<a class='hidden_link' href='#eq-2.2.sentence-1'>.</a></div></li><li id='eq-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#eq-2.3'>(2.3)</a></div><div id='eq-2.3.sentence-1' class='sentence'>Otherwise, the pointers compare unequal<a class='hidden_link' href='#eq-2.3.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='eq-3'><div class='marginalizedparent'><a class='marginalized' href='#eq-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5131'>#</a></div><div id='eq-3.sentence-1' class='sentence'>If at least one of the operands is a pointer to member, <a href='conv.mem'>pointer-to-member
conversions</a> and <a href='conv.qual'>qualification
conversions</a> are performed on both operands to bring them to
their <a href='expr.prop#def:composite_pointer_type'>composite pointer type</a><a class='hidden_link' href='#eq-3.sentence-1'>.</a></div> <div id='eq-3.sentence-2' class='sentence'>Comparing pointers to members is defined as follows:</div><div id='eq-3.sentence-3' class='sentence'><ul class='itemize'><li id='eq-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#eq-3.1'>(3.1)</a></div><div id='eq-3.1.sentence-1' class='sentence'>If two pointers to members are both the null member pointer value, they compare
equal<a class='hidden_link' href='#eq-3.1.sentence-1'>.</a></div></li><li id='eq-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#eq-3.2'>(3.2)</a></div><div id='eq-3.2.sentence-1' class='sentence'>If only one of two pointers to members is the null member pointer value, they
compare unequal<a class='hidden_link' href='#eq-3.2.sentence-1'>.</a></div></li><li id='eq-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#eq-3.3'>(3.3)</a></div><div id='eq-3.3.sentence-1' class='sentence'>If either is a pointer to a virtual member function, the result is unspecified<a class='hidden_link' href='#eq-3.3.sentence-1'>.</a></div></li><li id='eq-3.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#eq-3.4'>(3.4)</a></div><div id='eq-3.4.sentence-1' class='sentence'>If one refers to a member of class <span class='texttt'>C1</span> and the other refers to a member
of a different class <span class='texttt'>C2</span>, where neither is a base class of the other,
the result is unspecified<a class='hidden_link' href='#eq-3.4.sentence-1'>.</a></div> <div id='eq-3.4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#eq-3.4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A {};
struct B : A { int x; };
struct C : A { int x; };

int A::*bx = (int(A::*))&amp;B::x;
int A::*cx = (int(A::*))&amp;C::x;

bool b1 = (bx == cx);   <span class='comment'>// unspecified
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </li><li id='eq-3.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#eq-3.5'>(3.5)</a></div><div id='eq-3.5.sentence-1' class='sentence'>If both refer to (possibly different) members of the same <a href='class.union'>union</a>,
they compare equal<a class='hidden_link' href='#eq-3.5.sentence-1'>.</a></div></li><li id='eq-3.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#eq-3.6'>(3.6)</a></div><div id='eq-3.6.sentence-1' class='sentence'>Otherwise, two pointers to members compare equal if they would refer to the same member of
the same <a href='intro.object#def:most_derived_object'>most derived object</a> or the same subobject if
indirection with a hypothetical object of the associated
class type were performed, otherwise they compare unequal<a class='hidden_link' href='#eq-3.6.sentence-1'>.</a></div> <div id='eq-3.6.example-2' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#eq-3.6.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct B {
  int f();
};
struct L : B { };
struct R : B { };
struct D : L, R { };

int (B::*pb)() = &amp;B::f;
int (L::*pl)() = pb;
int (R::*pr)() = pb;
int (D::*pdl)() = pl;
int (D::*pdr)() = pr;
bool x = (pdl == pdr);          <span class='comment'>// <span class='tcode_in_codeblock'>false</span>
</span>bool y = (pb == pl);            <span class='comment'>// <span class='tcode_in_codeblock'>true</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </li></ul></div></div><div class='para' id='eq-4'><div class='marginalizedparent'><a class='marginalized' href='#eq-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5197'>#</a></div><div id='eq-4.sentence-1' class='sentence'>Two operands of type <span class='texttt'>std&#x200b;::&#x200b;nullptr_&shy;t</span> or one operand of type
<span class='texttt'>std&#x200b;::&#x200b;nullptr_&shy;t</span> and the other a null pointer constant compare equal<a class='hidden_link' href='#eq-4.sentence-1'>.</a></div></div><div class='para' id='eq-5'><div class='marginalizedparent'><a class='marginalized' href='#eq-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5201'>#</a></div><div id='eq-5.sentence-1' class='sentence'>If two operands compare equal, the result is <span class='texttt'>true</span> for
the <span class='texttt'>==</span> operator and <span class='texttt'>false</span> for the <span class='texttt'>!=</span> operator<a class='hidden_link' href='#eq-5.sentence-1'>.</a></div> <div id='eq-5.sentence-2' class='sentence'>If two operands
compare unequal, the result is <span class='texttt'>false</span> for the <span class='texttt'>==</span> operator and
<span class='texttt'>true</span> for the <span class='texttt'>!=</span> operator<a class='hidden_link' href='#eq-5.sentence-2'>.</a></div> <div id='eq-5.sentence-3' class='sentence'>Otherwise, the result of each of the
operators is unspecified<a class='hidden_link' href='#eq-5.sentence-3'>.</a></div></div><div class='para' id='eq-6'><div class='marginalizedparent'><a class='marginalized' href='#eq-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5208'>#</a></div><div id='eq-6.sentence-1' class='sentence'>If both operands are of arithmetic or enumeration type, the <a href='expr.arith.conv'>usual arithmetic
conversions</a> are performed on both operands; each of the operators shall yield
<span class='texttt'>true</span> if the specified relationship is true and <span class='texttt'>false</span> if it is
false<a class='hidden_link' href='#eq-6.sentence-1'>.</a></div></div><div class='footnote' id='footnote-88'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-88'>88)</a></div><div id='footnote-88.sentence-1' class='sentence'>An object that is not an array element is
considered to belong to a single-element array for this purpose;
see <a href='expr.unary.op'>[expr.unary.op]</a><a class='hidden_link' href='#footnote-88.sentence-1'>.</a></div></div></div><div id='bit.and' class='section'><h3 ><a class='secnum' href='#bit.and' style='min-width:103pt'>8.5.11</a> Bitwise AND operator <a class='abbr_ref' href='expr.bit.and'>[expr.bit.and]</a></h3><span class='indexparent'><a class='index' id=':expression,bitwise_AND'></a></span><span class='indexparent'><a class='index' id=':operator,bitwise'></a></span><span class='indexparent'><a class='index' id=':operator,bitwise_AND'></a></span>
<pre class='bnf'><a class='nontermdef' href='#nt:and-expression' id='nt:and-expression'>and-expression:</a>
&#9;<i ><a href='expr.eq#nt:equality-expression'>equality-expression</a></i>
&#9;<i ><a href='expr.bit.and#nt:and-expression'>and-expression</a></i> <span class='terminal'>&amp;</span> <i ><a href='expr.eq#nt:equality-expression'>equality-expression</a></i>
</pre><div class='para' id='bit.and-1'><div class='marginalizedparent'><a class='marginalized' href='#bit.and-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5226'>#</a></div><div id='bit.and-1.sentence-1' class='sentence'>The <a href='expr.arith.conv'>usual arithmetic conversions</a> are performed; the result is the
bitwise AND function of the operands<a class='hidden_link' href='#bit.and-1.sentence-1'>.</a></div> <div id='bit.and-1.sentence-2' class='sentence'>The operator
applies only to integral or unscoped enumeration operands<a class='hidden_link' href='#bit.and-1.sentence-2'>.</a></div></div></div><div id='xor' class='section'><h3 ><a class='secnum' href='#xor' style='min-width:103pt'>8.5.12</a> Bitwise exclusive OR operator <a class='abbr_ref' href='expr.xor'>[expr.xor]</a></h3><span class='indexparent'><a class='index' id=':expression,bitwise_exclusive_OR'></a></span><span class='indexparent'><a class='index' id=':operator,bitwise_exclusive_OR'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:exclusive-or-expression' id='nt:exclusive-or-expression'>exclusive-or-expression:</a>
&#9;<i ><a href='expr.bit.and#nt:and-expression'>and-expression</a></i>
&#9;<i ><a href='expr.xor#nt:exclusive-or-expression'>exclusive-or-expression</a></i> <span class='terminal'>^</span> <i ><a href='expr.bit.and#nt:and-expression'>and-expression</a></i>
</pre><div class='para' id='xor-1'><div class='marginalizedparent'><a class='marginalized' href='#xor-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5242'>#</a></div><div id='xor-1.sentence-1' class='sentence'>The <a href='expr.arith.conv'>usual arithmetic conversions</a> are performed; the result is the
bitwise exclusive OR function of the operands<a class='hidden_link' href='#xor-1.sentence-1'>.</a></div> <div id='xor-1.sentence-2' class='sentence'>The
operator applies only to integral or unscoped enumeration operands<a class='hidden_link' href='#xor-1.sentence-2'>.</a></div></div></div><div id='or' class='section'><h3 ><a class='secnum' href='#or' style='min-width:103pt'>8.5.13</a> Bitwise inclusive OR operator <a class='abbr_ref' href='expr.or'>[expr.or]</a></h3><span class='indexparent'><a class='index' id=':expression,bitwise_inclusive_OR'></a></span><span class='indexparent'><a class='index' id=':operator,bitwise_inclusive_OR'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:inclusive-or-expression' id='nt:inclusive-or-expression'>inclusive-or-expression:</a>
&#9;<i ><a href='expr.xor#nt:exclusive-or-expression'>exclusive-or-expression</a></i>
&#9;<i ><a href='expr.or#nt:inclusive-or-expression'>inclusive-or-expression</a></i> <span class='terminal'>|</span> <i ><a href='expr.xor#nt:exclusive-or-expression'>exclusive-or-expression</a></i>
</pre><div class='para' id='or-1'><div class='marginalizedparent'><a class='marginalized' href='#or-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5258'>#</a></div><div id='or-1.sentence-1' class='sentence'>The <a href='expr.arith.conv'>usual arithmetic conversions</a> are performed; the result is the
bitwise inclusive OR function of its operands<a class='hidden_link' href='#or-1.sentence-1'>.</a></div> <div id='or-1.sentence-2' class='sentence'>The
operator applies only to integral or unscoped enumeration operands<a class='hidden_link' href='#or-1.sentence-2'>.</a></div></div></div><div id='log.and' class='section'><h3 ><a class='secnum' href='#log.and' style='min-width:103pt'>8.5.14</a> Logical AND operator <a class='abbr_ref' href='expr.log.and'>[expr.log.and]</a></h3><span class='indexparent'><a class='index' id=':expression,logical_AND'></a></span><span class='indexparent'><a class='index' id=':operator,logical_AND'></a></span>
<pre class='bnf'><a class='nontermdef' href='#nt:logical-and-expression' id='nt:logical-and-expression'>logical-and-expression:</a>
&#9;<i ><a href='expr.or#nt:inclusive-or-expression'>inclusive-or-expression</a></i>
&#9;<i ><a href='expr.log.and#nt:logical-and-expression'>logical-and-expression</a></i> <span class='terminal'>&amp;&amp;</span> <i ><a href='expr.or#nt:inclusive-or-expression'>inclusive-or-expression</a></i>
</pre><div class='para' id='log.and-1'><div class='marginalizedparent'><a class='marginalized' href='#log.and-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5274'>#</a></div><div id='log.and-1.sentence-1' class='sentence'>The <span class='texttt'>&amp;&amp;</span> operator groups left-to-right<a class='hidden_link' href='#log.and-1.sentence-1'>.</a></div> <div id='log.and-1.sentence-2' class='sentence'>The operands are both
<a href='conv#def:conversion,contextual_to_bool'>contextually converted to <span class='texttt'>bool</span></a><a class='hidden_link' href='#log.and-1.sentence-2'>.</a></div> <div id='log.and-1.sentence-3' class='sentence'>The result is <span class='texttt'>true</span> if both operands are <span class='texttt'>true</span> and
<span class='texttt'>false</span> otherwise<a class='hidden_link' href='#log.and-1.sentence-3'>.</a></div> <div id='log.and-1.sentence-4' class='sentence'>Unlike <span class='texttt'>&amp;</span>, <span class='texttt'>&amp;&amp;</span> guarantees
left-to-right evaluation: the second operand is not evaluated if the
first operand is <span class='texttt'>false</span><a class='hidden_link' href='#log.and-1.sentence-4'>.</a></div></div><div class='para' id='log.and-2'><div class='marginalizedparent'><a class='marginalized' href='#log.and-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5283'>#</a></div><div id='log.and-2.sentence-1' class='sentence'>The result is a <span class='texttt'>bool</span><a class='hidden_link' href='#log.and-2.sentence-1'>.</a></div> <div id='log.and-2.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':operator,side_effects_and_logical_AND'></a></span>If the second expression is evaluated, every
<span class='indexparent'><a class='index' id=':value_computation__'></a></span>value computation and
<span class='indexparent'><a class='index' id=':side_effects'></a></span>
side
effect associated with the first expression is sequenced before every
value computation and side effect associated with the second expression<a class='hidden_link' href='#log.and-2.sentence-2'>.</a></div></div></div><div id='log.or' class='section'><h3 ><a class='secnum' href='#log.or' style='min-width:103pt'>8.5.15</a> Logical OR operator <a class='abbr_ref' href='expr.log.or'>[expr.log.or]</a></h3><span class='indexparent'><a class='index' id=':expression,logical_OR'></a></span><span class='indexparent'><a class='index' id=':operator,logical_OR'></a></span>
<pre class='bnf'><a class='nontermdef' href='#nt:logical-or-expression' id='nt:logical-or-expression'>logical-or-expression:</a>
&#9;<i ><a href='expr.log.and#nt:logical-and-expression'>logical-and-expression</a></i>
&#9;<i ><a href='expr.log.or#nt:logical-or-expression'>logical-or-expression</a></i> <span class='terminal'>||</span> <i ><a href='expr.log.and#nt:logical-and-expression'>logical-and-expression</a></i>
</pre><div class='para' id='log.or-1'><div class='marginalizedparent'><a class='marginalized' href='#log.or-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5305'>#</a></div><div id='log.or-1.sentence-1' class='sentence'>The <span class='texttt'>||</span> operator groups left-to-right<a class='hidden_link' href='#log.or-1.sentence-1'>.</a></div> <div id='log.or-1.sentence-2' class='sentence'>The operands are both
<a href='conv#def:conversion,contextual_to_bool'>contextually converted to <span class='texttt'>bool</span></a><a class='hidden_link' href='#log.or-1.sentence-2'>.</a></div> <div id='log.or-1.sentence-3' class='sentence'>The result is
<span class='texttt'>true</span> if either of its operands is <span class='texttt'>true</span>, and
<span class='texttt'>false</span> otherwise<a class='hidden_link' href='#log.or-1.sentence-3'>.</a></div> <div id='log.or-1.sentence-4' class='sentence'>Unlike <span class='texttt'>|</span>, <span class='texttt'>||</span> guarantees
left-to-right evaluation; moreover, the second operand is not evaluated
if the first operand evaluates to <span class='texttt'>true</span><a class='hidden_link' href='#log.or-1.sentence-4'>.</a></div></div><div class='para' id='log.or-2'><div class='marginalizedparent'><a class='marginalized' href='#log.or-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5315'>#</a></div><div id='log.or-2.sentence-1' class='sentence'>The result is a <span class='texttt'>bool</span><a class='hidden_link' href='#log.or-2.sentence-1'>.</a></div> <div id='log.or-2.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':operator,side_effects_and_logical_OR'></a></span>If the second expression is evaluated, every
<span class='indexparent'><a class='index' id=':value_computation___'></a></span>value computation and
<span class='indexparent'><a class='index' id=':side_effects_'></a></span>side effect
associated with the first expression is sequenced before every value computation
and side effect associated with the second expression<a class='hidden_link' href='#log.or-2.sentence-2'>.</a></div></div></div><div id='cond' class='section'><h3 ><a class='secnum' href='#cond' style='min-width:103pt'>8.5.16</a> Conditional operator <a class='abbr_ref' href='expr.cond'>[expr.cond]</a></h3><span class='indexparent'><a class='index' id=':expression,conditional_operator'></a></span><span class='indexparent'><a class='index' id=':operator,conditional_expression'></a></span>
<pre class='bnf'><a class='nontermdef' href='#nt:conditional-expression' id='nt:conditional-expression'>conditional-expression:</a>
&#9;<i ><a href='expr.log.or#nt:logical-or-expression'>logical-or-expression</a></i>
&#9;<i ><a href='expr.log.or#nt:logical-or-expression'>logical-or-expression</a></i> <span class='terminal'>?</span> <i ><a href='expr.comma#nt:expression'>expression</a></i> <span class='terminal'>:</span> <i ><a href='expr.ass#nt:assignment-expression'>assignment-expression</a></i>
</pre><div class='para' id='cond-1'><div class='marginalizedparent'><a class='marginalized' href='#cond-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5337'>#</a></div><div id='cond-1.sentence-1' class='sentence'>Conditional expressions group right-to-left<a class='hidden_link' href='#cond-1.sentence-1'>.</a></div> <div id='cond-1.sentence-2' class='sentence'>The first expression is
<a href='conv#def:conversion,contextual_to_bool'>contextually converted to <span class='texttt'>bool</span></a><a class='hidden_link' href='#cond-1.sentence-2'>.</a></div> <div id='cond-1.sentence-3' class='sentence'>It is
evaluated and if it is <span class='texttt'>true</span>, the result of the conditional
expression is the value of the second expression, otherwise that of the
third expression<a class='hidden_link' href='#cond-1.sentence-3'>.</a></div> <div id='cond-1.sentence-4' class='sentence'>Only one of the second and third expressions is
evaluated<a class='hidden_link' href='#cond-1.sentence-4'>.</a></div> <div id='cond-1.sentence-5' class='sentence'>Every
<span class='indexparent'><a class='index' id=':value_computation____'></a></span>value computation and side effect associated with the
first expression is sequenced before every value computation and side
effect associated with the second or third expression<a class='hidden_link' href='#cond-1.sentence-5'>.</a></div></div><div class='para' id='cond-2'><div class='marginalizedparent'><a class='marginalized' href='#cond-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5350'>#</a></div><div id='cond-2.sentence-1' class='sentence'>If either the second or the third operand has type <span class='texttt'>void</span>,
one of the following shall hold:</div><div id='cond-2.sentence-2' class='sentence'><ul class='itemize'><li id='cond-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#cond-2.1'>(2.1)</a></div><div id='cond-2.1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':conditional-expression,throw-expression_in'></a></span>The second or the third operand (but not both) is a (possibly
parenthesized) <i ><a href='expr.throw#nt:throw-expression'>throw-expression</a></i>; the result
is of the type and value category of the other<a class='hidden_link' href='#cond-2.1.sentence-1'>.</a></div> <div id='cond-2.1.sentence-2' class='sentence'>The <i ><a href='expr.cond#nt:conditional-expression'>conditional-expression</a></i>
is a bit-field if that operand is a bit-field<a class='hidden_link' href='#cond-2.1.sentence-2'>.</a></div></li><li id='cond-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#cond-2.2'>(2.2)</a></div><div id='cond-2.2.sentence-1' class='sentence'>Both the second and the third operands have type <span class='texttt'>void</span>; the
result is of type <span class='texttt'>void</span> and is a prvalue<a class='hidden_link' href='#cond-2.2.sentence-1'>.</a></div> <div id='cond-2.2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#cond-2.2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='cond-2.2.sentence-2' class='sentence'>This
includes the case where both operands are <i ><a href='expr.throw#nt:throw-expression'>throw-expression</a></i><span class='textit'>s</span><a class='hidden_link' href='#cond-2.2.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </li></ul></div></div><div class='para' id='cond-3'><div class='marginalizedparent'><a class='marginalized' href='#cond-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5368'>#</a></div><div id='cond-3.sentence-1' class='sentence'>Otherwise, if the second and third operand are glvalue bit-fields
of the same value category and
of types <span class='textit'>cv1</span> <span class='texttt'>T</span> and <span class='textit'>cv2</span> <span class='texttt'>T</span>, respectively,
the operands are considered to be of type <span class='textit'>cv</span> <span class='texttt'>T</span>
for the remainder of this subclause,
where <span class='textit'>cv</span> is the union of <span class='textit'>cv1</span> and <span class='textit'>cv2</span><a class='hidden_link' href='#cond-3.sentence-1'>.</a></div></div><div class='para' id='cond-4'><div class='marginalizedparent'><a class='marginalized' href='#cond-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5376'>#</a></div><div id='cond-4.sentence-1' class='sentence'>Otherwise, if the second and third operand have different types and
either has (possibly cv-qualified) class type, or if both
are glvalues of the same value category and the same type except for
cv-qualification, an attempt is made to
form an <a href='over.best.ics'>implicit conversion sequence</a> from
each of those operands to the type of the other<a class='hidden_link' href='#cond-4.sentence-1'>.</a></div> <div id='cond-4.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#cond-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='cond-4.sentence-3' class='sentence'>Properties such as access, whether an operand is a bit-field, or whether
a conversion function is deleted are ignored for that determination<a class='hidden_link' href='#cond-4.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='cond-4.sentence-2' class='sentence'>
Attempts are made to form an implicit conversion sequence
from an operand expression <span class='texttt'>E1</span> of type <span class='texttt'>T1</span>
to a target type related to the type <span class='texttt'>T2</span>
of the operand expression <span class='texttt'>E2</span> as follows:</div><div id='cond-4.sentence-4' class='sentence'><ul class='itemize'><li id='cond-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#cond-4.1'>(4.1)</a></div><div id='cond-4.1.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is an lvalue, the target type is
“lvalue reference to <span class='texttt'>T2</span>”, subject to the
constraint that in the conversion the reference must
<a href='dcl.init.ref#def:bind_directly'>bind directly</a> to an lvalue<a class='hidden_link' href='#cond-4.1.sentence-1'>.</a></div></li><li id='cond-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#cond-4.2'>(4.2)</a></div><div id='cond-4.2.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is an xvalue, the target type is
“rvalue reference to <span class='texttt'>T2</span>”,
subject to the constraint that the reference must bind directly<a class='hidden_link' href='#cond-4.2.sentence-1'>.</a></div></li><li id='cond-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#cond-4.3'>(4.3)</a></div><div id='cond-4.3.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a prvalue or if neither of the conversion sequences above can be
formed and at least one of the operands has (possibly cv-qualified) class type:
<ul class='itemize'><li id='cond-4.3.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#cond-4.3.1'>(4.3.1)</a></div><div id='cond-4.3.1.sentence-1' class='sentence'>if <span class='texttt'>T1</span> and <span class='texttt'>T2</span> are the same class type
(ignoring cv-qualification), or one is a base class of the other, and
<span class='texttt'>T2</span> is at least as cv-qualified as <span class='texttt'>T1</span>,
the target type is <span class='texttt'>T2</span>,</div></li><li id='cond-4.3.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#cond-4.3.2'>(4.3.2)</a></div><div id='cond-4.3.2.sentence-1' class='sentence'>otherwise, the target type is the type that <span class='texttt'>E2</span> would have
after applying the
<a href='conv.lval'>lvalue-to-rvalue</a>,
<a href='conv.array'>array-to-pointer</a>, and
<a href='conv.func'>function-to-pointer</a>
standard conversions<a class='hidden_link' href='#cond-4.3.2.sentence-1'>.</a></div></li></ul></div></li></ul></div><div id='cond-4.sentence-5' class='sentence'>Using this process, it is determined whether an implicit conversion
sequence can be formed from the second operand
to the target type determined for the third operand, and vice versa<a class='hidden_link' href='#cond-4.sentence-5'>.</a></div> <div id='cond-4.sentence-6' class='sentence'>If both sequences can be formed, or one can be formed but it is the
ambiguous conversion sequence, the program is ill-formed<a class='hidden_link' href='#cond-4.sentence-6'>.</a></div> <div id='cond-4.sentence-7' class='sentence'>If no conversion sequence can be formed, the operands are left unchanged
and further checking is performed as described below<a class='hidden_link' href='#cond-4.sentence-7'>.</a></div> <div id='cond-4.sentence-8' class='sentence'>Otherwise, if exactly one conversion sequence can be formed,
that conversion is applied to the chosen operand
and the converted operand is used in place of the original operand for
the remainder of this subclause<a class='hidden_link' href='#cond-4.sentence-8'>.</a></div> <div id='cond-4.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#cond-4.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='cond-4.sentence-9' class='sentence'>The conversion might be ill-formed even if an implicit conversion
sequence could be formed<a class='hidden_link' href='#cond-4.sentence-9'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='cond-5'><div class='marginalizedparent'><a class='marginalized' href='#cond-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5435'>#</a></div><div id='cond-5.sentence-1' class='sentence'>If the second and third operands are glvalues of the same value category
and have the same type, the
result is of that type and value category and it is a bit-field if the
second or the third operand is a bit-field, or if both are bit-fields<a class='hidden_link' href='#cond-5.sentence-1'>.</a></div></div><div class='para' id='cond-6'><div class='marginalizedparent'><a class='marginalized' href='#cond-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5441'>#</a></div><div id='cond-6.sentence-1' class='sentence'>Otherwise, the result is a prvalue<a class='hidden_link' href='#cond-6.sentence-1'>.</a></div> <div id='cond-6.sentence-2' class='sentence'>If the second and third operands do
not have the same type, and either has (possibly cv-qualified) class
type, overload resolution is used to determine the conversions (if any)
to be applied to the operands (<a href='over.match.oper'>[over.match.oper]</a>, <a href='over.built'>[over.built]</a>)<a class='hidden_link' href='#cond-6.sentence-2'>.</a></div> <div id='cond-6.sentence-3' class='sentence'>If the overload resolution fails, the program is ill-formed<a class='hidden_link' href='#cond-6.sentence-3'>.</a></div> <div id='cond-6.sentence-4' class='sentence'>Otherwise,
the conversions thus determined are applied, and the converted operands
are used in place of the original operands for the remainder of this
subclause<a class='hidden_link' href='#cond-6.sentence-4'>.</a></div></div><div class='para' id='cond-7'><div class='marginalizedparent'><a class='marginalized' href='#cond-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5451'>#</a></div><div id='cond-7.sentence-1' class='sentence'><a href='conv.lval'>Lvalue-to-rvalue</a>, <a href='conv.array'>array-to-pointer</a>,
and <a href='conv.func'>function-to-pointer</a> standard conversions are
performed on the second and third operands<a class='hidden_link' href='#cond-7.sentence-1'>.</a></div> <div id='cond-7.sentence-2' class='sentence'>After those conversions, one
of the following shall hold:</div><div id='cond-7.sentence-3' class='sentence'><ul class='itemize'><li id='cond-7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#cond-7.1'>(7.1)</a></div><div id='cond-7.1.sentence-1' class='sentence'>The second and third operands have the same type; the result is of
that type and the result object is initialized using the selected operand<a class='hidden_link' href='#cond-7.1.sentence-1'>.</a></div></li><li id='cond-7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#cond-7.2'>(7.2)</a></div><div id='cond-7.2.sentence-1' class='sentence'>The second and third operands have arithmetic or enumeration type;
the <a href='expr.arith.conv'>usual arithmetic conversions</a> are performed to bring them to a common
type, and the result is of that type<a class='hidden_link' href='#cond-7.2.sentence-1'>.</a></div></li><li id='cond-7.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#cond-7.3'>(7.3)</a></div><div id='cond-7.3.sentence-1' class='sentence'>One or both of the second and third operands have pointer type;
<a href='conv.ptr'>pointer conversions</a>,
<a href='conv.fctptr'>function pointer conversions</a>, and
<a href='conv.qual'>qualification conversions</a>
are performed to bring them to their
<a href='expr.prop#def:composite_pointer_type'>composite pointer type</a><a class='hidden_link' href='#cond-7.3.sentence-1'>.</a></div> <div id='cond-7.3.sentence-2' class='sentence'>The result is of the composite
pointer type<a class='hidden_link' href='#cond-7.3.sentence-2'>.</a></div></li><li id='cond-7.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#cond-7.4'>(7.4)</a></div><div id='cond-7.4.sentence-1' class='sentence'>One or both of the second and third operands have pointer-to-member type;
<a href='conv.mem'>pointer to member conversions</a> and <a href='conv.qual'>qualification
conversions</a> are performed to bring them to their
<a href='expr.prop#def:composite_pointer_type'>composite pointer type</a><a class='hidden_link' href='#cond-7.4.sentence-1'>.</a></div> <div id='cond-7.4.sentence-2' class='sentence'>The result is of the composite pointer type<a class='hidden_link' href='#cond-7.4.sentence-2'>.</a></div></li><li id='cond-7.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#cond-7.5'>(7.5)</a></div><div id='cond-7.5.sentence-1' class='sentence'>Both the second and third operands have type <span class='texttt'>std&#x200b;::&#x200b;nullptr_&shy;t</span> or one has
that type and the other is a null pointer constant<a class='hidden_link' href='#cond-7.5.sentence-1'>.</a></div> <div id='cond-7.5.sentence-2' class='sentence'>The result is of type
<span class='texttt'>std&#x200b;::&#x200b;nullptr_&shy;t</span><a class='hidden_link' href='#cond-7.5.sentence-2'>.</a></div></li></ul></div></div></div><div id='throw' class='section'><h3 ><a class='secnum' href='#throw' style='min-width:103pt'>8.5.17</a> Throwing an exception <a class='abbr_ref' href='expr.throw'>[expr.throw]</a></h3><span class='indexparent'><a class='index' id=':expression,throw'></a></span><span class='indexparent'><a class='index' id=':exception_handling,throwing'></a></span><span class='indexparent'><a class='index' id=':throw'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:throw-expression' id='nt:throw-expression'>throw-expression:</a>
&#9;<span class='terminal'>throw</span>  <i ><a href='expr.ass#nt:assignment-expression'>assignment-expression</a></i><span class="mjx-chtml"><span class="mjx-math" aria-label="_\mathit{opt}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><div class='para' id='throw-1'><div class='marginalizedparent'><a class='marginalized' href='#throw-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5495'>#</a></div><div id='throw-1.sentence-1' class='sentence'>A <i ><a href='expr.throw#nt:throw-expression'>throw-expression</a></i> is of type <span class='texttt'>void</span><a class='hidden_link' href='#throw-1.sentence-1'>.</a></div></div><div class='para' id='throw-2'><div class='marginalizedparent'><a class='marginalized' href='#throw-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5498'>#</a></div><div id='throw-2.sentence-1' class='sentence'>Evaluating a <i ><a href='expr.throw#nt:throw-expression'>throw-expression</a></i> with an operand <a href='except.throw'>throws an
exception</a>; the type of the exception object is determined by removing
any top-level <i ><a href='dcl.decl#nt:cv-qualifier'>cv-qualifier</a></i><span class='textit'>s</span> from the static type of the
operand and adjusting the type
from “array of <span class='texttt'>T</span>” or function type <span class='texttt'>T</span>
to “pointer to <span class='texttt'>T</span>”<a class='hidden_link' href='#throw-2.sentence-1'>.</a></div></div><div class='para' id='throw-3'><div class='marginalizedparent'><a class='marginalized' href='#throw-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5506'>#</a></div><div id='throw-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':exception_handling,rethrow'></a></span>A
<i ><a href='expr.throw#nt:throw-expression'>throw-expression</a></i>
with no operand rethrows the
<a href='except.handle#def:exception_handling,currently_handled_exception'>currently handled exception</a><a class='hidden_link' href='#throw-3.sentence-1'>.</a></div> <div id='throw-3.sentence-2' class='sentence'>The exception is reactivated with the existing exception object;
no new exception object is created<a class='hidden_link' href='#throw-3.sentence-2'>.</a></div> <div id='throw-3.sentence-3' class='sentence'>The exception is no longer considered to be caught<a class='hidden_link' href='#throw-3.sentence-3'>.</a></div> <div id='throw-3.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#throw-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='throw-3.sentence-4' class='sentence'>Code that must be executed because of an exception, but cannot
completely handle the exception itself, can be written like this:
<pre class='codeblock'>
try {
    <span class='comment'>// ...
</span>} catch (...) {     <span class='comment'>// catch all exceptions
</span>  <span class='comment'>// respond (partially) to exception
</span>  throw;            <span class='comment'>// pass the exception to some other handler
</span>}</pre></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='throw-4'><div class='marginalizedparent'><a class='marginalized' href='#throw-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5528'>#</a></div><div id='throw-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':exception_handling,rethrow_'></a></span><span class='indexparent'><a class='index' id=':exception_handling,terminate_called'></a></span><span class='indexparent'><a class='index' id=':terminate,called'></a></span>If no exception is presently being handled,
evaluating a
<i ><a href='expr.throw#nt:throw-expression'>throw-expression</a></i>
with no operand calls
<a href='except.terminate'><span class='texttt'>std&#x200b;::&#x200b;&#x200b;terminate()</span></a><a class='hidden_link' href='#throw-4.sentence-1'>.</a></div></div></div><div id='ass' class='section'><h3 ><a class='secnum' href='#ass' style='min-width:103pt'>8.5.18</a> Assignment and compound assignment operators <a class='abbr_ref' href='expr.ass'>[expr.ass]</a></h3><span class='indexparent'><a class='index' id=':expression,assignment_and_compound_assignment'></a></span><div class='para' id='ass-1'><div class='marginalizedparent'><a class='marginalized' href='#ass-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5541'>#</a></div><div id='ass-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':operator,assignment'></a></span><span class='indexparent'><a class='index' id=':operator,+=_'></a></span><span class='indexparent'><a class='index' id=':operator,-='></a></span><span class='indexparent'><a class='index' id=':operator,*='></a></span><span class='indexparent'><a class='index' id=':operator,/='></a></span><span class='indexparent'><a class='index' id=':operator,%='></a></span><span class='indexparent'><a class='index' id=':operator,>>='></a></span><span class='indexparent'><a class='index' id=':operator,<<='></a></span><span class='indexparent'><a class='index' id=':operator,&='></a></span><span class='indexparent'><a class='index' id=':operator,^='></a></span><span class='indexparent'><a class='index' id=':operator,|='></a></span>The assignment operator (<span class='texttt'>=</span>) and the compound assignment
operators all group right-to-left<a class='hidden_link' href='#ass-1.sentence-1'>.</a></div> <div id='ass-1.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':assignment,and_lvalue'></a></span>All
require a modifiable lvalue as their left operand; their result is an lvalue
referring to the left operand<a class='hidden_link' href='#ass-1.sentence-2'>.</a></div> <div id='ass-1.sentence-3' class='sentence'>The result in all cases is a bit-field if
the left operand is a bit-field<a class='hidden_link' href='#ass-1.sentence-3'>.</a></div> <div id='ass-1.sentence-4' class='sentence'>In all cases, the assignment is
sequenced after the
<span class='indexparent'><a class='index' id=':value_computation_____'></a></span>value computation of the right and left operands,
and before the
value computation of the assignment expression<a class='hidden_link' href='#ass-1.sentence-4'>.</a></div> <div id='ass-1.sentence-5' class='sentence'>The right operand is sequenced before the left operand<a class='hidden_link' href='#ass-1.sentence-5'>.</a></div> <div id='ass-1.sentence-6' class='sentence'>With
respect to an indeterminately-sequenced function call, the operation of
a compound assignment is a single evaluation<a class='hidden_link' href='#ass-1.sentence-6'>.</a></div> <div id='ass-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#ass-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='ass-1.sentence-7' class='sentence'>Therefore, a function call shall not intervene between the
lvalue-to-rvalue conversion and the side effect associated with any
single compound assignment operator<a class='hidden_link' href='#ass-1.sentence-7'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> <pre class='bnf'><a class='nontermdef' href='#nt:assignment-expression' id='nt:assignment-expression'>assignment-expression:</a>
&#9;<i ><a href='expr.cond#nt:conditional-expression'>conditional-expression</a></i>
&#9;<i ><a href='expr.log.or#nt:logical-or-expression'>logical-or-expression</a></i> <i ><a href='expr.ass#nt:assignment-operator'>assignment-operator</a></i> <i ><a href='dcl.init#nt:initializer-clause'>initializer-clause</a></i>
&#9;<i ><a href='expr.throw#nt:throw-expression'>throw-expression</a></i>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:assignment-operator' id='nt:assignment-operator'>assignment-operator:</a> <span class='textnormal'>one of</span>
&#9;<span class='terminal'>=  *=  /=  %=   +=  -=  &gt;&gt;=  &lt;&lt;=  &amp;=  ^=  |=</span>
</pre></div><div class='para' id='ass-2'><div class='marginalizedparent'><a class='marginalized' href='#ass-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5588'>#</a></div><div id='ass-2.sentence-1' class='sentence'>In simple assignment (<span class='texttt'>=</span>), the value of the expression replaces
that of the object referred to by the left operand<a class='hidden_link' href='#ass-2.sentence-1'>.</a></div></div><div class='para' id='ass-3'><div class='marginalizedparent'><a class='marginalized' href='#ass-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5592'>#</a></div><div id='ass-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':assignment,conversion_by'></a></span>If the left operand is not of class type, the expression is implicitly
converted (<a href='conv'>[conv]</a>) to the cv-unqualified type of the left
operand<a class='hidden_link' href='#ass-3.sentence-1'>.</a></div></div><div class='para' id='ass-4'><div class='marginalizedparent'><a class='marginalized' href='#ass-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5598'>#</a></div><div id='ass-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':class_object,assignment_to'></a></span><span class='indexparent'><a class='index' id=':type,incomplete_________'></a></span>If the left operand is of class type, the class shall be complete<a class='hidden_link' href='#ass-4.sentence-1'>.</a></div> <div id='ass-4.sentence-2' class='sentence'>Assignment to objects of a class is defined by the copy/move assignment
operator (<a href='class.copy'>[class.copy]</a>, <a href='over.ass'>[over.ass]</a>)<a class='hidden_link' href='#ass-4.sentence-2'>.</a></div></div><div class='para' id='ass-5'><div class='marginalizedparent'><a class='marginalized' href='#ass-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5605'>#</a></div><div id='ass-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#ass-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='ass-5.sentence-1' class='sentence'>For class objects, assignment is not in general the same as
initialization (<a href='dcl.init'>[dcl.init]</a>, <a href='class.ctor'>[class.ctor]</a>, <a href='class.init'>[class.init]</a>, <a href='class.copy'>[class.copy]</a>)<a class='hidden_link' href='#ass-5.sentence-1'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='ass-6'><div class='marginalizedparent'><a class='marginalized' href='#ass-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5611'>#</a></div><div id='ass-6.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':reference,assignment_to'></a></span>When the left operand of an assignment operator
is a bit-field that cannot represent the value of the expression, the
resulting value of the bit-field is
<span class='indexparent'><a class='index' id=':value_of_bit-field_that_cannot_represent,assigned_value'></a></span>implementation-defined<a class='hidden_link' href='#ass-6.sentence-1'>.</a></div></div><div class='para' id='ass-7'><div class='marginalizedparent'><a class='marginalized' href='#ass-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5618'>#</a></div><div id='ass-7.sentence-1' class='sentence'>The behavior of an expression of the form <span class='texttt'>E1 <span class='textit'>op</span>= E2</span>
is equivalent to <span class='texttt'>E1 = E1 <span class='textit'>op</span> E2</span> except
that <span class='texttt'>E1</span> is evaluated only once<a class='hidden_link' href='#ass-7.sentence-1'>.</a></div> <div id='ass-7.sentence-2' class='sentence'>In <span class='texttt'>+=</span> and <span class='texttt'>-=</span>,
<span class='texttt'>E1</span> shall either have arithmetic type or be a pointer to a
possibly cv-qualified completely-defined object type<a class='hidden_link' href='#ass-7.sentence-2'>.</a></div> <div id='ass-7.sentence-3' class='sentence'>In all other
cases, <span class='texttt'>E1</span> shall have arithmetic type<a class='hidden_link' href='#ass-7.sentence-3'>.</a></div></div><div class='para' id='ass-8'><div class='marginalizedparent'><a class='marginalized' href='#ass-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5626'>#</a></div><div id='ass-8.sentence-1' class='sentence'>If the value being stored in an object is read via another object that
overlaps in any way the storage of the first object, then the overlap shall be
exact and the two objects shall have the same type, otherwise the behavior is
undefined<a class='hidden_link' href='#ass-8.sentence-1'>.</a></div> <div id='ass-8.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#ass-8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='ass-8.sentence-2' class='sentence'>This restriction applies to the relationship
between the left and right sides of the assignment operation; it is not a
statement about how the target of the assignment may be aliased in general<a class='hidden_link' href='#ass-8.sentence-2'>.</a></div> <div id='ass-8.sentence-3' class='sentence'>See <a href='basic.lval'>[basic.lval]</a><a class='hidden_link' href='#ass-8.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='ass-9'><div class='marginalizedparent'><a class='marginalized' href='#ass-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5635'>#</a></div><div id='ass-9.sentence-1' class='sentence'>A <i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i> may appear on the right-hand side of
<ul class='itemize'><li id='ass-9.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#ass-9.1'>(9.1)</a></div><div id='ass-9.1.sentence-1' class='sentence'>an assignment to a scalar, in which case the initializer list shall have
at most a single element<a class='hidden_link' href='#ass-9.1.sentence-1'>.</a></div> <div id='ass-9.1.sentence-2' class='sentence'>The meaning of <span class='texttt'>x = {v}</span>, where <span class='texttt'>T</span> is the
scalar type of the expression <span class='texttt'>x</span>, is that of <span class='texttt'>x = T{v}</span><a class='hidden_link' href='#ass-9.1.sentence-2'>.</a></div> <div id='ass-9.1.sentence-3' class='sentence'>The meaning of
<span class='texttt'>x = {}</span> is <span class='texttt'>x = T{}</span><a class='hidden_link' href='#ass-9.1.sentence-3'>.</a></div></li><li id='ass-9.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#ass-9.2'>(9.2)</a></div><div id='ass-9.2.sentence-1' class='sentence'>an assignment to an object of class type, in which case the initializer
list is passed as the argument to the assignment operator function selected by
overload resolution (<a href='over.ass'>[over.ass]</a>, <a href='over.match'>[over.match]</a>)<a class='hidden_link' href='#ass-9.2.sentence-1'>.</a></div></li></ul></div> <div id='ass-9.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#ass-9.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
complex&lt;double&gt; z;
z = { 1,2 };              <span class='comment'>// meaning <span class='tcode_in_codeblock'>z.operator=({1,2})</span>
</span>z += { 1, 2 };            <span class='comment'>// meaning <span class='tcode_in_codeblock'>z.operator+=({1,2})</span>
</span>int a, b;
a = b = { 1 };            <span class='comment'>// meaning <span class='tcode_in_codeblock'>a=b=1;</span>
</span>a = { 1 } = b;            <span class='comment'>// syntax error
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='comma' class='section'><h3 ><a class='secnum' href='#comma' style='min-width:103pt'>8.5.19</a> Comma operator <a class='abbr_ref' href='expr.comma'>[expr.comma]</a></h3><span class='indexparent'><a class='index' id=':expression,comma'></a></span><span class='indexparent'><a class='index' id=':operator,comma'></a></span><div class='para' id='comma-1'><div class='marginalizedparent'><a class='marginalized' href='#comma-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5665'>#</a></div><div id='comma-1.sentence-1' class='sentence'>The comma operator groups left-to-right<a class='hidden_link' href='#comma-1.sentence-1'>.</a></div><pre class='bnf'><a class='nontermdef' href='#nt:expression' id='nt:expression'>expression:</a>
&#9;<i ><a href='expr.ass#nt:assignment-expression'>assignment-expression</a></i>
&#9;<i ><a href='expr.comma#nt:expression'>expression</a></i> <span class='terminal'>,</span> <i ><a href='expr.ass#nt:assignment-expression'>assignment-expression</a></i>
</pre><div id='comma-1.sentence-2' class='sentence'>A pair of expressions separated by a comma is evaluated left-to-right;
the left expression is
a <a href='expr.prop#def:discarded-value_expression'>discarded-value expression</a><a class='hidden_link' href='#comma-1.sentence-2'>.</a></div> <div id='comma-1.sentence-3' class='sentence'>Every
<span class='indexparent'><a class='index' id=':value_computation______'></a></span>value computation and side effect
associated with the left expression is sequenced before every value
computation and side effect associated with the right expression<a class='hidden_link' href='#comma-1.sentence-3'>.</a></div> <div id='comma-1.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':operator,side_effects_and_comma'></a></span>The type and value of the
result are the type and value of the right operand; the result is of the same
value category as its right operand, and is a bit-field if its
right operand is a bit-field<a class='hidden_link' href='#comma-1.sentence-4'>.</a></div> <div id='comma-1.sentence-5' class='sentence'>If the right operand is a temporary expression (<a href='class.temporary'>[class.temporary]</a>),
the result is a temporary expression<a class='hidden_link' href='#comma-1.sentence-5'>.</a></div></div><div class='para' id='comma-2'><div class='marginalizedparent'><a class='marginalized' href='#comma-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5690'>#</a></div><div id='comma-2.sentence-1' class='sentence'>In contexts where comma is given a special meaning, <div id='comma-2.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#comma-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='comma-2.sentence-2' class='sentence'>in
lists of arguments to functions (<a href='expr.call'>[expr.call]</a>) and lists of
initializers (<a href='dcl.init'>[dcl.init]</a>)</div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  the comma operator as
described in this subclause can appear only in parentheses<a class='hidden_link' href='#comma-2.sentence-1'>.</a></div> <div id='comma-2.example-2' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#comma-2.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
f(a, (t=3, t+2), c);</pre><div id='comma-2.sentence-3' class='sentence'>has three arguments, the second of which has the value
<span class='texttt'>5</span><a class='hidden_link' href='#comma-2.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div></div><div id='const' class='section'><h2 ><a class='secnum' href='#const' style='min-width:88pt'>8.6</a> Constant expressions <a class='abbr_ref' href='expr.const'>[expr.const]</a></h2><span class='indexparent'><a class='index' id=':expression,constant'></a></span><div class='para' id='const-1'><div class='marginalizedparent'><a class='marginalized' href='#const-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5708'>#</a></div><div id='const-1.sentence-1' class='sentence'>Certain contexts require expressions that satisfy additional
requirements as detailed in this subclause; other contexts have different
semantics depending on whether or not an expression satisfies these requirements<a class='hidden_link' href='#const-1.sentence-1'>.</a></div> <div id='const-1.sentence-2' class='sentence'>Expressions that satisfy these requirements,
assuming that copy elision is performed,
are called
<span class='indexparent'><a class='index' id=':expression,constant_'></a></span><a class='hidden_link' href='#def:constant_expression' id='def:constant_expression'><i >constant expressions</i></a><a class='hidden_link' href='#const-1.sentence-2'>.</a></div> <div id='const-1.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#const-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='const-1.sentence-3' class='sentence'>Constant expressions can be evaluated
during translation<a class='hidden_link' href='#const-1.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> <pre class='bnf'><a class='nontermdef' href='#nt:constant-expression' id='nt:constant-expression'>constant-expression:</a>
&#9;<i ><a href='expr.cond#nt:conditional-expression'>conditional-expression</a></i>
</pre></div><div class='para' id='const-2'><div class='marginalizedparent'><a class='marginalized' href='#const-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5724'>#</a></div><div id='const-2.sentence-1' class='sentence'>An expression <span class='texttt'>e</span> is a
<a class='hidden_link' href='#def:expression,core_constant' id='def:expression,core_constant'><i >core constant expression</i></a>
unless the evaluation of <span class='texttt'>e</span>, following the rules of the <a href='intro.execution'>abstract
machine</a>, would evaluate one of the following expressions:</div><div id='const-2.sentence-2' class='sentence'><ul class='itemize'><li id='const-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-2.1'>(2.1)</a></div><div id='const-2.1.sentence-1' class='sentence'><a href='expr.prim.this'><span class='texttt'>this</span></a>, except in a constexpr
function or a constexpr constructor that is being evaluated as part
of <span class='texttt'>e</span>;</div></li><li id='const-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-2.2'>(2.2)</a></div><div id='const-2.2.sentence-1' class='sentence'>an invocation of a function other than
a constexpr constructor for a literal class,
a constexpr function,
or an implicit invocation of a trivial destructor (<a href='class.dtor'>[class.dtor]</a>)
<div id='const-2.2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#const-2.2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='const-2.2.sentence-2' class='sentence'><a href='over.match'>Overload resolution</a>
is applied as usual</div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> ;</div></li><li id='const-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-2.3'>(2.3)</a></div><div id='const-2.3.sentence-1' class='sentence'>an invocation of an undefined constexpr function or an
undefined constexpr constructor;</div></li><li id='const-2.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-2.4'>(2.4)</a></div><div id='const-2.4.sentence-1' class='sentence'>an invocation of an instantiated constexpr function or
constexpr constructor that fails to satisfy the requirements
for a constexpr function or
<a href='dcl.constexpr'>constexpr</a> constructor;</div></li><li id='const-2.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-2.5'>(2.5)</a></div><div id='const-2.5.sentence-1' class='sentence'>an expression that would exceed the <a href='implimits'>implementation-defined
limits</a>;</div></li><li id='const-2.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-2.6'>(2.6)</a></div><div id='const-2.6.sentence-1' class='sentence'>an operation that would have undefined behavior
as specified in <a href='intro'>[intro]</a> through <a href='cpp'>[cpp]</a>
of this document <div id='const-2.6.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#const-2.6.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='const-2.6.sentence-2' class='sentence'>including,
for example, signed integer overflow (<a href='expr.prop'>[expr.prop]</a>), certain
pointer arithmetic (<a href='expr.add'>[expr.add]</a>), <a href='expr.mul'>division by
zero</a>, or certain <a href='expr.shift'>shift operations</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> ;</div></li><li id='const-2.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-2.7'>(2.7)</a></div><div id='const-2.7.sentence-1' class='sentence'>an <a href='conv.lval'>lvalue-to-rvalue conversion</a> unless
it is applied to
<ul class='itemize'><li id='const-2.7.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#const-2.7.1'>(2.7.1)</a></div><div id='const-2.7.1.sentence-1' class='sentence'>
  a non-volatile glvalue of integral or enumeration type that refers
  to a complete non-volatile const object with a preceding initialization,
  initialized with a constant expression, or</div></li><li id='const-2.7.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#const-2.7.2'>(2.7.2)</a></div><div id='const-2.7.2.sentence-1' class='sentence'>a non-volatile glvalue that refers to a subobject of a <a href='lex.string'>string
  literal</a>, or</div></li><li id='const-2.7.3'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#const-2.7.3'>(2.7.3)</a></div><div id='const-2.7.3.sentence-1' class='sentence'>a non-volatile glvalue that refers to a non-volatile object
  defined with <span class='texttt'>constexpr</span>, or that refers to a non-mutable subobject
  of such an object, or</div></li><li id='const-2.7.4'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#const-2.7.4'>(2.7.4)</a></div><div id='const-2.7.4.sentence-1' class='sentence'>a non-volatile glvalue of literal type that refers to a non-volatile object
  whose lifetime began within the evaluation of <span class='texttt'>e</span>;</div></li></ul></div></li><li id='const-2.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-2.8'>(2.8)</a></div><div id='const-2.8.sentence-1' class='sentence'>an <a href='conv.lval'>lvalue-to-rvalue conversion</a>
that is applied to a glvalue
that refers to a non-active member of a union or a subobject thereof;</div></li><li id='const-2.9'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-2.9'>(2.9)</a></div><div id='const-2.9.sentence-1' class='sentence'>an invocation of an implicitly-defined copy/move constructor or
copy/move assignment operator
for a union whose active member (if any) is mutable,
unless the lifetime of the union object began within the evaluation of <span class='texttt'>e</span>;</div></li><li id='const-2.10'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-2.10'>(2.10)</a></div><div id='const-2.10.sentence-1' class='sentence'>an <a href='expr.ass'>assignment expression</a>
or invocation of an assignment operator (<a href='class.copy'>[class.copy]</a>)
that would change the active member of a union;</div></li><li id='const-2.11'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-2.11'>(2.11)</a></div><div id='const-2.11.sentence-1' class='sentence'>an <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> that refers to a variable or
data member of reference type
unless the reference has a preceding initialization and either</div><div id='const-2.11.sentence-2' class='sentence'><ul class='itemize'><li id='const-2.11.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#const-2.11.1'>(2.11.1)</a></div><div id='const-2.11.1.sentence-1' class='sentence'>
  it is initialized with a constant expression or</div></li><li id='const-2.11.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#const-2.11.2'>(2.11.2)</a></div><div id='const-2.11.2.sentence-1' class='sentence'>its lifetime began within the evaluation of <span class='texttt'>e</span>;</div></li></ul></div></li><li id='const-2.12'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-2.12'>(2.12)</a></div><div id='const-2.12.sentence-1' class='sentence'>in a <i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i>,
a reference to <span class='texttt'>this</span> or to a variable with
automatic storage duration defined outside that
<i ><a href='expr.prim.lambda#nt:lambda-expression'>lambda-expression</a></i>, where
the reference would be an <a href='basic.def.odr'>odr-use</a>;
<div id='const-2.12.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#const-2.12.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
void g() {
  const int n = 0;
  [=] {
    constexpr int i = n;   <span class='comment'>// OK, <span class='tcode_in_codeblock'>n</span> is not odr-used and not captured here
</span>    constexpr int j = *&amp;n; <span class='comment'>// ill-formed, <span class='tcode_in_codeblock'>&amp;n</span> would be an odr-use of <span class='tcode_in_codeblock'>n</span>
</span>  };
}</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> 
<div id='const-2.12.note-3' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#const-2.12.note-3'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='const-2.12.sentence-2' class='sentence'>If the odr-use occurs in an invocation
of a function call operator of a closure type,
it no longer refers to <span class='texttt'>this</span> or to an enclosing automatic variable
due to the transformation (<a href='expr.prim.lambda.capture'>[expr.prim.lambda.capture]</a>)
of the <i ><a href='expr.prim.id#nt:id-expression'>id-expression</a></i> into
an access of the corresponding data member<a class='hidden_link' href='#const-2.12.sentence-2'>.</a></div> <div id='const-2.12.example-2' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#const-2.12.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
auto monad = [](auto v) { return [=] { return v; }; };
auto bind = [](auto m) {
  return [=](auto fvm) { return fvm(m()); };
};

<span class='comment'>// OK to have captures to automatic objects created during constant expression evaluation.
</span>static_assert(bind(monad(2))(monad)() == monad(2)());</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></li><li id='const-2.13'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-2.13'>(2.13)</a></div><div id='const-2.13.sentence-1' class='sentence'>a conversion from type <span class='textit'>cv</span> <span class='texttt'>void*</span> to a pointer-to-object type;</div></li><li id='const-2.14'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-2.14'>(2.14)</a></div><div id='const-2.14.sentence-1' class='sentence'>a <a href='expr.dynamic.cast'>dynamic cast</a>;</div></li><li id='const-2.15'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-2.15'>(2.15)</a></div><div id='const-2.15.sentence-1' class='sentence'>a <a href='expr.reinterpret.cast'><span class='texttt'>reinterpret_&shy;cast</span></a>;</div></li><li id='const-2.16'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-2.16'>(2.16)</a></div><div id='const-2.16.sentence-1' class='sentence'>a <a href='expr.pseudo'>pseudo-destructor call</a>;</div></li><li id='const-2.17'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-2.17'>(2.17)</a></div><div id='const-2.17.sentence-1' class='sentence'>modification of an object (<a href='expr.ass'>[expr.ass]</a>, <a href='expr.post.incr'>[expr.post.incr]</a>,
<a href='expr.pre.incr'>[expr.pre.incr]</a>)
unless it is applied to a non-volatile lvalue of literal type
that refers to a non-volatile object
whose lifetime began within the evaluation of <span class='texttt'>e</span>;</div></li><li id='const-2.18'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-2.18'>(2.18)</a></div><div id='const-2.18.sentence-1' class='sentence'>a <a href='expr.typeid'>typeid expression</a> whose operand is a glvalue of a
polymorphic class type;</div></li><li id='const-2.19'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-2.19'>(2.19)</a></div><div id='const-2.19.sentence-1' class='sentence'>a <i ><a href='expr.new#nt:new-expression'>new-expression</a></i>;</div></li><li id='const-2.20'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-2.20'>(2.20)</a></div><div id='const-2.20.sentence-1' class='sentence'>a <i ><a href='expr.delete#nt:delete-expression'>delete-expression</a></i>;</div></li><li id='const-2.21'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-2.21'>(2.21)</a></div><div id='const-2.21.sentence-1' class='sentence'>a three-way comparison (<a href='expr.spaceship'>[expr.spaceship]</a>)
comparing pointers that do not point to the same
complete object or to any subobject thereof;</div></li><li id='const-2.22'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-2.22'>(2.22)</a></div><div id='const-2.22.sentence-1' class='sentence'>a <a href='expr.rel'>relational</a> or <a href='expr.eq'>equality</a>
operator where the result is unspecified; or</div></li><li id='const-2.23'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-2.23'>(2.23)</a></div><div id='const-2.23.sentence-1' class='sentence'>a <i ><a href='expr.throw#nt:throw-expression'>throw-expression</a></i><a class='hidden_link' href='#const-2.23.sentence-1'>.</a></div></li></ul></div><div id='const-2.sentence-3' class='sentence'>If <span class='texttt'>e</span> satisfies the constraints of a core constant expression, but
evaluation of <span class='texttt'>e</span> would evaluate an operation that has undefined behavior
as specified in <a href='library'>[library]</a> through <a href='thread'>[thread]</a> of this
document, it is unspecified whether <span class='texttt'>e</span> is a core constant
expression<a class='hidden_link' href='#const-2.sentence-3'>.</a></div><div style='height:0.6em;display:block'></div><div id='const-2.example-3' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#const-2.example-3'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
int x;                              <span class='comment'>// not constant
</span>struct A {
  constexpr A(bool b) : m(b?42:x) { }
  int m;
};
constexpr int v = A(true).m;        <span class='comment'>// OK: constructor call initializes <span class='tcode_in_codeblock'>m</span> with the value <span class='tcode_in_codeblock'>42</span>
</span>
constexpr int w = A(false).m;       <span class='comment'>// error: initializer for <span class='tcode_in_codeblock'>m</span> is <span class='tcode_in_codeblock'>x</span>, which is non-constant
</span>
constexpr int f1(int k) {
  constexpr int x = k;              <span class='comment'>// error: <span class='tcode_in_codeblock'>x</span> is not initialized by a constant expression
</span>                                    <span class='comment'>// because lifetime of <span class='tcode_in_codeblock'>k</span> began outside the initializer of <span class='tcode_in_codeblock'>x</span>
</span>  return x;
}
constexpr int f2(int k) {
  int x = k;                        <span class='comment'>// OK: not required to be a constant expression
</span>                                    <span class='comment'>// because <span class='tcode_in_codeblock'>x</span> is not <span class='tcode_in_codeblock'>constexpr</span>
</span>  return x;
}

constexpr int incr(int &amp;n) {
  return ++n;
}
constexpr int g(int k) {
  constexpr int x = incr(k);        <span class='comment'>// error: <span class='tcode_in_codeblock'>incr(k)</span> is not a core constant expression
</span>                                    <span class='comment'>// because lifetime of <span class='tcode_in_codeblock'>k</span> began outside the expression <span class='tcode_in_codeblock'>incr(k)</span>
</span>  return x;
}
constexpr int h(int k) {
  int x = incr(k);                  <span class='comment'>// OK: <span class='tcode_in_codeblock'>incr(k)</span> is not required to be a core constant expression
</span>  return x;
}
constexpr int y = h(1);             <span class='comment'>// OK: initializes <span class='tcode_in_codeblock'>y</span> with the value <span class='tcode_in_codeblock'>2</span>
</span>                                    <span class='comment'>// <span class='tcode_in_codeblock'>h(1)</span> is a core constant expression because
</span>                                    <span class='comment'>// the lifetime of <span class='tcode_in_codeblock'>k</span> begins inside <span class='tcode_in_codeblock'>h(1)</span>
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='const-3'><div class='marginalizedparent'><a class='marginalized' href='#const-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5944'>#</a></div><div id='const-3.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:expression,integral_constant' id='def:expression,integral_constant'><i >integral constant expression</i></a>
is an expression of integral or
unscoped enumeration type, implicitly converted to a prvalue, where the converted expression is a core constant expression<a class='hidden_link' href='#const-3.sentence-1'>.</a></div> <div id='const-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#const-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='const-3.sentence-2' class='sentence'>Such expressions may be
used as <a href='class.bit'>bit-field</a> lengths, as enumerator
initializers if the underlying type is not fixed (<a href='dcl.enum'>[dcl.enum]</a>),
and as <a href='dcl.align'>alignments</a><a class='hidden_link' href='#const-3.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='const-4'><div class='marginalizedparent'><a class='marginalized' href='#const-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5955'>#</a></div><div id='const-4.sentence-1' class='sentence'>If an expression of literal class type is used in a context where an
integral constant expression is required, then that expression is
contextually implicitly converted (<a href='conv'>[conv]</a>) to an integral or unscoped
enumeration type
and the selected conversion function shall be <span class='texttt'>constexpr</span><a class='hidden_link' href='#const-4.sentence-1'>.</a></div> <div id='const-4.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#const-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
struct A {
  constexpr A(int i) : val(i) { }
  constexpr operator int() const { return val; }
  constexpr operator long() const { return 42; }
private:
  int val;
};
template&lt;int&gt; struct X { };
constexpr A a = alignof(int);
alignas(a) int n;              <span class='comment'>// error: ambiguous conversion
</span>struct B { int n : a; };       <span class='comment'>// error: ambiguous conversion
</span></pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='const-5'><div class='marginalizedparent'><a class='marginalized' href='#const-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L5976'>#</a></div><div id='const-5.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:expression,converted_constant' id='def:expression,converted_constant'><i >converted constant expression</i></a>
of type <span class='texttt'>T</span> is an
expression, implicitly converted to type <span class='texttt'>T</span>, where
the converted expression is a constant expression and the
implicit conversion sequence contains only
<ul class='itemize'><li id='const-5.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-5.1'>(5.1)</a></div><div id='const-5.1.sentence-1' class='sentence'>user-defined conversions,</div></li><li id='const-5.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-5.2'>(5.2)</a></div><div id='const-5.2.sentence-1' class='sentence'><a href='conv.lval'>lvalue-to-rvalue conversions</a>,</div></li><li id='const-5.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-5.3'>(5.3)</a></div><div id='const-5.3.sentence-1' class='sentence'><a href='conv.array'>array-to-pointer conversions</a>,</div></li><li id='const-5.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-5.4'>(5.4)</a></div><div id='const-5.4.sentence-1' class='sentence'><a href='conv.func'>function-to-pointer conversions</a>,</div></li><li id='const-5.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-5.5'>(5.5)</a></div><div id='const-5.5.sentence-1' class='sentence'><a href='conv.qual'>qualification conversions</a>,</div></li><li id='const-5.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-5.6'>(5.6)</a></div><div id='const-5.6.sentence-1' class='sentence'><a href='conv.prom#def:integral_promotions'>integral promotions</a>,</div></li><li id='const-5.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-5.7'>(5.7)</a></div><div id='const-5.7.sentence-1' class='sentence'><a href='conv.integral'>integral conversions</a> other than
<a href='dcl.init.list#def:narrowing_conversion'>narrowing conversions</a>,</div></li><li id='const-5.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-5.8'>(5.8)</a></div><div id='const-5.8.sentence-1' class='sentence'><a href='conv.ptr#def:null_pointer_conversion'>null pointer conversions</a> from <span class='texttt'>std&#x200b;::&#x200b;nullptr_&shy;t</span>,</div></li><li id='const-5.9'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-5.9'>(5.9)</a></div><div id='const-5.9.sentence-1' class='sentence'><a href='conv.mem#def:null_member_pointer_conversion'>null member pointer conversions</a> from <span class='texttt'>std&#x200b;::&#x200b;nullptr_&shy;t</span>, and</div></li><li id='const-5.10'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-5.10'>(5.10)</a></div><div id='const-5.10.sentence-1' class='sentence'><a href='conv.fctptr'>function pointer conversions</a>,</div></li></ul>
and where the reference binding (if any) binds directly<a class='hidden_link' href='#const-5.sentence-1'>.</a></div> <div id='const-5.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#const-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='const-5.sentence-3' class='sentence'>Such expressions may be used in <a href='expr.new'><span class='texttt'>new</span>
expressions</a>, as <a href='stmt.switch'>case expressions</a>,
as enumerator initializers if the underlying type is
<a href='dcl.enum#def:type,underlying,fixed'>fixed</a>, as <a href='dcl.array'>array</a> bounds, and
as non-type <a href='temp.arg'>template arguments</a><a class='hidden_link' href='#const-5.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='const-5.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':conversion,contextual_to_constant_expression_of_type_bool'></a></span>A <a class='hidden_link' href='#def:contextually_converted_constant_expression_of_type_bool' id='def:contextually_converted_constant_expression_of_type_bool'><i>contextually converted constant expression of type <span class='texttt'>bool</span></i></a> is
an expression, <a href='conv#def:conversion,contextual_to_bool'>contextually converted to <span class='texttt'>bool</span></a>,
where the converted expression is a constant expression and
the conversion sequence contains only the conversions above<a class='hidden_link' href='#const-5.sentence-2'>.</a></div></div><div class='para' id='const-6'><div class='marginalizedparent'><a class='marginalized' href='#const-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L6011'>#</a></div><div id='const-6.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:expression,constant' id='def:expression,constant'><i >constant expression</i></a> is either
a glvalue core constant expression that refers to
an entity that is a permitted result of a constant expression (as defined below), or
a prvalue core constant expression whose value
satisfies the following constraints:
<ul class='itemize'><li id='const-6.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-6.1'>(6.1)</a></div><div id='const-6.1.sentence-1' class='sentence'>
  if the value is an object of class type,
  each non-static data member of reference type refers to
  an entity that is a permitted result of a constant expression,</div></li><li id='const-6.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-6.2'>(6.2)</a></div><div id='const-6.2.sentence-1' class='sentence'>if the value is of pointer type, it contains
  the address of an object with static storage duration,
  the address past the end of such an object (<a href='expr.add'>[expr.add]</a>),
  the address of a function,
  or a null pointer value, and</div></li><li id='const-6.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-6.3'>(6.3)</a></div><div id='const-6.3.sentence-1' class='sentence'>if the value is an object of class or array type,
  each subobject satisfies these constraints for the value<a class='hidden_link' href='#const-6.3.sentence-1'>.</a></div></li></ul></div> <div id='const-6.sentence-2' class='sentence'>
An entity is a
<a class='hidden_link' href='#def:constant_expression,permitted_result_of' id='def:constant_expression,permitted_result_of'><i >permitted result of a constant expression</i></a>
if it is an
object with static storage duration that is either not a temporary object or is
a temporary object whose value satisfies the above constraints, or it is a
function<a class='hidden_link' href='#const-6.sentence-2'>.</a></div></div><div class='para' id='const-7'><div class='marginalizedparent'><a class='marginalized' href='#const-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L6039'>#</a></div><div id='const-7.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#const-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='const-7.sentence-1' class='sentence'>Since this document
imposes no restrictions on the accuracy of floating-point operations, it is unspecified whether the
evaluation of a floating-point expression during translation yields the same result as the
evaluation of the same expression (or the same operations on the same values) during program
execution<a class='hidden_link' href='#const-7.sentence-1'>.</a><a class='footnotenum' href='#footnote-89'>89</a></div>  <div id='const-7.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#const-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
bool f() {
    char array[1 + int(1 + 0.2 - 0.1 - 0.1)];  <span class='comment'>// Must be evaluated during translation
</span>    int size = 1 + int(1 + 0.2 - 0.1 - 0.1);   <span class='comment'>// May be evaluated at runtime
</span>    return sizeof(array) == size;
}</pre> <div id='const-7.sentence-2' class='sentence'>
It is unspecified whether the value of <span class='texttt'>f()</span> will be <span class='texttt'>true</span> or <span class='texttt'>false</span><a class='hidden_link' href='#const-7.sentence-2'>.</a></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div>  —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='const-8'><div class='marginalizedparent'><a class='marginalized' href='#const-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/f68ca585d040269f804aea46ca56cc3a43dcab24/source/expressions.tex#L6057'>#</a></div><div id='const-8.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':expression,potentially_constant_evaluated'></a></span>An expression is <a class='hidden_link' href='#def:potentially_constant_evaluated' id='def:potentially_constant_evaluated'><i >potentially constant evaluated</i></a>
if it is:</div><div id='const-8.sentence-2' class='sentence'><ul class='itemize'><li id='const-8.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-8.1'>(8.1)</a></div><div id='const-8.1.sentence-1' class='sentence'>a potentially-evaluated expression (<a href='basic.def.odr'>[basic.def.odr]</a>),</div></li><li id='const-8.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-8.2'>(8.2)</a></div><div id='const-8.2.sentence-1' class='sentence'>a <i ><a href='temp.constr.decl#nt:constraint-expression'>constraint-expression</a></i>,
including one formed from the <i ><a href='temp#nt:constraint-logical-or-expression'>constraint-logical-or-expression</a></i>
of a <i ><a href='temp#nt:requires-clause'>requires-clause</a></i>,</div></li><li id='const-8.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-8.3'>(8.3)</a></div><div id='const-8.3.sentence-1' class='sentence'>an immediate subexpression of a <i ><a href='dcl.init#nt:braced-init-list'>braced-init-list</a></i>,<a class='footnotenum' href='#footnote-90'>90</a></div></li><li id='const-8.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-8.4'>(8.4)</a></div><div id='const-8.4.sentence-1' class='sentence'>an expression of the form <span class='texttt'>&amp;</span> <i ><a href='expr.cast#nt:cast-expression'>cast-expression</a></i>
that occurs within a templated entity,<a class='footnotenum' href='#footnote-91'>91</a>
or</div></li><li id='const-8.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-8.5'>(8.5)</a></div><div id='const-8.5.sentence-1' class='sentence'>a subexpression of one of the above
that is not a subexpression of a nested unevaluated operand<a class='hidden_link' href='#const-8.5.sentence-1'>.</a></div></li></ul></div><div id='const-8.sentence-3' class='sentence'><span class='indexparent'><a class='index' id=':function,needed_for_constant_evaluation'></a></span><span class='indexparent'><a class='index' id=':variable,needed_for_constant_evaluation'></a></span>A function or variable is
<a class='hidden_link' href='#def:needed_for_constant_evaluation' id='def:needed_for_constant_evaluation'><i >needed for constant evaluation</i></a>
if it is:</div><div id='const-8.sentence-4' class='sentence'><ul class='itemize'><li id='const-8.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-8.6'>(8.6)</a></div><div id='const-8.6.sentence-1' class='sentence'>a constexpr function that is named by an expression (<a href='basic.def.odr'>[basic.def.odr]</a>)
that is potentially constant evaluated, or</div></li><li id='const-8.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#const-8.7'>(8.7)</a></div><div id='const-8.7.sentence-1' class='sentence'>a variable whose name appears as a potentially constant evaluated expression
that is either a constexpr variable or
is of non-volatile const-qualified integral type or of reference type<a class='hidden_link' href='#const-8.7.sentence-1'>.</a></div></li></ul></div></div><div class='footnote' id='footnote-89'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-89'>89)</a></div><div id='footnote-89.sentence-1' class='sentence'>Nonetheless, implementations should provide consistent results,
irrespective of whether the evaluation was performed during translation and/or during program
execution<a class='hidden_link' href='#footnote-89.sentence-1'>.</a></div></div><div class='footnote' id='footnote-90'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-90'>90)</a></div><div id='footnote-90.sentence-1' class='sentence'>Constant evaluation may be necessary to determine whether a narrowing conversion is performed (<a href='dcl.init.list'>[dcl.init.list]</a>)<a class='hidden_link' href='#footnote-90.sentence-1'>.</a></div></div><div class='footnote' id='footnote-91'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-91'>91)</a></div><div id='footnote-91.sentence-1' class='sentence'>Constant evaluation may be necessary to determine whether such an expression is value-dependent (<a href='temp.dep.constexpr'>[temp.dep.constexpr]</a>)<a class='hidden_link' href='#footnote-91.sentence-1'>.</a></div></div></div></div></body></html>