<!DOCTYPE html><html lang='en'><head><title>[utility.requirements]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>20</a> Library introduction <a class='abbr_ref' href='./#library'>[library]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>20.5</a> Library-wide requirements <a class='abbr_ref' href='requirements#utility.requirements'>[requirements]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>20.5.3</a> Requirements on types and expressions <a class='abbr_ref'>[utility.requirements]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/lib-intro.tex#L1412'>#</a></div><div id='1.sentence-1' class='sentence'><a href='utility.arg.requirements'>[utility.arg.requirements]</a>
describes requirements on types and expressions used to instantiate templates
defined in the C++ standard library<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'><a href='swappable.requirements'>[swappable.requirements]</a> describes the requirements on swappable types and
swappable expressions<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'><a href='nullablepointer.requirements'>[nullablepointer.requirements]</a> describes the requirements on pointer-like
types that support null values<a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'><a href='hash.requirements'>[hash.requirements]</a> describes the requirements on hash function objects<a class='hidden_link' href='#1.sentence-4'>.</a></div> <div id='1.sentence-5' class='sentence'><a href='allocator.requirements'>[allocator.requirements]</a> describes the requirements on storage
allocators<a class='hidden_link' href='#1.sentence-5'>.</a></div></div><div id='utility.arg.requirements' class='section'><h4 ><a class='secnum' href='#utility.arg.requirements' style='min-width:118pt'>20.5.3.1</a> Template argument requirements <a class='abbr_ref' href='utility.arg.requirements'>[utility.arg.requirements]</a></h4><div class='para' id='utility.arg.requirements-1'><div class='marginalizedparent'><a class='marginalized' href='#utility.arg.requirements-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/lib-intro.tex#L1426'>#</a></div><div id='utility.arg.requirements-1.sentence-1' class='sentence'>The template definitions in the C++ standard library
refer to various named requirements whose details are set out in
Tables <a href='#tab:equalitycomparable'>20</a>–<a href='#tab:destructible'>27</a><a class='hidden_link' href='#utility.arg.requirements-1.sentence-1'>.</a></div> <div id='utility.arg.requirements-1.sentence-2' class='sentence'>In these tables, <span class='texttt'>T</span> is an object or reference type to be
supplied by a C++ program instantiating a template;
<span class='texttt'>a</span>,
<span class='texttt'>b</span>, and
<span class='texttt'>c</span> are values of type (possibly <span class='texttt'>const</span>) <span class='texttt'>T</span>;
<span class='texttt'>s</span> and <span class='texttt'>t</span> are modifiable lvalues of type <span class='texttt'>T</span>;
<span class='texttt'>u</span> denotes an identifier;
<span class='texttt'>rv</span> is an rvalue of type <span class='texttt'>T</span>;
and <span class='texttt'>v</span> is an lvalue of type (possibly <span class='texttt'>const</span>) <span class='texttt'>T</span> or an rvalue of
type <span class='texttt'>const T</span><a class='hidden_link' href='#utility.arg.requirements-1.sentence-2'>.</a></div></div><div class='para' id='utility.arg.requirements-2'><div class='marginalizedparent'><a class='marginalized' href='#utility.arg.requirements-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/lib-intro.tex#L1441'>#</a></div><div id='utility.arg.requirements-2.sentence-1' class='sentence'>In general, a default constructor is not required<a class='hidden_link' href='#utility.arg.requirements-2.sentence-1'>.</a></div> <div id='utility.arg.requirements-2.sentence-2' class='sentence'>Certain container class
member function signatures specify <span class='texttt'>T()</span> as a default argument<a class='hidden_link' href='#utility.arg.requirements-2.sentence-2'>.</a></div> <div id='utility.arg.requirements-2.sentence-3' class='sentence'><span class='texttt'>T()</span> shall be a well-defined expression (<a href='dcl.init'>[dcl.init]</a>) if one of those
signatures is called using the <a href='dcl.fct.default'>default argument</a><a class='hidden_link' href='#utility.arg.requirements-2.sentence-3'>.</a></div><div id='utility.arg.requirements-2.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':requirements,EqualityComparable'></a></span>
 <div class='numberedTable' id='tab:equalitycomparable'>Table <a href='#tab:equalitycomparable'>20</a> — <span class='texttt'>EqualityComparable</span> requirements<br><table ><tr class='rowsep'><td class='left'><div id='utility.arg.requirements-2.sentence-5' class='sentence'><b>Expression</b></div></td><td class='left'><div id='utility.arg.requirements-2.sentence-6' class='sentence'><b>Return type</b></div></td><td colspan='1' class='center'><div id='utility.arg.requirements-2.sentence-7' class='sentence'><b>Requirement</b></div></td></tr><tr class='capsep'><td class='left'><div id='utility.arg.requirements-2.sentence-8' class='sentence'><span class='texttt'>a == b</span></div></td><td class='left'><div id='utility.arg.requirements-2.sentence-9' class='sentence'>convertible to <span class='texttt'>bool</span></div></td><td class='justify'><div id='utility.arg.requirements-2.sentence-10' class='sentence'><span class='texttt'>==</span> is an equivalence relation,
that is, it has the following properties:
<ul class='itemize'><li ><div id='utility.arg.requirements-2.sentence-1' class='sentence'>For all <span class='texttt'>a</span>, <span class='texttt'>a == a</span><a class='hidden_link' href='#utility.arg.requirements-2.sentence-1'>.</a></div></li><li ><div id='utility.arg.requirements-2.sentence-1' class='sentence'>If <span class='texttt'>a == b</span>, then <span class='texttt'>b == a</span><a class='hidden_link' href='#utility.arg.requirements-2.sentence-1'>.</a></div></li><li ><div id='utility.arg.requirements-2.sentence-1' class='sentence'>If <span class='texttt'>a == b</span> and <span class='texttt'>b == c</span>, then <span class='texttt'>a == c</span><a class='hidden_link' href='#utility.arg.requirements-2.sentence-1'>.</a></div></li></ul></div></td></tr></table></div></div><div id='utility.arg.requirements-2.sentence-11' class='sentence'><span class='indexparent'><a class='index' id=':requirements,LessThanComparable'></a></span>
 <div class='numberedTable' id='tab:lessthancomparable'>Table <a href='#tab:lessthancomparable'>21</a> — <span class='texttt'>LessThanComparable</span> requirements<br><table ><tr class='rowsep'><td class='left'><div id='utility.arg.requirements-2.sentence-12' class='sentence'><b>Expression</b></div></td><td class='left'><div id='utility.arg.requirements-2.sentence-13' class='sentence'><b>Return type</b></div></td><td class='justify'><div id='utility.arg.requirements-2.sentence-14' class='sentence'><b>Requirement</b></div></td></tr><tr class='capsep'><td class='left'><div id='utility.arg.requirements-2.sentence-15' class='sentence'><span class='texttt'>a &lt; b</span></div></td><td class='left'><div id='utility.arg.requirements-2.sentence-16' class='sentence'>convertible to <span class='texttt'>bool</span></div></td><td class='justify'><div id='utility.arg.requirements-2.sentence-17' class='sentence'><span class='texttt'>&lt;</span> is a <a href='alg.sorting'>strict weak ordering relation</a></div></td></tr></table></div></div><div id='utility.arg.requirements-2.sentence-18' class='sentence'><span class='indexparent'><a class='index' id=':requirements,DefaultConstructible'></a></span>
 <div class='numberedTable' id='tab:defaultconstructible'>Table <a href='#tab:defaultconstructible'>22</a> — <span class='texttt'>DefaultConstructible</span> requirements<br><table ><tr class='rowsep'><td class='left'><div id='utility.arg.requirements-2.sentence-19' class='sentence'><b>Expression</b></div></td><td class='justify'><div id='utility.arg.requirements-2.sentence-20' class='sentence'><b>Post-condition</b></div></td></tr><tr class='capsep'><td class='left'><div id='utility.arg.requirements-2.sentence-21' class='sentence'><span class='texttt'>T t;</span></div></td><td class='justify'><div id='utility.arg.requirements-2.sentence-22' class='sentence'>object <span class='texttt'>t</span> is default-initialized</div></td></tr><tr class='rowsep'><td class='left'><div id='utility.arg.requirements-2.sentence-23' class='sentence'><span class='texttt'>T u{};</span></div></td><td class='justify'><div id='utility.arg.requirements-2.sentence-24' class='sentence'>object <span class='texttt'>u</span> is value-initialized or aggregate-initialized</div></td></tr><tr class='rowsep'><td class='left'><div id='utility.arg.requirements-2.sentence-25' class='sentence'><span class='texttt'>T()</span><br/><span class='texttt'>T{}</span></div></td><td class='justify'><div id='utility.arg.requirements-2.sentence-26' class='sentence'>an object of type <span class='texttt'>T</span> is value-initialized
                                or aggregate-initialized</div></td></tr></table></div></div><div id='utility.arg.requirements-2.sentence-27' class='sentence'><span class='indexparent'><a class='index' id=':requirements,MoveConstructible'></a></span>
 <div class='numberedTable' id='tab:moveconstructible'>Table <a href='#tab:moveconstructible'>23</a> — <span class='texttt'>MoveConstructible</span> requirements<br><table ><tr class='rowsep'><td class='justify'><div id='utility.arg.requirements-2.sentence-28' class='sentence'><b>Expression</b></div></td><td class='justify'><div id='utility.arg.requirements-2.sentence-29' class='sentence'><b>Post-condition</b></div></td></tr><tr class='capsep'><td class='justify'><div id='utility.arg.requirements-2.sentence-30' class='sentence'><span class='texttt'>T u = rv;</span></div></td><td class='justify'><div id='utility.arg.requirements-2.sentence-31' class='sentence'><span class='texttt'>u</span> is equivalent to the value of <span class='texttt'>rv</span> before the construction</div></td></tr><tr class='rowsep'><td class='justify'><div id='utility.arg.requirements-2.sentence-32' class='sentence'><span class='texttt'>T(rv)</span></div></td><td class='justify'><div id='utility.arg.requirements-2.sentence-33' class='sentence'><span class='texttt'>T(rv)</span> is equivalent to the value of <span class='texttt'>rv</span> before the construction</div></td></tr><tr class='rowsep'><td colspan='2' class='justify'><div id='utility.arg.requirements-2.sentence-34' class='sentence'><span class='texttt'>rv</span>'s state is unspecified
  <div id='utility.arg.requirements-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#utility.arg.requirements-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='utility.arg.requirements-2.sentence-35' class='sentence'><span class='texttt'>rv</span> must still meet the requirements of the library
  component that is using it<a class='hidden_link' href='#utility.arg.requirements-2.sentence-35'>.</a></div> <div id='utility.arg.requirements-2.sentence-36' class='sentence'>The operations listed in those requirements must
  work as specified whether <span class='texttt'>rv</span> has been moved from or not<a class='hidden_link' href='#utility.arg.requirements-2.sentence-36'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></td></tr></table></div></div><div id='utility.arg.requirements-2.sentence-37' class='sentence'><span class='indexparent'><a class='index' id=':requirements,CopyConstructible'></a></span>
 <div class='numberedTable' id='tab:copyconstructible'>Table <a href='#tab:copyconstructible'>24</a> — <span class='texttt'>CopyConstructible</span> requirements (in addition to <span class='texttt'>MoveConstructible</span>)<br><table ><tr class='rowsep'><td class='justify'><div id='utility.arg.requirements-2.sentence-38' class='sentence'><b>Expression</b></div></td><td class='justify'><div id='utility.arg.requirements-2.sentence-39' class='sentence'><b>Post-condition</b></div></td></tr><tr class='capsep'><td class='justify'><div id='utility.arg.requirements-2.sentence-40' class='sentence'><span class='texttt'>T u = v;</span></div></td><td class='justify'><div id='utility.arg.requirements-2.sentence-41' class='sentence'>the value of <span class='texttt'>v</span> is unchanged and is equivalent to <span class='texttt'> u</span></div></td></tr><tr class='rowsep'><td class='justify'><div id='utility.arg.requirements-2.sentence-42' class='sentence'><span class='texttt'>T(v)</span></div></td><td class='justify'><div id='utility.arg.requirements-2.sentence-43' class='sentence'>the value of <span class='texttt'>v</span> is unchanged and is equivalent to <span class='texttt'>T(v)</span></div></td></tr></table></div></div><div id='utility.arg.requirements-2.sentence-44' class='sentence'><span class='indexparent'><a class='index' id=':requirements,MoveAssignable'></a></span>
 <div class='numberedTable' id='tab:moveassignable'>Table <a href='#tab:moveassignable'>25</a> — <span class='texttt'>MoveAssignable</span> requirements<br><table ><tr class='rowsep'><td class='justify'><div id='utility.arg.requirements-2.sentence-45' class='sentence'><b>Expression</b></div></td><td class='justify'><div id='utility.arg.requirements-2.sentence-46' class='sentence'><b>Return type</b></div></td><td class='justify'><div id='utility.arg.requirements-2.sentence-47' class='sentence'><b>Return value</b></div></td><td class='justify'><div id='utility.arg.requirements-2.sentence-48' class='sentence'><b>Post-condition</b></div></td></tr><tr class='capsep'><td class='justify'><div id='utility.arg.requirements-2.sentence-49' class='sentence'><span class='texttt'>t = rv</span></div></td><td class='justify'><div id='utility.arg.requirements-2.sentence-50' class='sentence'><span class='texttt'>T&amp;</span></div></td><td class='justify'><div id='utility.arg.requirements-2.sentence-51' class='sentence'><span class='texttt'>t</span></div></td><td class='justify'><div id='utility.arg.requirements-2.sentence-52' class='sentence'>If <span class='texttt'>t</span> and <span class='texttt'>rv</span> do not refer to the same object,
  <span class='texttt'>t</span> is equivalent to the value of <span class='texttt'>rv</span> before the assignment</div></td></tr><tr class='rowsep'><td colspan='4' class='justify'><div id='utility.arg.requirements-2.sentence-53' class='sentence'><span class='texttt'>rv</span>'s state is unspecified<a class='hidden_link' href='#utility.arg.requirements-2.sentence-53'>.</a></div> <div id='utility.arg.requirements-2.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#utility.arg.requirements-2.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='utility.arg.requirements-2.sentence-54' class='sentence'>&nbsp;<span class='texttt'>rv</span> must still meet the requirements of the library
  component that is using it, whether or not <span class='texttt'>t</span> and <span class='texttt'>rv</span> refer to the same object<a class='hidden_link' href='#utility.arg.requirements-2.sentence-54'>.</a></div> <div id='utility.arg.requirements-2.sentence-55' class='sentence'>The operations listed in those requirements must
  work as specified whether <span class='texttt'>rv</span> has been moved from or not<a class='hidden_link' href='#utility.arg.requirements-2.sentence-55'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </td></tr></table></div></div><div id='utility.arg.requirements-2.sentence-56' class='sentence'><span class='indexparent'><a class='index' id=':requirements,CopyAssignable'></a></span>
 <div class='numberedTable' id='tab:copyassignable'>Table <a href='#tab:copyassignable'>26</a> — <span class='texttt'>CopyAssignable</span> requirements (in addition to <span class='texttt'>MoveAssignable</span>)<br><table ><tr class='rowsep'><td class='justify'><div id='utility.arg.requirements-2.sentence-57' class='sentence'><b>Expression</b></div></td><td class='justify'><div id='utility.arg.requirements-2.sentence-58' class='sentence'><b>Return type</b></div></td><td class='justify'><div id='utility.arg.requirements-2.sentence-59' class='sentence'><b>Return value</b></div></td><td class='justify'><div id='utility.arg.requirements-2.sentence-60' class='sentence'><b>Post-condition</b></div></td></tr><tr class='capsep'><td class='justify'><div id='utility.arg.requirements-2.sentence-61' class='sentence'><span class='texttt'>t = v</span></div></td><td class='justify'><div id='utility.arg.requirements-2.sentence-62' class='sentence'><span class='texttt'>T&amp;</span></div></td><td class='justify'><div id='utility.arg.requirements-2.sentence-63' class='sentence'><span class='texttt'>t</span></div></td><td class='justify'><div id='utility.arg.requirements-2.sentence-64' class='sentence'><span class='texttt'>t</span> is equivalent to <span class='texttt'>v</span>, the value of <span class='texttt'>v</span> is unchanged</div></td></tr></table></div></div><span class='indexparent'><a class='index' id=':requirements,Destructible'></a></span><div class='numberedTable' id='tab:destructible'>Table <a href='#tab:destructible'>27</a> — <span class='texttt'>Destructible</span> requirements<br><table ><tr class='rowsep'><td class='justify'><div id='utility.arg.requirements-2.sentence-65' class='sentence'><b>Expression</b></div></td><td class='justify'><div id='utility.arg.requirements-2.sentence-66' class='sentence'><b>Post-condition</b></div></td></tr><tr class='capsep'><td class='justify'><div id='utility.arg.requirements-2.sentence-67' class='sentence'><span class='texttt'>u.~T()</span></div></td><td class='justify'><div id='utility.arg.requirements-2.sentence-68' class='sentence'>All resources owned by <span class='texttt'>u</span> are reclaimed, no exception is propagated<a class='hidden_link' href='#utility.arg.requirements-2.sentence-68'>.</a></div></td></tr></table></div></div></div><div id='swappable.requirements' class='section'><h4 ><a class='secnum' href='#swappable.requirements' style='min-width:118pt'>20.5.3.2</a> <span class='texttt'>Swappable</span> requirements <a class='abbr_ref' href='swappable.requirements'>[swappable.requirements]</a></h4><div class='para' id='swappable.requirements-1'><div class='marginalizedparent'><a class='marginalized' href='#swappable.requirements-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/lib-intro.tex#L1547'>#</a></div><div id='swappable.requirements-1.sentence-1' class='sentence'>This subclause provides definitions for swappable types and expressions<a class='hidden_link' href='#swappable.requirements-1.sentence-1'>.</a></div> <div id='swappable.requirements-1.sentence-2' class='sentence'>In these
definitions, let <span class='texttt'>t</span> denote an expression of type <span class='texttt'>T</span>, and let <span class='texttt'>u</span>
denote an expression of type <span class='texttt'>U</span><a class='hidden_link' href='#swappable.requirements-1.sentence-2'>.</a></div></div><div class='para' id='swappable.requirements-2'><div class='marginalizedparent'><a class='marginalized' href='#swappable.requirements-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/lib-intro.tex#L1552'>#</a></div><div id='swappable.requirements-2.sentence-1' class='sentence'>An object <span class='texttt'>t</span> is <a class='hidden_link' href='#def:swappable_with' id='def:swappable_with'><i >swappable with</i></a> an object <span class='texttt'>u</span> if and only if:</div><div id='swappable.requirements-2.sentence-2' class='sentence'><ul class='itemize'><li id='swappable.requirements-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#swappable.requirements-2.1'>(2.1)</a></div><div id='swappable.requirements-2.1.sentence-1' class='sentence'>the expressions <span class='texttt'>swap(t, u)</span> and <span class='texttt'>swap(u, t)</span> are valid when
evaluated in the context described below, and</div></li><li id='swappable.requirements-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#swappable.requirements-2.2'>(2.2)</a></div><div id='swappable.requirements-2.2.sentence-1' class='sentence'>these expressions have the following effects:</div><div id='swappable.requirements-2.2.sentence-2' class='sentence'><ul class='itemize'><li id='swappable.requirements-2.2.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#swappable.requirements-2.2.1'>(2.2.1)</a></div><div id='swappable.requirements-2.2.1.sentence-1' class='sentence'>the object referred to by <span class='texttt'>t</span> has the value originally held by <span class='texttt'>u</span> and</div></li><li id='swappable.requirements-2.2.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#swappable.requirements-2.2.2'>(2.2.2)</a></div><div id='swappable.requirements-2.2.2.sentence-1' class='sentence'>the object referred to by <span class='texttt'>u</span> has the value originally held by <span class='texttt'>t</span><a class='hidden_link' href='#swappable.requirements-2.2.2.sentence-1'>.</a></div></li></ul></div></li></ul></div></div><div class='para' id='swappable.requirements-3'><div class='marginalizedparent'><a class='marginalized' href='#swappable.requirements-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/lib-intro.tex#L1567'>#</a></div><div id='swappable.requirements-3.sentence-1' class='sentence'>The context in which <span class='texttt'>swap(t, u)</span> and <span class='texttt'>swap(u, t)</span> are evaluated shall
ensure that a binary non-member function named “swap” is selected via <a href='over.match'>overload
resolution</a> on a candidate set that includes:</div><div id='swappable.requirements-3.sentence-2' class='sentence'><ul class='itemize'><li id='swappable.requirements-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#swappable.requirements-3.1'>(3.1)</a></div><div id='swappable.requirements-3.1.sentence-1' class='sentence'>the two <span class='texttt'>swap</span> function templates defined in
<a href='utility'><span class='texttt'>&lt;utility&gt;</span></a> and</div></li><li id='swappable.requirements-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#swappable.requirements-3.2'>(3.2)</a></div><div id='swappable.requirements-3.2.sentence-1' class='sentence'>the lookup set produced by <a href='basic.lookup.argdep'>argument-dependent lookup</a><a class='hidden_link' href='#swappable.requirements-3.2.sentence-1'>.</a></div></li></ul></div><div id='swappable.requirements-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#swappable.requirements-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='swappable.requirements-3.sentence-3' class='sentence'>If <span class='texttt'>T</span> and <span class='texttt'>U</span> are both fundamental types or arrays of
fundamental types and the declarations from the header <span class='texttt'>&lt;utility&gt;</span> are in
scope, the overall lookup set described above is equivalent to that of the
qualified name lookup applied to the expression <span class='texttt'>std&#x200b;::&#x200b;swap(t, u)</span> or
<span class='texttt'>std&#x200b;::&#x200b;swap(u, t)</span> as appropriate<a class='hidden_link' href='#swappable.requirements-3.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> <div id='swappable.requirements-3.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#swappable.requirements-3.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='swappable.requirements-3.sentence-4' class='sentence'>It is unspecified whether a library component that has a swappable
requirement includes the header <span class='texttt'>&lt;utility&gt;</span> to ensure an appropriate
evaluation context<a class='hidden_link' href='#swappable.requirements-3.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='swappable.requirements-4'><div class='marginalizedparent'><a class='marginalized' href='#swappable.requirements-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/lib-intro.tex#L1589'>#</a></div><div id='swappable.requirements-4.sentence-1' class='sentence'>An rvalue or lvalue <span class='texttt'>t</span> is <a class='hidden_link' href='#def:swappable' id='def:swappable'><i >swappable</i></a> if and only if <span class='texttt'>t</span> is
swappable with any rvalue or lvalue, respectively, of type <span class='texttt'>T</span><a class='hidden_link' href='#swappable.requirements-4.sentence-1'>.</a></div></div><div class='para' id='swappable.requirements-5'><div class='marginalizedparent'><a class='marginalized' href='#swappable.requirements-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/lib-intro.tex#L1593'>#</a></div><div id='swappable.requirements-5.sentence-1' class='sentence'>A type <span class='texttt'>X</span> satisfying any of the <a href='iterator.requirements'>iterator requirements</a>
satisfies the requirements of <span class='texttt'>ValueSwappable</span> if,
for any dereferenceable object
<span class='texttt'>x</span> of type <span class='texttt'>X</span>,
<span class='texttt'>*x</span> is swappable<a class='hidden_link' href='#swappable.requirements-5.sentence-1'>.</a></div><div style='height:0.6em;display:block'></div><div id='swappable.requirements-5.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#swappable.requirements-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='swappable.requirements-5.sentence-2' class='sentence'>User code can ensure that the evaluation of <span class='texttt'>swap</span> calls
is performed in an appropriate context under the various conditions as follows:
<pre class='codeblock'>
#include &lt;utility&gt;

<span class='comment'>// Requires: <span class='tcode_in_codeblock'>std&#x200b;::&#x200b;forward&lt;T&gt;(t)</span> shall be swappable with <span class='tcode_in_codeblock'>std&#x200b;::&#x200b;forward&lt;U&gt;(u)</span>.
</span>template &lt;class T, class U&gt;
void value_swap(T&amp;&amp; t, U&amp;&amp; u) {
  using std::swap;
  swap(std::forward&lt;T&gt;(t), std::forward&lt;U&gt;(u)); <span class='comment'>// OK: uses “swappable with” conditions
</span>                                                <span class='comment'>// for rvalues and lvalues
</span>}

<span class='comment'>// Requires: lvalues of <span class='tcode_in_codeblock'>T</span> shall be swappable.
</span>template &lt;class T&gt;
void lv_swap(T&amp; t1, T&amp; t2) {
  using std::swap;
  swap(t1, t2);                                 <span class='comment'>// OK: uses swappable conditions for
</span>}                                               <span class='comment'>// lvalues of type <span class='tcode_in_codeblock'>T</span>
</span>
namespace N {
  struct A { int m; };
  struct Proxy { A* a; };
  Proxy proxy(A&amp; a) { return Proxy{ &amp;a }; }

  void swap(A&amp; x, Proxy p) {
    std::swap(x.m, p.a-&gt;m);                     <span class='comment'>// OK: uses context equivalent to swappable
</span>                                                <span class='comment'>// conditions for fundamental types
</span>  }
  void swap(Proxy p, A&amp; x) { swap(x, p); }      <span class='comment'>// satisfy symmetry constraint
</span>}

int main() {
  int i = 1, j = 2;
  lv_swap(i, j);
  assert(i == 2 &amp;&amp; j == 1);

  N::A a1 = { 5 }, a2 = { -5 };
  value_swap(a1, proxy(a2));
  assert(a1.m == -5 &amp;&amp; a2.m == 5);
}</pre></div> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div></div><div id='nullablepointer.requirements' class='section'><h4 ><a class='secnum' href='#nullablepointer.requirements' style='min-width:118pt'>20.5.3.3</a> <span class='texttt'>NullablePointer</span> requirements <a class='abbr_ref' href='nullablepointer.requirements'>[nullablepointer.requirements]</a></h4><div class='para' id='nullablepointer.requirements-1'><div class='marginalizedparent'><a class='marginalized' href='#nullablepointer.requirements-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/lib-intro.tex#L1646'>#</a></div><div id='nullablepointer.requirements-1.sentence-1' class='sentence'>A <span class='texttt'>NullablePointer</span> type is a pointer-like type that supports null values<a class='hidden_link' href='#nullablepointer.requirements-1.sentence-1'>.</a></div> <div id='nullablepointer.requirements-1.sentence-2' class='sentence'>A type <span class='texttt'>P</span> meets the requirements of <span class='texttt'>NullablePointer</span> if:</div><div id='nullablepointer.requirements-1.sentence-3' class='sentence'><ul class='itemize'><li id='nullablepointer.requirements-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#nullablepointer.requirements-1.1'>(1.1)</a></div><div id='nullablepointer.requirements-1.1.sentence-1' class='sentence'><span class='texttt'>P</span> satisfies the requirements of <span class='texttt'>EqualityComparable</span>,
<span class='texttt'>DefaultConstructible</span>, <span class='texttt'>CopyConstructible</span>, <span class='texttt'>CopyAssignable</span>,
and <span class='texttt'>Destructible</span>,</div></li><li id='nullablepointer.requirements-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#nullablepointer.requirements-1.2'>(1.2)</a></div><div id='nullablepointer.requirements-1.2.sentence-1' class='sentence'>lvalues of type <span class='texttt'>P</span> are <a href='swappable.requirements'>swappable</a>,</div></li><li id='nullablepointer.requirements-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#nullablepointer.requirements-1.3'>(1.3)</a></div><div id='nullablepointer.requirements-1.3.sentence-1' class='sentence'>the expressions shown in Table <a href='#tab:nullablepointer'>28</a> are
valid and have the indicated semantics, and</div></li><li id='nullablepointer.requirements-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#nullablepointer.requirements-1.4'>(1.4)</a></div><div id='nullablepointer.requirements-1.4.sentence-1' class='sentence'><span class='texttt'>P</span> satisfies all the other requirements of this subclause<a class='hidden_link' href='#nullablepointer.requirements-1.4.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='nullablepointer.requirements-2'><div class='marginalizedparent'><a class='marginalized' href='#nullablepointer.requirements-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/lib-intro.tex#L1663'>#</a></div><div id='nullablepointer.requirements-2.sentence-1' class='sentence'>A value-initialized object of type <span class='texttt'>P</span> produces the null value of the type<a class='hidden_link' href='#nullablepointer.requirements-2.sentence-1'>.</a></div> <div id='nullablepointer.requirements-2.sentence-2' class='sentence'>The null value shall be equivalent only to itself<a class='hidden_link' href='#nullablepointer.requirements-2.sentence-2'>.</a></div> <div id='nullablepointer.requirements-2.sentence-3' class='sentence'>A default-initialized object
of type <span class='texttt'>P</span> may have an indeterminate value<a class='hidden_link' href='#nullablepointer.requirements-2.sentence-3'>.</a></div> <div id='nullablepointer.requirements-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#nullablepointer.requirements-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='nullablepointer.requirements-2.sentence-4' class='sentence'>Operations involving
indeterminate values may cause undefined behavior<a class='hidden_link' href='#nullablepointer.requirements-2.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='nullablepointer.requirements-3'><div class='marginalizedparent'><a class='marginalized' href='#nullablepointer.requirements-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/lib-intro.tex#L1669'>#</a></div><div id='nullablepointer.requirements-3.sentence-1' class='sentence'>An object <span class='texttt'>p</span> of type <span class='texttt'>P</span> can be
<a href='conv#def:conversion,contextual_to_bool'>contextually converted to <span class='texttt'>bool</span></a><a class='hidden_link' href='#nullablepointer.requirements-3.sentence-1'>.</a></div> <div id='nullablepointer.requirements-3.sentence-2' class='sentence'>The effect shall be as if <span class='texttt'>p != nullptr</span>
had been evaluated in place of <span class='texttt'>p</span><a class='hidden_link' href='#nullablepointer.requirements-3.sentence-2'>.</a></div></div><div class='para' id='nullablepointer.requirements-4'><div class='marginalizedparent'><a class='marginalized' href='#nullablepointer.requirements-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/lib-intro.tex#L1675'>#</a></div><div id='nullablepointer.requirements-4.sentence-1' class='sentence'>No operation which is part of the <span class='texttt'>NullablePointer</span> requirements shall exit
via an exception<a class='hidden_link' href='#nullablepointer.requirements-4.sentence-1'>.</a></div></div><div class='para' id='nullablepointer.requirements-5'><div class='marginalizedparent'><a class='marginalized' href='#nullablepointer.requirements-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/lib-intro.tex#L1679'>#</a></div><div id='nullablepointer.requirements-5.sentence-1' class='sentence'>In Table <a href='#tab:nullablepointer'>28</a>, <span class='texttt'>u</span> denotes an identifier, <span class='texttt'>t</span>
denotes a non-<span class='texttt'>const</span> lvalue of type <span class='texttt'>P</span>, <span class='texttt'>a</span> and <span class='texttt'>b</span>
denote values of type (possibly <span class='texttt'>const</span>) <span class='texttt'>P</span>, and <span class='texttt'>np</span> denotes
a value of type (possibly <span class='texttt'>const</span>) <span class='texttt'>std&#x200b;::&#x200b;nullptr_&shy;t</span><a class='hidden_link' href='#nullablepointer.requirements-5.sentence-1'>.</a></div><div id='nullablepointer.requirements-5.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':requirements,NullablePointer'></a></span>
 <div class='numberedTable' id='tab:nullablepointer'>Table <a href='#tab:nullablepointer'>28</a> — <span class='texttt'>NullablePointer</span> requirements<br><table ><tr class='rowsep'><td class='left'><div id='nullablepointer.requirements-5.sentence-3' class='sentence'>Expression</div></td><td class='left'><div id='nullablepointer.requirements-5.sentence-4' class='sentence'>Return type</div></td><td class='left'><div id='nullablepointer.requirements-5.sentence-5' class='sentence'>Operational semantics</div></td></tr><tr class='capsep'><td class='left'><div id='nullablepointer.requirements-5.sentence-6' class='sentence'><span class='texttt'>P u(np);</span><br/></div></td><td class='left'></td><td class='left'><div id='nullablepointer.requirements-5.sentence-7' class='sentence'><span class='textit'>Postconditions:</span> <span class='texttt'>u == nullptr</span></div></td></tr><tr ><td class='left'><div id='nullablepointer.requirements-5.sentence-8' class='sentence'><span class='texttt'>P u = np;</span></div></td><td class='left'></td><td class='left'></td></tr><tr class='rowsep'><td class='left'><div id='nullablepointer.requirements-5.sentence-9' class='sentence'><span class='texttt'>P(np)</span></div></td><td class='left'></td><td class='left'><div id='nullablepointer.requirements-5.sentence-10' class='sentence'><span class='textit'>Postconditions:</span> <span class='texttt'>P(np) == nullptr</span></div></td></tr><tr class='rowsep'><td class='left'><div id='nullablepointer.requirements-5.sentence-11' class='sentence'><span class='texttt'>t = np</span></div></td><td class='left'><div id='nullablepointer.requirements-5.sentence-12' class='sentence'><span class='texttt'>P&amp;</span></div></td><td class='left'><div id='nullablepointer.requirements-5.sentence-13' class='sentence'><span class='textit'>Postconditions:</span> <span class='texttt'>t == nullptr</span></div></td></tr><tr class='rowsep'><td class='left'><div id='nullablepointer.requirements-5.sentence-14' class='sentence'><span class='texttt'>a != b</span></div></td><td class='left'><div id='nullablepointer.requirements-5.sentence-15' class='sentence'>contextually convertible to <span class='texttt'>bool</span></div></td><td class='left'><div id='nullablepointer.requirements-5.sentence-16' class='sentence'><span class='texttt'>!(a == b)</span></div></td></tr><tr class='rowsep'><td class='left'><div id='nullablepointer.requirements-5.sentence-17' class='sentence'><span class='texttt'>a == np</span></div></td><td class='left'><div id='nullablepointer.requirements-5.sentence-18' class='sentence'>contextually convertible to <span class='texttt'>bool</span></div></td><td class='left'><div id='nullablepointer.requirements-5.sentence-19' class='sentence'><span class='texttt'>a == P()</span></div></td></tr><tr ><td class='left'><div id='nullablepointer.requirements-5.sentence-20' class='sentence'><span class='texttt'>np == a</span></div></td><td class='left'></td><td class='left'></td></tr><tr class='rowsep'><td class='left'><div id='nullablepointer.requirements-5.sentence-21' class='sentence'><span class='texttt'>a != np</span></div></td><td class='left'><div id='nullablepointer.requirements-5.sentence-22' class='sentence'>contextually convertible to <span class='texttt'>bool</span></div></td><td class='left'><div id='nullablepointer.requirements-5.sentence-23' class='sentence'><span class='texttt'>!(a == np)</span></div></td></tr><tr ><td class='left'><div id='nullablepointer.requirements-5.sentence-24' class='sentence'><span class='texttt'>np != a</span></div></td><td class='left'></td><td class='left'></td></tr></table></div></div></div></div><div id='hash.requirements' class='section'><h4 ><a class='secnum' href='#hash.requirements' style='min-width:118pt'>20.5.3.4</a> Hash requirements <a class='abbr_ref' href='hash.requirements'>[hash.requirements]</a></h4><span class='indexparent'><a class='index' id=':requirements,Hash'></a></span><div class='para' id='hash.requirements-1'><div class='marginalizedparent'><a class='marginalized' href='#hash.requirements-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/lib-intro.tex#L1726'>#</a></div><div id='hash.requirements-1.sentence-1' class='sentence'>A type <span class='texttt'>H</span> meets the <span class='texttt'>Hash</span> requirements if:</div><div id='hash.requirements-1.sentence-2' class='sentence'><ul class='itemize'><li id='hash.requirements-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#hash.requirements-1.1'>(1.1)</a></div><div id='hash.requirements-1.1.sentence-1' class='sentence'>it is a <a href='function.objects#def:function_object,type'>function object type</a>,</div></li><li id='hash.requirements-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#hash.requirements-1.2'>(1.2)</a></div><div id='hash.requirements-1.2.sentence-1' class='sentence'>it satisfies the requirements of
<a href='#tab:copyconstructible'><span class='texttt'>CopyConstructible</span></a> and
<a href='#tab:destructible'><span class='texttt'>Destructible</span></a>, and</div></li><li id='hash.requirements-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#hash.requirements-1.3'>(1.3)</a></div><div id='hash.requirements-1.3.sentence-1' class='sentence'>the expressions shown in Table <a href='#tab:hash'>29</a>
are valid and have the indicated semantics<a class='hidden_link' href='#hash.requirements-1.3.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='hash.requirements-2'><div class='marginalizedparent'><a class='marginalized' href='#hash.requirements-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/lib-intro.tex#L1738'>#</a></div><div id='hash.requirements-2.sentence-1' class='sentence'>Given <span class='texttt'>Key</span> is an argument type for function objects of type <span class='texttt'>H</span>, in
Table <a href='#tab:hash'>29</a> <span class='texttt'>h</span> is a value of type (possibly <span class='texttt'>const</span>) <span class='texttt'>H</span>,
<span class='texttt'>u</span> is an lvalue of type <span class='texttt'>Key</span>, and <span class='texttt'>k</span> is a value of a type convertible to
(possibly <span class='texttt'>const</span>) <span class='texttt'>Key</span><a class='hidden_link' href='#hash.requirements-2.sentence-1'>.</a></div><div class='numberedTable' id='tab:hash'>Table <a href='#tab:hash'>29</a> — <span class='texttt'>Hash</span> requirements<br><table ><tr class='rowsep'><td class='left'><div id='hash.requirements-2.sentence-2' class='sentence'>Expression</div></td><td class='left'><div id='hash.requirements-2.sentence-3' class='sentence'>Return type</div></td><td class='justify'><div id='hash.requirements-2.sentence-4' class='sentence'>Requirement</div></td></tr><tr class='capsep'><td class='left'><div id='hash.requirements-2.sentence-5' class='sentence'><span class='texttt'>h(k)</span></div></td><td class='left'><div id='hash.requirements-2.sentence-6' class='sentence'><span class='texttt'>size_&shy;t</span></div></td><td class='justify'><div id='hash.requirements-2.sentence-7' class='sentence'>The value returned shall depend only on the argument <span class='texttt'>k</span> for the duration of
  the program<a class='hidden_link' href='#hash.requirements-2.sentence-7'>.</a></div> <div id='hash.requirements-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#hash.requirements-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='hash.requirements-2.sentence-9' class='sentence'>Thus all evaluations of the expression <span class='texttt'>h(k)</span> with the
  same value for <span class='texttt'>k</span> yield the same result for a given execution of the program<a class='hidden_link' href='#hash.requirements-2.sentence-9'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='hash.requirements-2.sentence-8' class='sentence'> <div id='hash.requirements-2.note-2' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#hash.requirements-2.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='hash.requirements-2.sentence-10' class='sentence'>For two different
  values <span class='texttt'>t1</span> and <span class='texttt'>t2</span>, the probability that <span class='texttt'>h(t1)</span> and <span class='texttt'>h(t2)</span>
  compare equal should be very small, approaching <span class='texttt'>1.0 / numeric_&shy;limits&lt;size_&shy;t&gt;&#x200b;::&#x200b;max()</span><a class='hidden_link' href='#hash.requirements-2.sentence-10'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div></td></tr><tr class='rowsep'><td class='left'><div id='hash.requirements-2.sentence-11' class='sentence'><span class='texttt'>h(u)</span></div></td><td class='left'><div id='hash.requirements-2.sentence-12' class='sentence'><span class='texttt'>size_&shy;t</span></div></td><td class='justify'><div id='hash.requirements-2.sentence-13' class='sentence'>Shall not modify <span class='texttt'>u</span><a class='hidden_link' href='#hash.requirements-2.sentence-13'>.</a></div></td></tr></table></div></div></div><div id='allocator.requirements' class='section'><h4 ><a class='secnum' href='#allocator.requirements' style='min-width:118pt'>20.5.3.5</a> Allocator requirements <a class='abbr_ref' href='allocator.requirements'>[allocator.requirements]</a></h4><span class='indexparent'><a class='index' id=':requirements,Allocator'></a></span><div class='para' id='allocator.requirements-1'><div class='marginalizedparent'><a class='marginalized' href='#allocator.requirements-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/lib-intro.tex#L1765'>#</a></div><div id='allocator.requirements-1.sentence-1' class='sentence'>The library describes a standard set of requirements for <span class='textit'>allocators</span>,
which are class-type objects that encapsulate the information about an allocation model<a class='hidden_link' href='#allocator.requirements-1.sentence-1'>.</a></div> <div id='allocator.requirements-1.sentence-2' class='sentence'>This information includes the knowledge of pointer types, the type of their
difference, the type of the size of objects in this allocation model, as well
as the memory allocation and deallocation primitives for it<a class='hidden_link' href='#allocator.requirements-1.sentence-2'>.</a></div> <div id='allocator.requirements-1.sentence-3' class='sentence'>All of the
<a href='strings'>string types</a>,
<a href='containers'>containers</a> (except array),
string buffers and string streams (<a href='input.output'>[input.output]</a>), and
<a href='re'><span class='texttt'>match_&shy;results</span></a> are parameterized in terms of
allocators<a class='hidden_link' href='#allocator.requirements-1.sentence-3'>.</a></div></div><div class='para' id='allocator.requirements-2'><div class='marginalizedparent'><a class='marginalized' href='#allocator.requirements-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/lib-intro.tex#L1777'>#</a></div><div id='allocator.requirements-2.sentence-1' class='sentence'>The class template <a href='allocator.traits'><span class='texttt'>allocator_&shy;traits</span></a> supplies
a uniform interface to all allocator types<a class='hidden_link' href='#allocator.requirements-2.sentence-1'>.</a></div> <div id='allocator.requirements-2.sentence-2' class='sentence'>Table <a href='#tab:desc.var.def'>30</a> describes the types manipulated
through allocators<a class='hidden_link' href='#allocator.requirements-2.sentence-2'>.</a></div> <div id='allocator.requirements-2.sentence-3' class='sentence'>Table <a href='#tab:utilities.allocator.requirements'>31</a>
describes the requirements on allocator types
and thus on types used to instantiate <span class='texttt'>allocator_&shy;traits</span><a class='hidden_link' href='#allocator.requirements-2.sentence-3'>.</a></div> <div id='allocator.requirements-2.sentence-4' class='sentence'>A requirement
is optional if the last column of
Table <a href='#tab:utilities.allocator.requirements'>31</a> specifies a default for a
given expression<a class='hidden_link' href='#allocator.requirements-2.sentence-4'>.</a></div> <div id='allocator.requirements-2.sentence-5' class='sentence'>Within the standard library <span class='texttt'>allocator_&shy;traits</span>
template, an optional requirement that is not supplied by an allocator is
replaced by the specified default expression<a class='hidden_link' href='#allocator.requirements-2.sentence-5'>.</a></div> <div id='allocator.requirements-2.sentence-6' class='sentence'>A user specialization of
<span class='texttt'>allocator_&shy;traits</span> may provide different defaults and may provide
defaults for different requirements than the primary template<a class='hidden_link' href='#allocator.requirements-2.sentence-6'>.</a></div> <div id='allocator.requirements-2.sentence-7' class='sentence'>Within
Tables <a href='#tab:desc.var.def'>30</a> and <a href='#tab:utilities.allocator.requirements'>31</a>,
the use of <span class='texttt'>move</span> and <span class='texttt'>forward</span> always refers to <span class='texttt'>std&#x200b;::&#x200b;move</span>
and <span class='texttt'>std&#x200b;::&#x200b;forward</span>, respectively<a class='hidden_link' href='#allocator.requirements-2.sentence-7'>.</a></div><div class='numberedTable' id='tab:desc.var.def'>Table <a href='#tab:desc.var.def'>30</a> — Descriptive variable definitions<br><table ><tr class='rowsep'><td colspan='1' class='center'><div id='allocator.requirements-2.sentence-8' class='sentence'><b>Variable</b></div></td><td colspan='1' class='center'><div id='allocator.requirements-2.sentence-9' class='sentence'><b>Definition</b></div></td></tr><tr class='capsep'><td class='left'><div id='allocator.requirements-2.sentence-10' class='sentence'>
<span class='texttt'>T, U, C</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-11' class='sentence'>any <span class='textit'>cv</span>-unqualified object type (<a href='basic.types'>[basic.types]</a>)</div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-12' class='sentence'><span class='texttt'>X</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-13' class='sentence'>an Allocator class for type <span class='texttt'>T</span></div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-14' class='sentence'><span class='texttt'>Y</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-15' class='sentence'>the corresponding Allocator class for type <span class='texttt'>U</span></div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-16' class='sentence'><span class='texttt'>XX</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-17' class='sentence'>the type <span class='texttt'>allocator_&shy;traits&lt;X&gt;</span></div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-18' class='sentence'><span class='texttt'>YY</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-19' class='sentence'>the type <span class='texttt'>allocator_&shy;traits&lt;Y&gt;</span></div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-20' class='sentence'><span class='texttt'>a, a1, a2</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-21' class='sentence'>lvalues of type <span class='texttt'>X</span></div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-22' class='sentence'><span class='texttt'>u</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-23' class='sentence'>the name of a variable being declared</div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-24' class='sentence'><span class='texttt'>b</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-25' class='sentence'>a value of type <span class='texttt'>Y</span></div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-26' class='sentence'><span class='texttt'>c</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-27' class='sentence'>a pointer of type <span class='texttt'>C*</span> through which indirection is valid</div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-28' class='sentence'><span class='texttt'>p</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-29' class='sentence'>a value of type <span class='texttt'>XX&#x200b;::&#x200b;pointer</span>, obtained
by calling <span class='texttt'>a1.allocate</span>, where <span class='texttt'>a1 == a</span></div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-30' class='sentence'><span class='texttt'>q</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-31' class='sentence'>a value of type <span class='texttt'>XX&#x200b;::&#x200b;const_&shy;pointer</span>
obtained by conversion from a value <span class='texttt'>p</span><a class='hidden_link' href='#allocator.requirements-2.sentence-31'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-32' class='sentence'><span class='texttt'>w</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-33' class='sentence'>a value of type <span class='texttt'>XX&#x200b;::&#x200b;void_&shy;pointer</span> obtained by
  conversion from a value <span class='texttt'>p</span></div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-34' class='sentence'><span class='texttt'>x</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-35' class='sentence'>a value of type <span class='texttt'>XX&#x200b;::&#x200b;const_&shy;void_&shy;pointer</span> obtained by
  conversion from a value <span class='texttt'>q</span> or a value <span class='texttt'>w</span></div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-36' class='sentence'><span class='texttt'>y</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-37' class='sentence'>a value of type <span class='texttt'>XX&#x200b;::&#x200b;const_&shy;void_&shy;pointer</span> obtained by
conversion from a result value of <span class='texttt'>YY&#x200b;::&#x200b;allocate</span>, or else a value of
type (possibly <span class='texttt'>const</span>) <span class='texttt'>std&#x200b;::&#x200b;nullptr_&shy;t</span><a class='hidden_link' href='#allocator.requirements-2.sentence-37'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-38' class='sentence'><span class='texttt'>n</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-39' class='sentence'>a value of type <span class='texttt'>XX&#x200b;::&#x200b;size_&shy;type</span><a class='hidden_link' href='#allocator.requirements-2.sentence-39'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-40' class='sentence'><span class='texttt'>Args</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-41' class='sentence'>a template parameter pack</div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-42' class='sentence'><span class='texttt'>args</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-43' class='sentence'>a function parameter pack with the pattern <span class='texttt'>Args&amp;&amp;</span></div></td></tr></table></div><div class='numberedTable' id='tab:utilities.allocator.requirements'>Table <a href='#tab:utilities.allocator.requirements'>31</a> — Allocator requirements<br><table ><tr class='rowsep'><td colspan='1' class='center'><div id='allocator.requirements-2.sentence-44' class='sentence'><b>Expression</b></div></td><td colspan='1' class='center'><div id='allocator.requirements-2.sentence-45' class='sentence'><b>Return type</b></div></td><td colspan='1' class='center'><div id='allocator.requirements-2.sentence-46' class='sentence'><b>Assertion/note</b></div></td><td colspan='1' class='center'><div id='allocator.requirements-2.sentence-47' class='sentence'><b>Default</b></div></td></tr><tr ><td class='left'></td><td class='left'></td><td colspan='1' class='center'><div id='allocator.requirements-2.sentence-48' class='sentence'><b>pre-/post-condition</b></div></td><td class='left'></td></tr><tr class='capsep'><td class='left'><div id='allocator.requirements-2.sentence-49' class='sentence'>
<span class='texttt'>X&#x200b;::&#x200b;pointer</span></div></td><td class='left'></td><td class='left'></td><td class='left'><div id='allocator.requirements-2.sentence-50' class='sentence'><span class='texttt'>T*</span></div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-51' class='sentence'><span class='texttt'>X&#x200b;::&#x200b;const_&shy;pointer</span></div></td><td class='left'></td><td class='left'><div id='allocator.requirements-2.sentence-52' class='sentence'><span class='texttt'>X&#x200b;::&#x200b;pointer</span> is convertible to <span class='texttt'>X&#x200b;::&#x200b;const_&shy;pointer</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-53' class='sentence'><span class='texttt'>pointer_&shy;traits&lt;X&#x200b;::&#x200b;&#x200b;pointer&gt;&#x200b;::&#x200b;&#x200b;rebind&lt;const T&gt;</span></div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-54' class='sentence'><span class='texttt'>X&#x200b;::&#x200b;void_&shy;pointer</span><br/><span class='texttt'>Y&#x200b;::&#x200b;void_&shy;pointer</span></div></td><td class='left'></td><td class='left'><div id='allocator.requirements-2.sentence-55' class='sentence'><span class='texttt'>X&#x200b;::&#x200b;pointer</span> is convertible to <span class='texttt'>X&#x200b;::&#x200b;void_&shy;pointer</span><a class='hidden_link' href='#allocator.requirements-2.sentence-55'>.</a></div> <div id='allocator.requirements-2.sentence-56' class='sentence'><span class='texttt'>X&#x200b;::&#x200b;void_&shy;pointer</span> and <span class='texttt'>Y&#x200b;::&#x200b;void_&shy;pointer</span> are the same type<a class='hidden_link' href='#allocator.requirements-2.sentence-56'>.</a></div></td><td class='left'><div id='allocator.requirements-2.sentence-57' class='sentence'><span class='texttt'>pointer_&shy;traits&lt;X&#x200b;::&#x200b;&#x200b;pointer&gt;&#x200b;::&#x200b;&#x200b;rebind&lt;void&gt;</span></div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-58' class='sentence'><span class='texttt'>X&#x200b;::&#x200b;const_&shy;void_&shy;pointer</span><br/><span class='texttt'>Y&#x200b;::&#x200b;const_&shy;void_&shy;pointer</span></div></td><td class='left'></td><td class='left'><div id='allocator.requirements-2.sentence-59' class='sentence'><span class='texttt'>X&#x200b;::&#x200b;pointer</span>, <span class='texttt'>X&#x200b;::&#x200b;const_&shy;pointer</span>, and <span class='texttt'>X&#x200b;::&#x200b;void_&shy;pointer</span> are convertible to <span class='texttt'>X&#x200b;::&#x200b;const_&shy;void_&shy;pointer</span><a class='hidden_link' href='#allocator.requirements-2.sentence-59'>.</a></div> <div id='allocator.requirements-2.sentence-60' class='sentence'><span class='texttt'>X&#x200b;::&#x200b;const_&shy;void_&shy;pointer</span> and <span class='texttt'>Y&#x200b;::&#x200b;const_&shy;void_&shy;pointer</span> are the same type<a class='hidden_link' href='#allocator.requirements-2.sentence-60'>.</a></div></td><td class='left'><div id='allocator.requirements-2.sentence-61' class='sentence'><span class='texttt'>pointer_&shy;traits&lt;X&#x200b;::&#x200b;&#x200b;pointer&gt;&#x200b;::&#x200b;&#x200b;rebind&lt;const void&gt;</span></div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-62' class='sentence'><span class='texttt'>X&#x200b;::&#x200b;value_&shy;type</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-63' class='sentence'>Identical to <span class='texttt'>T</span></div></td><td class='left'></td><td class='left'></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-64' class='sentence'><span class='texttt'>X&#x200b;::&#x200b;size_&shy;type</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-65' class='sentence'>unsigned integer type</div></td><td class='left'><div id='allocator.requirements-2.sentence-66' class='sentence'>a type that can represent the size of the largest object in the allocation model<a class='hidden_link' href='#allocator.requirements-2.sentence-66'>.</a></div></td><td class='left'><div id='allocator.requirements-2.sentence-67' class='sentence'><span class='texttt'>make_&shy;unsigned_&shy;t&lt;X&#x200b;::&#x200b;&#x200b;difference_&shy;type&gt;</span></div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-68' class='sentence'><span class='texttt'>X&#x200b;::&#x200b;difference_&shy;type</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-69' class='sentence'>signed integer type</div></td><td class='left'><div id='allocator.requirements-2.sentence-70' class='sentence'>a type that can represent the difference between any two pointers
    in the allocation model<a class='hidden_link' href='#allocator.requirements-2.sentence-70'>.</a></div></td><td class='left'><div id='allocator.requirements-2.sentence-71' class='sentence'><span class='texttt'>pointer_&shy;traits&lt;X&#x200b;::&#x200b;&#x200b;pointer&gt;&#x200b;::&#x200b;&#x200b;difference_&shy;type</span></div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-72' class='sentence'><span class='texttt'>typename X&#x200b;::&#x200b;template rebind&lt;U&gt;&#x200b;::&#x200b;other</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-73' class='sentence'><span class='texttt'>Y</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-74' class='sentence'>For all <span class='texttt'>U</span> (including <span class='texttt'>T</span>), <span class='texttt'>Y&#x200b;::&#x200b;template rebind&lt;T&gt;&#x200b;::&#x200b;other</span>
    is <span class='texttt'>X</span><a class='hidden_link' href='#allocator.requirements-2.sentence-74'>.</a></div></td><td class='left'><div id='allocator.requirements-2.sentence-75' class='sentence'>See Note A, below<a class='hidden_link' href='#allocator.requirements-2.sentence-75'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-76' class='sentence'><span class='texttt'>*p</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-77' class='sentence'><span class='texttt'>T&amp;</span></div></td><td class='left'></td><td class='left'></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-78' class='sentence'><span class='texttt'>*q</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-79' class='sentence'><span class='texttt'>const T&amp;</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-80' class='sentence'><span class='texttt'>*q</span> refers to the same object as <span class='texttt'>*p</span></div></td><td class='left'></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-81' class='sentence'><span class='texttt'>p-&gt;m</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-82' class='sentence'>type of <span class='texttt'>T&#x200b;::&#x200b;m</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-83' class='sentence'><span class='textit'>Requires:</span> <span class='texttt'>(*p).m</span> is well-defined<a class='hidden_link' href='#allocator.requirements-2.sentence-83'>.</a></div> <div id='allocator.requirements-2.sentence-84' class='sentence'>equivalent to <span class='texttt'>(*p).m</span></div></td><td class='left'></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-85' class='sentence'><span class='texttt'>q-&gt;m</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-86' class='sentence'>type of <span class='texttt'>T&#x200b;::&#x200b;m</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-87' class='sentence'><span class='textit'>Requires:</span> <span class='texttt'>(*q).m</span> is well-defined<a class='hidden_link' href='#allocator.requirements-2.sentence-87'>.</a></div> <div id='allocator.requirements-2.sentence-88' class='sentence'>equivalent to <span class='texttt'>(*q).m</span></div></td><td class='left'></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-89' class='sentence'><span class='texttt'>static_&shy;cast&lt;&#x200b;X&#x200b;::&#x200b;pointer&#x200b;&gt;(w)</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-90' class='sentence'><span class='texttt'>X&#x200b;::&#x200b;pointer</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-91' class='sentence'><span class='texttt'>static_&shy;cast&lt;X&#x200b;::&#x200b;pointer&gt;(w) == p</span></div></td><td class='left'></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-92' class='sentence'><span class='texttt'>static_&shy;cast&lt;&#x200b;X&#x200b;::&#x200b;const_&shy;pointer&#x200b;&gt;(x)</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-93' class='sentence'><span class='texttt'>X&#x200b;::&#x200b;const_&shy;pointer</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-94' class='sentence'><span class='texttt'>static_&shy;cast&lt;</span> <span class='texttt'>X&#x200b;::&#x200b;const_&shy;pointer&#x200b;&gt;(x) == q</span></div></td><td class='left'></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-95' class='sentence'><span class='texttt'>pointer_&shy;traits&lt;&#x200b;X&#x200b;::&#x200b;pointer&#x200b;&gt;&#x200b;::&#x200b;pointer_&shy;to(r)</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-96' class='sentence'><span class='texttt'>X&#x200b;::&#x200b;pointer</span></div></td><td class='left'></td><td class='left'></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-97' class='sentence'><span class='texttt'>a.allocate(n)</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-98' class='sentence'><span class='texttt'>X&#x200b;::&#x200b;pointer</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-99' class='sentence'>Memory is allocated for <span class='texttt'>n</span> objects of type <span class='texttt'>T</span> but objects
are not constructed<a class='hidden_link' href='#allocator.requirements-2.sentence-99'>.</a></div> <div id='allocator.requirements-2.sentence-100' class='sentence'><span class='texttt'>allocate</span> may throw an appropriate exception<a class='hidden_link' href='#allocator.requirements-2.sentence-100'>.</a><a class='footnotenum' href='#footnote-176'>176</a></div> <div id='allocator.requirements-2.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#allocator.requirements-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='allocator.requirements-2.sentence-101' class='sentence'>If <span class='texttt'>n == 0</span>, the return value is unspecified<a class='hidden_link' href='#allocator.requirements-2.sentence-101'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </td><td class='left'></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-102' class='sentence'><span class='texttt'>a.allocate(n, y)</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-103' class='sentence'><span class='texttt'>X&#x200b;::&#x200b;pointer</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-104' class='sentence'>Same as <span class='texttt'>a.allocate(n)</span><a class='hidden_link' href='#allocator.requirements-2.sentence-104'>.</a></div> <div id='allocator.requirements-2.sentence-105' class='sentence'>The use of <span class='texttt'>y</span> is unspecified, but
    it is intended as an aid to locality<a class='hidden_link' href='#allocator.requirements-2.sentence-105'>.</a></div></td><td class='left'><div id='allocator.requirements-2.sentence-106' class='sentence'><span class='texttt'>a.allocate(n)</span></div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-107' class='sentence'><span class='texttt'>a.deallocate(p,n)</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-108' class='sentence'>(not used)</div></td><td class='left'><div id='allocator.requirements-2.sentence-109' class='sentence'><span class='textit'>Requires:</span> <span class='texttt'>p</span> shall be a value returned by an earlier call
  to <span class='texttt'>allocate</span> that has not been invalidated by
  an intervening call to <span class='texttt'>deallocate</span><a class='hidden_link' href='#allocator.requirements-2.sentence-109'>.</a></div> <div id='allocator.requirements-2.sentence-110' class='sentence'><span class='texttt'>n</span> shall
  match the value passed to <span class='texttt'>allocate</span> to obtain this memory<a class='hidden_link' href='#allocator.requirements-2.sentence-110'>.</a></div> <div id='allocator.requirements-2.sentence-111' class='sentence'><br/>
  <span class='textit'>Throws:</span> Nothing<a class='hidden_link' href='#allocator.requirements-2.sentence-111'>.</a></div></td><td class='left'></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-112' class='sentence'><span class='texttt'>a.max_&shy;size()</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-113' class='sentence'><span class='texttt'>X&#x200b;::&#x200b;size_&shy;type</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-114' class='sentence'>the largest value that can meaningfully be passed to <span class='texttt'>X&#x200b;::&#x200b;allocate()</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-115' class='sentence'><span class='texttt'>numeric_&shy;limits&lt;size_&shy;type&gt;&#x200b;::&#x200b;max() / sizeof&#x200b;(value_&shy;type)</span></div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-116' class='sentence'><span class='texttt'>a1 == a2</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-117' class='sentence'><span class='texttt'>bool</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-118' class='sentence'>returns <span class='texttt'>true</span> only if storage allocated from each can
    be deallocated via the other<a class='hidden_link' href='#allocator.requirements-2.sentence-118'>.</a></div> <div id='allocator.requirements-2.sentence-119' class='sentence'><span class='texttt'>operator==</span> shall be reflexive, symmetric,
    and transitive, and shall not exit via an exception<a class='hidden_link' href='#allocator.requirements-2.sentence-119'>.</a></div></td><td class='left'></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-120' class='sentence'><span class='texttt'>a1 != a2</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-121' class='sentence'><span class='texttt'>bool</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-122' class='sentence'>same as <span class='texttt'>!(a1 == a2)</span></div></td><td class='left'></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-123' class='sentence'><span class='texttt'>a == b</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-124' class='sentence'><span class='texttt'>bool</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-125' class='sentence'>same as <span class='texttt'>a ==</span> <span class='texttt'>Y&#x200b;::&#x200b;rebind&lt;T&gt;&#x200b;::&#x200b;other(b)</span></div></td><td class='left'></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-126' class='sentence'><span class='texttt'>a != b</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-127' class='sentence'><span class='texttt'>bool</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-128' class='sentence'>same as <span class='texttt'>!(a == b)</span></div></td><td class='left'></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-129' class='sentence'><span class='texttt'>X u(a)</span>;            <br/>
<span class='texttt'>X u = a;</span></div></td><td class='left'></td><td class='left'><div id='allocator.requirements-2.sentence-130' class='sentence'>Shall not exit via an exception<a class='hidden_link' href='#allocator.requirements-2.sentence-130'>.</a></div> <div id='allocator.requirements-2.sentence-131' class='sentence'><br/>
  <span class='textit'>Postconditions:</span> <span class='texttt'>u == a</span></div></td><td class='left'></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-132' class='sentence'><span class='texttt'>X u(b);</span></div></td><td class='left'></td><td class='left'><div id='allocator.requirements-2.sentence-133' class='sentence'>Shall not exit via an exception<a class='hidden_link' href='#allocator.requirements-2.sentence-133'>.</a></div> <div id='allocator.requirements-2.sentence-134' class='sentence'><br/>
  <span class='textit'>Postconditions:</span> <span class='texttt'>Y(u) == b</span>, <span class='texttt'>u == X(b)</span></div></td><td class='left'></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-135' class='sentence'><span class='texttt'>X u(std&#x200b;::&#x200b;move(a));</span>  <br/>
<span class='texttt'>X u = std&#x200b;::&#x200b;move(a);</span></div></td><td class='left'></td><td class='left'><div id='allocator.requirements-2.sentence-136' class='sentence'>Shall not exit via an exception<a class='hidden_link' href='#allocator.requirements-2.sentence-136'>.</a></div> <div id='allocator.requirements-2.sentence-137' class='sentence'><br/>
  <span class='textit'>Postconditions:</span> The value of <span class='texttt'>a</span> is unchanged and is equal to <span class='texttt'>u</span><a class='hidden_link' href='#allocator.requirements-2.sentence-137'>.</a></div></td><td class='left'></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-138' class='sentence'><span class='texttt'>X u(std&#x200b;::&#x200b;move(b));</span></div></td><td class='left'></td><td class='left'><div id='allocator.requirements-2.sentence-139' class='sentence'>Shall not exit via an exception<a class='hidden_link' href='#allocator.requirements-2.sentence-139'>.</a></div> <div id='allocator.requirements-2.sentence-140' class='sentence'><br/>
  <span class='textit'>Postconditions:</span> <span class='texttt'>u</span> is equal to the prior value of <span class='texttt'>X(b)</span><a class='hidden_link' href='#allocator.requirements-2.sentence-140'>.</a></div></td><td class='left'></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-141' class='sentence'><span class='texttt'>a.construct(c, args)</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-142' class='sentence'>(not used)</div></td><td class='left'><div id='allocator.requirements-2.sentence-143' class='sentence'><span class='textit'>Effects:</span> Constructs an object of type <span class='texttt'>C</span> at
    <span class='texttt'>c</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-144' class='sentence'><span class='texttt'>&#x200b;::&#x200b;new ((void*)c) C(forward&lt;&#x200b;Args&gt;&#x200b;(args)...)</span></div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-145' class='sentence'><span class='texttt'>a.destroy(c)</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-146' class='sentence'>(not used)</div></td><td class='left'><div id='allocator.requirements-2.sentence-147' class='sentence'><span class='textit'>Effects:</span> Destroys the object at <span class='texttt'>c</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-148' class='sentence'><span class='texttt'>c-&gt;~C()</span></div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-149' class='sentence'><span class='texttt'>a.select_&shy;on_&shy;container_&shy;copy_&shy;construction()</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-150' class='sentence'><span class='texttt'>X</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-151' class='sentence'>Typically returns either <span class='texttt'>a</span> or <span class='texttt'>X()</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-152' class='sentence'><span class='texttt'>return a;</span></div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-153' class='sentence'><span class='texttt'>X&#x200b;::&#x200b;propagate_&shy;on_&shy;container_&shy;copy_&shy;assignment</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-154' class='sentence'>Identical to or derived from <span class='texttt'>true_&shy;type</span> or <span class='texttt'>false_&shy;type</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-155' class='sentence'><span class='texttt'>true_&shy;type</span> only if an allocator of type <span class='texttt'>X</span> should be copied
    when the client container is copy-assigned<a class='hidden_link' href='#allocator.requirements-2.sentence-155'>.</a></div> <div id='allocator.requirements-2.sentence-156' class='sentence'>See Note B, below<a class='hidden_link' href='#allocator.requirements-2.sentence-156'>.</a></div></td><td class='left'><div id='allocator.requirements-2.sentence-157' class='sentence'><span class='texttt'>false_&shy;type</span></div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-158' class='sentence'><span class='texttt'>X&#x200b;::&#x200b;propagate_&shy;on_&shy;container_&shy;move_&shy;assignment</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-159' class='sentence'>Identical to or derived from <span class='texttt'>true_&shy;type</span> or <span class='texttt'>false_&shy;type</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-160' class='sentence'><span class='texttt'>true_&shy;type</span> only if an allocator of type <span class='texttt'>X</span> should be moved
    when the client container is move-assigned<a class='hidden_link' href='#allocator.requirements-2.sentence-160'>.</a></div> <div id='allocator.requirements-2.sentence-161' class='sentence'>See Note B, below<a class='hidden_link' href='#allocator.requirements-2.sentence-161'>.</a></div></td><td class='left'><div id='allocator.requirements-2.sentence-162' class='sentence'><span class='texttt'>false_&shy;type</span></div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-163' class='sentence'><span class='texttt'>X&#x200b;::&#x200b;propagate_&shy;on_&shy;-</span> <span class='texttt'>container_&shy;swap</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-164' class='sentence'>Identical to or derived from <span class='texttt'>true_&shy;type</span> or <span class='texttt'>false_&shy;type</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-165' class='sentence'><span class='texttt'>true_&shy;type</span> only if an allocator of type <span class='texttt'>X</span> should be swapped
    when the client container is swapped<a class='hidden_link' href='#allocator.requirements-2.sentence-165'>.</a></div> <div id='allocator.requirements-2.sentence-166' class='sentence'>See Note B, below<a class='hidden_link' href='#allocator.requirements-2.sentence-166'>.</a></div></td><td class='left'><div id='allocator.requirements-2.sentence-167' class='sentence'><span class='texttt'>false_&shy;type</span></div></td></tr><tr class='rowsep'><td class='left'><div id='allocator.requirements-2.sentence-168' class='sentence'><span class='texttt'>X&#x200b;::&#x200b;is_&shy;always_&shy;equal</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-169' class='sentence'>Identical to or derived from <span class='texttt'>true_&shy;type</span> or <span class='texttt'>false_&shy;type</span></div></td><td class='left'><div id='allocator.requirements-2.sentence-170' class='sentence'><span class='texttt'>true_&shy;type</span> only if the expression <span class='texttt'>a1 == a2</span> is guaranteed
    to be <span class='texttt'>true</span> for any two (possibly <span class='texttt'>const</span>) values
    <span class='texttt'>a1</span>, <span class='texttt'>a2</span> of type <span class='texttt'>X</span><a class='hidden_link' href='#allocator.requirements-2.sentence-170'>.</a></div></td><td class='left'><div id='allocator.requirements-2.sentence-171' class='sentence'><span class='texttt'>is_&shy;empty&lt;X&gt;&#x200b;::&#x200b;&#x200b;type</span></div></td></tr></table></div></div><div class='para' id='allocator.requirements-3'><div class='marginalizedparent'><a class='marginalized' href='#allocator.requirements-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/lib-intro.tex#L2024'>#</a></div><div id='allocator.requirements-3.sentence-1' class='sentence'>Note A: The member class template <span class='texttt'>rebind</span> in the table above is
effectively a typedef template<a class='hidden_link' href='#allocator.requirements-3.sentence-1'>.</a></div> <div id='allocator.requirements-3.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#allocator.requirements-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='allocator.requirements-3.sentence-4' class='sentence'>In general, if
the name <span class='texttt'>Allocator</span> is bound to <span class='texttt'>SomeAllocator&lt;T&gt;</span>, then
<span class='texttt'>Allocator&#x200b;::&#x200b;rebind&lt;U&gt;&#x200b;::&#x200b;other</span> is the same type as
<span class='texttt'>SomeAllocator&lt;U&gt;</span>, where
<span class='texttt'>SomeAllocator&lt;T&gt;&#x200b;::&#x200b;value_&shy;type</span> is <span class='texttt'>T</span> and
<span class='texttt'>SomeAllocator&lt;U&gt;&#x200b;::&#x200b;&#x200b;value_&shy;type</span> is <span class='texttt'>U</span><a class='hidden_link' href='#allocator.requirements-3.sentence-4'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div>  <div id='allocator.requirements-3.sentence-2' class='sentence'> If
<span class='texttt'>Allocator</span> is a class template instantiation of the form
<span class='texttt'>SomeAllocator&lt;T, Args&gt;</span>, where <span class='texttt'>Args</span> is zero or more type
arguments, and <span class='texttt'>Allocator</span> does not supply a <span class='texttt'>rebind</span> member
template, the standard <span class='texttt'>allocator_&shy;traits</span> template uses
<span class='texttt'>SomeAllocator&lt;U, Args&gt;</span> in place of <span class='texttt'>Allocator&#x200b;::&#x200b;&#x200b;rebind&lt;U&gt;&#x200b;::&#x200b;other</span>
by default<a class='hidden_link' href='#allocator.requirements-3.sentence-2'>.</a></div> <div id='allocator.requirements-3.sentence-3' class='sentence'>For allocator types that are not template instantiations of the
above form, no default is provided<a class='hidden_link' href='#allocator.requirements-3.sentence-3'>.</a></div></div><div class='para' id='allocator.requirements-4'><div class='marginalizedparent'><a class='marginalized' href='#allocator.requirements-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/lib-intro.tex#L2040'>#</a></div><div id='allocator.requirements-4.sentence-1' class='sentence'>Note B:
If <span class='texttt'>X&#x200b;::&#x200b;propagate_&shy;on_&shy;container_&shy;copy_&shy;assignment&#x200b;::&#x200b;value</span> is <span class='texttt'>true</span>,
<span class='texttt'>X</span> shall satisfy the
<a href='#tab:copyassignable'><span class='texttt'>CopyAssignable</span> requirements</a>
and the copy operation shall not throw exceptions<a class='hidden_link' href='#allocator.requirements-4.sentence-1'>.</a></div> <div id='allocator.requirements-4.sentence-2' class='sentence'>If <span class='texttt'>X&#x200b;::&#x200b;propagate_&shy;on_&shy;container_&shy;move_&shy;assignment&#x200b;::&#x200b;value</span> is <span class='texttt'>true</span>,
<span class='texttt'>X</span> shall satisfy the
<a href='#tab:moveassignable'><span class='texttt'>MoveAssignable</span> requirements</a>
and the move operation shall not throw exceptions<a class='hidden_link' href='#allocator.requirements-4.sentence-2'>.</a></div> <div id='allocator.requirements-4.sentence-3' class='sentence'>If <span class='texttt'>X&#x200b;::&#x200b;propagate_&shy;on_&shy;container_&shy;swap&#x200b;::&#x200b;value</span> is <span class='texttt'>true</span>,
lvalues of type <span class='texttt'>X</span> shall be <a href='swappable.requirements'>swappable</a>
and the <span class='texttt'>swap</span> operation shall not throw exceptions<a class='hidden_link' href='#allocator.requirements-4.sentence-3'>.</a></div></div><div class='para' id='allocator.requirements-5'><div class='marginalizedparent'><a class='marginalized' href='#allocator.requirements-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/lib-intro.tex#L2054'>#</a></div><div id='allocator.requirements-5.sentence-1' class='sentence'>An allocator type <span class='texttt'>X</span> shall satisfy the requirements of
<a href='utility.arg.requirements'><span class='texttt'>CopyConstructible</span></a><a class='hidden_link' href='#allocator.requirements-5.sentence-1'>.</a></div> <div id='allocator.requirements-5.sentence-2' class='sentence'>The <span class='texttt'>X&#x200b;::&#x200b;pointer</span>, <span class='texttt'>X&#x200b;::&#x200b;const_&shy;pointer</span>, <span class='texttt'>X&#x200b;::&#x200b;void_&shy;pointer</span>, and
<span class='texttt'>X&#x200b;::&#x200b;const_&shy;void_&shy;pointer</span> types shall satisfy the requirements of
<a href='nullablepointer.requirements'><span class='texttt'>NullablePointer</span></a><a class='hidden_link' href='#allocator.requirements-5.sentence-2'>.</a></div> <div id='allocator.requirements-5.sentence-3' class='sentence'>No constructor,
comparison function, copy operation, move operation, or swap operation on
these pointer types shall exit via an exception<a class='hidden_link' href='#allocator.requirements-5.sentence-3'>.</a></div> <div id='allocator.requirements-5.sentence-4' class='sentence'><span class='texttt'>X&#x200b;::&#x200b;pointer</span> and <span class='texttt'>X&#x200b;::&#x200b;const_&shy;pointer</span> shall also
satisfy the requirements for
a <a href='random.access.iterators'>random access iterator</a> and of
a <a href='iterator.requirements.general'>contiguous iterator</a><a class='hidden_link' href='#allocator.requirements-5.sentence-4'>.</a></div></div><div class='para' id='allocator.requirements-6'><div class='marginalizedparent'><a class='marginalized' href='#allocator.requirements-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/lib-intro.tex#L2067'>#</a></div><div id='allocator.requirements-6.sentence-1' class='sentence'>Let <span class='texttt'>x1</span> and <span class='texttt'>x2</span> denote objects of (possibly different) types
<span class='texttt'>X&#x200b;::&#x200b;void_&shy;pointer</span>, <span class='texttt'>X&#x200b;::&#x200b;const_&shy;void_&shy;pointer</span>, <span class='texttt'>X&#x200b;::&#x200b;pointer</span>,
or <span class='texttt'>X&#x200b;::&#x200b;const_&shy;pointer</span><a class='hidden_link' href='#allocator.requirements-6.sentence-1'>.</a></div> <div id='allocator.requirements-6.sentence-2' class='sentence'>Then, <span class='texttt'>x1</span> and <span class='texttt'>x2</span> are
<a class='hidden_link' href='#def:equivalently-valued' id='def:equivalently-valued'><i >equivalently-valued</i></a> pointer values, if and only if both <span class='texttt'>x1</span> and <span class='texttt'>x2</span>
can be explicitly converted to the two corresponding objects <span class='texttt'>px1</span> and <span class='texttt'>px2</span>
of type <span class='texttt'>X&#x200b;::&#x200b;const_&shy;pointer</span>, using a sequence of <span class='texttt'>static_&shy;cast</span>s
using only these four types, and the expression <span class='texttt'>px1 == px2</span>
evaluates to <span class='texttt'>true</span><a class='hidden_link' href='#allocator.requirements-6.sentence-2'>.</a></div></div><div class='para' id='allocator.requirements-7'><div class='marginalizedparent'><a class='marginalized' href='#allocator.requirements-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/lib-intro.tex#L2077'>#</a></div><div id='allocator.requirements-7.sentence-1' class='sentence'>Let <span class='texttt'>w1</span> and <span class='texttt'>w2</span> denote objects of type <span class='texttt'>X&#x200b;::&#x200b;void_&shy;pointer</span><a class='hidden_link' href='#allocator.requirements-7.sentence-1'>.</a></div> <div id='allocator.requirements-7.sentence-2' class='sentence'>Then for the expressions
<pre class='codeblock'>
w1 == w2
w1 != w2</pre>
either or both objects may be replaced by an equivalently-valued object of type
<span class='texttt'>X&#x200b;::&#x200b;const_&shy;void_&shy;pointer</span> with no change in semantics<a class='hidden_link' href='#allocator.requirements-7.sentence-2'>.</a></div></div><div class='para' id='allocator.requirements-8'><div class='marginalizedparent'><a class='marginalized' href='#allocator.requirements-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/lib-intro.tex#L2087'>#</a></div><div id='allocator.requirements-8.sentence-1' class='sentence'>Let <span class='texttt'>p1</span> and <span class='texttt'>p2</span> denote objects of type <span class='texttt'>X&#x200b;::&#x200b;pointer</span><a class='hidden_link' href='#allocator.requirements-8.sentence-1'>.</a></div> <div id='allocator.requirements-8.sentence-2' class='sentence'>Then for the expressions
<pre class='codeblock'>
p1 == p2
p1 != p2
p1 &lt; p2
p1 &lt;= p2
p1 &gt;= p2
p1 &gt; p2
p1 - p2</pre>
either or both objects may be replaced by an equivalently-valued object of type
<span class='texttt'>X&#x200b;::&#x200b;const_&shy;pointer</span> with no change in semantics<a class='hidden_link' href='#allocator.requirements-8.sentence-2'>.</a></div></div><div class='para' id='allocator.requirements-9'><div class='marginalizedparent'><a class='marginalized' href='#allocator.requirements-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/lib-intro.tex#L2102'>#</a></div><div id='allocator.requirements-9.sentence-1' class='sentence'>An allocator may constrain the types on which it can be instantiated and the
arguments for which its <span class='texttt'>construct</span> or <span class='texttt'>destroy</span> members may be
called<a class='hidden_link' href='#allocator.requirements-9.sentence-1'>.</a></div> <div id='allocator.requirements-9.sentence-2' class='sentence'>If a type cannot be used with a particular allocator, the allocator
class or the call to <span class='texttt'>construct</span> or <span class='texttt'>destroy</span> may fail to instantiate<a class='hidden_link' href='#allocator.requirements-9.sentence-2'>.</a></div><div style='height:0.6em;display:block'></div><div id='allocator.requirements-9.example-1' class='example'>[<span style='white-space:nowrap'> </span><a class='example_link' href='#allocator.requirements-9.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='allocator.requirements-9.sentence-3' class='sentence'>The following is an allocator class template supporting the minimal
interface that satisfies the requirements of
Table <a href='#tab:utilities.allocator.requirements'>31</a>:</div><pre class='codeblock'>
template &lt;class Tp&gt;
struct SimpleAllocator {
  typedef Tp value_type;
  SimpleAllocator(<span class='textit'>ctor args</span>);

  template &lt;class T&gt; SimpleAllocator(const SimpleAllocator&lt;T&gt;&amp; other);

  Tp* allocate(std::size_t n);
  void deallocate(Tp* p, std::size_t n);
};

template &lt;class T, class U&gt;
bool operator==(const SimpleAllocator&lt;T&gt;&amp;, const SimpleAllocator&lt;U&gt;&amp;);
template &lt;class T, class U&gt;
bool operator!=(const SimpleAllocator&lt;T&gt;&amp;, const SimpleAllocator&lt;U&gt;&amp;);</pre> —<span style='white-space:nowrap'> </span><i>end example</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='para' id='allocator.requirements-10'><div class='marginalizedparent'><a class='marginalized' href='#allocator.requirements-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/lib-intro.tex#L2131'>#</a></div><div id='allocator.requirements-10.sentence-1' class='sentence'>If the alignment associated with a specific over-aligned type is not
supported by an allocator, instantiation of the allocator for that type may
fail<a class='hidden_link' href='#allocator.requirements-10.sentence-1'>.</a></div> <div id='allocator.requirements-10.sentence-2' class='sentence'>The allocator also may silently ignore the requested alignment<a class='hidden_link' href='#allocator.requirements-10.sentence-2'>.</a></div> <div id='allocator.requirements-10.note-1' class='note'>[<span style='white-space:nowrap'> </span><a class='note_link' href='#allocator.requirements-10.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='allocator.requirements-10.sentence-3' class='sentence'>Additionally, the member function <span class='texttt'>allocate</span>
for that type may fail by throwing an object of type
<span class='texttt'>bad_&shy;alloc</span><a class='hidden_link' href='#allocator.requirements-10.sentence-3'>.</a></div> —<span style='white-space:nowrap'> </span><i>end note</i></div><span style='white-space:nowrap'> </span>]</div> </div><div class='footnote' id='footnote-176'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-176'>176)</a></div><div id='footnote-176.sentence-1' class='sentence'>It is intended that <span class='texttt'>a.allocate</span> be an efficient means
of allocating a single object of type <span class='texttt'>T</span>, even when <span class='texttt'>sizeof(T)</span>
is small<a class='hidden_link' href='#footnote-176.sentence-1'>.</a></div> <div id='footnote-176.sentence-2' class='sentence'>That is, there is no need for a container to maintain its own
free list<a class='hidden_link' href='#footnote-176.sentence-2'>.</a></div></div><div id='allocator.requirements.completeness' class='section'><h4 ><a class='secnum' href='#allocator.requirements.completeness' style='min-width:133pt'>20.5.3.5.1</a> Allocator completeness requirements <a class='abbr_ref' href='allocator.requirements.completeness'>[allocator.requirements.completeness]</a></h4><div class='para' id='allocator.requirements.completeness-1'><div class='marginalizedparent'><a class='marginalized' href='#allocator.requirements.completeness-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/4ba4e9c2c04b7680ac2a56b65c241ec10c427c3f/source/lib-intro.tex#L2141'>#</a></div><div id='allocator.requirements.completeness-1.sentence-1' class='sentence'>If <span class='texttt'>X</span> is an allocator class for type <span class='texttt'>T</span>,
<span class='texttt'>X</span> additionally satisfies the allocator completeness requirements if,
whether or not <span class='texttt'>T</span> is a complete type:</div><div id='allocator.requirements.completeness-1.sentence-2' class='sentence'><ul class='itemize'><li id='allocator.requirements.completeness-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#allocator.requirements.completeness-1.1'>(1.1)</a></div><div id='allocator.requirements.completeness-1.1.sentence-1' class='sentence'><span class='texttt'>X</span> is a complete type, and</div></li><li id='allocator.requirements.completeness-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#allocator.requirements.completeness-1.2'>(1.2)</a></div><div id='allocator.requirements.completeness-1.2.sentence-1' class='sentence'>all the member types of <a href='allocator.traits'><span class='texttt'>allocator_&shy;traits&lt;X&gt;</span></a>
  other than <span class='texttt'>value_&shy;type</span> are complete types<a class='hidden_link' href='#allocator.requirements.completeness-1.2.sentence-1'>.</a></div></li></ul></div></div></div></div></div></body></html>