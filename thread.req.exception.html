<!DOCTYPE html><html lang='en'><head><title>[thread.req.exception]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>33</a> Thread support library <a class='abbr_ref' href='./#thread'>[thread]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>33.2</a> Requirements <a class='abbr_ref' href='thread.req#exception'>[thread.req]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>33.2.2</a> Exceptions <a class='abbr_ref'>[thread.req.exception]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e8e0fc6c0ec75b6ea4bbdc0134251bbc60870e25/source/threads.tex#L33'>#</a></div><p >Some functions described in this Clause are specified to throw exceptions of type
<a href='syserr.syserr'><span class='texttt'>system_&shy;error</span></a>. Such exceptions shall be thrown if
any of the function's error conditions is detected or
a call to
an operating system or other underlying API results in an error that prevents the
library function from
meeting its specifications. Failure to allocate storage shall be reported as described
in <a href='res.on.exception.handling'>[res.on.exception.handling]</a>.</p><p >[<span style='white-space:nowrap'>&thinsp;</span><span class='textit'>Example:</span> 
Consider a function in this clause that is specified to throw exceptions of type
<span class='texttt'>system_&shy;error</span> and specifies error conditions that include
<span class='texttt'>operation_&shy;not_&shy;permitted</span> for a thread that does not have the privilege to
perform the operation. Assume that, during the execution of this function, an <span class='texttt'>errno</span>
of <span class='texttt'>EPERM</span> is reported by a POSIX API call used by the implementation. Since POSIX
specifies an <span class='texttt'>errno</span> of <span class='texttt'>EPERM</span> when “the caller does not have the privilege
to perform the operation”, the implementation maps <span class='texttt'>EPERM</span> to an
<span class='texttt'>error_&shy;condition</span> of <span class='texttt'>operation_&shy;not_&shy;permitted</span> (<a href='syserr'>[syserr]</a>) and an exception
of type <span class='texttt'>system_&shy;error</span> is thrown.
<span class='textit'><span style='white-space:nowrap'>&thinsp;</span>—<span style='white-space:nowrap'>&thinsp;</span>end example</span><span style='white-space:nowrap'>&thinsp;</span>] </p></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/e8e0fc6c0ec75b6ea4bbdc0134251bbc60870e25/source/threads.tex#L55'>#</a></div><p >The <span class='texttt'>error_&shy;code</span> reported by such an exception's <span class='texttt'>code()</span> member function
shall compare equal to one of the conditions specified in the function's error condition
element.</p></div></div></body></html>