<!DOCTYPE html><html lang='en'><head><title>[allocator.adaptor.members]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='collapsed.css' title='Notes and examples collapsed'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>19</a> General utilities library <a class='abbr_ref' href='./#utilities'>[utilities]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>19.13</a> Class template <span class='texttt'>scoped_&shy;allocator_&shy;adaptor</span> <a class='abbr_ref' href='allocator.adaptor#members'>[allocator.adaptor]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>19.13.4</a> Members <a class='abbr_ref'>[allocator.adaptor.members]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12935b8549c0412f528b33b7795a19cda7ae8dd6/source/utilities.tex#L12637'>#</a></div><div id='1.sentence-1' class='sentence'>In the <span class='texttt'>construct</span> member functions,
<span class='texttt'><span class='textit'>OUTERMOST</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span></span> is <span class='texttt'>x</span> if <span class='texttt'>x</span> does not have an
<span class='texttt'>outer_&shy;allocator<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> member function and
<span class='texttt'><span class='textit'>OUTERMOST</span><span class='parenthesis'>(</span>x<span class='operator'>.</span>outer_&shy;allocator<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
otherwise;
<span class='texttt'><span class='textit'>OUTERMOST_&shy;ALLOC_&shy;TRAITS</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span></span> is
<span class='texttt'>allocator_&shy;traits<span class='anglebracket'>&lt;</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span><span class='textit'>OUTERMOST</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='1.sentence-2' class='sentence'><span class='texttt'><span class='textit'>OUTERMOST</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span></span> and
<span class='texttt'><span class='textit'>OUTERMOST_&shy;ALLOC_&shy;TRAITS</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span></span> are recursive operations<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>It
is incumbent upon the definition of <span class='texttt'>outer_&shy;allocator<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> to ensure that the
recursion terminates<a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'>It will terminate for all instantiations of
<span class='texttt'>scoped_&shy;allocator_&shy;adaptor</span><a class='hidden_link' href='#1.sentence-4'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div>  <span class='indexparent'><a class='index' id='lib:inner_allocator,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,inner_allocator'></a></span></div><div class='itemdecl' id='itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>inner_allocator_type<span class='operator'>&amp;</span> inner_allocator<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>const</span> inner_allocator_type<span class='operator'>&amp;</span> inner_allocator<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12935b8549c0412f528b33b7795a19cda7ae8dd6/source/utilities.tex#L12658'>#</a></div><div id='2.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> if <span class='texttt'><span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>InnerAllocs<span class='parenthesis'>)</span></span> is zero; otherwise,
<span class='texttt'>inner</span><a class='hidden_link' href='#2.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:outer_allocator,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,outer_allocator'></a></span><div class='itemdecl' id='itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>outer_allocator_type<span class='operator'>&amp;</span> outer_allocator<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12935b8549c0412f528b33b7795a19cda7ae8dd6/source/utilities.tex#L12669'>#</a></div><div id='3.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'><span class='keyword'>static_&shy;cast</span><span class='anglebracket'>&lt;</span>OuterAlloc<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#3.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:outer_allocator,scoped_allocator_adaptor_'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,outer_allocator_'></a></span><div class='itemdecl' id='itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#itemdecl:3'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>const</span> outer_allocator_type<span class='operator'>&amp;</span> outer_allocator<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12935b8549c0412f528b33b7795a19cda7ae8dd6/source/utilities.tex#L12679'>#</a></div><div id='4.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'><span class='keyword'>static_&shy;cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> OuterAlloc<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#4.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:allocate,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,allocate'></a></span><div class='itemdecl' id='itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#itemdecl:4'>ðŸ”—</a></div><code class='itemdeclcode'><span class='squarebracket'>[</span><span class='squarebracket'>[</span>nodiscard<span class='squarebracket'>]</span><span class='squarebracket'>]</span> pointer allocate<span class='parenthesis'>(</span>size_type n<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12935b8549c0412f528b33b7795a19cda7ae8dd6/source/utilities.tex#L12689'>#</a></div><div id='5.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>allocator_&shy;traits<span class='anglebracket'>&lt;</span>OuterAlloc<span class='anglebracket'>&gt;</span><span class='operator'>:</span><span class='operator'>:</span>allocate<span class='parenthesis'>(</span>outer_&shy;allocator<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, n<span class='parenthesis'>)</span></span><a class='hidden_link' href='#5.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:allocate,scoped_allocator_adaptor_'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,allocate_'></a></span><div class='itemdecl' id='itemdecl:5'><div class='marginalizedparent'><a class='itemDeclLink' href='#itemdecl:5'>ðŸ”—</a></div><code class='itemdeclcode'><span class='squarebracket'>[</span><span class='squarebracket'>[</span>nodiscard<span class='squarebracket'>]</span><span class='squarebracket'>]</span> pointer allocate<span class='parenthesis'>(</span>size_type n, const_void_pointer hint<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12935b8549c0412f528b33b7795a19cda7ae8dd6/source/utilities.tex#L12699'>#</a></div><div id='6.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>allocator_&shy;traits<span class='anglebracket'>&lt;</span>OuterAlloc<span class='anglebracket'>&gt;</span><span class='operator'>:</span><span class='operator'>:</span>allocate<span class='parenthesis'>(</span>outer_&shy;allocator<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, n, hint<span class='parenthesis'>)</span></span><a class='hidden_link' href='#6.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:deallocate,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,deallocate'></a></span><div class='itemdecl' id='itemdecl:6'><div class='marginalizedparent'><a class='itemDeclLink' href='#itemdecl:6'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>void</span> deallocate<span class='parenthesis'>(</span>pointer p, size_type n<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12935b8549c0412f528b33b7795a19cda7ae8dd6/source/utilities.tex#L12709'>#</a></div><div id='7.sentence-1' class='sentence'><span class='textit'>Effects:</span> As if by:
<span class='texttt'>allocator_&shy;traits<span class='anglebracket'>&lt;</span>OuterAlloc<span class='anglebracket'>&gt;</span><span class='operator'>:</span><span class='operator'>:</span>deallocate<span class='parenthesis'>(</span>outer_&shy;allocator<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, p, n<span class='parenthesis'>)</span>;</span></div></div></div><span class='indexparent'><a class='index' id='lib:max_size,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,max_size'></a></span><div class='itemdecl' id='itemdecl:7'><div class='marginalizedparent'><a class='itemDeclLink' href='#itemdecl:7'>ðŸ”—</a></div><code class='itemdeclcode'>size_type max_size<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
</code></div><div class='itemdescr'></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12935b8549c0412f528b33b7795a19cda7ae8dd6/source/utilities.tex#L12720'>#</a></div><div id='8.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>allocator_&shy;traits<span class='anglebracket'>&lt;</span>OuterAlloc<span class='anglebracket'>&gt;</span><span class='operator'>:</span><span class='operator'>:</span>max_&shy;size<span class='parenthesis'>(</span>outer_&shy;allocator<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#8.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:construct,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,construct'></a></span><div class='itemdecl' id='itemdecl:8'><div class='marginalizedparent'><a class='itemDeclLink' href='#itemdecl:8'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> construct<span class='parenthesis'>(</span>T<span class='operator'>*</span> p, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12935b8549c0412f528b33b7795a19cda7ae8dd6/source/utilities.tex#L12731'>#</a></div><div id='9.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
<ul class='itemize'><li id='9.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#9.1'>(9.1)</a></div><div id='9.1.sentence-1' class='sentence'>If <span class='texttt'>uses_&shy;allocator_&shy;v<span class='anglebracket'>&lt;</span>T, inner_&shy;allocator_&shy;type<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span> and
<span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T,<br/> Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>, calls:
<pre class='codeblock'>
<span class='textit'>OUTERMOST_ALLOC_TRAITS</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span><span class='operator'>:</span><span class='operator'>:</span>construct<span class='parenthesis'>(</span>
    <span class='textit'>OUTERMOST</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>, p, std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>
</pre></div></li><li id='9.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#9.2'>(9.2)</a></div><div id='9.2.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>uses_&shy;allocator_&shy;v<span class='anglebracket'>&lt;</span>T, inner_&shy;allocator_&shy;type<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and
<span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, allocator_&shy;arg_&shy;t, inner_&shy;allocator_&shy;type<span class='operator'>&amp;</span>, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>, calls:
<pre class='codeblock'>
<span class='textit'>OUTERMOST_ALLOC_TRAITS</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span><span class='operator'>:</span><span class='operator'>:</span>construct<span class='parenthesis'>(</span>
    <span class='textit'>OUTERMOST</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>, p, allocator_arg, inner_allocator<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>
</pre></div></li><li id='9.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#9.3'>(9.3)</a></div><div id='9.3.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>uses_&shy;allocator_&shy;v<span class='anglebracket'>&lt;</span>T, inner_&shy;allocator_&shy;type<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and
<span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span>, inner_&shy;allocator_&shy;type<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>, calls:
<pre class='codeblock'>
<span class='textit'>OUTERMOST_ALLOC_TRAITS</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span><span class='operator'>:</span><span class='operator'>:</span>construct<span class='parenthesis'>(</span>
    <span class='textit'>OUTERMOST</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>, p, std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span>, inner_allocator<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>
</pre></div></li><li id='9.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#9.4'>(9.4)</a></div><div id='9.4.sentence-1' class='sentence'>Otherwise, the program is ill-formed<a class='hidden_link' href='#9.4.sentence-1'>.</a></div> <div id='9.4.note-1' class='note'>[<span style='white-space:nowrap'>â€‰</span><a class='note_link' href='#9.4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='9.4.sentence-2' class='sentence'>An error will result if
<span class='texttt'>uses_&shy;allocator</span> evaluates to <span class='texttt'><span class='literal'>true</span></span> but the specific constructor does not take an
allocator<a class='hidden_link' href='#9.4.sentence-2'>.</a></div> <div id='9.4.sentence-3' class='sentence'>This definition prevents a silent failure to pass an inner allocator to a
contained element<a class='hidden_link' href='#9.4.sentence-3'>.</a></div> â€”<span style='white-space:nowrap'>â€‰</span><i>end note</i></div><span style='white-space:nowrap'>â€‰</span>]</div> </li></ul></div></div></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12935b8549c0412f528b33b7795a19cda7ae8dd6/source/utilities.tex#L12764'>#</a></div><div id='10.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
This function shall not participate in overload resolution if
<span class='texttt'>T</span> is a specialization of <span class='texttt'>pair</span><a class='hidden_link' href='#10.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:construct,scoped_allocator_adaptor_'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,construct_'></a></span><div class='itemdecl' id='itemdecl:9'><div class='marginalizedparent'><a class='itemDeclLink' href='#itemdecl:9'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args1, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args2<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> construct<span class='parenthesis'>(</span>pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='operator'>*</span> p, piecewise_construct_t, tuple<span class='anglebracket'>&lt;</span>Args1<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> x, tuple<span class='anglebracket'>&lt;</span>Args2<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> y<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12935b8549c0412f528b33b7795a19cda7ae8dd6/source/utilities.tex#L12777'>#</a></div><div id='11.sentence-1' class='sentence'><span class='textit'>Effects:</span> Constructs a <span class='texttt'>tuple</span> object <span class='texttt'>xprime</span> from <span class='texttt'>x</span> by the
following rules:
<ul class='itemize'><li id='11.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#11.1'>(11.1)</a></div><div id='11.1.sentence-1' class='sentence'>If <span class='texttt'>uses_&shy;allocator_&shy;v<span class='anglebracket'>&lt;</span>T1, inner_&shy;allocator_&shy;type<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span> and
<span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T1,<br/> Args1<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
then <span class='texttt'>xprime</span> is <span class='texttt'>tuple<span class='anglebracket'>&lt;</span>Args1<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>:</span><span class='operator'>:</span>move<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#11.1.sentence-1'>.</a></div></li><li id='11.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#11.2'>(11.2)</a></div><div id='11.2.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>uses_&shy;allocator_&shy;v<span class='anglebracket'>&lt;</span>T1, inner_&shy;allocator_&shy;type<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>
and
<span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T1, allocator_&shy;arg_&shy;t, inner_&shy;allocator_&shy;type<span class='operator'>&amp;</span>, Args1<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span>
is
<span class='texttt'><span class='literal'>true</span></span>, then <span class='texttt'>xprime</span> is:
<pre class='codeblock'>
tuple_cat<span class='parenthesis'>(</span>
    tuple<span class='anglebracket'>&lt;</span>allocator_arg_t, inner_allocator_type<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>allocator_arg, inner_allocator<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>,
    tuple<span class='anglebracket'>&lt;</span>Args1<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>:</span><span class='operator'>:</span>move<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>
</pre></div></li><li id='11.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#11.3'>(11.3)</a></div><div id='11.3.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>uses_&shy;allocator_&shy;v<span class='anglebracket'>&lt;</span>T1, inner_&shy;allocator_&shy;type<span class='anglebracket'>&gt;</span></span> is
<span class='texttt'><span class='literal'>true</span></span> and
<span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T1, Args1<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span>, inner_&shy;allocator_&shy;type<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
then <span class='texttt'>xprime</span> is:
<pre class='codeblock'>
tuple_cat<span class='parenthesis'>(</span>tuple<span class='anglebracket'>&lt;</span>Args1<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>:</span><span class='operator'>:</span>move<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span><span class='parenthesis'>)</span>,
          tuple<span class='anglebracket'>&lt;</span>inner_allocator_type<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>inner_allocator<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>
</pre></div></li><li id='11.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#11.4'>(11.4)</a></div><div id='11.4.sentence-1' class='sentence'>Otherwise, the program is ill-formed<a class='hidden_link' href='#11.4.sentence-1'>.</a></div></li></ul></div> <div id='11.sentence-2' class='sentence'>
and constructs a <span class='texttt'>tuple</span> object <span class='texttt'>yprime</span> from <span class='texttt'>y</span> by the following rules:
<ul class='itemize'><li id='11.5'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#11.5'>(11.5)</a></div><div id='11.5.sentence-1' class='sentence'>If <span class='texttt'>uses_&shy;allocator_&shy;v<span class='anglebracket'>&lt;</span>T2, inner_&shy;allocator_&shy;type<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span> and
<span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T2,<br/> Args2<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>, then <span class='texttt'>yprime</span> is <span class='texttt'>tuple<span class='anglebracket'>&lt;</span>Args2<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>:</span><span class='operator'>:</span>move<span class='parenthesis'>(</span>y<span class='parenthesis'>)</span></span><a class='hidden_link' href='#11.5.sentence-1'>.</a></div></li><li id='11.6'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#11.6'>(11.6)</a></div><div id='11.6.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>uses_&shy;allocator_&shy;v<span class='anglebracket'>&lt;</span>T2, inner_&shy;allocator_&shy;type<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>
and
<span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T2, allocator_&shy;arg_&shy;t, inner_&shy;allocator_&shy;type<span class='operator'>&amp;</span>, Args2<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span>
is
<span class='texttt'><span class='literal'>true</span></span>, then <span class='texttt'>yprime</span> is:
<pre class='codeblock'>
tuple_cat<span class='parenthesis'>(</span>
    tuple<span class='anglebracket'>&lt;</span>allocator_arg_t, inner_allocator_type<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>allocator_arg, inner_allocator<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>,
    tuple<span class='anglebracket'>&lt;</span>Args2<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>:</span><span class='operator'>:</span>move<span class='parenthesis'>(</span>y<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>
</pre></div></li><li id='11.7'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#11.7'>(11.7)</a></div><div id='11.7.sentence-1' class='sentence'>Otherwise, if <span class='texttt'>uses_&shy;allocator_&shy;v<span class='anglebracket'>&lt;</span>T2, inner_&shy;allocator_&shy;type<span class='anglebracket'>&gt;</span></span> is
<span class='texttt'><span class='literal'>true</span></span> and
<span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T2, Args2<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span>, inner_&shy;allocator_&shy;type<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
then <span class='texttt'>yprime</span> is:
<pre class='codeblock'>
tuple_cat<span class='parenthesis'>(</span>tuple<span class='anglebracket'>&lt;</span>Args2<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>:</span><span class='operator'>:</span>move<span class='parenthesis'>(</span>y<span class='parenthesis'>)</span><span class='parenthesis'>)</span>,
          tuple<span class='anglebracket'>&lt;</span>inner_allocator_type<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>inner_allocator<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>
</pre></div></li><li id='11.8'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#11.8'>(11.8)</a></div><div id='11.8.sentence-1' class='sentence'>Otherwise, the program is ill-formed<a class='hidden_link' href='#11.8.sentence-1'>.</a></div></li></ul></div> <div id='11.sentence-3' class='sentence'>
then calls:
<pre class='codeblock'>
<span class='textit'>OUTERMOST_ALLOC_TRAITS</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span><span class='operator'>:</span><span class='operator'>:</span>construct<span class='parenthesis'>(</span>
    <span class='textit'>OUTERMOST</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>, p, piecewise_construct, std<span class='operator'>:</span><span class='operator'>:</span>move<span class='parenthesis'>(</span>xprime<span class='parenthesis'>)</span>, std<span class='operator'>:</span><span class='operator'>:</span>move<span class='parenthesis'>(</span>yprime<span class='parenthesis'>)</span><span class='parenthesis'>)</span>
</pre></div></div></div><span class='indexparent'><a class='index' id='lib:construct,scoped_allocator_adaptor__'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,construct__'></a></span><div class='itemdecl' id='itemdecl:10'><div class='marginalizedparent'><a class='itemDeclLink' href='#itemdecl:10'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> construct<span class='parenthesis'>(</span>pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='operator'>*</span> p<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='12'><div class='marginalizedparent'><a class='marginalized' href='#12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12935b8549c0412f528b33b7795a19cda7ae8dd6/source/utilities.tex#L12848'>#</a></div><div id='12.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to:
<pre class='codeblock'>
construct<span class='parenthesis'>(</span>p, piecewise_construct, tuple<span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>, tuple<span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</pre></div></div></div><span class='indexparent'><a class='index' id='lib:construct,scoped_allocator_adaptor___'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,construct___'></a></span><div class='itemdecl' id='itemdecl:11'><div class='marginalizedparent'><a class='itemDeclLink' href='#itemdecl:11'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2, <span class='keyword'>class</span> U, <span class='keyword'>class</span> V<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> construct<span class='parenthesis'>(</span>pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='operator'>*</span> p, U<span class='operator'>&amp;</span><span class='operator'>&amp;</span> x, V<span class='operator'>&amp;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='13'><div class='marginalizedparent'><a class='marginalized' href='#13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12935b8549c0412f528b33b7795a19cda7ae8dd6/source/utilities.tex#L12862'>#</a></div><div id='13.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to:
<pre class='codeblock'>
construct<span class='parenthesis'>(</span>p, piecewise_construct,
          forward_as_tuple<span class='parenthesis'>(</span>std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span><span class='parenthesis'>)</span>,
          forward_as_tuple<span class='parenthesis'>(</span>std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>V<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>y<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</pre></div></div></div><span class='indexparent'><a class='index' id='lib:construct,scoped_allocator_adaptor____'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,construct____'></a></span><div class='itemdecl' id='itemdecl:12'><div class='marginalizedparent'><a class='itemDeclLink' href='#itemdecl:12'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2, <span class='keyword'>class</span> U, <span class='keyword'>class</span> V<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> construct<span class='parenthesis'>(</span>pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='operator'>*</span> p, <span class='keyword'>const</span> pair<span class='anglebracket'>&lt;</span>U, V<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='14'><div class='marginalizedparent'><a class='marginalized' href='#14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12935b8549c0412f528b33b7795a19cda7ae8dd6/source/utilities.tex#L12878'>#</a></div><div id='14.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to:
<pre class='codeblock'>
construct<span class='parenthesis'>(</span>p, piecewise_construct,
          forward_as_tuple<span class='parenthesis'>(</span>x<span class='operator'>.</span>first<span class='parenthesis'>)</span>,
          forward_as_tuple<span class='parenthesis'>(</span>x<span class='operator'>.</span>second<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</pre></div></div></div><span class='indexparent'><a class='index' id='lib:construct,scoped_allocator_adaptor_____'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,construct_____'></a></span><div class='itemdecl' id='itemdecl:13'><div class='marginalizedparent'><a class='itemDeclLink' href='#itemdecl:13'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2, <span class='keyword'>class</span> U, <span class='keyword'>class</span> V<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> construct<span class='parenthesis'>(</span>pair<span class='anglebracket'>&lt;</span>T1, T2<span class='anglebracket'>&gt;</span><span class='operator'>*</span> p, pair<span class='anglebracket'>&lt;</span>U, V<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> x<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='15'><div class='marginalizedparent'><a class='marginalized' href='#15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12935b8549c0412f528b33b7795a19cda7ae8dd6/source/utilities.tex#L12894'>#</a></div><div id='15.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to:
<pre class='codeblock'>
construct<span class='parenthesis'>(</span>p, piecewise_construct,
          forward_as_tuple<span class='parenthesis'>(</span>std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>x<span class='operator'>.</span>first<span class='parenthesis'>)</span><span class='parenthesis'>)</span>,
          forward_as_tuple<span class='parenthesis'>(</span>std<span class='operator'>:</span><span class='operator'>:</span>forward<span class='anglebracket'>&lt;</span>V<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>x<span class='operator'>.</span>second<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</pre></div></div></div><span class='indexparent'><a class='index' id='lib:destroy,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,destroy'></a></span><div class='itemdecl' id='itemdecl:14'><div class='marginalizedparent'><a class='itemDeclLink' href='#itemdecl:14'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> destroy<span class='parenthesis'>(</span>T<span class='operator'>*</span> p<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='16'><div class='marginalizedparent'><a class='marginalized' href='#16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12935b8549c0412f528b33b7795a19cda7ae8dd6/source/utilities.tex#L12910'>#</a></div><div id='16.sentence-1' class='sentence'><span class='textit'>Effects:</span> Calls <span class='texttt'><span class='textit'>OUTERMOST_&shy;ALLOC_&shy;TRAITS</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span><span class='operator'>:</span><span class='operator'>:</span>destroy<span class='parenthesis'>(</span><span class='textit'>OUTERMOST</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>, p<span class='parenthesis'>)</span></span><a class='hidden_link' href='#16.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:select_on_container_copy_construction,scoped_allocator_adaptor'></a></span><span class='indexparent'><a class='index' id='lib:scoped_allocator_adaptor,select_on_container_copy_construction'></a></span><div class='itemdecl' id='itemdecl:15'><div class='marginalizedparent'><a class='itemDeclLink' href='#itemdecl:15'>ðŸ”—</a></div><code class='itemdeclcode'>scoped_allocator_adaptor select_on_container_copy_construction<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
</code></div><div class='itemdescr'></div><div class='para' id='17'><div class='marginalizedparent'><a class='marginalized' href='#17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/12935b8549c0412f528b33b7795a19cda7ae8dd6/source/utilities.tex#L12920'>#</a></div><div id='17.sentence-1' class='sentence'><span class='textit'>Returns:</span> A new <span class='texttt'>scoped_&shy;allocator_&shy;adaptor</span> object where each allocator <span class='texttt'>A</span> in the
adaptor is initialized from the result of calling
<span class='texttt'>allocator_&shy;traits<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span><span class='operator'>:</span><span class='operator'>:</span>select_&shy;on_&shy;container_&shy;copy_&shy;construction<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> on the
corresponding allocator in <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#17.sentence-1'>.</a></div></div></div></div></body></html>